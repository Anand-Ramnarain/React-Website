{"version":3,"file":"static/js/main.5551276b.js","mappings":"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,uQACA,8BACA,uNACA,yRACA,iQACA,oRACA,6WACA,2SACA,2BACA,aACA,gBACA,qlBACA,gBACA,8jBACA,cACA,gBACA,qbACA,wBACA,gmBACA,gfAEFC,aAAc,CACZ,wKACA,0JACA,uNACA,yGACA,uJACA,gEACA,2JACA,sKACA,2HACA,8MAEF96C,IAAK,gBAEP,CACE7I,GAAI,IACJu6C,MAAO,WACP5uG,KAAM,YACN+3G,WAAY,CACV,8CACA,2CACA,gfACA,kFACA,gXACA,oCACA,8CACA,iMACA,0BACA,6LACA,0CACA,iVACA,6WAEFD,QAAS,KACTE,aAAc,CACZ,gJAEF96C,IAAK,aAEP,CACE7I,GAAI,IACJu6C,MAAO,WACP5uG,KAAM,YACN+3G,WAAY,CACV,WACA,uTACA,6BACA,iJACA,iCACA,kNACA,uKACA,uLACA,4DACA,yIACA,iCACA,0OACA,uJACA,4IACA,gDACA,gIACA,iCACA,6PACA,qQACA,sLACA,+bAEFD,QAAS,KACTE,aAAc,KACd96C,IAAK,aAEP,CACE7I,GAAI,IACJu6C,MAAO,WACP5uG,KAAM,YACN+3G,WAAY,CACV,udACA,wSACA,ycACA,qYACA,eACA,sUACA,0BACA,iFACA,0WACA,6CACA,ufACA,2CACA,8UACA,gDACA,uTACA,+BACA,qVACA,+CACA,sCACA,+VACA,oCACA,0VACA,kUAEFD,QAAS,KACTE,aAAc,CACZ,mMAEF96C,IAAK,aAEP,CACE7I,GAAI,IACJu6C,MAAO,oBACP5uG,KAAM,YACN+3G,WAAY,CACV,ijBACA,gCACA,gEACA,mKACA,4MACA,gDACA,8BACA,mHACA,yWACA,kIACA,wBACA,yTACA,wNACA,gCACA,4MACA,qNACA,+CACA,6BACA,0BACA,yLACA,sKACA,sJACA,qTACA,gCACA,uNACA,+KACA,gPACA,+OACA,2BACA,YACA,iKACA,wJACA,aACA,yJACA,uMACA,oDACA,kLACA,qKACA,uLACA,yNACA,kiBAEFD,QAAS,KACTE,aAAc,CACZ,6BACA,+HACA,4HACA,0BACA,kJACA,kCACA,8TACA,+BACA,4OACA,yPAEF96C,IAAK,aAIIo7C,GAAS,CACpB,CACEjkD,GAAI,IACJu6C,MAAO,aACP5uG,KAAM,WACN83G,QAAS,CACPS,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,IAGFC,QAAS,CACP,kUACA,6bACA,0WACA,+IAEF97C,IAAK,eAEP,CACE7I,GAAI,IACJu6C,MAAO,cACP5uG,KAAM,WACN83G,QAAS,CAACmB,GAAOC,GAAMltD,o7KACvBgtD,QAAS,CACP,8eACA,gBACA,0BACA,8rBACA,cACA,saACA,uBACA,0BACA,gZACA,cACA,iqBACA,aACA,0BACA,seACA,cACA,kjBACA,+BACA,uBACA,ybACA,4BACA,iXACA,2BACA,aACA,sJACA,wJACA,6JACA,cACA,0JACA,iJACA,mmBACA,8IAEF97C,IAAK,UAEP,CACE7I,GAAI,IACJu6C,MAAO,UACP5uG,KAAM,WACN83G,QAAS,KACTkB,QAAS,CACP,0bACA,mCACA,0bACA,yBACA,0SACA,cACA,oOACA,wBACA,sRACA,gCACA,uPACA,2BACA,aACA,6GACA,0GACA,aACA,kJACA,0IACA,0DACA,iLACA,eACA,sfACA,YACA,uUACA,cACA,mUACA,cACA,qmBACA,0qBAEF97C,IAAK,OAEP,CACE7I,GAAI,IACJu6C,MAAO,iBACP5uG,KAAM,WACN83G,QAAS,KACTkB,QAAS,CACP,ohBACA,8BACA,iBACA,8iBACA,cACA,+ZACA,qBACA,wWACA,yBACA,kYACA,wBACA,6TACA,4BACA,gCACA,4XACA,eACA,sXACA,+nBAEF97C,IAAK,YAEP,CACE7I,GAAI,IACJu6C,MAAO,UACP5uG,KAAM,YACN83G,QAAS,KACTkB,QAAS,CACP,UACA,4IACA,kNACA,SACA,wHACA,4JACA,gCACA,6BACA,8MACA,6HACA,6BACA,mMACA,4LACA,0BACA,2NACA,0JACA,+BACA,yBACA,iLACA,kJACA,wBACA,4MACA,uKACA,2BACA,oOACA,2KACA,iZAEF97C,IAAK,YAEP,CACE7I,GAAI,IACJu6C,MAAO,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,GAAYk1B,mBAEVl1B,CAAAA,SAAAA,aAAAA,WAAAA,iBAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYk1B,oBC9BXn/B,ICCA,IAAI9yF,IDDUhP,OAAO2qH,OAAO,KAC5B/iH,GAAe5H,OAAO2qH,OAAO,CAAC,GEAnB,SAAArgD,GACtB7yD,EACAzT,EACArK,GAEA,YAAO,IAFPA,IAAAA,EAAiEiO,IAEzD6P,EAAM0pH,QAAUxnI,EAAawnI,OAAS1pH,EAAM0pH,OAAUn9H,GAAiBrK,EAAawnI,KAC9F,CCPA,IAwIAz5H,GAAe,IAAIsH,IAxIF,CACf,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,IACA,KACA,MACA,MACA,QACA,MACA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,UCrIIyhE,GAAc,wCAEd5oE,GAAe,WAMG,SAAAwQ,GAAOZ,GAC7B,OAAOA,EACJ6Y,QAAQmgD,GAAa,KACrBngD,QAAQzoB,GAAc,GAC3B,CCdA,IAAM4zE,GAAgB,WAIhBh0E,GAAc,GAGdlR,GAAoB,SAACkhB,GAAiB,OAAAlc,OAA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","sources":["../node_modules/fast-bmp/src/BMPEncoder.js","../node_modules/fast-bmp/src/constants.js","../node_modules/fast-bmp/src/index.js","../node_modules/fast-jpeg/node_modules/iobuffer/IOBuffer.js","../node_modules/fast-jpeg/node_modules/tiff/src/decode.js","../node_modules/fast-jpeg/node_modules/tiff/src/ifd.js","../node_modules/fast-jpeg/node_modules/tiff/src/ifdValue.js","../node_modules/fast-jpeg/node_modules/tiff/src/index.js","../node_modules/fast-jpeg/node_modules/tiff/src/tags/exif.js","../node_modules/fast-jpeg/node_modules/tiff/src/tags/gps.js","../node_modules/fast-jpeg/node_modules/tiff/src/tags/standard.js","../node_modules/fast-jpeg/node_modules/tiff/src/tiffDecoder.js","../node_modules/fast-jpeg/node_modules/tiff/src/tiffIfd.js","../node_modules/fast-jpeg/src/decode.js","../node_modules/fast-jpeg/src/index.js","../node_modules/fast-list/fast-list.js","../node_modules/fft.js/lib/fft.js","../node_modules/file-type/index.js","../node_modules/has-own/index.js","../node_modules/image-type/index.js","../node_modules/iobuffer/src/text.browser.ts","../node_modules/iobuffer/src/IOBuffer.ts","../node_modules/iobuffer/src/text-encoding-polyfill.js","../node_modules/is-any-array/src/index.ts","../node_modules/is-array-type/is-array-type.js","../node_modules/is-finite/index.js","../node_modules/is-integer/index.js","../node_modules/jpeg-js/index.js","../node_modules/jpeg-js/lib/decoder.js","../node_modules/jpeg-js/lib/encoder.js","../node_modules/js-priority-queue/priority-queue.js","../node_modules/js-quantities/build/quantities.js","../node_modules/median-quickselect/lib/median-quickselect.min.js","../node_modules/ml-array-rescale/lib-es6/index.js","../node_modules/ml-array-min/lib-es6/index.js","../node_modules/ml-array-max/lib-es6/index.js","../node_modules/ml-disjoint-set/src/DisjointSet.js","../node_modules/ml-distance-euclidean/lib-es6/euclidean.js","../node_modules/ml-fft/src/FFTUtils.js","../node_modules/ml-fft/src/fftlib.js","../node_modules/ml-fft/src/index.js","../node_modules/ml-kernel-gaussian/gaussian-kernel.js","../node_modules/ml-kernel-polynomial/polynomial-kernel.js","../node_modules/ml-kernel-sigmoid/sigmoid-kernel.js","../node_modules/ml-kernel/src/kernel.js","../node_modules/ml-kernel/src/kernels/anova-kernel.js","../node_modules/ml-kernel/src/kernels/cauchy-kernel.js","../node_modules/ml-kernel/src/kernels/exponential-kernel.js","../node_modules/ml-kernel/src/kernels/histogram-intersection-kernel.js","../node_modules/ml-kernel/src/kernels/laplacian-kernel.js","../node_modules/ml-kernel/src/kernels/multiquadratic-kernel.js","../node_modules/ml-kernel/src/kernels/rational-quadratic-kernel.js","../node_modules/ml-matrix-convolution/src/index.js","../node_modules/ml-matrix/matrix.js","../node_modules/new-array/index.js","../node_modules/next-power-of-two/index.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/client.js","../node_modules/react-dom/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/robust-orientation/orientation.js","../node_modules/robust-point-in-polygon/robust-pnp.js","../node_modules/robust-scale/robust-scale.js","../node_modules/robust-subtract/robust-diff.js","../node_modules/robust-sum/robust-sum.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../node_modules/scroll-lock/dist/scroll-lock.js","../node_modules/shallowequal/index.js","../node_modules/two-product/two-product.js","../node_modules/two-sum/two-sum.js","../node_modules/web-worker-manager/src/index.js","../node_modules/web-worker-manager/src/workerTemplate.js","assets/films|sync|nonrecursive|/.png$","../node_modules/@babel/runtime/helpers/assertClassBrand.js","../node_modules/@babel/runtime/helpers/checkPrivateRedeclaration.js","../node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js","../node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js","../node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js","../node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/toPrimitive.js","../node_modules/@babel/runtime/helpers/toPropertyKey.js","../node_modules/@babel/runtime/helpers/typeof.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/create fake namespace object","../webpack/runtime/define property getters","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/nonce","../node_modules/@remix-run/router/history.ts","../node_modules/@remix-run/router/utils.ts","../node_modules/@remix-run/router/router.ts","../node_modules/react-router/lib/context.ts","../node_modules/react-router/lib/hooks.tsx","../node_modules/react-router/lib/components.tsx","assets/svg/ButtonGradient.jsx","components/useScrollToSection.jsx","assets/brainwave.svg","assets/check.svg","assets/brainwave-symbol.svg","assets/check-02.svg","assets/loading-01.svg","assets/rebel.svg","assets/sith.svg","assets/sabers.svg","assets/jedi.svg","assets/about/curve-1.svg","assets/about/curve-2.svg","assets/theory/lines.svg","assets/theory/stars.svg","assets/roadmap/done.svg","assets/roadmap/undone.svg","assets/films/card-1.svg","assets/films/card-2.svg","assets/films/card-3.svg","assets/films/card-4.svg","assets/films/card-5.svg","assets/films/card-6.svg","assets/socials/github.svg","assets/socials/arrow.svg","assets/svg/PlusSvg.jsx","assets/svg/SectionSvg.jsx","components/Section.jsx","../node_modules/react-just-parallax/node_modules/framesync/dist/es/on-next-frame.mjs","../node_modules/react-just-parallax/node_modules/framesync/dist/es/index.mjs","../node_modules/react-just-parallax/node_modules/framesync/dist/es/create-render-step.mjs","../node_modules/react-just-parallax/node_modules/lodash.debounce/index.js","../node_modules/react-just-parallax/node_modules/prefix/index.js","../../../src/hooks/useWindowSize.ts","../../../src/utils/lerp.ts","../../../src/utils/MouseMove.ts","../node_modules/react-just-parallax/src/utils/EventDispatcher.js","../../../src/utils/isTouchDevice.ts","../../../src/components/MouseParallax/MouseParallax.tsx","../../../src/utils/getScrollOffsets.ts","../../../src/components/ScrollParallax/ScrollParallax.tsx","design/Hero.jsx","constants/index.js","components/Generating.jsx","components/Notification.jsx","components/Hero.jsx","assets/svg/Brackets.jsx","components/TagLine.jsx","components/Heading.jsx","design/Films.jsx","assets/svg/ClipPath.jsx","components/Films.jsx","../node_modules/react-router-dom/dom.ts","../node_modules/react-router-dom/index.tsx","assets/svg/ButtonSvg.jsx","components/Button.jsx","design/About.jsx","components/About.jsx","design/Art.jsx","components/Art.jsx","components/TheoryList.jsx","design/Theory.jsx","components/Theory.jsx","design/Roadmap.jsx","components/Roadmap.jsx","pages/Homepage.jsx","components/Footer.jsx","assets/svg/MenuSvg.jsx","design/Header.jsx","components/Header.jsx","components/Layout.jsx","design/TheoryWorks.jsx","constants/information.js","pages/TheoryWorks.jsx","pages/DesignWorks.jsx","../node_modules/@splidejs/splide/dist/js/splide.esm.js","components/Slideshow.jsx","pages/EssayContent.jsx","pages/DesignContent.jsx","pages/AboutContent.jsx","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/tslib/tslib.es6.mjs","../node_modules/stylis/src/Enum.js","../node_modules/stylis/src/Utility.js","../node_modules/stylis/src/Tokenizer.js","../node_modules/stylis/src/Serializer.js","../node_modules/stylis/src/Prefixer.js","../node_modules/stylis/src/Middleware.js","../node_modules/stylis/src/Parser.js","../node_modules/@emotion/unitless/dist/emotion-unitless.esm.js","../node_modules/styled-components/src/constants.ts","../node_modules/styled-components/src/utils/empties.ts","../node_modules/styled-components/src/utils/checkDynamicCreation.ts","../node_modules/styled-components/src/utils/determineTheme.ts","../node_modules/styled-components/src/utils/domElements.ts","../node_modules/styled-components/src/utils/escape.ts","../node_modules/styled-components/src/utils/generateAlphabeticName.ts","../node_modules/styled-components/src/utils/hash.ts","../node_modules/styled-components/src/utils/generateComponentId.ts","../node_modules/styled-components/src/utils/getComponentName.ts","../node_modules/styled-components/src/utils/isTag.ts","../node_modules/styled-components/src/utils/hoist.ts","../node_modules/styled-components/src/utils/isFunction.ts","../node_modules/styled-components/src/utils/isStyledComponent.ts","../node_modules/styled-components/src/utils/joinStrings.ts","../node_modules/styled-components/src/utils/isPlainObject.ts","../node_modules/styled-components/src/utils/mixinDeep.ts","../node_modules/styled-components/src/utils/setToString.ts","../node_modules/styled-components/src/utils/error.ts","../node_modules/styled-components/src/sheet/GroupedTag.ts","../node_modules/styled-components/src/sheet/GroupIDAllocator.ts","../node_modules/styled-components/src/sheet/Rehydration.ts","../node_modules/styled-components/src/utils/nonce.ts","../node_modules/styled-components/src/sheet/dom.ts","../node_modules/styled-components/src/sheet/Tag.ts","../node_modules/styled-components/src/sheet/Sheet.ts","../node_modules/styled-components/src/utils/stylis.ts","../node_modules/styled-components/src/models/StyleSheetManager.tsx","../node_modules/styled-components/src/models/Keyframes.ts","../node_modules/styled-components/src/utils/hyphenateStyleName.ts","../node_modules/styled-components/src/utils/flatten.ts","../node_modules/styled-components/src/utils/addUnitIfNeeded.ts","../node_modules/styled-components/src/utils/isStatelessFunction.ts","../node_modules/styled-components/src/utils/isStaticRules.ts","../node_modules/styled-components/src/models/ComponentStyle.ts","../node_modules/styled-components/src/models/ThemeProvider.tsx","../node_modules/styled-components/src/models/StyledComponent.ts","../node_modules/styled-components/src/utils/generateDisplayName.ts","../node_modules/styled-components/src/utils/interleave.ts","../node_modules/styled-components/src/constructors/css.ts","../node_modules/styled-components/src/constructors/constructWithOptions.ts","../node_modules/styled-components/src/constructors/styled.tsx","../node_modules/styled-components/src/models/GlobalStyle.ts","../node_modules/styled-components/src/models/ServerStyleSheet.tsx","../node_modules/styled-components/src/base.ts","design/BinaryArt.jsx","../node_modules/styled-components/src/constructors/keyframes.ts","pages/BinaryArt.jsx","../node_modules/image-js/src/image/core/bitMethods.js","../node_modules/blob-util/dist/blob-util.es.js","../node_modules/pako/dist/pako.esm.mjs","../node_modules/fast-png/src/common.ts","../node_modules/fast-png/src/internalTypes.ts","../node_modules/fast-png/src/PngDecoder.ts","../node_modules/fast-png/src/PngEncoder.ts","../node_modules/fast-png/src/types.ts","../node_modules/image-js/src/util/base64.js","../node_modules/image-js/src/browser/environment.js","../node_modules/image-js/src/image/core/export.js","../node_modules/fast-png/src/index.ts","../node_modules/image-js/src/image/core/mediaTypes.js","../node_modules/image-js/src/image/core/extend.js","../node_modules/image-js/src/image/model/model.js","../node_modules/image-js/src/image/core/kindNames.js","../node_modules/image-js/src/image/core/kind.js","../node_modules/tiff/src/tags/exif.ts","../node_modules/tiff/src/tags/gps.ts","../node_modules/tiff/src/tags/standard.ts","../node_modules/tiff/src/ifd.ts","../node_modules/tiff/src/ifdValue.ts","../node_modules/tiff/src/lzw.ts","../node_modules/tiff/src/tiffIfd.ts","../node_modules/tiff/src/zlib.ts","../node_modules/tiff/src/tiffDecoder.ts","../node_modules/tiff/src/hacks.ts","../node_modules/tiff/src/horizontalDifferencing.ts","../node_modules/image-js/src/stack/transform/matchAndCrop.js","../node_modules/image-js/src/stack/compute/min.js","../node_modules/image-js/src/stack/compute/max.js","../node_modules/image-js/src/util/histogram.js","../node_modules/image-js/src/stack/compute/median.js","../node_modules/image-js/src/stack/compute/histogram.js","../node_modules/image-js/src/stack/compute/histograms.js","../node_modules/image-js/src/stack/utility/averageImage.js","../node_modules/image-js/src/stack/utility/maxImage.js","../node_modules/image-js/src/stack/utility/minImage.js","../node_modules/image-js/src/stack/Stack.js","../node_modules/image-js/src/stack/extend.js","../node_modules/image-js/src/image/core/load.js","../node_modules/tiff/src/index.ts","../node_modules/image-js/src/image/core/valueMethods.js","../node_modules/image-js/src/image/internal/getImageParameters.js","../node_modules/image-js/src/image/internal/getOutputImage.js","../node_modules/image-js/src/image/filter/abs.js","../node_modules/image-js/src/image/filter/invert.js","../node_modules/image-js/src/image/internal/copyAlphaChannel.js","../node_modules/image-js/src/image/filter/flipX.js","../node_modules/image-js/src/image/filter/flipY.js","../node_modules/image-js/src/image/filter/blurFilter.js","../node_modules/image-js/src/util/channel.js","../node_modules/image-js/src/image/filter/medianFilter.js","../node_modules/image-js/src/image/filter/gaussianFilter.js","../node_modules/image-js/src/util/kernels.js","../node_modules/image-js/src/image/internal/clamp.js","../node_modules/ml-convolution/src/directConvolution.js","../node_modules/image-js/src/image/operator/convolutionSeparable.js","../node_modules/ml-matrix/matrix.mjs","../node_modules/image-js/src/image/operator/convolution.js","../node_modules/image-js/src/util/kernel.js","../node_modules/image-js/src/image/operator/getSeparatedKernel.js","../node_modules/image-js/src/image/filter/gradientFilter.js","../node_modules/image-js/src/image/filter/sobelFilter.js","../node_modules/image-js/src/image/filter/scharrFilter.js","../node_modules/image-js/src/image/filter/level.js","../node_modules/image-js/src/util/value.js","../node_modules/image-js/src/image/filter/add.js","../node_modules/image-js/src/image/filter/subtract.js","../node_modules/image-js/src/image/filter/subtractImage.js","../node_modules/image-js/src/image/filter/hypotenuse.js","../node_modules/image-js/src/image/filter/multiply.js","../node_modules/image-js/src/image/filter/divide.js","../node_modules/ml-regression-base/src/index.js","../node_modules/ml-regression/src/regression/kernel-ridge-regression.js","../node_modules/image-js/src/image/filter/background.js","../node_modules/image-js/src/image/morphology/dilate.js","../node_modules/image-js/src/image/morphology/erode.js","../node_modules/image-js/src/image/morphology/open.js","../node_modules/image-js/src/image/morphology/close.js","../node_modules/image-js/src/image/morphology/topHat.js","../node_modules/image-js/src/image/morphology/blackHat.js","../node_modules/image-js/src/image/morphology/morphologicalGradient.js","../node_modules/image-js/src/image/transform/warping.js","../node_modules/image-js/src/image/transform/crop.js","../node_modules/image-js/src/image/transform/cropAlpha.js","../node_modules/image-js/src/util/converter.js","../node_modules/image-js/src/image/internal/checks.js","../node_modules/image-js/src/image/transform/resize/nearestNeighbor.js","../node_modules/image-js/src/image/transform/resize/resize.js","../node_modules/image-js/src/image/transform/hsv.js","../node_modules/image-js/src/image/transform/hsl.js","../node_modules/image-js/src/image/transform/cmyk.js","../node_modules/image-js/src/image/transform/rgba8.js","../node_modules/image-js/src/image/transform/greyAlgorithms.js","../node_modules/image-js/src/image/transform/grey.js","../node_modules/image-js/src/image/transform/mask/intermodes.js","../node_modules/image-js/src/image/transform/mask/minError.js","../node_modules/image-js/src/image/transform/mask/minimum.js","../node_modules/image-js/src/image/transform/mask/percentile.js","../node_modules/image-js/src/image/transform/mask/thresholdAlgorithms.js","../node_modules/image-js/src/image/transform/mask/huang.js","../node_modules/image-js/src/image/transform/mask/isodata.js","../node_modules/image-js/src/image/transform/mask/li.js","../node_modules/image-js/src/image/transform/mask/maxEntropy.js","../node_modules/image-js/src/image/transform/mask/mean.js","../node_modules/image-js/src/image/transform/mask/moments.js","../node_modules/image-js/src/image/transform/mask/otsu.js","../node_modules/image-js/src/image/transform/mask/renyiEntropy.js","../node_modules/image-js/src/image/transform/mask/shanbhag.js","../node_modules/image-js/src/image/transform/mask/triangle.js","../node_modules/image-js/src/image/transform/mask/yen.js","../node_modules/image-js/src/image/utility/getThreshold.js","../node_modules/image-js/src/image/transform/mask/mask.js","../node_modules/image-js/src/image/transform/pad.js","../node_modules/image-js/src/image/internal/copy.js","../node_modules/image-js/src/image/transform/colorDepth.js","../node_modules/image-js/src/image/transform/rotateFree.js","../node_modules/image-js/src/image/transform/rotate.js","../node_modules/image-js/src/image/transform/insert.js","../node_modules/image-js/src/image/utility/setBorder.js","../node_modules/image-js/src/image/utility/split.js","../node_modules/image-js/src/image/utility/getChannel.js","../node_modules/image-js/src/image/utility/combineChannels.js","../node_modules/image-js/src/image/utility/setChannel.js","../node_modules/image-js/src/image/utility/getSimilarity.js","../node_modules/image-js/src/image/utility/getPixelsGrid.js","../node_modules/image-js/src/util/matrix.js","../node_modules/image-js/src/image/utility/getBestMatch.js","../node_modules/image-js/src/image/utility/getRow.js","../node_modules/image-js/src/image/utility/getColumn.js","../node_modules/image-js/src/image/utility/getMatrix.js","../node_modules/image-js/src/image/utility/setMatrix.js","../node_modules/image-js/src/image/utility/getPixelsArray.js","../node_modules/image-js/src/image/utility/getIntersection.js","../node_modules/image-js/src/image/utility/getClosestCommonParent.js","../node_modules/canny-edge-detector/src/index.js","../node_modules/image-js/src/image/operator/cannyEdge.js","../node_modules/image-js/src/image/operator/extract.js","../node_modules/image-js/src/image/operator/floodFill.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@swiftcarrot/color-fns/dist/index.esm.js","../node_modules/image-js/src/util/color.js","../node_modules/image-js/src/image/operator/paintLabels.js","../node_modules/image-js/src/image/operator/paintMasks.js","../node_modules/image-js/src/util/zerosMatrix.js","../node_modules/image-js/src/util/Shape.js","../node_modules/image-js/src/image/operator/paintPoints.js","../node_modules/image-js/src/image/operator/paintPolyline.js","../node_modules/image-js/src/image/operator/paintPolylines.js","../node_modules/image-js/src/image/operator/paintPolygon.js","../node_modules/image-js/src/image/operator/paintPolygons.js","../node_modules/image-js/src/image/compute/histogram.js","../node_modules/image-js/src/image/compute/colorHistogram.js","../node_modules/image-js/src/image/compute/min.js","../node_modules/image-js/src/image/compute/max.js","../node_modules/image-js/src/image/compute/sum.js","../node_modules/image-js/src/image/compute/moment.js","../node_modules/image-js/src/image/compute/localMaxima.js","../node_modules/image-js/src/image/compute/mean.js","../node_modules/image-js/src/image/compute/median.js","../node_modules/image-js/src/image/compute/points.js","../node_modules/image-js/src/image/compute/extendedPoints.js","../node_modules/image-js/src/image/compute/relativePosition.js","../node_modules/image-js/src/image/compute/countAlphaPixels.js","../node_modules/monotone-chain-convex-hull/src/index.ts","../node_modules/image-js/src/image/compute/monotoneChainConvexHull.js","../node_modules/image-js/src/util/points.js","../node_modules/image-js/src/image/compute/minimalBoundingRectangle.js","../node_modules/image-js/src/image/roi/feretDiameters.js","../node_modules/image-js/src/image/roi/Roi.js","../node_modules/image-js/src/image/roi/RoiLayer.js","../node_modules/image-js/src/image/roi/util/mergeRoi.js","../node_modules/image-js/src/image/roi/RoiMap.js","../node_modules/image-js/src/image/roi/util/commonBorderLength.js","../node_modules/image-js/src/image/roi/creator/fromMask.js","../node_modules/image-js/src/image/roi/creator/fromMaskConnectedComponentLabelingAlgorithm.js","../node_modules/image-js/src/image/roi/creator/fromMaxima.js","../node_modules/image-js/src/image/roi/creator/fromPoints.js","../node_modules/image-js/src/util/dxdy.js","../node_modules/image-js/src/image/roi/creator/fromWaterShed.js","../node_modules/image-js/src/image/roi/manager.js","../node_modules/image-js/src/util/deepValue.js","../node_modules/image-js/src/image/Image.js","../node_modules/image-js/src/image/core/checkProcessable.js","../node_modules/image-js/src/image/core/getRGBAData.js","../node_modules/image-js/src/image/extend.js","../node_modules/image-js/src/browser/worker/process/background.js","../node_modules/image-js/src/browser/worker/worker.js","../node_modules/image-js/src/browser/worker/extend.js","pages/ArtContent.jsx","components/imageToBinary.jsx","pages/Pages.jsx","App.js","index.js"],"sourcesContent":["'use strict';\n\nconst { IOBuffer } = require('iobuffer');\n\nconst constants = require('./constants');\n\nconst tableLeft = [];\nfor (let i = 0; i <= 8; i++) {\n  tableLeft.push(0b11111111 << i);\n}\n\nclass BMPEncoder extends IOBuffer {\n  constructor(data) {\n    if (data.bitDepth !== 1) {\n      throw new Error('Only bitDepth of 1 is supported');\n    }\n    if (!data.height || !data.width) {\n      throw new Error('ImageData width and height are required');\n    }\n\n    super(data.data);\n\n    this.width = data.width;\n    this.height = data.height;\n    this.bitDepth = data.bitDepth;\n    this.channels = data.channels;\n    this.components = data.components;\n  }\n\n  encode() {\n    this.encoded = new IOBuffer();\n    this.encoded.skip(14);\n    this.writeBitmapV5Header();\n    this.writeColorTable();\n    const offset = this.encoded.offset;\n    this.writePixelArray();\n    this.encoded.rewind();\n    this.writeBitmapFileHeader(offset);\n    return this.encoded.toArray();\n  }\n\n  writePixelArray() {\n    let io = this.encoded;\n    const rowSize = Math.floor((this.bitDepth * this.width + 31) / 32) * 4;\n    const dataRowSize = Math.ceil((this.bitDepth * this.width) / 8);\n    const skipSize = rowSize - dataRowSize;\n    const bitOverflow = (this.bitDepth * this.width) % 8;\n    const bitSkip = bitOverflow === 0 ? 0 : 8 - bitOverflow;\n    const totalBytes = rowSize * this.height;\n\n    let byteA, byteB;\n    let offset = 0; // Current off set in the ioData\n    let relOffset = 0;\n    let iOffset = 8;\n    io.mark();\n    byteB = this.readUint8();\n    for (let i = this.height - 1; i >= 0; i--) {\n      const lastRow = i === 0;\n      io.reset();\n      io.skip(i * rowSize);\n      for (let j = 0; j < dataRowSize; j++) {\n        const lastCol = j === dataRowSize - 1;\n        if (relOffset <= bitSkip && lastCol) {\n          // no need to read new data\n          io.writeByte(byteB << relOffset);\n          if ((bitSkip === 0 || bitSkip === relOffset) && !lastRow) {\n            byteA = byteB;\n            byteB = this.readByte();\n          }\n        } else if (relOffset === 0) {\n          byteA = byteB;\n          byteB = this.readUint8();\n          io.writeByte(byteA);\n        } else {\n          byteA = byteB;\n          byteB = this.readUint8();\n          io.writeByte(\n            ((byteA << relOffset) & tableLeft[relOffset]) | (byteB >> iOffset)\n          );\n        }\n        if (lastCol) {\n          offset += bitOverflow || 0;\n          io.skip(skipSize);\n          relOffset = offset % 8;\n          iOffset = 8 - relOffset;\n        }\n      }\n    }\n    if (rowSize > dataRowSize) {\n      // make sure last written byte is correct\n      io.reset();\n      io.skip(totalBytes - 1);\n      io.writeUint8(0);\n    }\n  }\n\n  writeColorTable() {\n    // We only handle 1-bit images\n    this.encoded\n      .writeUint32(0x00000000) // black\n      .writeUint32(0x00ffffff); // white\n  }\n\n  writeBitmapFileHeader(imageOffset) {\n    this.encoded\n      .writeChars('BM') // 14 bytes bitmap file header\n      .writeInt32(this.encoded.lastWrittenByte) // Size of BMP file in bytes\n      .writeUint16(0)\n      .writeUint16(0)\n      .writeUint32(imageOffset);\n  }\n\n  writeBitmapV5Header() {\n    const rowSize = Math.floor((this.bitDepth * this.width + 31) / 32) * 4;\n    const totalBytes = rowSize * this.height;\n    // Size of the header\n    this.encoded\n      .writeUint32(124) // Header size\n      .writeInt32(this.width) // bV5Width\n      .writeInt32(this.height) // bV5Height\n      .writeUint16(1) // bv5Planes - must be set to 1\n      .writeUint16(this.bitDepth) // bV5BitCount\n      .writeUint32(constants.BITMAPV5HEADER.Compression.BI_RGB) // bV5Compression - No compression\n      .writeUint32(totalBytes) // bv5SizeImage - size of pixel buffer (can be 0 if uncompressed)\n      .writeInt32(0) // bV5XPelsPerMeter - resolution\n      .writeInt32(0) // bV5YPelsPerMeter - resolution\n      .writeUint32(Math.pow(2, this.bitDepth))\n      .writeUint32(Math.pow(2, this.bitDepth))\n      .writeUint32(0xff000000) // bV5RedMask\n      .writeUint32(0x00ff0000) // bV5GreenMask\n      .writeUint32(0x0000ff00) // bV5BlueMask\n      .writeUint32(0x000000ff) // bV5AlphaMask\n      .writeUint32(constants.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB)\n      .skip(36) // bV5Endpoints\n      .skip(12) // bV5GammaRed, Green, Blue\n      .writeUint32(constants.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES)\n      .skip(12); // ProfileData, ProfileSize, Reserved\n  }\n}\n\nmodule.exports = BMPEncoder;\n","'use strict';\n\nmodule.exports = {\n  BITMAPV5HEADER: {\n    LogicalColorSpace: {\n      // https://msdn.microsoft.com/en-us/library/cc250396.aspx\n      LCS_CALIBRATED_RGB: 0x00000000,\n      LCS_sRGB: 0x73524742, // eslint-disable-line camelcase\n      LCS_WINDOWS_COLOR_SPACE: 0x57696e20,\n    },\n    Compression: {\n      // https://msdn.microsoft.com/en-us/library/cc250415.aspx\n      BI_RGB: 0x0000, // No compression\n      BI_RLE8: 0x0001,\n      BI_RLE4: 0x0002,\n      BI_BITFIELDS: 0x0003,\n      BI_JPEG: 0x0004,\n      BI_PNG: 0x0005,\n      BI_CMYK: 0x000b,\n      BI_CMYKRLE8: 0x000c,\n      BI_CMYKRLE4: 0x000d,\n    },\n    GamutMappingIntent: {\n      // https://msdn.microsoft.com/en-us/library/cc250392.aspx\n      LCS_GM_ABS_COLORIMETRIC: 0x00000008,\n      LCS_GM_BUSINESS: 0x00000001,\n      LCS_GM_GRAPHICS: 0x00000002,\n      LCS_GM_IMAGES: 0x00000004,\n    },\n  },\n};\n","'use strict';\n\nconst Encoder = require('./BMPEncoder');\n\nexports.encode = function encode(data) {\n  const encoder = new Encoder(data);\n  return encoder.encode();\n};\n","'use strict';\n\nconst defaultByteLength = 1024 * 8;\nconst charArray = [];\n\nclass IOBuffer {\n    constructor(data, options) {\n        options = options || {};\n        if (data === undefined) {\n            data = defaultByteLength;\n        }\n        if (typeof data === 'number') {\n            data = new ArrayBuffer(data);\n        }\n        let length = data.byteLength;\n        const offset = options.offset ? options.offset>>>0 : 0;\n        if (data.buffer) {\n            length = data.byteLength - offset;\n            if (data.byteLength !== data.buffer.byteLength) { // Node.js buffer from pool\n                data = data.buffer.slice(data.byteOffset + offset, data.byteOffset + data.byteLength);\n            } else if (offset) {\n                data = data.buffer.slice(offset);\n            } else {\n                data = data.buffer;\n            }\n        }\n        this.buffer = data;\n        this.length = length;\n        this.byteLength = length;\n        this.byteOffset = 0;\n        this.offset = 0;\n        this.littleEndian = true;\n        this._data = new DataView(this.buffer);\n        this._increment = length || defaultByteLength;\n        this._mark = 0;\n    }\n\n    available(byteLength) {\n        if (byteLength === undefined) byteLength = 1;\n        return (this.offset + byteLength) <= this.length;\n    }\n\n    isLittleEndian() {\n        return this.littleEndian;\n    }\n\n    setLittleEndian() {\n        this.littleEndian = true;\n    }\n\n    isBigEndian() {\n        return !this.littleEndian;\n    }\n\n    setBigEndian() {\n        this.littleEndian = false;\n    }\n\n    skip(n) {\n        if (n === undefined) n = 1;\n        this.offset += n;\n    }\n\n    seek(offset) {\n        this.offset = offset;\n    }\n\n    mark() {\n        this._mark = this.offset;\n    }\n\n    reset() {\n        this.offset = this._mark;\n    }\n\n    rewind() {\n        this.offset = 0;\n    }\n\n    ensureAvailable(byteLength) {\n        if (byteLength === undefined) byteLength = 1;\n        if (!this.available(byteLength)) {\n            const newIncrement = this._increment + this._increment;\n            this._increment = newIncrement;\n            const newLength = this.length + newIncrement;\n            const newArray = new Uint8Array(newLength);\n            newArray.set(new Uint8Array(this.buffer));\n            this.buffer = newArray.buffer;\n            this.length = newLength;\n            this._data = new DataView(this.buffer);\n        }\n    }\n\n    readBoolean() {\n        return this.readUint8() !== 0;\n    }\n\n    readInt8() {\n        return this._data.getInt8(this.offset++);\n    }\n\n    readUint8() {\n        return this._data.getUint8(this.offset++);\n    }\n\n    readByte() {\n        return this.readUint8();\n    }\n\n    readBytes(n) {\n        if (n === undefined) n = 1;\n        var bytes = new Uint8Array(n);\n        for (var i = 0; i < n; i++) {\n            bytes[i] = this.readByte();\n        }\n        return bytes;\n    }\n\n    readInt16() {\n        var value = this._data.getInt16(this.offset, this.littleEndian);\n        this.offset += 2;\n        return value;\n    }\n\n    readUint16() {\n        var value = this._data.getUint16(this.offset, this.littleEndian);\n        this.offset += 2;\n        return value;\n    }\n\n    readInt32() {\n        var value = this._data.getInt32(this.offset, this.littleEndian);\n        this.offset += 4;\n        return value;\n    }\n\n    readUint32() {\n        var value = this._data.getUint32(this.offset, this.littleEndian);\n        this.offset += 4;\n        return value;\n    }\n\n    readFloat32() {\n        var value = this._data.getFloat32(this.offset, this.littleEndian);\n        this.offset += 4;\n        return value;\n    }\n\n    readFloat64() {\n        var value = this._data.getFloat64(this.offset, this.littleEndian);\n        this.offset += 8;\n        return value;\n    }\n\n    readChar() {\n        return String.fromCharCode(this.readInt8());\n    }\n\n    readChars(n) {\n        if (n === undefined) n = 1;\n        charArray.length = n;\n        for (var i = 0; i < n; i++) {\n            charArray[i] = this.readChar();\n        }\n        return charArray.join('');\n    }\n\n    writeBoolean(bool) {\n        this.writeUint8(bool ? 0xff : 0x00);\n    }\n\n    writeInt8(value) {\n        this.ensureAvailable(1);\n        this._data.setInt8(this.offset++, value);\n    }\n\n    writeUint8(value) {\n        this.ensureAvailable(1);\n        this._data.setUint8(this.offset++, value);\n    }\n\n    writeByte(value) {\n        this.writeUint8(value);\n    }\n\n    writeBytes(bytes) {\n        this.ensureAvailable(bytes.length);\n        for (var i = 0; i < bytes.length; i++) {\n            this._data.setUint8(this.offset++, bytes[i]);\n        }\n    }\n\n    writeInt16(value) {\n        this.ensureAvailable(2);\n        this._data.setInt16(this.offset, value, this.littleEndian);\n        this.offset += 2;\n    }\n\n    writeUint16(value) {\n        this.ensureAvailable(2);\n        this._data.setUint16(this.offset, value, this.littleEndian);\n        this.offset += 2;\n    }\n\n    writeInt32(value) {\n        this.ensureAvailable(4);\n        this._data.setInt32(this.offset, value, this.littleEndian);\n        this.offset += 4;\n    }\n\n    writeUint32(value) {\n        this.ensureAvailable(4);\n        this._data.setUint32(this.offset, value, this.littleEndian);\n        this.offset += 4;\n    }\n\n    writeFloat32(value) {\n        this.ensureAvailable(4);\n        this._data.setFloat32(this.offset, value, this.littleEndian);\n        this.offset += 4;\n    }\n\n    writeFloat64(value) {\n        this.ensureAvailable(8);\n        this._data.setFloat64(this.offset, value, this.littleEndian);\n        this.offset += 8;\n    }\n\n    writeChar(str) {\n        this.writeUint8(str.charCodeAt(0));\n    }\n\n    writeChars(str) {\n        for (var i = 0; i < str.length; i++) {\n            this.writeUint8(str.charCodeAt(i));\n        }\n    }\n\n    toArray() {\n        return new Uint8Array(this.buffer, 0, this.offset);\n    }\n}\n\nmodule.exports = IOBuffer;\n","'use strict';\n\nconst TIFFDecoder = require('./tiffDecoder');\n\nmodule.exports = function decodeTIFF(data, options) {\n    const decoder = new TIFFDecoder(data, options);\n    return decoder.decode(options);\n};\n","'use strict';\n\nconst tags = {\n    standard: require('./tags/standard'),\n    exif: require('./tags/exif'),\n    gps: require('./tags/gps')\n};\n\nclass IFD {\n    constructor(kind) {\n        if (!kind) {\n            throw new Error('missing kind');\n        }\n        this.data = null;\n        this.fields = new Map();\n        this.kind = kind;\n        this._map = null;\n    }\n\n    get(tag) {\n        if (typeof tag === 'number') {\n            return this.fields.get(tag);\n        } else if (typeof tag === 'string') {\n            return this.fields.get(tags[this.kind].tagsByName[tag]);\n        } else {\n            throw new Error('expected a number or string');\n        }\n    }\n\n    get map() {\n        if (!this._map) {\n            this._map = {};\n            const taglist = tags[this.kind].tagsById;\n            for (var key of this.fields.keys()) {\n                if (taglist[key]) {\n                    this._map[taglist[key]] = this.fields.get(key);\n                }\n            }\n        }\n        return this._map;\n    }\n}\n\nmodule.exports = IFD;\n","'use strict';\n\nvar types = new Map([\n    [1, [1, readByte]],       // BYTE\n    [2, [1, readASCII]],      // ASCII\n    [3, [2, readShort]],      // SHORT\n    [4, [4, readLong]],       // LONG\n    [5, [8, readRational]],   // RATIONAL\n    [6, [1, readSByte]],      // SBYTE\n    [7, [1, readByte]],       // UNDEFINED\n    [8, [2, readSShort]],     // SSHORT\n    [9, [4, readSLong]],      // SLONG\n    [10, [8, readSRational]], // SRATIONAL\n    [11, [4, readFloat]],     // FLOAT\n    [12, [8, readDouble]]     // DOUBLE\n]);\n\nexports.getByteLength = function (type, count) {\n    return types.get(type)[0] * count;\n};\n\nexports.readData = function (decoder, type, count) {\n    return types.get(type)[1](decoder, count);\n};\n\nfunction readByte(decoder, count) {\n    if (count === 1) return decoder.readUint8();\n    var array = new Uint8Array(count);\n    for (var i = 0; i < count; i++) {\n        array[i] = decoder.readUint8();\n    }\n    return array;\n}\n\nfunction readASCII(decoder, count) {\n    var strings = [];\n    var currentString = '';\n    for (var i = 0; i < count; i++) {\n        var char = String.fromCharCode(decoder.readUint8());\n        if (char === '\\0') {\n            strings.push(currentString);\n            currentString = '';\n        } else {\n            currentString += char;\n        }\n    }\n    if (strings.length === 1) {\n        return strings[0];\n    } else {\n        return strings;\n    }\n}\n\nfunction readShort(decoder, count) {\n    if (count === 1) return decoder.readUint16();\n    var array = new Uint16Array(count);\n    for (var i = 0; i < count; i++) {\n        array[i] = decoder.readUint16();\n    }\n    return array;\n}\n\nfunction readLong(decoder, count) {\n    if (count === 1) return decoder.readUint32();\n    var array = new Uint32Array(count);\n    for (var i = 0; i < count; i++) {\n        array[i] = decoder.readUint32();\n    }\n    return array;\n}\n\nfunction readRational(decoder, count) {\n    if (count === 1) {\n        return decoder.readUint32() / decoder.readUint32();\n    }\n    var rationals = new Array(count);\n    for (var i = 0; i < count; i++) {\n        rationals[i] = decoder.readUint32() / decoder.readUint32();\n    }\n    return rationals;\n}\n\nfunction readSByte(decoder, count) {\n    if (count === 1) return decoder.readInt8();\n    var array = new Int8Array(count);\n    for (var i = 0; i < count; i++) {\n        array[i] = decoder.readInt8();\n    }\n    return array;\n}\n\nfunction readSShort(decoder, count) {\n    if (count === 1) return decoder.readInt16();\n    var array = new Int16Array(count);\n    for (var i = 0; i < count; i++) {\n        array[i] = decoder.readInt16();\n    }\n    return array;\n}\n\nfunction readSLong(decoder, count) {\n    if (count === 1) return decoder.readInt32();\n    var array = new Int32Array(count);\n    for (var i = 0; i < count; i++) {\n        array[i] = decoder.readInt32();\n    }\n    return array;\n}\n\nfunction readSRational(decoder, count) {\n    if (count === 1) {\n        return decoder.readInt32() / decoder.readInt32();\n    }\n    var rationals = new Array(count);\n    for (var i = 0; i < count; i++) {\n        rationals[i] = decoder.readInt32() / decoder.readInt32();\n    }\n    return rationals;\n}\n\nfunction readFloat(decoder, count) {\n    if (count === 1) return decoder.readFloat32();\n    var array = new Float32Array(count);\n    for (var i = 0; i < count; i++) {\n        array[i] = decoder.readFloat32();\n    }\n    return array;\n}\n\nfunction readDouble(decoder, count) {\n    if (count === 1) return decoder.readFloat64();\n    var array = new Float64Array(count);\n    for (var i = 0; i < count; i++) {\n        array[i] = decoder.readFloat64();\n    }\n    return array;\n}\n","'use strict';\n\nexports.decode = require('./decode');\n","'use strict';\n\nconst tagsById = {\n    0x829A: 'ExposureTime',\n    0x829D: 'FNumber',\n    0x8822: 'ExposureProgram',\n    0x8824: 'SpectralSensitivity',\n    0x8827: 'ISOSpeedRatings',\n    0x8828: 'OECF',\n    0x8830: 'SensitivityType',\n    0x8831: 'StandardOutputSensitivity',\n    0x8832: 'RecommendedExposureIndex',\n    0x8833: 'ISOSpeed',\n    0x8834: 'ISOSpeedLatitudeyyy',\n    0x8835: 'ISOSpeedLatitudezzz',\n    0x9000: 'ExifVersion',\n    0x9003: 'DateTimeOriginal',\n    0x9004: 'DateTimeDigitized',\n    0x9101: 'ComponentsConfiguration',\n    0x9102: 'CompressedBitsPerPixel',\n    0x9201: 'ShutterSpeedValue',\n    0x9202: 'ApertureValue',\n    0x9203: 'BrightnessValue',\n    0x9204: 'ExposureBiasValue',\n    0x9205: 'MaxApertureValue',\n    0x9206: 'SubjectDistance',\n    0x9207: 'MeteringMode',\n    0x9208: 'LightSource',\n    0x9209: 'Flash',\n    0x920A: 'FocalLength',\n    0x9214: 'SubjectArea',\n    0x927C: 'MakerNote',\n    0x9286: 'UserComment',\n    0x9290: 'SubsecTime',\n    0x9291: 'SubsecTimeOriginal',\n    0x9292: 'SubsecTimeDigitized',\n    0xA000: 'FlashpixVersion',\n    0xA001: 'ColorSpace',\n    0xA002: 'PixelXDimension',\n    0xA003: 'PixelYDimension',\n    0xA004: 'RelatedSoundFile',\n    0xA20B: 'FlashEnergy',\n    0xA20C: 'SpatialFrequencyResponse',\n    0xA20E: 'FocalPlaneXResolution',\n    0xA20F: 'FocalPlaneYResolution',\n    0xA210: 'FocalPlaneResolutionUnit',\n    0xA214: 'SubjectLocation',\n    0xA215: 'ExposureIndex',\n    0xA217: 'SensingMethod',\n    0xA300: 'FileSource',\n    0xA301: 'SceneType',\n    0xA302: 'CFAPattern',\n    0xA401: 'CustomRendered',\n    0xA402: 'ExposureMode',\n    0xA403:\t'WhiteBalance',\n    0xA404:\t'DigitalZoomRatio',\n    0xA405:\t'FocalLengthIn35mmFilm',\n    0xA406:\t'SceneCaptureType',\n    0xA407:\t'GainControl',\n    0xA408:\t'Contrast',\n    0xA409:\t'Saturation',\n    0xA40A:\t'Sharpness',\n    0xA40B:\t'DeviceSettingDescription',\n    0xA40C:\t'SubjectDistanceRange',\n    0xA420:\t'ImageUniqueID',\n    0xA430: 'CameraOwnerName',\n    0xA431: 'BodySerialNumber',\n    0xA432: 'LensSpecification',\n    0xA433: 'LensMake',\n    0xA434: 'LensModel',\n    0xA435: 'LensSerialNumber',\n    0xA500: 'Gamma'\n};\n\nconst tagsByName = {};\nfor (var i in tagsById) {\n    tagsByName[tagsById[i]] = i;\n}\n\nmodule.exports = {\n    tagsById,\n    tagsByName\n};\n","'use strict';\n\nconst tagsById = {\n    0x0000: 'GPSVersionID',\n    0x0001: 'GPSLatitudeRef',\n    0x0002: 'GPSLatitude',\n    0x0003: 'GPSLongitudeRef',\n    0x0004: 'GPSLongitude',\n    0x0005: 'GPSAltitudeRef',\n    0x0006: 'GPSAltitude',\n    0x0007: 'GPSTimeStamp',\n    0x0008: 'GPSSatellites',\n    0x0009: 'GPSStatus',\n    0x000A: 'GPSMeasureMode',\n    0x000B: 'GPSDOP',\n    0x000C: 'GPSSpeedRef',\n    0x000D: 'GPSSpeed',\n    0x000E: 'GPSTrackRef',\n    0x000F: 'GPSTrack',\n    0x0010: 'GPSImgDirectionRef',\n    0x0011: 'GPSImgDirection',\n    0x0012: 'GPSMapDatum',\n    0x0013: 'GPSDestLatitudeRef',\n    0x0014: 'GPSDestLatitude',\n    0x0015: 'GPSDestLongitudeRef',\n    0x0016: 'GPSDestLongitude',\n    0x0017: 'GPSDestBearingRef',\n    0x0018: 'GPSDestBearing',\n    0x0019: 'GPSDestDistanceRef',\n    0x001A: 'GPSDestDistance',\n    0x001B: 'GPSProcessingMethod',\n    0x001C: 'GPSAreaInformation',\n    0x001D: 'GPSDateStamp',\n    0x001E: 'GPSDifferential',\n    0x001F: 'GPSHPositioningError'\n};\n\nconst tagsByName = {};\nfor (var i in tagsById) {\n    tagsByName[tagsById[i]] = i;\n}\n\nmodule.exports = {\n    tagsById,\n    tagsByName\n};\n","'use strict';\n\nconst tagsById = {\n    // Baseline tags\n    0x00FE: 'NewSubfileType',\n    0x00FF: 'SubfileType',\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageLength',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0107: 'Threshholding',\n    0x0108: 'CellWidth',\n    0x0109: 'CellLength',\n    0x010A: 'FillOrder',\n    0x010E: 'ImageDescription',\n    0x010F: 'Make',\n    0x0110: 'Model',\n    0x0111: 'StripOffsets',\n    0x0112: 'Orientation',\n    0x0115: 'SamplesPerPixel',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0118: 'MinSampleValue',\n    0x0119: 'MaxSampleValue',\n    0x011A: 'XResolution',\n    0x011B: 'YResolution',\n    0x011C: 'PlanarConfiguration',\n    0x0120: 'FreeOffsets',\n    0x0121: 'FreeByteCounts',\n    0x0122: 'GrayResponseUnit',\n    0x0123: 'GrayResponseCurve',\n    0x0128: 'ResolutionUnit',\n    0x0131: 'Software',\n    0x0132: 'DateTime',\n    0x013B: 'Artist',\n    0x013C: 'HostComputer',\n    0x0140: 'ColorMap',\n    0x0152: 'ExtraSamples',\n    0x8298: 'Copyright',\n\n    // Extension tags\n    0x010D: 'DocumentName',\n    0x011D: 'PageName',\n    0x011E: 'XPosition',\n    0x011F: 'YPosition',\n    0x0124: 'T4Options',\n    0x0125: 'T6Options',\n    0x0129: 'PageNumber',\n    0x012D: 'TransferFunction',\n    0x013D: 'Predictor',\n    0x013E: 'WhitePoint',\n    0x013F: 'PrimaryChromaticities',\n    0x0141: 'HalftoneHints',\n    0x0142: 'TileWidth',\n    0x0143: 'TileLength',\n    0x0144: 'TileOffsets',\n    0x0145: 'TileByteCounts',\n    0x0146: 'BadFaxLines',\n    0x0147: 'CleanFaxData',\n    0x0148: 'ConsecutiveBadFaxLines',\n    0x014A: 'SubIFDs',\n    0x014C: 'InkSet',\n    0x014D: 'InkNames',\n    0x014E: 'NumberOfInks',\n    0x0150: 'DotRange',\n    0x0151: 'TargetPrinter',\n    0x0153: 'SampleFormat',\n    0x0154: 'SMinSampleValue',\n    0x0155: 'SMaxSampleValue',\n    0x0156: 'TransferRange',\n    0x0157: 'ClipPath',\n    0x0158: 'XClipPathUnits',\n    0x0159: 'YClipPathUnits',\n    0x015A: 'Indexed',\n    0x015B: 'JPEGTables',\n    0x015F: 'OPIProxy',\n    0x0190: 'GlobalParametersIFD',\n    0x0191: 'ProfileType',\n    0x0192: 'FaxProfile',\n    0x0193: 'CodingMethods',\n    0x0194: 'VersionYear',\n    0x0195: 'ModeNumber',\n    0x01B1: 'Decode',\n    0x01B2: 'DefaultImageColor',\n    0x0200: 'JPEGProc',\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x0203: 'JPEGRestartInterval',\n    0x0205: 'JPEGLosslessPredictors',\n    0x0206: 'JPEGPointTransforms',\n    0x0207: 'JPEGQTables',\n    0x0208: 'JPEGDCTables',\n    0x0209: 'JPEGACTables',\n    0x0211: 'YCbCrCoefficients',\n    0x0212: 'YCbCrSubSampling',\n    0x0213: 'YCbCrPositioning',\n    0x0214: 'ReferenceBlackWhite',\n    0x022F: 'StripRowCounts',\n    0x02BC: 'XMP',\n    0x800D: 'ImageID',\n    0x87AC: 'ImageLayer',\n\n    // Private tags\n    0x80A4: 'WangAnnotatio',\n    0x82A5: 'MDFileTag',\n    0x82A6: 'MDScalePixel',\n    0x82A7: 'MDColorTable',\n    0x82A8: 'MDLabName',\n    0x82A9: 'MDSampleInfo',\n    0x82AA: 'MDPrepDate',\n    0x82AB: 'MDPrepTime',\n    0x82AC: 'MDFileUnits',\n    0x830E: 'ModelPixelScaleTag',\n    0x83BB: 'IPTC',\n    0x847E: 'INGRPacketDataTag',\n    0x847F: 'INGRFlagRegisters',\n    0x8480: 'IrasBTransformationMatrix',\n    0x8482: 'ModelTiepointTag',\n    0x85D8: 'ModelTransformationTag',\n    0x8649: 'Photoshop',\n    0x8769: 'ExifIFD',\n    0x8773: 'ICCProfile',\n    0x87AF: 'GeoKeyDirectoryTag',\n    0x87B0: 'GeoDoubleParamsTag',\n    0x87B1: 'GeoAsciiParamsTag',\n    0x8825: 'GPSIFD',\n    0x885C: 'HylaFAXFaxRecvParams',\n    0x885D: 'HylaFAXFaxSubAddress',\n    0x885E: 'HylaFAXFaxRecvTime',\n    0x935C: 'ImageSourceData',\n    0xA005: 'InteroperabilityIFD',\n    0xA480: 'GDAL_METADATA',\n    0xA481: 'GDAL_NODATA',\n    0xC427: 'OceScanjobDescription',\n    0xC428: 'OceApplicationSelector',\n    0xC429: 'OceIdentificationNumber',\n    0xC42A: 'OceImageLogicCharacteristics',\n    0xC612: 'DNGVersion',\n    0xC613: 'DNGBackwardVersion',\n    0xC614: 'UniqueCameraModel',\n    0xC615: 'LocalizedCameraModel',\n    0xC616: 'CFAPlaneColor',\n    0xC617: 'CFALayout',\n    0xC618: 'LinearizationTable',\n    0xC619: 'BlackLevelRepeatDim',\n    0xC61A: 'BlackLevel',\n    0xC61B: 'BlackLevelDeltaH',\n    0xC61C: 'BlackLevelDeltaV',\n    0xC61D: 'WhiteLevel',\n    0xC61E: 'DefaultScale',\n    0xC61F: 'DefaultCropOrigin',\n    0xC620: 'DefaultCropSize',\n    0xC621: 'ColorMatrix1',\n    0xC622: 'ColorMatrix2',\n    0xC623: 'CameraCalibration1',\n    0xC624: 'CameraCalibration2',\n    0xC625: 'ReductionMatrix1',\n    0xC626: 'ReductionMatrix2',\n    0xC627: 'AnalogBalance',\n    0xC628: 'AsShotNeutral',\n    0xC629: 'AsShotWhiteXY',\n    0xC62A: 'BaselineExposure',\n    0xC62B: 'BaselineNoise',\n    0xC62C: 'BaselineSharpness',\n    0xC62D: 'BayerGreenSplit',\n    0xC62E: 'LinearResponseLimit',\n    0xC62F: 'CameraSerialNumber',\n    0xC630: 'LensInfo',\n    0xC631: 'ChromaBlurRadius',\n    0xC632: 'AntiAliasStrength',\n    0xC634: 'DNGPrivateData',\n    0xC635: 'MakerNoteSafety',\n    0xC65A: 'CalibrationIlluminant1',\n    0xC65B: 'CalibrationIlluminant2',\n    0xC65C: 'BestQualityScale',\n    0xC660: 'AliasLayerMetadata'\n};\n\nconst tagsByName = {};\nfor (var i in tagsById) {\n    tagsByName[tagsById[i]] = i;\n}\n\nmodule.exports = {\n    tagsById,\n    tagsByName\n};\n","'use strict';\n\nconst IOBuffer = require('iobuffer');\nconst IFD = require('./ifd');\nconst TiffIFD = require('./tiffIfd');\nconst IFDValue = require('./ifdValue');\n\nconst defaultOptions = {\n    ignoreImageData: false,\n    onlyFirst: false\n};\n\nclass TIFFDecoder extends IOBuffer {\n    constructor(data, options) {\n        super(data, options);\n        this._nextIFD = 0;\n    }\n\n    decode(options) {\n        options = Object.assign({}, defaultOptions, options);\n        const result = [];\n        this.decodeHeader();\n        while (this._nextIFD) {\n            result.push(this.decodeIFD(options));\n            if (options.onlyFirst) {\n                return result[0];\n            }\n        }\n        return result;\n    }\n\n    decodeHeader() {\n        // Byte offset\n        let value = this.readUint16();\n        if (value === 0x4949) {\n            this.setLittleEndian();\n        } else if (value === 0x4D4D) {\n            this.setBigEndian();\n        } else {\n            throw new Error('invalid byte order: 0x' + value.toString(16));\n        }\n\n        // Magic number\n        value = this.readUint16();\n        if (value !== 42) {\n            throw new Error('not a TIFF file');\n        }\n\n        // Offset of the first IFD\n        this._nextIFD = this.readUint32();\n    }\n\n    decodeIFD(options) {\n        this.seek(this._nextIFD);\n\n        var ifd;\n        if (!options.kind) {\n            ifd = new TiffIFD();\n        } else {\n            ifd = new IFD(options.kind);\n        }\n\n        const numEntries = this.readUint16();\n        for (var i = 0; i < numEntries; i++) {\n            this.decodeIFDEntry(ifd);\n        }\n        if (!options.ignoreImageData) {\n            this.decodeImageData(ifd);\n        }\n        this._nextIFD = this.readUint32();\n        return ifd;\n    }\n\n    decodeIFDEntry(ifd) {\n        const offset = this.offset;\n        const tag = this.readUint16();\n        const type = this.readUint16();\n        const numValues = this.readUint32();\n\n        if (type < 1 || type > 12) {\n            this.skip(4); // unknown type, skip this value\n            return;\n        }\n\n        const valueByteLength = IFDValue.getByteLength(type, numValues);\n        if (valueByteLength > 4) {\n            this.seek(this.readUint32());\n        }\n\n        const value = IFDValue.readData(this, type, numValues);\n        ifd.fields.set(tag, value);\n\n        // Read sub-IFDs\n        if (tag === 0x8769 || tag === 0x8825) {\n            let currentOffset = this.offset;\n            let kind;\n            if (tag === 0x8769) {\n                kind = 'exif';\n            } else if (tag === 0x8825) {\n                kind = 'gps';\n            }\n            this._nextIFD = value;\n            ifd[kind] = this.decodeIFD({\n                kind,\n                ignoreImageData: true\n            });\n            this.offset = currentOffset;\n        }\n\n        // go to the next entry\n        this.seek(offset);\n        this.skip(12);\n    }\n\n    decodeImageData(ifd) {\n        const orientation = ifd.orientation;\n        if (orientation && orientation !== 1) {\n            unsupported('orientation', orientation);\n        }\n        switch (ifd.type) {\n            case 1: // BlackIsZero\n            case 2: // RGB\n                this.readStripData(ifd);\n                break;\n            default:\n                unsupported('image type', ifd.type);\n                break;\n        }\n    }\n\n    readStripData(ifd) {\n        const width = ifd.width;\n        const height = ifd.height;\n\n        const bitDepth = validateBitDepth(ifd.bitsPerSample);\n        const sampleFormat = ifd.sampleFormat;\n        let size = width * height;\n        const data = getDataArray(size, 1, bitDepth, sampleFormat);\n\n        const compression = ifd.compression;\n        const rowsPerStrip = ifd.rowsPerStrip;\n        const maxPixels = rowsPerStrip * width;\n        const stripOffsets = ifd.stripOffsets;\n        const stripByteCounts = ifd.stripByteCounts;\n\n        var pixel = 0;\n        for (var i = 0; i < stripOffsets.length; i++) {\n            var stripData = this.getStripData(compression, stripOffsets[i], stripByteCounts[i]);\n            // Last strip can be smaller\n            var length = size > maxPixels ? maxPixels : size;\n            size -= length;\n            if (bitDepth === 8) {\n                pixel = fill8bit(data, stripData, pixel, length);\n            } else if (bitDepth === 16) {\n                pixel = fill16bit(data, stripData, pixel, length, this.isLittleEndian());\n            } else if (bitDepth === 32 && sampleFormat === 3) {\n                pixel = fillFloat32(data, stripData, pixel, length, this.isLittleEndian());\n            } else {\n                unsupported('bitDepth', bitDepth);\n            }\n        }\n\n        ifd.data = data;\n    }\n\n    getStripData(compression, offset, byteCounts) {\n        switch (compression) {\n            case 1: // No compression\n                return new DataView(this.buffer, offset, byteCounts);\n            case 2: // CCITT Group 3 1-Dimensional Modified Huffman run length encoding\n            case 32773: // PackBits compression\n                return unsupported('Compression', compression);\n            default:\n                throw new Error('invalid compression: ' + compression);\n        }\n    }\n}\n\nmodule.exports = TIFFDecoder;\n\nfunction getDataArray(size, channels, bitDepth, sampleFormat) {\n    if (bitDepth === 8) {\n        return new Uint8Array(size * channels);\n    } else if (bitDepth === 16) {\n        return new Uint16Array(size * channels);\n    } else if (bitDepth === 32 && sampleFormat === 3) {\n        return new Float32Array(size * channels);\n    } else {\n        return unsupported('bit depth / sample format', bitDepth + ' / ' + sampleFormat);\n    }\n}\n\nfunction fill8bit(dataTo, dataFrom, index, length) {\n    for (var i = 0; i < length; i++) {\n        dataTo[index++] = dataFrom.getUint8(i);\n    }\n    return index;\n}\n\nfunction fill16bit(dataTo, dataFrom, index, length, littleEndian) {\n    for (var i = 0; i < length * 2; i += 2) {\n        dataTo[index++] = dataFrom.getUint16(i, littleEndian);\n    }\n    return index;\n}\n\nfunction fillFloat32(dataTo, dataFrom, index, length, littleEndian) {\n    for (var i = 0; i < length * 4; i += 4) {\n        dataTo[index++] = dataFrom.getFloat32(i, littleEndian);\n    }\n    return index;\n}\n\nfunction unsupported(type, value) {\n    throw new Error('Unsupported ' + type + ': ' + value);\n}\n\nfunction validateBitDepth(bitDepth) {\n    if (bitDepth.length) {\n        const bitDepthArray = bitDepth;\n        bitDepth = bitDepthArray[0];\n        for (var i = 0; i < bitDepthArray.length; i++) {\n            if (bitDepthArray[i] !== bitDepth) {\n                unsupported('bit depth', bitDepthArray);\n            }\n        }\n    }\n    return bitDepth;\n}\n","'use strict';\n\nconst Ifd = require('./ifd');\n\nconst dateTimeRegex = /^(\\d{4}):(\\d{2}):(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})$/;\n\nclass TiffIfd extends Ifd {\n    constructor() {\n        super('standard');\n    }\n\n    // Custom fields\n    get size() {\n        return this.width * this.height;\n    }\n    get width() {\n        return this.imageWidth;\n    }\n    get height() {\n        return this.imageLength;\n    }\n    get components() {\n        return this.samplesPerPixel;\n    }\n    get date() {\n        var date = new Date();\n        var result = dateTimeRegex.exec(this.dateTime);\n        date.setFullYear(result[1], result[2] - 1, result[3]);\n        date.setHours(result[4], result[5], result[6]);\n        return date;\n    }\n\n    // IFD fields\n    get newSubfileType() {\n        return this.get(254);\n    }\n    get imageWidth() {\n        return this.get(256);\n    }\n    get imageLength() {\n        return this.get(257);\n    }\n    get bitsPerSample() {\n        return this.get(258);\n    }\n    get compression() {\n        return this.get(259) || 1;\n    }\n    get type() {\n        return this.get(262);\n    }\n    get fillOrder() {\n        return this.get(266) || 1;\n    }\n    get documentName() {\n        return this.get(269);\n    }\n    get imageDescription() {\n        return this.get(270);\n    }\n    get stripOffsets() {\n        return alwaysArray(this.get(273));\n    }\n    get orientation() {\n        return this.get(274);\n    }\n    get samplesPerPixel() {\n        return this.get(277);\n    }\n    get rowsPerStrip() {\n        return this.get(278);\n    }\n    get stripByteCounts() {\n        return alwaysArray(this.get(279));\n    }\n    get minSampleValue() {\n        return this.get(280) || 0;\n    }\n    get maxSampleValue() {\n        return this.get(281) || Math.pow(2, this.bitsPerSample) - 1;\n    }\n    get xResolution() {\n        return this.get(282);\n    }\n    get yResolution() {\n        return this.get(283);\n    }\n    get planarConfiguration() {\n        return this.get(284) || 1;\n    }\n    get resolutionUnit() {\n        return this.get(296) || 2;\n    }\n    get dateTime() {\n        return this.get(306);\n    }\n    get predictor() {\n        return this.get(317) || 1;\n    }\n    get sampleFormat() {\n        return this.get(339) || 1;\n    }\n    get sMinSampleValue() {\n        return this.get(340) || this.minSampleValue;\n    }\n    get sMaxSampleValue() {\n        return this.get(341) || this.maxSampleValue;\n    }\n}\n\nfunction alwaysArray(value) {\n    if (typeof value === 'number') return [value];\n    return value;\n}\n\nmodule.exports = TiffIfd;\n","'use strict';\n\nconst IOBuffer = require('iobuffer');\nconst tiff = require('tiff');\n\nfunction decode(data) {\n    const buffer = new IOBuffer(data);\n    const result = {};\n    buffer.setBigEndian();\n    const val = buffer.readUint16();\n    if (val !== 0xffd8) {\n        throw new Error('SOI marker not found. Not a valid JPEG file');\n    }\n    const next = buffer.readUint16();\n    if (next === 0xffe1) {\n        const length = buffer.readUint16();\n        const header = buffer.readBytes(6);\n        if (header[0] === 69 && // E\n            header[1] === 120 && // x\n            header[2] === 105 && // i\n            header[3] === 102 && // f\n            header[4] === 0 &&\n            header[5] === 0) {\n       //     buffer.skip(2);\n            const exif = tiff.decode(buffer, {\n                onlyFirst: true,\n                ignoreImageData: true,\n                offset: buffer.offset\n            });\n            result.exif = exif;\n        }\n    }\n    return result;\n}\n\nmodule.exports = decode;\n","'use strict';\n\nexports.decode = require('./decode');\n",";(function() { // closure for web browsers\n\nfunction Item (data, prev, next) {\n  this.next = next\n  if (next) next.prev = this\n  this.prev = prev\n  if (prev) prev.next = this\n  this.data = data\n}\n\nfunction FastList () {\n  if (!(this instanceof FastList)) return new FastList\n  this._head = null\n  this._tail = null\n  this.length = 0\n}\n\nFastList.prototype =\n{ push: function (data) {\n    this._tail = new Item(data, this._tail, null)\n    if (!this._head) this._head = this._tail\n    this.length ++\n  }\n\n, pop: function () {\n    if (this.length === 0) return undefined\n    var t = this._tail\n    this._tail = t.prev\n    if (t.prev) {\n      t.prev = this._tail.next = null\n    }\n    this.length --\n    if (this.length === 1) this._head = this._tail\n    else if (this.length === 0) this._head = this._tail = null\n    return t.data\n  }\n\n, unshift: function (data) {\n    this._head = new Item(data, null, this._head)\n    if (!this._tail) this._tail = this._head\n    this.length ++\n  }\n\n, shift: function () {\n    if (this.length === 0) return undefined\n    var h = this._head\n    this._head = h.next\n    if (h.next) {\n      h.next = this._head.prev = null\n    }\n    this.length --\n    if (this.length === 1) this._tail = this._head\n    else if (this.length === 0) this._head = this._tail = null\n    return h.data\n  }\n\n, item: function (n) {\n    if (n < 0) n = this.length + n\n    var h = this._head\n    while (n-- > 0 && h) h = h.next\n    return h ? h.data : undefined\n  }\n\n, slice: function (n, m) {\n    if (!n) n = 0\n    if (!m) m = this.length\n    if (m < 0) m = this.length + m\n    if (n < 0) n = this.length + n\n\n    if (m === n) {\n      return []\n    }\n\n    if (m < n) {\n      throw new Error(\"invalid offset: \"+n+\",\"+m+\" (length=\"+this.length+\")\")\n    }\n\n    var len = m - n\n      , ret = new Array(len)\n      , i = 0\n      , h = this._head\n    while (n-- > 0 && h) h = h.next\n    while (i < len && h) {\n      ret[i++] = h.data\n      h = h.next\n    }\n    return ret\n  }\n\n, drop: function () {\n    FastList.call(this)\n  }\n\n, forEach: function (fn, thisp) {\n    var p = this._head\n      , i = 0\n      , len = this.length\n    while (i < len && p) {\n      fn.call(thisp || this, p.data, i, this)\n      p = p.next\n      i ++\n    }\n  }\n\n, map: function (fn, thisp) {\n    var n = new FastList()\n    this.forEach(function (v, i, me) {\n      n.push(fn.call(thisp || me, v, i, me))\n    })\n    return n\n  }\n\n, filter: function (fn, thisp) {\n    var n = new FastList()\n    this.forEach(function (v, i, me) {\n      if (fn.call(thisp || me, v, i, me)) n.push(v)\n    })\n    return n\n  }\n\n, reduce: function (fn, val, thisp) {\n    var i = 0\n      , p = this._head\n      , len = this.length\n    if (!val) {\n      i = 1\n      val = p && p.data\n      p = p && p.next\n    }\n    while (i < len && p) {\n      val = fn.call(thisp || this, val, p.data, this)\n      i ++\n      p = p.next\n    }\n    return val\n  }\n}\n\nif (\"undefined\" !== typeof(exports)) module.exports = FastList\nelse if (\"function\" === typeof(define) && define.amd) {\n  define(\"FastList\", function() { return FastList })\n} else (function () { return this })().FastList = FastList\n\n})()\n","'use strict';\n\nfunction FFT(size) {\n  this.size = size | 0;\n  if (this.size <= 1 || (this.size & (this.size - 1)) !== 0)\n    throw new Error('FFT size must be a power of two and bigger than 1');\n\n  this._csize = size << 1;\n\n  // NOTE: Use of `var` is intentional for old V8 versions\n  var table = new Array(this.size * 2);\n  for (var i = 0; i < table.length; i += 2) {\n    const angle = Math.PI * i / this.size;\n    table[i] = Math.cos(angle);\n    table[i + 1] = -Math.sin(angle);\n  }\n  this.table = table;\n\n  // Find size's power of two\n  var power = 0;\n  for (var t = 1; this.size > t; t <<= 1)\n    power++;\n\n  // Calculate initial step's width:\n  //   * If we are full radix-4 - it is 2x smaller to give inital len=8\n  //   * Otherwise it is the same as `power` to give len=4\n  this._width = power % 2 === 0 ? power - 1 : power;\n\n  // Pre-compute bit-reversal patterns\n  this._bitrev = new Array(1 << this._width);\n  for (var j = 0; j < this._bitrev.length; j++) {\n    this._bitrev[j] = 0;\n    for (var shift = 0; shift < this._width; shift += 2) {\n      var revShift = this._width - shift - 2;\n      this._bitrev[j] |= ((j >>> shift) & 3) << revShift;\n    }\n  }\n\n  this._out = null;\n  this._data = null;\n  this._inv = 0;\n}\nmodule.exports = FFT;\n\nFFT.prototype.fromComplexArray = function fromComplexArray(complex, storage) {\n  var res = storage || new Array(complex.length >>> 1);\n  for (var i = 0; i < complex.length; i += 2)\n    res[i >>> 1] = complex[i];\n  return res;\n};\n\nFFT.prototype.createComplexArray = function createComplexArray() {\n  const res = new Array(this._csize);\n  for (var i = 0; i < res.length; i++)\n    res[i] = 0;\n  return res;\n};\n\nFFT.prototype.toComplexArray = function toComplexArray(input, storage) {\n  var res = storage || this.createComplexArray();\n  for (var i = 0; i < res.length; i += 2) {\n    res[i] = input[i >>> 1];\n    res[i + 1] = 0;\n  }\n  return res;\n};\n\nFFT.prototype.completeSpectrum = function completeSpectrum(spectrum) {\n  var size = this._csize;\n  var half = size >>> 1;\n  for (var i = 2; i < half; i += 2) {\n    spectrum[size - i] = spectrum[i];\n    spectrum[size - i + 1] = -spectrum[i + 1];\n  }\n};\n\nFFT.prototype.transform = function transform(out, data) {\n  if (out === data)\n    throw new Error('Input and output buffers must be different');\n\n  this._out = out;\n  this._data = data;\n  this._inv = 0;\n  this._transform4();\n  this._out = null;\n  this._data = null;\n};\n\nFFT.prototype.realTransform = function realTransform(out, data) {\n  if (out === data)\n    throw new Error('Input and output buffers must be different');\n\n  this._out = out;\n  this._data = data;\n  this._inv = 0;\n  this._realTransform4();\n  this._out = null;\n  this._data = null;\n};\n\nFFT.prototype.inverseTransform = function inverseTransform(out, data) {\n  if (out === data)\n    throw new Error('Input and output buffers must be different');\n\n  this._out = out;\n  this._data = data;\n  this._inv = 1;\n  this._transform4();\n  for (var i = 0; i < out.length; i++)\n    out[i] /= this.size;\n  this._out = null;\n  this._data = null;\n};\n\n// radix-4 implementation\n//\n// NOTE: Uses of `var` are intentional for older V8 version that do not\n// support both `let compound assignments` and `const phi`\nFFT.prototype._transform4 = function _transform4() {\n  var out = this._out;\n  var size = this._csize;\n\n  // Initial step (permute and transform)\n  var width = this._width;\n  var step = 1 << width;\n  var len = (size / step) << 1;\n\n  var outOff;\n  var t;\n  var bitrev = this._bitrev;\n  if (len === 4) {\n    for (outOff = 0, t = 0; outOff < size; outOff += len, t++) {\n      const off = bitrev[t];\n      this._singleTransform2(outOff, off, step);\n    }\n  } else {\n    // len === 8\n    for (outOff = 0, t = 0; outOff < size; outOff += len, t++) {\n      const off = bitrev[t];\n      this._singleTransform4(outOff, off, step);\n    }\n  }\n\n  // Loop through steps in decreasing order\n  var inv = this._inv ? -1 : 1;\n  var table = this.table;\n  for (step >>= 2; step >= 2; step >>= 2) {\n    len = (size / step) << 1;\n    var quarterLen = len >>> 2;\n\n    // Loop through offsets in the data\n    for (outOff = 0; outOff < size; outOff += len) {\n      // Full case\n      var limit = outOff + quarterLen;\n      for (var i = outOff, k = 0; i < limit; i += 2, k += step) {\n        const A = i;\n        const B = A + quarterLen;\n        const C = B + quarterLen;\n        const D = C + quarterLen;\n\n        // Original values\n        const Ar = out[A];\n        const Ai = out[A + 1];\n        const Br = out[B];\n        const Bi = out[B + 1];\n        const Cr = out[C];\n        const Ci = out[C + 1];\n        const Dr = out[D];\n        const Di = out[D + 1];\n\n        // Middle values\n        const MAr = Ar;\n        const MAi = Ai;\n\n        const tableBr = table[k];\n        const tableBi = inv * table[k + 1];\n        const MBr = Br * tableBr - Bi * tableBi;\n        const MBi = Br * tableBi + Bi * tableBr;\n\n        const tableCr = table[2 * k];\n        const tableCi = inv * table[2 * k + 1];\n        const MCr = Cr * tableCr - Ci * tableCi;\n        const MCi = Cr * tableCi + Ci * tableCr;\n\n        const tableDr = table[3 * k];\n        const tableDi = inv * table[3 * k + 1];\n        const MDr = Dr * tableDr - Di * tableDi;\n        const MDi = Dr * tableDi + Di * tableDr;\n\n        // Pre-Final values\n        const T0r = MAr + MCr;\n        const T0i = MAi + MCi;\n        const T1r = MAr - MCr;\n        const T1i = MAi - MCi;\n        const T2r = MBr + MDr;\n        const T2i = MBi + MDi;\n        const T3r = inv * (MBr - MDr);\n        const T3i = inv * (MBi - MDi);\n\n        // Final values\n        const FAr = T0r + T2r;\n        const FAi = T0i + T2i;\n\n        const FCr = T0r - T2r;\n        const FCi = T0i - T2i;\n\n        const FBr = T1r + T3i;\n        const FBi = T1i - T3r;\n\n        const FDr = T1r - T3i;\n        const FDi = T1i + T3r;\n\n        out[A] = FAr;\n        out[A + 1] = FAi;\n        out[B] = FBr;\n        out[B + 1] = FBi;\n        out[C] = FCr;\n        out[C + 1] = FCi;\n        out[D] = FDr;\n        out[D + 1] = FDi;\n      }\n    }\n  }\n};\n\n// radix-2 implementation\n//\n// NOTE: Only called for len=4\nFFT.prototype._singleTransform2 = function _singleTransform2(outOff, off,\n                                                             step) {\n  const out = this._out;\n  const data = this._data;\n\n  const evenR = data[off];\n  const evenI = data[off + 1];\n  const oddR = data[off + step];\n  const oddI = data[off + step + 1];\n\n  const leftR = evenR + oddR;\n  const leftI = evenI + oddI;\n  const rightR = evenR - oddR;\n  const rightI = evenI - oddI;\n\n  out[outOff] = leftR;\n  out[outOff + 1] = leftI;\n  out[outOff + 2] = rightR;\n  out[outOff + 3] = rightI;\n};\n\n// radix-4\n//\n// NOTE: Only called for len=8\nFFT.prototype._singleTransform4 = function _singleTransform4(outOff, off,\n                                                             step) {\n  const out = this._out;\n  const data = this._data;\n  const inv = this._inv ? -1 : 1;\n  const step2 = step * 2;\n  const step3 = step * 3;\n\n  // Original values\n  const Ar = data[off];\n  const Ai = data[off + 1];\n  const Br = data[off + step];\n  const Bi = data[off + step + 1];\n  const Cr = data[off + step2];\n  const Ci = data[off + step2 + 1];\n  const Dr = data[off + step3];\n  const Di = data[off + step3 + 1];\n\n  // Pre-Final values\n  const T0r = Ar + Cr;\n  const T0i = Ai + Ci;\n  const T1r = Ar - Cr;\n  const T1i = Ai - Ci;\n  const T2r = Br + Dr;\n  const T2i = Bi + Di;\n  const T3r = inv * (Br - Dr);\n  const T3i = inv * (Bi - Di);\n\n  // Final values\n  const FAr = T0r + T2r;\n  const FAi = T0i + T2i;\n\n  const FBr = T1r + T3i;\n  const FBi = T1i - T3r;\n\n  const FCr = T0r - T2r;\n  const FCi = T0i - T2i;\n\n  const FDr = T1r - T3i;\n  const FDi = T1i + T3r;\n\n  out[outOff] = FAr;\n  out[outOff + 1] = FAi;\n  out[outOff + 2] = FBr;\n  out[outOff + 3] = FBi;\n  out[outOff + 4] = FCr;\n  out[outOff + 5] = FCi;\n  out[outOff + 6] = FDr;\n  out[outOff + 7] = FDi;\n};\n\n// Real input radix-4 implementation\nFFT.prototype._realTransform4 = function _realTransform4() {\n  var out = this._out;\n  var size = this._csize;\n\n  // Initial step (permute and transform)\n  var width = this._width;\n  var step = 1 << width;\n  var len = (size / step) << 1;\n\n  var outOff;\n  var t;\n  var bitrev = this._bitrev;\n  if (len === 4) {\n    for (outOff = 0, t = 0; outOff < size; outOff += len, t++) {\n      const off = bitrev[t];\n      this._singleRealTransform2(outOff, off >>> 1, step >>> 1);\n    }\n  } else {\n    // len === 8\n    for (outOff = 0, t = 0; outOff < size; outOff += len, t++) {\n      const off = bitrev[t];\n      this._singleRealTransform4(outOff, off >>> 1, step >>> 1);\n    }\n  }\n\n  // Loop through steps in decreasing order\n  var inv = this._inv ? -1 : 1;\n  var table = this.table;\n  for (step >>= 2; step >= 2; step >>= 2) {\n    len = (size / step) << 1;\n    var halfLen = len >>> 1;\n    var quarterLen = halfLen >>> 1;\n    var hquarterLen = quarterLen >>> 1;\n\n    // Loop through offsets in the data\n    for (outOff = 0; outOff < size; outOff += len) {\n      for (var i = 0, k = 0; i <= hquarterLen; i += 2, k += step) {\n        var A = outOff + i;\n        var B = A + quarterLen;\n        var C = B + quarterLen;\n        var D = C + quarterLen;\n\n        // Original values\n        var Ar = out[A];\n        var Ai = out[A + 1];\n        var Br = out[B];\n        var Bi = out[B + 1];\n        var Cr = out[C];\n        var Ci = out[C + 1];\n        var Dr = out[D];\n        var Di = out[D + 1];\n\n        // Middle values\n        var MAr = Ar;\n        var MAi = Ai;\n\n        var tableBr = table[k];\n        var tableBi = inv * table[k + 1];\n        var MBr = Br * tableBr - Bi * tableBi;\n        var MBi = Br * tableBi + Bi * tableBr;\n\n        var tableCr = table[2 * k];\n        var tableCi = inv * table[2 * k + 1];\n        var MCr = Cr * tableCr - Ci * tableCi;\n        var MCi = Cr * tableCi + Ci * tableCr;\n\n        var tableDr = table[3 * k];\n        var tableDi = inv * table[3 * k + 1];\n        var MDr = Dr * tableDr - Di * tableDi;\n        var MDi = Dr * tableDi + Di * tableDr;\n\n        // Pre-Final values\n        var T0r = MAr + MCr;\n        var T0i = MAi + MCi;\n        var T1r = MAr - MCr;\n        var T1i = MAi - MCi;\n        var T2r = MBr + MDr;\n        var T2i = MBi + MDi;\n        var T3r = inv * (MBr - MDr);\n        var T3i = inv * (MBi - MDi);\n\n        // Final values\n        var FAr = T0r + T2r;\n        var FAi = T0i + T2i;\n\n        var FBr = T1r + T3i;\n        var FBi = T1i - T3r;\n\n        out[A] = FAr;\n        out[A + 1] = FAi;\n        out[B] = FBr;\n        out[B + 1] = FBi;\n\n        // Output final middle point\n        if (i === 0) {\n          var FCr = T0r - T2r;\n          var FCi = T0i - T2i;\n          out[C] = FCr;\n          out[C + 1] = FCi;\n          continue;\n        }\n\n        // Do not overwrite ourselves\n        if (i === hquarterLen)\n          continue;\n\n        // In the flipped case:\n        // MAi = -MAi\n        // MBr=-MBi, MBi=-MBr\n        // MCr=-MCr\n        // MDr=MDi, MDi=MDr\n        var ST0r = T1r;\n        var ST0i = -T1i;\n        var ST1r = T0r;\n        var ST1i = -T0i;\n        var ST2r = -inv * T3i;\n        var ST2i = -inv * T3r;\n        var ST3r = -inv * T2i;\n        var ST3i = -inv * T2r;\n\n        var SFAr = ST0r + ST2r;\n        var SFAi = ST0i + ST2i;\n\n        var SFBr = ST1r + ST3i;\n        var SFBi = ST1i - ST3r;\n\n        var SA = outOff + quarterLen - i;\n        var SB = outOff + halfLen - i;\n\n        out[SA] = SFAr;\n        out[SA + 1] = SFAi;\n        out[SB] = SFBr;\n        out[SB + 1] = SFBi;\n      }\n    }\n  }\n};\n\n// radix-2 implementation\n//\n// NOTE: Only called for len=4\nFFT.prototype._singleRealTransform2 = function _singleRealTransform2(outOff,\n                                                                     off,\n                                                                     step) {\n  const out = this._out;\n  const data = this._data;\n\n  const evenR = data[off];\n  const oddR = data[off + step];\n\n  const leftR = evenR + oddR;\n  const rightR = evenR - oddR;\n\n  out[outOff] = leftR;\n  out[outOff + 1] = 0;\n  out[outOff + 2] = rightR;\n  out[outOff + 3] = 0;\n};\n\n// radix-4\n//\n// NOTE: Only called for len=8\nFFT.prototype._singleRealTransform4 = function _singleRealTransform4(outOff,\n                                                                     off,\n                                                                     step) {\n  const out = this._out;\n  const data = this._data;\n  const inv = this._inv ? -1 : 1;\n  const step2 = step * 2;\n  const step3 = step * 3;\n\n  // Original values\n  const Ar = data[off];\n  const Br = data[off + step];\n  const Cr = data[off + step2];\n  const Dr = data[off + step3];\n\n  // Pre-Final values\n  const T0r = Ar + Cr;\n  const T1r = Ar - Cr;\n  const T2r = Br + Dr;\n  const T3r = inv * (Br - Dr);\n\n  // Final values\n  const FAr = T0r + T2r;\n\n  const FBr = T1r;\n  const FBi = -T3r;\n\n  const FCr = T0r - T2r;\n\n  const FDr = T1r;\n  const FDi = T3r;\n\n  out[outOff] = FAr;\n  out[outOff + 1] = 0;\n  out[outOff + 2] = FBr;\n  out[outOff + 3] = FBi;\n  out[outOff + 4] = FCr;\n  out[outOff + 5] = 0;\n  out[outOff + 6] = FDr;\n  out[outOff + 7] = FDi;\n};\n","'use strict';\nconst toBytes = s => [...s].map(c => c.charCodeAt(0));\nconst xpiZipFilename = toBytes('META-INF/mozilla.rsa');\nconst oxmlContentTypes = toBytes('[Content_Types].xml');\nconst oxmlRels = toBytes('_rels/.rels');\n\nfunction readUInt64LE(buf, offset = 0) {\n\tlet n = buf[offset];\n\tlet mul = 1;\n\tlet i = 0;\n\twhile (++i < 8) {\n\t\tmul *= 0x100;\n\t\tn += buf[offset + i] * mul;\n\t}\n\n\treturn n;\n}\n\nconst fileType = input => {\n\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer || Buffer.isBuffer(input))) {\n\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`Buffer\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t}\n\n\tconst buf = input instanceof Uint8Array ? input : new Uint8Array(input);\n\n\tif (!(buf && buf.length > 1)) {\n\t\treturn null;\n\t}\n\n\tconst check = (header, options) => {\n\t\toptions = Object.assign({\n\t\t\toffset: 0\n\t\t}, options);\n\n\t\tfor (let i = 0; i < header.length; i++) {\n\t\t\t// If a bitmask is set\n\t\t\tif (options.mask) {\n\t\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\t\tif (header[i] !== (options.mask[i] & buf[i + options.offset])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (header[i] !== buf[i + options.offset]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tconst checkString = (header, options) => check(toBytes(header), options);\n\n\tif (check([0xFF, 0xD8, 0xFF])) {\n\t\treturn {\n\t\t\text: 'jpg',\n\t\t\tmime: 'image/jpeg'\n\t\t};\n\t}\n\n\tif (check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'png',\n\t\t\tmime: 'image/png'\n\t\t};\n\t}\n\n\tif (check([0x47, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'gif',\n\t\t\tmime: 'image/gif'\n\t\t};\n\t}\n\n\tif (check([0x57, 0x45, 0x42, 0x50], {offset: 8})) {\n\t\treturn {\n\t\t\text: 'webp',\n\t\t\tmime: 'image/webp'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'flif',\n\t\t\tmime: 'image/flif'\n\t\t};\n\t}\n\n\t// Needs to be before `tif` check\n\tif (\n\t\t(check([0x49, 0x49, 0x2A, 0x0]) || check([0x4D, 0x4D, 0x0, 0x2A])) &&\n\t\tcheck([0x43, 0x52], {offset: 8})\n\t) {\n\t\treturn {\n\t\t\text: 'cr2',\n\t\t\tmime: 'image/x-canon-cr2'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x49, 0x49, 0x2A, 0x0]) ||\n\t\tcheck([0x4D, 0x4D, 0x0, 0x2A])\n\t) {\n\t\treturn {\n\t\t\text: 'tif',\n\t\t\tmime: 'image/tiff'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4D])) {\n\t\treturn {\n\t\t\text: 'bmp',\n\t\t\tmime: 'image/bmp'\n\t\t};\n\t}\n\n\tif (check([0x49, 0x49, 0xBC])) {\n\t\treturn {\n\t\t\text: 'jxr',\n\t\t\tmime: 'image/vnd.ms-photo'\n\t\t};\n\t}\n\n\tif (check([0x38, 0x42, 0x50, 0x53])) {\n\t\treturn {\n\t\t\text: 'psd',\n\t\t\tmime: 'image/vnd.adobe.photoshop'\n\t\t};\n\t}\n\n\t// Zip-based file formats\n\t// Need to be before the `zip` check\n\tif (check([0x50, 0x4B, 0x3, 0x4])) {\n\t\tif (\n\t\t\tcheck([0x6D, 0x69, 0x6D, 0x65, 0x74, 0x79, 0x70, 0x65, 0x61, 0x70, 0x70, 0x6C, 0x69, 0x63, 0x61, 0x74, 0x69, 0x6F, 0x6E, 0x2F, 0x65, 0x70, 0x75, 0x62, 0x2B, 0x7A, 0x69, 0x70], {offset: 30})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'epub',\n\t\t\t\tmime: 'application/epub+zip'\n\t\t\t};\n\t\t}\n\n\t\t// Assumes signed `.xpi` from addons.mozilla.org\n\t\tif (check(xpiZipFilename, {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'xpi',\n\t\t\t\tmime: 'application/x-xpinstall'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.text', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'odt',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.text'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.spreadsheet', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'ods',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.spreadsheet'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.presentation', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'odp',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.presentation'\n\t\t\t};\n\t\t}\n\n\t\t// The docx, xlsx and pptx file types extend the Office Open XML file format:\n\t\t// https://en.wikipedia.org/wiki/Office_Open_XML_file_formats\n\t\t// We look for:\n\t\t// - one entry named '[Content_Types].xml' or '_rels/.rels',\n\t\t// - one entry indicating specific type of file.\n\t\t// MS Office, OpenOffice and LibreOffice may put the parts in different order, so the check should not rely on it.\n\t\tconst findNextZipHeaderIndex = (arr, startAt = 0) => arr.findIndex((el, i, arr) => i >= startAt && arr[i] === 0x50 && arr[i + 1] === 0x4B && arr[i + 2] === 0x3 && arr[i + 3] === 0x4);\n\n\t\tlet zipHeaderIndex = 0; // The first zip header was already found at index 0\n\t\tlet oxmlFound = false;\n\t\tlet type = null;\n\n\t\tdo {\n\t\t\tconst offset = zipHeaderIndex + 30;\n\n\t\t\tif (!oxmlFound) {\n\t\t\t\toxmlFound = (check(oxmlContentTypes, {offset}) || check(oxmlRels, {offset}));\n\t\t\t}\n\n\t\t\tif (!type) {\n\t\t\t\tif (checkString('word/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'docx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t\t\t\t};\n\t\t\t\t} else if (checkString('ppt/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'pptx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n\t\t\t\t\t};\n\t\t\t\t} else if (checkString('xl/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (oxmlFound && type) {\n\t\t\t\treturn type;\n\t\t\t}\n\n\t\t\tzipHeaderIndex = findNextZipHeaderIndex(buf, offset);\n\t\t} while (zipHeaderIndex >= 0);\n\n\t\t// No more zip parts available in the buffer, but maybe we are almost certain about the type?\n\t\tif (type) {\n\t\t\treturn type;\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0x50, 0x4B]) &&\n\t\t(buf[2] === 0x3 || buf[2] === 0x5 || buf[2] === 0x7) &&\n\t\t(buf[3] === 0x4 || buf[3] === 0x6 || buf[3] === 0x8)\n\t) {\n\t\treturn {\n\t\t\text: 'zip',\n\t\t\tmime: 'application/zip'\n\t\t};\n\t}\n\n\tif (check([0x75, 0x73, 0x74, 0x61, 0x72], {offset: 257})) {\n\t\treturn {\n\t\t\text: 'tar',\n\t\t\tmime: 'application/x-tar'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7]) &&\n\t\t(buf[6] === 0x0 || buf[6] === 0x1)\n\t) {\n\t\treturn {\n\t\t\text: 'rar',\n\t\t\tmime: 'application/x-rar-compressed'\n\t\t};\n\t}\n\n\tif (check([0x1F, 0x8B, 0x8])) {\n\t\treturn {\n\t\t\text: 'gz',\n\t\t\tmime: 'application/gzip'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x5A, 0x68])) {\n\t\treturn {\n\t\t\text: 'bz2',\n\t\t\tmime: 'application/x-bzip2'\n\t\t};\n\t}\n\n\tif (check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\treturn {\n\t\t\text: '7z',\n\t\t\tmime: 'application/x-7z-compressed'\n\t\t};\n\t}\n\n\tif (check([0x78, 0x01])) {\n\t\treturn {\n\t\t\text: 'dmg',\n\t\t\tmime: 'application/x-apple-diskimage'\n\t\t};\n\t}\n\n\tif (check([0x33, 0x67, 0x70, 0x35]) || // 3gp5\n\t\t(\n\t\t\tcheck([0x0, 0x0, 0x0]) && check([0x66, 0x74, 0x79, 0x70], {offset: 4}) &&\n\t\t\t\t(\n\t\t\t\t\tcheck([0x6D, 0x70, 0x34, 0x31], {offset: 8}) || // MP41\n\t\t\t\t\tcheck([0x6D, 0x70, 0x34, 0x32], {offset: 8}) || // MP42\n\t\t\t\t\tcheck([0x69, 0x73, 0x6F, 0x6D], {offset: 8}) || // ISOM\n\t\t\t\t\tcheck([0x69, 0x73, 0x6F, 0x32], {offset: 8}) || // ISO2\n\t\t\t\t\tcheck([0x6D, 0x6D, 0x70, 0x34], {offset: 8}) || // MMP4\n\t\t\t\t\tcheck([0x4D, 0x34, 0x56], {offset: 8}) || // M4V\n\t\t\t\t\tcheck([0x64, 0x61, 0x73, 0x68], {offset: 8}) // DASH\n\t\t\t\t)\n\t\t)) {\n\t\treturn {\n\t\t\text: 'mp4',\n\t\t\tmime: 'video/mp4'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x54, 0x68, 0x64])) {\n\t\treturn {\n\t\t\text: 'mid',\n\t\t\tmime: 'audio/midi'\n\t\t};\n\t}\n\n\t// https://github.com/threatstack/libmagic/blob/master/magic/Magdir/matroska\n\tif (check([0x1A, 0x45, 0xDF, 0xA3])) {\n\t\tconst sliced = buf.subarray(4, 4 + 4096);\n\t\tconst idPos = sliced.findIndex((el, i, arr) => arr[i] === 0x42 && arr[i + 1] === 0x82);\n\n\t\tif (idPos !== -1) {\n\t\t\tconst docTypePos = idPos + 3;\n\t\t\tconst findDocType = type => [...type].every((c, i) => sliced[docTypePos + i] === c.charCodeAt(0));\n\n\t\t\tif (findDocType('matroska')) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mkv',\n\t\t\t\t\tmime: 'video/x-matroska'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (findDocType('webm')) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'webm',\n\t\t\t\t\tmime: 'video/webm'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tif (check([0x0, 0x0, 0x0, 0x14, 0x66, 0x74, 0x79, 0x70, 0x71, 0x74, 0x20, 0x20]) ||\n\t\tcheck([0x66, 0x72, 0x65, 0x65], {offset: 4}) || // Type: `free`\n\t\tcheck([0x66, 0x74, 0x79, 0x70, 0x71, 0x74, 0x20, 0x20], {offset: 4}) ||\n\t\tcheck([0x6D, 0x64, 0x61, 0x74], {offset: 4}) || // MJPEG\n\t\tcheck([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) || // Type: `moov`\n\t\tcheck([0x77, 0x69, 0x64, 0x65], {offset: 4})) {\n\t\treturn {\n\t\t\text: 'mov',\n\t\t\tmime: 'video/quicktime'\n\t\t};\n\t}\n\n\t// RIFF file format which might be AVI, WAV, QCP, etc\n\tif (check([0x52, 0x49, 0x46, 0x46])) {\n\t\tif (check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'avi',\n\t\t\t\tmime: 'video/vnd.avi'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'wav',\n\t\t\t\tmime: 'audio/vnd.wave'\n\t\t\t};\n\t\t}\n\n\t\t// QLCM, QCP file\n\t\tif (check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'qcp',\n\t\t\t\tmime: 'audio/qcelp'\n\t\t\t};\n\t\t}\n\t}\n\n\t// ASF_Header_Object first 80 bytes\n\tif (check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\t// Search for header should be in first 1KB of file.\n\n\t\tlet offset = 30;\n\t\tdo {\n\t\t\tconst objectSize = readUInt64LE(buf, offset + 16);\n\t\t\tif (check([0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65], {offset})) {\n\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\tif (check([0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B], {offset: offset + 24})) {\n\t\t\t\t\t// Found audio:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'wma',\n\t\t\t\t\t\tmime: 'audio/x-ms-wma'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (check([0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B], {offset: offset + 24})) {\n\t\t\t\t\t// Found video:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'wmv',\n\t\t\t\t\t\tmime: 'video/x-ms-asf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\toffset += objectSize;\n\t\t} while (offset + 24 <= buf.length);\n\n\t\t// Default to ASF generic extension\n\t\treturn {\n\t\t\text: 'asf',\n\t\t\tmime: 'application/vnd.ms-asf'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x0, 0x0, 0x1, 0xBA]) ||\n\t\tcheck([0x0, 0x0, 0x1, 0xB3])\n\t) {\n\t\treturn {\n\t\t\text: 'mpg',\n\t\t\tmime: 'video/mpeg'\n\t\t};\n\t}\n\n\tif (check([0x66, 0x74, 0x79, 0x70, 0x33, 0x67], {offset: 4})) {\n\t\treturn {\n\t\t\text: '3gp',\n\t\t\tmime: 'video/3gpp'\n\t\t};\n\t}\n\n\t// Check for MPEG header at different starting offsets\n\tfor (let start = 0; start < 2 && start < (buf.length - 16); start++) {\n\t\tif (\n\t\t\tcheck([0x49, 0x44, 0x33], {offset: start}) || // ID3 header\n\t\t\tcheck([0xFF, 0xE2], {offset: start, mask: [0xFF, 0xE2]}) // MPEG 1 or 2 Layer 3 header\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp3',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xE4], {offset: start, mask: [0xFF, 0xE4]}) // MPEG 1 or 2 Layer 2 header\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xF8], {offset: start, mask: [0xFF, 0xFC]}) // MPEG 2 layer 0 using ADTS\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xF0], {offset: start, mask: [0xFF, 0xFC]}) // MPEG 4 layer 0 using ADTS\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp4',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0x66, 0x74, 0x79, 0x70, 0x4D, 0x34, 0x41], {offset: 4})\n\t) {\n\t\treturn { // MPEG-4 layer 3 (audio)\n\t\t\text: 'm4a',\n\t\t\tmime: 'audio/mp4' // RFC 4337\n\t\t};\n\t}\n\n\t// Needs to be before `ogg` check\n\tif (check([0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64], {offset: 28})) {\n\t\treturn {\n\t\t\text: 'opus',\n\t\t\tmime: 'audio/opus'\n\t\t};\n\t}\n\n\t// If 'OggS' in first  bytes, then OGG container\n\tif (check([0x4F, 0x67, 0x67, 0x53])) {\n\t\t// This is a OGG container\n\n\t\t// If ' theora' in header.\n\t\tif (check([0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogv',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01video' in header.\n\t\tif (check([0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogm',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\tif (check([0x7F, 0x46, 0x4C, 0x41, 0x43], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'oga',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\tif (check([0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'spx',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01vorbis' in header\n\t\tif (check([0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogg',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\treturn {\n\t\t\text: 'ogx',\n\t\t\tmime: 'application/ogg'\n\t\t};\n\t}\n\n\tif (check([0x66, 0x4C, 0x61, 0x43])) {\n\t\treturn {\n\t\t\text: 'flac',\n\t\t\tmime: 'audio/x-flac'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x41, 0x43, 0x20])) { // 'MAC '\n\t\treturn {\n\t\t\text: 'ape',\n\t\t\tmime: 'audio/ape'\n\t\t};\n\t}\n\n\tif (check([0x77, 0x76, 0x70, 0x6B])) { // 'wvpk'\n\t\treturn {\n\t\t\text: 'wv',\n\t\t\tmime: 'audio/wavpack'\n\t\t};\n\t}\n\n\tif (check([0x23, 0x21, 0x41, 0x4D, 0x52, 0x0A])) {\n\t\treturn {\n\t\t\text: 'amr',\n\t\t\tmime: 'audio/amr'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x50, 0x44, 0x46])) {\n\t\treturn {\n\t\t\text: 'pdf',\n\t\t\tmime: 'application/pdf'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x5A])) {\n\t\treturn {\n\t\t\text: 'exe',\n\t\t\tmime: 'application/x-msdownload'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[0] === 0x43 || buf[0] === 0x46) &&\n\t\tcheck([0x57, 0x53], {offset: 1})\n\t) {\n\t\treturn {\n\t\t\text: 'swf',\n\t\t\tmime: 'application/x-shockwave-flash'\n\t\t};\n\t}\n\n\tif (check([0x7B, 0x5C, 0x72, 0x74, 0x66])) {\n\t\treturn {\n\t\t\text: 'rtf',\n\t\t\tmime: 'application/rtf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x61, 0x73, 0x6D])) {\n\t\treturn {\n\t\t\text: 'wasm',\n\t\t\tmime: 'application/wasm'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x77, 0x4F, 0x46, 0x46]) &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheck([0x4F, 0x54, 0x54, 0x4F], {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff',\n\t\t\tmime: 'font/woff'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x77, 0x4F, 0x46, 0x32]) &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheck([0x4F, 0x54, 0x54, 0x4F], {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff2',\n\t\t\tmime: 'font/woff2'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4C, 0x50], {offset: 34}) &&\n\t\t(\n\t\t\tcheck([0x00, 0x00, 0x01], {offset: 8}) ||\n\t\t\tcheck([0x01, 0x00, 0x02], {offset: 8}) ||\n\t\t\tcheck([0x02, 0x00, 0x02], {offset: 8})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'eot',\n\t\t\tmime: 'application/vnd.ms-fontobject'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'ttf',\n\t\t\tmime: 'font/ttf'\n\t\t};\n\t}\n\n\tif (check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\treturn {\n\t\t\text: 'otf',\n\t\t\tmime: 'font/otf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x01, 0x00])) {\n\t\treturn {\n\t\t\text: 'ico',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x02, 0x00])) {\n\t\treturn {\n\t\t\text: 'cur',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x56, 0x01])) {\n\t\treturn {\n\t\t\text: 'flv',\n\t\t\tmime: 'video/x-flv'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x21])) {\n\t\treturn {\n\t\t\text: 'ps',\n\t\t\tmime: 'application/postscript'\n\t\t};\n\t}\n\n\tif (check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\treturn {\n\t\t\text: 'xz',\n\t\t\tmime: 'application/x-xz'\n\t\t};\n\t}\n\n\tif (check([0x53, 0x51, 0x4C, 0x69])) {\n\t\treturn {\n\t\t\text: 'sqlite',\n\t\t\tmime: 'application/x-sqlite3'\n\t\t};\n\t}\n\n\tif (check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\treturn {\n\t\t\text: 'nes',\n\t\t\tmime: 'application/x-nintendo-nes-rom'\n\t\t};\n\t}\n\n\tif (check([0x43, 0x72, 0x32, 0x34])) {\n\t\treturn {\n\t\t\text: 'crx',\n\t\t\tmime: 'application/x-google-chrome-extension'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4D, 0x53, 0x43, 0x46]) ||\n\t\tcheck([0x49, 0x53, 0x63, 0x28])\n\t) {\n\t\treturn {\n\t\t\text: 'cab',\n\t\t\tmime: 'application/vnd.ms-cab-compressed'\n\t\t};\n\t}\n\n\t// Needs to be before `ar` check\n\tif (check([0x21, 0x3C, 0x61, 0x72, 0x63, 0x68, 0x3E, 0x0A, 0x64, 0x65, 0x62, 0x69, 0x61, 0x6E, 0x2D, 0x62, 0x69, 0x6E, 0x61, 0x72, 0x79])) {\n\t\treturn {\n\t\t\text: 'deb',\n\t\t\tmime: 'application/x-deb'\n\t\t};\n\t}\n\n\tif (check([0x21, 0x3C, 0x61, 0x72, 0x63, 0x68, 0x3E])) {\n\t\treturn {\n\t\t\text: 'ar',\n\t\t\tmime: 'application/x-unix-archive'\n\t\t};\n\t}\n\n\tif (check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\treturn {\n\t\t\text: 'rpm',\n\t\t\tmime: 'application/x-rpm'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x1F, 0xA0]) ||\n\t\tcheck([0x1F, 0x9D])\n\t) {\n\t\treturn {\n\t\t\text: 'Z',\n\t\t\tmime: 'application/x-compress'\n\t\t};\n\t}\n\n\tif (check([0x4C, 0x5A, 0x49, 0x50])) {\n\t\treturn {\n\t\t\text: 'lz',\n\t\t\tmime: 'application/x-lzip'\n\t\t};\n\t}\n\n\tif (check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\treturn {\n\t\t\text: 'msi',\n\t\t\tmime: 'application/x-msi'\n\t\t};\n\t}\n\n\tif (check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\treturn {\n\t\t\text: 'mxf',\n\t\t\tmime: 'application/mxf'\n\t\t};\n\t}\n\n\tif (check([0x47], {offset: 4}) && (check([0x47], {offset: 192}) || check([0x47], {offset: 196}))) {\n\t\treturn {\n\t\t\text: 'mts',\n\t\t\tmime: 'video/mp2t'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4C, 0x45, 0x4E, 0x44, 0x45, 0x52])) {\n\t\treturn {\n\t\t\text: 'blend',\n\t\t\tmime: 'application/x-blender'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x50, 0x47, 0xFB])) {\n\t\treturn {\n\t\t\text: 'bpg',\n\t\t\tmime: 'image/bpg'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t// JPEG-2000 family\n\n\t\tif (check([0x6A, 0x70, 0x32, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jp2',\n\t\t\t\tmime: 'image/jp2'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6A, 0x70, 0x78, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jpx',\n\t\t\t\tmime: 'image/jpx'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6A, 0x70, 0x6D, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jpm',\n\t\t\t\tmime: 'image/jpm'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6D, 0x6A, 0x70, 0x32], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'mj2',\n\t\t\t\tmime: 'image/mj2'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (check([0x46, 0x4F, 0x52, 0x4D])) {\n\t\treturn {\n\t\t\text: 'aif',\n\t\t\tmime: 'audio/aiff'\n\t\t};\n\t}\n\n\tif (checkString('<?xml ')) {\n\t\treturn {\n\t\t\text: 'xml',\n\t\t\tmime: 'application/xml'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\treturn {\n\t\t\text: 'mobi',\n\t\t\tmime: 'application/x-mobipocket-ebook'\n\t\t};\n\t}\n\n\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\tif (check([0x66, 0x74, 0x79, 0x70], {offset: 4})) {\n\t\tif (check([0x6D, 0x69, 0x66, 0x31], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heif'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6D, 0x73, 0x66, 0x31], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heif-sequence'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x68, 0x65, 0x69, 0x63], {offset: 8}) || check([0x68, 0x65, 0x69, 0x78], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heic'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x68, 0x65, 0x76, 0x63], {offset: 8}) || check([0x68, 0x65, 0x76, 0x78], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heic-sequence'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'ktx',\n\t\t\tmime: 'image/ktx'\n\t\t};\n\t}\n\n\tif (check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\treturn {\n\t\t\text: 'dcm',\n\t\t\tmime: 'application/dicom'\n\t\t};\n\t}\n\n\t// Musepack, SV7\n\tif (check([0x4D, 0x50, 0x2B])) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\t// Musepack, SV8\n\tif (check([0x4D, 0x50, 0x43, 0x4B])) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x45, 0x47, 0x49, 0x4E, 0x3A])) {\n\t\treturn {\n\t\t\text: 'ics',\n\t\t\tmime: 'text/calendar'\n\t\t};\n\t}\n\n\tif (check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'glb',\n\t\t\tmime: 'model/gltf-binary'\n\t\t};\n\t}\n\n\tif (check([0xD4, 0xC3, 0xB2, 0xA1]) || check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\treturn {\n\t\t\text: 'pcap',\n\t\t\tmime: 'application/vnd.tcpdump.pcap'\n\t\t};\n\t}\n\n\treturn null;\n};\n\nmodule.exports = fileType;\n// TODO: Remove this for the next major release\nmodule.exports.default = fileType;\n\nObject.defineProperty(fileType, 'minimumBytes', {value: 4100});\n\nmodule.exports.stream = readableStream => new Promise((resolve, reject) => {\n\t// Using `eval` to work around issues when bundling with Webpack\n\tconst stream = eval('require')('stream'); // eslint-disable-line no-eval\n\n\treadableStream.once('readable', () => {\n\t\tconst pass = new stream.PassThrough();\n\t\tconst chunk = readableStream.read(module.exports.minimumBytes) || readableStream.read();\n\t\ttry {\n\t\t\tpass.fileType = fileType(chunk);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\n\t\treadableStream.unshift(chunk);\n\n\t\tif (stream.pipeline) {\n\t\t\tresolve(stream.pipeline(readableStream, pass, () => {}));\n\t\t} else {\n\t\t\tresolve(readableStream.pipe(pass));\n\t\t}\n\t});\n});\n","\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = exports = function hasOwn(prop, obj) {\n  return hasOwnProperty.call(obj, prop);\n}\n\nexports.version = require('./package.json').version;\n","'use strict';\nconst fileType = require('file-type');\n\nconst imageExts = new Set([\n\t'jpg',\n\t'png',\n\t'gif',\n\t'webp',\n\t'flif',\n\t'cr2',\n\t'tif',\n\t'bmp',\n\t'jxr',\n\t'psd',\n\t'ico',\n\t'bpg',\n\t'jp2',\n\t'jpm',\n\t'jpx',\n\t'heic',\n\t'cur',\n\t'dcm'\n]);\n\nconst imageType = input => {\n\tconst ret = fileType(input);\n\treturn imageExts.has(ret && ret.ext) ? ret : null;\n};\n\nmodule.exports = imageType;\n// TODO: Remove this for the next major release\nmodule.exports.default = imageType;\n\nObject.defineProperty(imageType, 'minimumBytes', {value: fileType.minimumBytes});\n","// eslint-disable-next-line import/no-unassigned-import\nimport './text-encoding-polyfill';\n\nexport function decode(bytes: Uint8Array, encoding = 'utf8'): string {\n  const decoder = new TextDecoder(encoding);\n  return decoder.decode(bytes);\n}\n\nconst encoder = new TextEncoder();\n\nexport function encode(str: string): Uint8Array {\n  return encoder.encode(str);\n}\n","import { decode, encode } from './text';\n\nconst defaultByteLength = 1024 * 8;\n\nconst hostBigEndian = (() => {\n  const array = new Uint8Array(4);\n  const view = new Uint32Array(array.buffer);\n  return !((view[0] = 1) & array[0]);\n})();\n\ntype InputData = number | ArrayBufferLike | ArrayBufferView | IOBuffer | Buffer;\n\nconst typedArrays = {\n  int8: globalThis.Int8Array,\n  uint8: globalThis.Uint8Array,\n  int16: globalThis.Int16Array,\n  uint16: globalThis.Uint16Array,\n  int32: globalThis.Int32Array,\n  uint32: globalThis.Uint32Array,\n  uint64: globalThis.BigUint64Array,\n  int64: globalThis.BigInt64Array,\n  float32: globalThis.Float32Array,\n  float64: globalThis.Float64Array,\n};\n\ntype TypedArrays = typeof typedArrays;\n\ninterface IOBufferOptions {\n  /**\n   * Ignore the first n bytes of the ArrayBuffer.\n   */\n  offset?: number;\n}\n\nexport class IOBuffer {\n  /**\n   * Reference to the internal ArrayBuffer object.\n   */\n  public buffer: ArrayBufferLike;\n\n  /**\n   * Byte length of the internal ArrayBuffer.\n   */\n  public byteLength: number;\n\n  /**\n   * Byte offset of the internal ArrayBuffer.\n   */\n  public byteOffset: number;\n\n  /**\n   * Byte length of the internal ArrayBuffer.\n   */\n  public length: number;\n\n  /**\n   * The current offset of the buffer's pointer.\n   */\n  public offset: number;\n\n  private lastWrittenByte: number;\n  private littleEndian: boolean;\n\n  private _data: DataView;\n  private _mark: number;\n  private _marks: number[];\n\n  /**\n   * @param data - The data to construct the IOBuffer with.\n   * If data is a number, it will be the new buffer's length<br>\n   * If data is `undefined`, the buffer will be initialized with a default length of 8Kb<br>\n   * If data is an ArrayBuffer, SharedArrayBuffer, an ArrayBufferView (Typed Array), an IOBuffer instance,\n   * or a Node.js Buffer, a view will be created over the underlying ArrayBuffer.\n   * @param options\n   */\n  public constructor(\n    data: InputData = defaultByteLength,\n    options: IOBufferOptions = {},\n  ) {\n    let dataIsGiven = false;\n    if (typeof data === 'number') {\n      data = new ArrayBuffer(data);\n    } else {\n      dataIsGiven = true;\n      this.lastWrittenByte = data.byteLength;\n    }\n    const offset = options.offset ? options.offset >>> 0 : 0;\n    const byteLength = data.byteLength - offset;\n    let dvOffset = offset;\n    if (ArrayBuffer.isView(data) || data instanceof IOBuffer) {\n      if (data.byteLength !== data.buffer.byteLength) {\n        dvOffset = data.byteOffset + offset;\n      }\n      data = data.buffer;\n    }\n    if (dataIsGiven) {\n      this.lastWrittenByte = byteLength;\n    } else {\n      this.lastWrittenByte = 0;\n    }\n    this.buffer = data;\n    this.length = byteLength;\n    this.byteLength = byteLength;\n    this.byteOffset = dvOffset;\n    this.offset = 0;\n    this.littleEndian = true;\n    this._data = new DataView(this.buffer, dvOffset, byteLength);\n    this._mark = 0;\n    this._marks = [];\n  }\n\n  /**\n   * Checks if the memory allocated to the buffer is sufficient to store more\n   * bytes after the offset.\n   * @param byteLength - The needed memory in bytes.\n   * @returns `true` if there is sufficient space and `false` otherwise.\n   */\n  public available(byteLength = 1): boolean {\n    return this.offset + byteLength <= this.length;\n  }\n\n  /**\n   * Check if little-endian mode is used for reading and writing multi-byte\n   * values.\n   * @returns `true` if little-endian mode is used, `false` otherwise.\n   */\n  public isLittleEndian(): boolean {\n    return this.littleEndian;\n  }\n\n  /**\n   * Set little-endian mode for reading and writing multi-byte values.\n   */\n  public setLittleEndian(): this {\n    this.littleEndian = true;\n    return this;\n  }\n\n  /**\n   * Check if big-endian mode is used for reading and writing multi-byte values.\n   * @returns `true` if big-endian mode is used, `false` otherwise.\n   */\n  public isBigEndian(): boolean {\n    return !this.littleEndian;\n  }\n\n  /**\n   * Switches to big-endian mode for reading and writing multi-byte values.\n   */\n  public setBigEndian(): this {\n    this.littleEndian = false;\n    return this;\n  }\n\n  /**\n   * Move the pointer n bytes forward.\n   * @param n - Number of bytes to skip.\n   */\n  public skip(n = 1): this {\n    this.offset += n;\n    return this;\n  }\n\n  /**\n   * Move the pointer n bytes backward.\n   * @param n - Number of bytes to move back.\n   */\n  public back(n = 1): this {\n    this.offset -= n;\n    return this;\n  }\n\n  /**\n   * Move the pointer to the given offset.\n   * @param offset\n   */\n  public seek(offset: number): this {\n    this.offset = offset;\n    return this;\n  }\n\n  /**\n   * Store the current pointer offset.\n   * @see {@link IOBuffer#reset}\n   */\n  public mark(): this {\n    this._mark = this.offset;\n    return this;\n  }\n\n  /**\n   * Move the pointer back to the last pointer offset set by mark.\n   * @see {@link IOBuffer#mark}\n   */\n  public reset(): this {\n    this.offset = this._mark;\n    return this;\n  }\n\n  /**\n   * Push the current pointer offset to the mark stack.\n   * @see {@link IOBuffer#popMark}\n   */\n  public pushMark(): this {\n    this._marks.push(this.offset);\n    return this;\n  }\n\n  /**\n   * Pop the last pointer offset from the mark stack, and set the current\n   * pointer offset to the popped value.\n   * @see {@link IOBuffer#pushMark}\n   */\n  public popMark(): this {\n    const offset = this._marks.pop();\n    if (offset === undefined) {\n      throw new Error('Mark stack empty');\n    }\n    this.seek(offset);\n    return this;\n  }\n\n  /**\n   * Move the pointer offset back to 0.\n   */\n  public rewind(): this {\n    this.offset = 0;\n    return this;\n  }\n\n  /**\n   * Make sure the buffer has sufficient memory to write a given byteLength at\n   * the current pointer offset.\n   * If the buffer's memory is insufficient, this method will create a new\n   * buffer (a copy) with a length that is twice (byteLength + current offset).\n   * @param byteLength\n   */\n  public ensureAvailable(byteLength = 1): this {\n    if (!this.available(byteLength)) {\n      const lengthNeeded = this.offset + byteLength;\n      const newLength = lengthNeeded * 2;\n      const newArray = new Uint8Array(newLength);\n      newArray.set(new Uint8Array(this.buffer));\n      this.buffer = newArray.buffer;\n      this.length = this.byteLength = newLength;\n      this._data = new DataView(this.buffer);\n    }\n    return this;\n  }\n\n  /**\n   * Read a byte and return false if the byte's value is 0, or true otherwise.\n   * Moves pointer forward by one byte.\n   */\n  public readBoolean(): boolean {\n    return this.readUint8() !== 0;\n  }\n\n  /**\n   * Read a signed 8-bit integer and move pointer forward by 1 byte.\n   */\n  public readInt8(): number {\n    return this._data.getInt8(this.offset++);\n  }\n\n  /**\n   * Read an unsigned 8-bit integer and move pointer forward by 1 byte.\n   */\n  public readUint8(): number {\n    return this._data.getUint8(this.offset++);\n  }\n\n  /**\n   * Alias for {@link IOBuffer#readUint8}.\n   */\n  public readByte(): number {\n    return this.readUint8();\n  }\n\n  /**\n   * Read `n` bytes and move pointer forward by `n` bytes.\n   */\n  public readBytes(n = 1): Uint8Array {\n    return this.readArray(n, 'uint8');\n  }\n\n  /**\n   * Creates an array of corresponding to the type `type` and size `size`.\n   * For example type `uint8` will create a `Uint8Array`.\n   * @param size - size of the resulting array\n   * @param type - number type of elements to read\n   */\n  public readArray<T extends keyof typeof typedArrays>(\n    size: number,\n    type: T,\n  ): InstanceType<TypedArrays[T]> {\n    const bytes = typedArrays[type].BYTES_PER_ELEMENT * size;\n    const offset = this.byteOffset + this.offset;\n    const slice = this.buffer.slice(offset, offset + bytes);\n    if (\n      this.littleEndian === hostBigEndian &&\n      type !== 'uint8' &&\n      type !== 'int8'\n    ) {\n      const slice = new Uint8Array(this.buffer.slice(offset, offset + bytes));\n      slice.reverse();\n      const returnArray = new typedArrays[type](slice.buffer);\n      this.offset += bytes;\n      returnArray.reverse();\n      return returnArray as InstanceType<TypedArrays[T]>;\n    }\n    const returnArray = new typedArrays[type](slice);\n    this.offset += bytes;\n    return returnArray as InstanceType<TypedArrays[T]>;\n  }\n  /**\n   * Read a 16-bit signed integer and move pointer forward by 2 bytes.\n   */\n  public readInt16(): number {\n    const value = this._data.getInt16(this.offset, this.littleEndian);\n    this.offset += 2;\n    return value;\n  }\n\n  /**\n   * Read a 16-bit unsigned integer and move pointer forward by 2 bytes.\n   */\n  public readUint16(): number {\n    const value = this._data.getUint16(this.offset, this.littleEndian);\n    this.offset += 2;\n    return value;\n  }\n\n  /**\n   * Read a 32-bit signed integer and move pointer forward by 4 bytes.\n   */\n  public readInt32(): number {\n    const value = this._data.getInt32(this.offset, this.littleEndian);\n    this.offset += 4;\n    return value;\n  }\n\n  /**\n   * Read a 32-bit unsigned integer and move pointer forward by 4 bytes.\n   */\n  public readUint32(): number {\n    const value = this._data.getUint32(this.offset, this.littleEndian);\n    this.offset += 4;\n    return value;\n  }\n\n  /**\n   * Read a 32-bit floating number and move pointer forward by 4 bytes.\n   */\n  public readFloat32(): number {\n    const value = this._data.getFloat32(this.offset, this.littleEndian);\n    this.offset += 4;\n    return value;\n  }\n\n  /**\n   * Read a 64-bit floating number and move pointer forward by 8 bytes.\n   */\n  public readFloat64(): number {\n    const value = this._data.getFloat64(this.offset, this.littleEndian);\n    this.offset += 8;\n    return value;\n  }\n\n  /**\n   * Read a 64-bit signed integer number and move pointer forward by 8 bytes.\n   */\n  public readBigInt64(): bigint {\n    const value = this._data.getBigInt64(this.offset, this.littleEndian);\n    this.offset += 8;\n    return value;\n  }\n\n  /**\n   * Read a 64-bit unsigned integer number and move pointer forward by 8 bytes.\n   */\n  public readBigUint64(): bigint {\n    const value = this._data.getBigUint64(this.offset, this.littleEndian);\n    this.offset += 8;\n    return value;\n  }\n\n  /**\n   * Read a 1-byte ASCII character and move pointer forward by 1 byte.\n   */\n  public readChar(): string {\n    return String.fromCharCode(this.readInt8());\n  }\n\n  /**\n   * Read `n` 1-byte ASCII characters and move pointer forward by `n` bytes.\n   */\n  public readChars(n = 1): string {\n    let result = '';\n    for (let i = 0; i < n; i++) {\n      result += this.readChar();\n    }\n    return result;\n  }\n\n  /**\n   * Read the next `n` bytes, return a UTF-8 decoded string and move pointer\n   * forward by `n` bytes.\n   */\n  public readUtf8(n = 1): string {\n    return decode(this.readBytes(n));\n  }\n\n  /**\n   * Read the next `n` bytes, return a string decoded with `encoding` and move pointer\n   * forward by `n` bytes.\n   * If no encoding is passed, the function is equivalent to @see {@link IOBuffer#readUtf8}\n   */\n  public decodeText(n = 1, encoding = 'utf-8'): string {\n    return decode(this.readBytes(n), encoding);\n  }\n\n  /**\n   * Write 0xff if the passed value is truthy, 0x00 otherwise and move pointer\n   * forward by 1 byte.\n   */\n  public writeBoolean(value: unknown): this {\n    this.writeUint8(value ? 0xff : 0x00);\n    return this;\n  }\n\n  /**\n   * Write `value` as an 8-bit signed integer and move pointer forward by 1 byte.\n   */\n  public writeInt8(value: number): this {\n    this.ensureAvailable(1);\n    this._data.setInt8(this.offset++, value);\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write `value` as an 8-bit unsigned integer and move pointer forward by 1\n   * byte.\n   */\n  public writeUint8(value: number): this {\n    this.ensureAvailable(1);\n    this._data.setUint8(this.offset++, value);\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * An alias for {@link IOBuffer#writeUint8}.\n   */\n  public writeByte(value: number): this {\n    return this.writeUint8(value);\n  }\n\n  /**\n   * Write all elements of `bytes` as uint8 values and move pointer forward by\n   * `bytes.length` bytes.\n   */\n  public writeBytes(bytes: ArrayLike<number>): this {\n    this.ensureAvailable(bytes.length);\n    for (let i = 0; i < bytes.length; i++) {\n      this._data.setUint8(this.offset++, bytes[i]);\n    }\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write `value` as a 16-bit signed integer and move pointer forward by 2\n   * bytes.\n   */\n  public writeInt16(value: number): this {\n    this.ensureAvailable(2);\n    this._data.setInt16(this.offset, value, this.littleEndian);\n    this.offset += 2;\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write `value` as a 16-bit unsigned integer and move pointer forward by 2\n   * bytes.\n   */\n  public writeUint16(value: number): this {\n    this.ensureAvailable(2);\n    this._data.setUint16(this.offset, value, this.littleEndian);\n    this.offset += 2;\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write `value` as a 32-bit signed integer and move pointer forward by 4\n   * bytes.\n   */\n  public writeInt32(value: number): this {\n    this.ensureAvailable(4);\n    this._data.setInt32(this.offset, value, this.littleEndian);\n    this.offset += 4;\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write `value` as a 32-bit unsigned integer and move pointer forward by 4\n   * bytes.\n   */\n  public writeUint32(value: number): this {\n    this.ensureAvailable(4);\n    this._data.setUint32(this.offset, value, this.littleEndian);\n    this.offset += 4;\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write `value` as a 32-bit floating number and move pointer forward by 4\n   * bytes.\n   */\n  public writeFloat32(value: number): this {\n    this.ensureAvailable(4);\n    this._data.setFloat32(this.offset, value, this.littleEndian);\n    this.offset += 4;\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write `value` as a 64-bit floating number and move pointer forward by 8\n   * bytes.\n   */\n  public writeFloat64(value: number): this {\n    this.ensureAvailable(8);\n    this._data.setFloat64(this.offset, value, this.littleEndian);\n    this.offset += 8;\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write `value` as a 64-bit signed bigint and move pointer forward by 8\n   * bytes.\n   */\n  public writeBigInt64(value: bigint): this {\n    this.ensureAvailable(8);\n    this._data.setBigInt64(this.offset, value, this.littleEndian);\n    this.offset += 8;\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write `value` as a 64-bit unsigned bigint and move pointer forward by 8\n   * bytes.\n   */\n  public writeBigUint64(value: bigint): this {\n    this.ensureAvailable(8);\n    this._data.setBigUint64(this.offset, value, this.littleEndian);\n    this.offset += 8;\n    this._updateLastWrittenByte();\n    return this;\n  }\n\n  /**\n   * Write the charCode of `str`'s first character as an 8-bit unsigned integer\n   * and move pointer forward by 1 byte.\n   */\n  public writeChar(str: string): this {\n    return this.writeUint8(str.charCodeAt(0));\n  }\n\n  /**\n   * Write the charCodes of all `str`'s characters as 8-bit unsigned integers\n   * and move pointer forward by `str.length` bytes.\n   */\n  public writeChars(str: string): this {\n    for (let i = 0; i < str.length; i++) {\n      this.writeUint8(str.charCodeAt(i));\n    }\n    return this;\n  }\n\n  /**\n   * UTF-8 encode and write `str` to the current pointer offset and move pointer\n   * forward according to the encoded length.\n   */\n  public writeUtf8(str: string): this {\n    return this.writeBytes(encode(str));\n  }\n\n  /**\n   * Export a Uint8Array view of the internal buffer.\n   * The view starts at the byte offset and its length\n   * is calculated to stop at the last written byte or the original length.\n   */\n  public toArray(): Uint8Array {\n    return new Uint8Array(this.buffer, this.byteOffset, this.lastWrittenByte);\n  }\n\n  /**\n   * Update the last written byte offset\n   * @private\n   */\n  private _updateLastWrittenByte(): void {\n    if (this.offset > this.lastWrittenByte) {\n      this.lastWrittenByte = this.offset;\n    }\n  }\n}\n","/*\n * Copyright 2017 Sam Thorogood. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n * use this file except in compliance with the License. You may obtain a copy of\n * the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\n(function(scope) {\n  'use strict';\n\n  // fail early\n  if (scope['TextEncoder'] && scope['TextDecoder']) {\n    return false;\n  }\n\n  /**\n   * @constructor\n   * @param {string=} utfLabel\n   */\n  function FastTextEncoder(utfLabel = 'utf-8') {\n    if (utfLabel !== 'utf-8') {\n      throw new RangeError(\n        `Failed to construct 'TextEncoder': The encoding label provided ('${utfLabel}') is invalid.`,\n      );\n    }\n  }\n\n  Object.defineProperty(FastTextEncoder.prototype, 'encoding', {\n    value: 'utf-8',\n  });\n\n  /**\n   * @param {string} string\n   * @param {{stream: boolean}=} options\n   * @return {!Uint8Array}\n   */\n  FastTextEncoder.prototype.encode = function(\n    string,\n    options = { stream: false },\n  ) {\n    if (options.stream) {\n      throw new Error(`Failed to encode: the 'stream' option is unsupported.`);\n    }\n\n    let pos = 0;\n    const len = string.length;\n    const out = [];\n\n    let at = 0; // output position\n    let tlen = Math.max(32, len + (len >> 1) + 7); // 1.5x size\n    let target = new Uint8Array((tlen >> 3) << 3); // ... but at 8 byte offset\n\n    while (pos < len) {\n      let value = string.charCodeAt(pos++);\n      if (value >= 0xd800 && value <= 0xdbff) {\n        // high surrogate\n        if (pos < len) {\n          const extra = string.charCodeAt(pos);\n          if ((extra & 0xfc00) === 0xdc00) {\n            ++pos;\n            value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n          }\n        }\n        if (value >= 0xd800 && value <= 0xdbff) {\n          continue; // drop lone surrogate\n        }\n      }\n\n      // expand the buffer if we couldn't write 4 bytes\n      if (at + 4 > target.length) {\n        tlen += 8; // minimum extra\n        tlen *= 1.0 + (pos / string.length) * 2; // take 2x the remaining\n        tlen = (tlen >> 3) << 3; // 8 byte offset\n\n        const update = new Uint8Array(tlen);\n        update.set(target);\n        target = update;\n      }\n\n      if ((value & 0xffffff80) === 0) {\n        // 1-byte\n        target[at++] = value; // ASCII\n        continue;\n      } else if ((value & 0xfffff800) === 0) {\n        // 2-byte\n        target[at++] = ((value >> 6) & 0x1f) | 0xc0;\n      } else if ((value & 0xffff0000) === 0) {\n        // 3-byte\n        target[at++] = ((value >> 12) & 0x0f) | 0xe0;\n        target[at++] = ((value >> 6) & 0x3f) | 0x80;\n      } else if ((value & 0xffe00000) === 0) {\n        // 4-byte\n        target[at++] = ((value >> 18) & 0x07) | 0xf0;\n        target[at++] = ((value >> 12) & 0x3f) | 0x80;\n        target[at++] = ((value >> 6) & 0x3f) | 0x80;\n      } else {\n        // FIXME: do we care\n        continue;\n      }\n\n      target[at++] = (value & 0x3f) | 0x80;\n    }\n\n    return target.slice(0, at);\n  };\n\n  /**\n   * @constructor\n   * @param {string=} utfLabel\n   * @param {{fatal: boolean}=} options\n   */\n  function FastTextDecoder(utfLabel = 'utf-8', options = { fatal: false }) {\n    if (utfLabel !== 'utf-8') {\n      throw new RangeError(\n        `Failed to construct 'TextDecoder': The encoding label provided ('${utfLabel}') is invalid.`,\n      );\n    }\n    if (options.fatal) {\n      throw new Error(\n        `Failed to construct 'TextDecoder': the 'fatal' option is unsupported.`,\n      );\n    }\n  }\n\n  Object.defineProperty(FastTextDecoder.prototype, 'encoding', {\n    value: 'utf-8',\n  });\n\n  Object.defineProperty(FastTextDecoder.prototype, 'fatal', { value: false });\n\n  Object.defineProperty(FastTextDecoder.prototype, 'ignoreBOM', {\n    value: false,\n  });\n\n  /**\n   * @param {(!ArrayBuffer|!ArrayBufferView)} buffer\n   * @param {{stream: boolean}=} options\n   */\n  FastTextDecoder.prototype.decode = function(\n    buffer,\n    options = { stream: false },\n  ) {\n    if (options['stream']) {\n      throw new Error(`Failed to decode: the 'stream' option is unsupported.`);\n    }\n\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    const len = bytes.length;\n    const out = [];\n\n    while (pos < len) {\n      const byte1 = bytes[pos++];\n      if (byte1 === 0) {\n        break; // NULL\n      }\n\n      if ((byte1 & 0x80) === 0) {\n        // 1-byte\n        out.push(byte1);\n      } else if ((byte1 & 0xe0) === 0xc0) {\n        // 2-byte\n        const byte2 = bytes[pos++] & 0x3f;\n        out.push(((byte1 & 0x1f) << 6) | byte2);\n      } else if ((byte1 & 0xf0) === 0xe0) {\n        const byte2 = bytes[pos++] & 0x3f;\n        const byte3 = bytes[pos++] & 0x3f;\n        out.push(((byte1 & 0x1f) << 12) | (byte2 << 6) | byte3);\n      } else if ((byte1 & 0xf8) === 0xf0) {\n        const byte2 = bytes[pos++] & 0x3f;\n        const byte3 = bytes[pos++] & 0x3f;\n        const byte4 = bytes[pos++] & 0x3f;\n\n        // this can be > 0xffff, so possibly generate surrogates\n        let codepoint =\n          ((byte1 & 0x07) << 0x12) | (byte2 << 0x0c) | (byte3 << 0x06) | byte4;\n        if (codepoint > 0xffff) {\n          // codepoint &= ~0x10000;\n          codepoint -= 0x10000;\n          out.push(((codepoint >>> 10) & 0x3ff) | 0xd800);\n          codepoint = 0xdc00 | (codepoint & 0x3ff);\n        }\n        out.push(codepoint);\n      } else {\n        // FIXME: we're ignoring this\n      }\n    }\n\n    return String.fromCharCode.apply(null, out);\n  };\n\n  scope['TextEncoder'] = FastTextEncoder;\n  scope['TextDecoder'] = FastTextDecoder;\n})(\n  typeof window !== 'undefined'\n    ? window\n    : typeof self !== 'undefined'\n    ? self\n    : this,\n);\n","// eslint-disable-next-line @typescript-eslint/unbound-method\nconst toString = Object.prototype.toString;\n\nexport type AnyArray =\n  | any[] // eslint-disable-line @typescript-eslint/no-explicit-any\n  | Int8Array\n  | Uint8Array\n  | Uint8ClampedArray\n  | Int16Array\n  | Uint16Array\n  | Int32Array\n  | Uint32Array\n  | Float32Array\n  | Float64Array;\n\n/**\n * Checks if an object is an instance of an Array (array or typed array, except those that contain bigint values).\n *\n * @param value - Object to check.\n * @returns True if the object is an array or a typed array.\n */\nexport function isAnyArray(value: unknown): value is AnyArray {\n  const tag = toString.call(value);\n  return tag.endsWith('Array]') && !tag.includes('Big');\n}\n","'use strict';\n\nvar toString = Object.prototype.toString;\n\nmodule.exports = function isArrayType(value) {\n    return toString.call(value).substr(-6, 5) === 'Array';\n};\n","'use strict';\n\nmodule.exports = Number.isFinite || function (value) {\n\treturn !(typeof value !== 'number' || value !== value || value === Infinity || value === -Infinity);\n};\n","// https://github.com/paulmillr/es6-shim\n// http://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.isinteger\nvar isFinite = require(\"is-finite\");\nmodule.exports = Number.isInteger || function(val) {\n  return typeof val === \"number\" &&\n    isFinite(val) &&\n    Math.floor(val) === val;\n};\n","var encode = require('./lib/encoder'),\n    decode = require('./lib/decoder');\n\nmodule.exports = {\n  encode: encode,\n  decode: decode\n};\n","/* -*- tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- /\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n/*\n   Copyright 2011 notmasteryet\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\n// - The JPEG specification can be found in the ITU CCITT Recommendation T.81\n//   (www.w3.org/Graphics/JPEG/itu-t81.pdf)\n// - The JFIF specification can be found in the JPEG File Interchange Format\n//   (www.w3.org/Graphics/JPEG/jfif3.pdf)\n// - The Adobe Application-Specific JPEG markers in the Supporting the DCT Filters\n//   in PostScript Level 2, Technical Note #5116\n//   (partners.adobe.com/public/developer/en/ps/sdk/5116.DCT_Filter.pdf)\n\nvar JpegImage = (function jpegImage() {\n  \"use strict\";\n  var dctZigZag = new Int32Array([\n     0,\n     1,  8,\n    16,  9,  2,\n     3, 10, 17, 24,\n    32, 25, 18, 11, 4,\n     5, 12, 19, 26, 33, 40,\n    48, 41, 34, 27, 20, 13,  6,\n     7, 14, 21, 28, 35, 42, 49, 56,\n    57, 50, 43, 36, 29, 22, 15,\n    23, 30, 37, 44, 51, 58,\n    59, 52, 45, 38, 31,\n    39, 46, 53, 60,\n    61, 54, 47,\n    55, 62,\n    63\n  ]);\n\n  var dctCos1  =  4017   // cos(pi/16)\n  var dctSin1  =   799   // sin(pi/16)\n  var dctCos3  =  3406   // cos(3*pi/16)\n  var dctSin3  =  2276   // sin(3*pi/16)\n  var dctCos6  =  1567   // cos(6*pi/16)\n  var dctSin6  =  3784   // sin(6*pi/16)\n  var dctSqrt2 =  5793   // sqrt(2)\n  var dctSqrt1d2 = 2896  // sqrt(2) / 2\n\n  function constructor() {\n  }\n\n  function buildHuffmanTable(codeLengths, values) {\n    var k = 0, code = [], i, j, length = 16;\n    while (length > 0 && !codeLengths[length - 1])\n      length--;\n    code.push({children: [], index: 0});\n    var p = code[0], q;\n    for (i = 0; i < length; i++) {\n      for (j = 0; j < codeLengths[i]; j++) {\n        p = code.pop();\n        p.children[p.index] = values[k];\n        while (p.index > 0) {\n          if (code.length === 0)\n            throw new Error('Could not recreate Huffman Table');\n          p = code.pop();\n        }\n        p.index++;\n        code.push(p);\n        while (code.length <= i) {\n          code.push(q = {children: [], index: 0});\n          p.children[p.index] = q.children;\n          p = q;\n        }\n        k++;\n      }\n      if (i + 1 < length) {\n        // p here points to last code\n        code.push(q = {children: [], index: 0});\n        p.children[p.index] = q.children;\n        p = q;\n      }\n    }\n    return code[0].children;\n  }\n\n  function decodeScan(data, offset,\n                      frame, components, resetInterval,\n                      spectralStart, spectralEnd,\n                      successivePrev, successive, opts) {\n    var precision = frame.precision;\n    var samplesPerLine = frame.samplesPerLine;\n    var scanLines = frame.scanLines;\n    var mcusPerLine = frame.mcusPerLine;\n    var progressive = frame.progressive;\n    var maxH = frame.maxH, maxV = frame.maxV;\n\n    var startOffset = offset, bitsData = 0, bitsCount = 0;\n    function readBit() {\n      if (bitsCount > 0) {\n        bitsCount--;\n        return (bitsData >> bitsCount) & 1;\n      }\n      bitsData = data[offset++];\n      if (bitsData == 0xFF) {\n        var nextByte = data[offset++];\n        if (nextByte) {\n          throw new Error(\"unexpected marker: \" + ((bitsData << 8) | nextByte).toString(16));\n        }\n        // unstuff 0\n      }\n      bitsCount = 7;\n      return bitsData >>> 7;\n    }\n    function decodeHuffman(tree) {\n      var node = tree, bit;\n      while ((bit = readBit()) !== null) {\n        node = node[bit];\n        if (typeof node === 'number')\n          return node;\n        if (typeof node !== 'object')\n          throw new Error(\"invalid huffman sequence\");\n      }\n      return null;\n    }\n    function receive(length) {\n      var n = 0;\n      while (length > 0) {\n        var bit = readBit();\n        if (bit === null) return;\n        n = (n << 1) | bit;\n        length--;\n      }\n      return n;\n    }\n    function receiveAndExtend(length) {\n      var n = receive(length);\n      if (n >= 1 << (length - 1))\n        return n;\n      return n + (-1 << length) + 1;\n    }\n    function decodeBaseline(component, zz) {\n      var t = decodeHuffman(component.huffmanTableDC);\n      var diff = t === 0 ? 0 : receiveAndExtend(t);\n      zz[0]= (component.pred += diff);\n      var k = 1;\n      while (k < 64) {\n        var rs = decodeHuffman(component.huffmanTableAC);\n        var s = rs & 15, r = rs >> 4;\n        if (s === 0) {\n          if (r < 15)\n            break;\n          k += 16;\n          continue;\n        }\n        k += r;\n        var z = dctZigZag[k];\n        zz[z] = receiveAndExtend(s);\n        k++;\n      }\n    }\n    function decodeDCFirst(component, zz) {\n      var t = decodeHuffman(component.huffmanTableDC);\n      var diff = t === 0 ? 0 : (receiveAndExtend(t) << successive);\n      zz[0] = (component.pred += diff);\n    }\n    function decodeDCSuccessive(component, zz) {\n      zz[0] |= readBit() << successive;\n    }\n    var eobrun = 0;\n    function decodeACFirst(component, zz) {\n      if (eobrun > 0) {\n        eobrun--;\n        return;\n      }\n      var k = spectralStart, e = spectralEnd;\n      while (k <= e) {\n        var rs = decodeHuffman(component.huffmanTableAC);\n        var s = rs & 15, r = rs >> 4;\n        if (s === 0) {\n          if (r < 15) {\n            eobrun = receive(r) + (1 << r) - 1;\n            break;\n          }\n          k += 16;\n          continue;\n        }\n        k += r;\n        var z = dctZigZag[k];\n        zz[z] = receiveAndExtend(s) * (1 << successive);\n        k++;\n      }\n    }\n    var successiveACState = 0, successiveACNextValue;\n    function decodeACSuccessive(component, zz) {\n      var k = spectralStart, e = spectralEnd, r = 0;\n      while (k <= e) {\n        var z = dctZigZag[k];\n        var direction = zz[z] < 0 ? -1 : 1;\n        switch (successiveACState) {\n        case 0: // initial state\n          var rs = decodeHuffman(component.huffmanTableAC);\n          var s = rs & 15, r = rs >> 4;\n          if (s === 0) {\n            if (r < 15) {\n              eobrun = receive(r) + (1 << r);\n              successiveACState = 4;\n            } else {\n              r = 16;\n              successiveACState = 1;\n            }\n          } else {\n            if (s !== 1)\n              throw new Error(\"invalid ACn encoding\");\n            successiveACNextValue = receiveAndExtend(s);\n            successiveACState = r ? 2 : 3;\n          }\n          continue;\n        case 1: // skipping r zero items\n        case 2:\n          if (zz[z])\n            zz[z] += (readBit() << successive) * direction;\n          else {\n            r--;\n            if (r === 0)\n              successiveACState = successiveACState == 2 ? 3 : 0;\n          }\n          break;\n        case 3: // set value for a zero item\n          if (zz[z])\n            zz[z] += (readBit() << successive) * direction;\n          else {\n            zz[z] = successiveACNextValue << successive;\n            successiveACState = 0;\n          }\n          break;\n        case 4: // eob\n          if (zz[z])\n            zz[z] += (readBit() << successive) * direction;\n          break;\n        }\n        k++;\n      }\n      if (successiveACState === 4) {\n        eobrun--;\n        if (eobrun === 0)\n          successiveACState = 0;\n      }\n    }\n    function decodeMcu(component, decode, mcu, row, col) {\n      var mcuRow = (mcu / mcusPerLine) | 0;\n      var mcuCol = mcu % mcusPerLine;\n      var blockRow = mcuRow * component.v + row;\n      var blockCol = mcuCol * component.h + col;\n      // If the block is missing and we're in tolerant mode, just skip it.\n      if (component.blocks[blockRow] === undefined && opts.tolerantDecoding)\n        return;\n      decode(component, component.blocks[blockRow][blockCol]);\n    }\n    function decodeBlock(component, decode, mcu) {\n      var blockRow = (mcu / component.blocksPerLine) | 0;\n      var blockCol = mcu % component.blocksPerLine;\n      // If the block is missing and we're in tolerant mode, just skip it.\n      if (component.blocks[blockRow] === undefined && opts.tolerantDecoding)\n        return;\n      decode(component, component.blocks[blockRow][blockCol]);\n    }\n\n    var componentsLength = components.length;\n    var component, i, j, k, n;\n    var decodeFn;\n    if (progressive) {\n      if (spectralStart === 0)\n        decodeFn = successivePrev === 0 ? decodeDCFirst : decodeDCSuccessive;\n      else\n        decodeFn = successivePrev === 0 ? decodeACFirst : decodeACSuccessive;\n    } else {\n      decodeFn = decodeBaseline;\n    }\n\n    var mcu = 0, marker;\n    var mcuExpected;\n    if (componentsLength == 1) {\n      mcuExpected = components[0].blocksPerLine * components[0].blocksPerColumn;\n    } else {\n      mcuExpected = mcusPerLine * frame.mcusPerColumn;\n    }\n    if (!resetInterval) resetInterval = mcuExpected;\n\n    var h, v;\n    while (mcu < mcuExpected) {\n      // reset interval stuff\n      for (i = 0; i < componentsLength; i++)\n        components[i].pred = 0;\n      eobrun = 0;\n\n      if (componentsLength == 1) {\n        component = components[0];\n        for (n = 0; n < resetInterval; n++) {\n          decodeBlock(component, decodeFn, mcu);\n          mcu++;\n        }\n      } else {\n        for (n = 0; n < resetInterval; n++) {\n          for (i = 0; i < componentsLength; i++) {\n            component = components[i];\n            h = component.h;\n            v = component.v;\n            for (j = 0; j < v; j++) {\n              for (k = 0; k < h; k++) {\n                decodeMcu(component, decodeFn, mcu, j, k);\n              }\n            }\n          }\n          mcu++;\n\n          // If we've reached our expected MCU's, stop decoding\n          if (mcu === mcuExpected) break;\n        }\n      }\n\n      if (mcu === mcuExpected) {\n        // Skip trailing bytes at the end of the scan - until we reach the next marker\n        do {\n          if (data[offset] === 0xFF) {\n            if (data[offset + 1] !== 0x00) {\n              break;\n            }\n          }\n          offset += 1;\n        } while (offset < data.length - 2);\n      }\n\n      // find marker\n      bitsCount = 0;\n      marker = (data[offset] << 8) | data[offset + 1];\n      if (marker < 0xFF00) {\n        throw new Error(\"marker was not found\");\n      }\n\n      if (marker >= 0xFFD0 && marker <= 0xFFD7) { // RSTx\n        offset += 2;\n      }\n      else\n        break;\n    }\n\n    return offset - startOffset;\n  }\n\n  function buildComponentData(frame, component) {\n    var lines = [];\n    var blocksPerLine = component.blocksPerLine;\n    var blocksPerColumn = component.blocksPerColumn;\n    var samplesPerLine = blocksPerLine << 3;\n    // Only 1 used per invocation of this function and garbage collected after invocation, so no need to account for its memory footprint.\n    var R = new Int32Array(64), r = new Uint8Array(64);\n\n    // A port of poppler's IDCT method which in turn is taken from:\n    //   Christoph Loeffler, Adriaan Ligtenberg, George S. Moschytz,\n    //   \"Practical Fast 1-D DCT Algorithms with 11 Multiplications\",\n    //   IEEE Intl. Conf. on Acoustics, Speech & Signal Processing, 1989,\n    //   988-991.\n    function quantizeAndInverse(zz, dataOut, dataIn) {\n      var qt = component.quantizationTable;\n      var v0, v1, v2, v3, v4, v5, v6, v7, t;\n      var p = dataIn;\n      var i;\n\n      // dequant\n      for (i = 0; i < 64; i++)\n        p[i] = zz[i] * qt[i];\n\n      // inverse DCT on rows\n      for (i = 0; i < 8; ++i) {\n        var row = 8 * i;\n\n        // check for all-zero AC coefficients\n        if (p[1 + row] == 0 && p[2 + row] == 0 && p[3 + row] == 0 &&\n            p[4 + row] == 0 && p[5 + row] == 0 && p[6 + row] == 0 &&\n            p[7 + row] == 0) {\n          t = (dctSqrt2 * p[0 + row] + 512) >> 10;\n          p[0 + row] = t;\n          p[1 + row] = t;\n          p[2 + row] = t;\n          p[3 + row] = t;\n          p[4 + row] = t;\n          p[5 + row] = t;\n          p[6 + row] = t;\n          p[7 + row] = t;\n          continue;\n        }\n\n        // stage 4\n        v0 = (dctSqrt2 * p[0 + row] + 128) >> 8;\n        v1 = (dctSqrt2 * p[4 + row] + 128) >> 8;\n        v2 = p[2 + row];\n        v3 = p[6 + row];\n        v4 = (dctSqrt1d2 * (p[1 + row] - p[7 + row]) + 128) >> 8;\n        v7 = (dctSqrt1d2 * (p[1 + row] + p[7 + row]) + 128) >> 8;\n        v5 = p[3 + row] << 4;\n        v6 = p[5 + row] << 4;\n\n        // stage 3\n        t = (v0 - v1+ 1) >> 1;\n        v0 = (v0 + v1 + 1) >> 1;\n        v1 = t;\n        t = (v2 * dctSin6 + v3 * dctCos6 + 128) >> 8;\n        v2 = (v2 * dctCos6 - v3 * dctSin6 + 128) >> 8;\n        v3 = t;\n        t = (v4 - v6 + 1) >> 1;\n        v4 = (v4 + v6 + 1) >> 1;\n        v6 = t;\n        t = (v7 + v5 + 1) >> 1;\n        v5 = (v7 - v5 + 1) >> 1;\n        v7 = t;\n\n        // stage 2\n        t = (v0 - v3 + 1) >> 1;\n        v0 = (v0 + v3 + 1) >> 1;\n        v3 = t;\n        t = (v1 - v2 + 1) >> 1;\n        v1 = (v1 + v2 + 1) >> 1;\n        v2 = t;\n        t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n        v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n        v7 = t;\n        t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n        v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n        v6 = t;\n\n        // stage 1\n        p[0 + row] = v0 + v7;\n        p[7 + row] = v0 - v7;\n        p[1 + row] = v1 + v6;\n        p[6 + row] = v1 - v6;\n        p[2 + row] = v2 + v5;\n        p[5 + row] = v2 - v5;\n        p[3 + row] = v3 + v4;\n        p[4 + row] = v3 - v4;\n      }\n\n      // inverse DCT on columns\n      for (i = 0; i < 8; ++i) {\n        var col = i;\n\n        // check for all-zero AC coefficients\n        if (p[1*8 + col] == 0 && p[2*8 + col] == 0 && p[3*8 + col] == 0 &&\n            p[4*8 + col] == 0 && p[5*8 + col] == 0 && p[6*8 + col] == 0 &&\n            p[7*8 + col] == 0) {\n          t = (dctSqrt2 * dataIn[i+0] + 8192) >> 14;\n          p[0*8 + col] = t;\n          p[1*8 + col] = t;\n          p[2*8 + col] = t;\n          p[3*8 + col] = t;\n          p[4*8 + col] = t;\n          p[5*8 + col] = t;\n          p[6*8 + col] = t;\n          p[7*8 + col] = t;\n          continue;\n        }\n\n        // stage 4\n        v0 = (dctSqrt2 * p[0*8 + col] + 2048) >> 12;\n        v1 = (dctSqrt2 * p[4*8 + col] + 2048) >> 12;\n        v2 = p[2*8 + col];\n        v3 = p[6*8 + col];\n        v4 = (dctSqrt1d2 * (p[1*8 + col] - p[7*8 + col]) + 2048) >> 12;\n        v7 = (dctSqrt1d2 * (p[1*8 + col] + p[7*8 + col]) + 2048) >> 12;\n        v5 = p[3*8 + col];\n        v6 = p[5*8 + col];\n\n        // stage 3\n        t = (v0 - v1 + 1) >> 1;\n        v0 = (v0 + v1 + 1) >> 1;\n        v1 = t;\n        t = (v2 * dctSin6 + v3 * dctCos6 + 2048) >> 12;\n        v2 = (v2 * dctCos6 - v3 * dctSin6 + 2048) >> 12;\n        v3 = t;\n        t = (v4 - v6 + 1) >> 1;\n        v4 = (v4 + v6 + 1) >> 1;\n        v6 = t;\n        t = (v7 + v5 + 1) >> 1;\n        v5 = (v7 - v5 + 1) >> 1;\n        v7 = t;\n\n        // stage 2\n        t = (v0 - v3 + 1) >> 1;\n        v0 = (v0 + v3 + 1) >> 1;\n        v3 = t;\n        t = (v1 - v2 + 1) >> 1;\n        v1 = (v1 + v2 + 1) >> 1;\n        v2 = t;\n        t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n        v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n        v7 = t;\n        t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n        v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n        v6 = t;\n\n        // stage 1\n        p[0*8 + col] = v0 + v7;\n        p[7*8 + col] = v0 - v7;\n        p[1*8 + col] = v1 + v6;\n        p[6*8 + col] = v1 - v6;\n        p[2*8 + col] = v2 + v5;\n        p[5*8 + col] = v2 - v5;\n        p[3*8 + col] = v3 + v4;\n        p[4*8 + col] = v3 - v4;\n      }\n\n      // convert to 8-bit integers\n      for (i = 0; i < 64; ++i) {\n        var sample = 128 + ((p[i] + 8) >> 4);\n        dataOut[i] = sample < 0 ? 0 : sample > 0xFF ? 0xFF : sample;\n      }\n    }\n\n    requestMemoryAllocation(samplesPerLine * blocksPerColumn * 8);\n\n    var i, j;\n    for (var blockRow = 0; blockRow < blocksPerColumn; blockRow++) {\n      var scanLine = blockRow << 3;\n      for (i = 0; i < 8; i++)\n        lines.push(new Uint8Array(samplesPerLine));\n      for (var blockCol = 0; blockCol < blocksPerLine; blockCol++) {\n        quantizeAndInverse(component.blocks[blockRow][blockCol], r, R);\n\n        var offset = 0, sample = blockCol << 3;\n        for (j = 0; j < 8; j++) {\n          var line = lines[scanLine + j];\n          for (i = 0; i < 8; i++)\n            line[sample + i] = r[offset++];\n        }\n      }\n    }\n    return lines;\n  }\n\n  function clampTo8bit(a) {\n    return a < 0 ? 0 : a > 255 ? 255 : a;\n  }\n\n  constructor.prototype = {\n    load: function load(path) {\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", path, true);\n      xhr.responseType = \"arraybuffer\";\n      xhr.onload = (function() {\n        // TODO catch parse error\n        var data = new Uint8Array(xhr.response || xhr.mozResponseArrayBuffer);\n        this.parse(data);\n        if (this.onload)\n          this.onload();\n      }).bind(this);\n      xhr.send(null);\n    },\n    parse: function parse(data) {\n      var maxResolutionInPixels = this.opts.maxResolutionInMP * 1000 * 1000;\n      var offset = 0, length = data.length;\n      function readUint16() {\n        var value = (data[offset] << 8) | data[offset + 1];\n        offset += 2;\n        return value;\n      }\n      function readDataBlock() {\n        var length = readUint16();\n        var array = data.subarray(offset, offset + length - 2);\n        offset += array.length;\n        return array;\n      }\n      function prepareComponents(frame) {\n        // According to the JPEG standard, the sampling factor must be between 1 and 4\n        // See https://github.com/libjpeg-turbo/libjpeg-turbo/blob/9abeff46d87bd201a952e276f3e4339556a403a3/libjpeg.txt#L1138-L1146\n        var maxH = 1, maxV = 1;\n        var component, componentId;\n        for (componentId in frame.components) {\n          if (frame.components.hasOwnProperty(componentId)) {\n            component = frame.components[componentId];\n            if (maxH < component.h) maxH = component.h;\n            if (maxV < component.v) maxV = component.v;\n          }\n        }\n        var mcusPerLine = Math.ceil(frame.samplesPerLine / 8 / maxH);\n        var mcusPerColumn = Math.ceil(frame.scanLines / 8 / maxV);\n        for (componentId in frame.components) {\n          if (frame.components.hasOwnProperty(componentId)) {\n            component = frame.components[componentId];\n            var blocksPerLine = Math.ceil(Math.ceil(frame.samplesPerLine / 8) * component.h / maxH);\n            var blocksPerColumn = Math.ceil(Math.ceil(frame.scanLines  / 8) * component.v / maxV);\n            var blocksPerLineForMcu = mcusPerLine * component.h;\n            var blocksPerColumnForMcu = mcusPerColumn * component.v;\n            var blocksToAllocate = blocksPerColumnForMcu * blocksPerLineForMcu;\n            var blocks = [];\n\n            // Each block is a Int32Array of length 64 (4 x 64 = 256 bytes)\n            requestMemoryAllocation(blocksToAllocate * 256);\n\n            for (var i = 0; i < blocksPerColumnForMcu; i++) {\n              var row = [];\n              for (var j = 0; j < blocksPerLineForMcu; j++)\n                row.push(new Int32Array(64));\n              blocks.push(row);\n            }\n            component.blocksPerLine = blocksPerLine;\n            component.blocksPerColumn = blocksPerColumn;\n            component.blocks = blocks;\n          }\n        }\n        frame.maxH = maxH;\n        frame.maxV = maxV;\n        frame.mcusPerLine = mcusPerLine;\n        frame.mcusPerColumn = mcusPerColumn;\n      }\n      var jfif = null;\n      var adobe = null;\n      var pixels = null;\n      var frame, resetInterval;\n      var quantizationTables = [], frames = [];\n      var huffmanTablesAC = [], huffmanTablesDC = [];\n      var fileMarker = readUint16();\n      var malformedDataOffset = -1;\n      this.comments = [];\n      if (fileMarker != 0xFFD8) { // SOI (Start of Image)\n        throw new Error(\"SOI not found\");\n      }\n\n      fileMarker = readUint16();\n      while (fileMarker != 0xFFD9) { // EOI (End of image)\n        var i, j, l;\n        switch(fileMarker) {\n          case 0xFF00: break;\n          case 0xFFE0: // APP0 (Application Specific)\n          case 0xFFE1: // APP1\n          case 0xFFE2: // APP2\n          case 0xFFE3: // APP3\n          case 0xFFE4: // APP4\n          case 0xFFE5: // APP5\n          case 0xFFE6: // APP6\n          case 0xFFE7: // APP7\n          case 0xFFE8: // APP8\n          case 0xFFE9: // APP9\n          case 0xFFEA: // APP10\n          case 0xFFEB: // APP11\n          case 0xFFEC: // APP12\n          case 0xFFED: // APP13\n          case 0xFFEE: // APP14\n          case 0xFFEF: // APP15\n          case 0xFFFE: // COM (Comment)\n            var appData = readDataBlock();\n\n            if (fileMarker === 0xFFFE) {\n              var comment = String.fromCharCode.apply(null, appData);\n              this.comments.push(comment);\n            }\n\n            if (fileMarker === 0xFFE0) {\n              if (appData[0] === 0x4A && appData[1] === 0x46 && appData[2] === 0x49 &&\n                appData[3] === 0x46 && appData[4] === 0) { // 'JFIF\\x00'\n                jfif = {\n                  version: { major: appData[5], minor: appData[6] },\n                  densityUnits: appData[7],\n                  xDensity: (appData[8] << 8) | appData[9],\n                  yDensity: (appData[10] << 8) | appData[11],\n                  thumbWidth: appData[12],\n                  thumbHeight: appData[13],\n                  thumbData: appData.subarray(14, 14 + 3 * appData[12] * appData[13])\n                };\n              }\n            }\n            // TODO APP1 - Exif\n            if (fileMarker === 0xFFE1) {\n              if (appData[0] === 0x45 &&\n                appData[1] === 0x78 &&\n                appData[2] === 0x69 &&\n                appData[3] === 0x66 &&\n                appData[4] === 0) { // 'EXIF\\x00'\n                this.exifBuffer = appData.subarray(5, appData.length);\n              }\n            }\n\n            if (fileMarker === 0xFFEE) {\n              if (appData[0] === 0x41 && appData[1] === 0x64 && appData[2] === 0x6F &&\n                appData[3] === 0x62 && appData[4] === 0x65 && appData[5] === 0) { // 'Adobe\\x00'\n                adobe = {\n                  version: appData[6],\n                  flags0: (appData[7] << 8) | appData[8],\n                  flags1: (appData[9] << 8) | appData[10],\n                  transformCode: appData[11]\n                };\n              }\n            }\n            break;\n\n          case 0xFFDB: // DQT (Define Quantization Tables)\n            var quantizationTablesLength = readUint16();\n            var quantizationTablesEnd = quantizationTablesLength + offset - 2;\n            while (offset < quantizationTablesEnd) {\n              var quantizationTableSpec = data[offset++];\n              requestMemoryAllocation(64 * 4);\n              var tableData = new Int32Array(64);\n              if ((quantizationTableSpec >> 4) === 0) { // 8 bit values\n                for (j = 0; j < 64; j++) {\n                  var z = dctZigZag[j];\n                  tableData[z] = data[offset++];\n                }\n              } else if ((quantizationTableSpec >> 4) === 1) { //16 bit\n                for (j = 0; j < 64; j++) {\n                  var z = dctZigZag[j];\n                  tableData[z] = readUint16();\n                }\n              } else\n                throw new Error(\"DQT: invalid table spec\");\n              quantizationTables[quantizationTableSpec & 15] = tableData;\n            }\n            break;\n\n          case 0xFFC0: // SOF0 (Start of Frame, Baseline DCT)\n          case 0xFFC1: // SOF1 (Start of Frame, Extended DCT)\n          case 0xFFC2: // SOF2 (Start of Frame, Progressive DCT)\n            readUint16(); // skip data length\n            frame = {};\n            frame.extended = (fileMarker === 0xFFC1);\n            frame.progressive = (fileMarker === 0xFFC2);\n            frame.precision = data[offset++];\n            frame.scanLines = readUint16();\n            frame.samplesPerLine = readUint16();\n            frame.components = {};\n            frame.componentsOrder = [];\n\n            var pixelsInFrame = frame.scanLines * frame.samplesPerLine;\n            if (pixelsInFrame > maxResolutionInPixels) {\n              var exceededAmount = Math.ceil((pixelsInFrame - maxResolutionInPixels) / 1e6);\n              throw new Error(`maxResolutionInMP limit exceeded by ${exceededAmount}MP`);\n            }\n\n            var componentsCount = data[offset++], componentId;\n            var maxH = 0, maxV = 0;\n            for (i = 0; i < componentsCount; i++) {\n              componentId = data[offset];\n              var h = data[offset + 1] >> 4;\n              var v = data[offset + 1] & 15;\n              var qId = data[offset + 2];\n\n              if ( h <= 0 || v <= 0 ) {\n                throw new Error('Invalid sampling factor, expected values above 0');\n              }\n\n              frame.componentsOrder.push(componentId);\n              frame.components[componentId] = {\n                h: h,\n                v: v,\n                quantizationIdx: qId\n              };\n              offset += 3;\n            }\n            prepareComponents(frame);\n            frames.push(frame);\n            break;\n\n          case 0xFFC4: // DHT (Define Huffman Tables)\n            var huffmanLength = readUint16();\n            for (i = 2; i < huffmanLength;) {\n              var huffmanTableSpec = data[offset++];\n              var codeLengths = new Uint8Array(16);\n              var codeLengthSum = 0;\n              for (j = 0; j < 16; j++, offset++) {\n                codeLengthSum += (codeLengths[j] = data[offset]);\n              }\n              requestMemoryAllocation(16 + codeLengthSum);\n              var huffmanValues = new Uint8Array(codeLengthSum);\n              for (j = 0; j < codeLengthSum; j++, offset++)\n                huffmanValues[j] = data[offset];\n              i += 17 + codeLengthSum;\n\n              ((huffmanTableSpec >> 4) === 0 ?\n                huffmanTablesDC : huffmanTablesAC)[huffmanTableSpec & 15] =\n                buildHuffmanTable(codeLengths, huffmanValues);\n            }\n            break;\n\n          case 0xFFDD: // DRI (Define Restart Interval)\n            readUint16(); // skip data length\n            resetInterval = readUint16();\n            break;\n\n          case 0xFFDC: // Number of Lines marker\n            readUint16() // skip data length\n            readUint16() // Ignore this data since it represents the image height\n            break;\n            \n          case 0xFFDA: // SOS (Start of Scan)\n            var scanLength = readUint16();\n            var selectorsCount = data[offset++];\n            var components = [], component;\n            for (i = 0; i < selectorsCount; i++) {\n              component = frame.components[data[offset++]];\n              var tableSpec = data[offset++];\n              component.huffmanTableDC = huffmanTablesDC[tableSpec >> 4];\n              component.huffmanTableAC = huffmanTablesAC[tableSpec & 15];\n              components.push(component);\n            }\n            var spectralStart = data[offset++];\n            var spectralEnd = data[offset++];\n            var successiveApproximation = data[offset++];\n            var processed = decodeScan(data, offset,\n              frame, components, resetInterval,\n              spectralStart, spectralEnd,\n              successiveApproximation >> 4, successiveApproximation & 15, this.opts);\n            offset += processed;\n            break;\n\n          case 0xFFFF: // Fill bytes\n            if (data[offset] !== 0xFF) { // Avoid skipping a valid marker.\n              offset--;\n            }\n            break;\n          default:\n            if (data[offset - 3] == 0xFF &&\n                data[offset - 2] >= 0xC0 && data[offset - 2] <= 0xFE) {\n              // could be incorrect encoding -- last 0xFF byte of the previous\n              // block was eaten by the encoder\n              offset -= 3;\n              break;\n            }\n            else if (fileMarker === 0xE0 || fileMarker == 0xE1) {\n              // Recover from malformed APP1 markers popular in some phone models.\n              // See https://github.com/eugeneware/jpeg-js/issues/82\n              if (malformedDataOffset !== -1) {\n                throw new Error(`first unknown JPEG marker at offset ${malformedDataOffset.toString(16)}, second unknown JPEG marker ${fileMarker.toString(16)} at offset ${(offset - 1).toString(16)}`);\n              }\n              malformedDataOffset = offset - 1;\n              const nextOffset = readUint16();\n              if (data[offset + nextOffset - 2] === 0xFF) {\n                offset += nextOffset - 2;\n                break;\n              }\n            }\n            throw new Error(\"unknown JPEG marker \" + fileMarker.toString(16));\n        }\n        fileMarker = readUint16();\n      }\n      if (frames.length != 1)\n        throw new Error(\"only single frame JPEGs supported\");\n\n      // set each frame's components quantization table\n      for (var i = 0; i < frames.length; i++) {\n        var cp = frames[i].components;\n        for (var j in cp) {\n          cp[j].quantizationTable = quantizationTables[cp[j].quantizationIdx];\n          delete cp[j].quantizationIdx;\n        }\n      }\n\n      this.width = frame.samplesPerLine;\n      this.height = frame.scanLines;\n      this.jfif = jfif;\n      this.adobe = adobe;\n      this.components = [];\n      for (var i = 0; i < frame.componentsOrder.length; i++) {\n        var component = frame.components[frame.componentsOrder[i]];\n        this.components.push({\n          lines: buildComponentData(frame, component),\n          scaleX: component.h / frame.maxH,\n          scaleY: component.v / frame.maxV\n        });\n      }\n    },\n    getData: function getData(width, height) {\n      var scaleX = this.width / width, scaleY = this.height / height;\n\n      var component1, component2, component3, component4;\n      var component1Line, component2Line, component3Line, component4Line;\n      var x, y;\n      var offset = 0;\n      var Y, Cb, Cr, K, C, M, Ye, R, G, B;\n      var colorTransform;\n      var dataLength = width * height * this.components.length;\n      requestMemoryAllocation(dataLength);\n      var data = new Uint8Array(dataLength);\n      switch (this.components.length) {\n        case 1:\n          component1 = this.components[0];\n          for (y = 0; y < height; y++) {\n            component1Line = component1.lines[0 | (y * component1.scaleY * scaleY)];\n            for (x = 0; x < width; x++) {\n              Y = component1Line[0 | (x * component1.scaleX * scaleX)];\n\n              data[offset++] = Y;\n            }\n          }\n          break;\n        case 2:\n          // PDF might compress two component data in custom colorspace\n          component1 = this.components[0];\n          component2 = this.components[1];\n          for (y = 0; y < height; y++) {\n            component1Line = component1.lines[0 | (y * component1.scaleY * scaleY)];\n            component2Line = component2.lines[0 | (y * component2.scaleY * scaleY)];\n            for (x = 0; x < width; x++) {\n              Y = component1Line[0 | (x * component1.scaleX * scaleX)];\n              data[offset++] = Y;\n              Y = component2Line[0 | (x * component2.scaleX * scaleX)];\n              data[offset++] = Y;\n            }\n          }\n          break;\n        case 3:\n          // The default transform for three components is true\n          colorTransform = true;\n          // The adobe transform marker overrides any previous setting\n          if (this.adobe && this.adobe.transformCode)\n            colorTransform = true;\n          else if (typeof this.opts.colorTransform !== 'undefined')\n            colorTransform = !!this.opts.colorTransform;\n\n          component1 = this.components[0];\n          component2 = this.components[1];\n          component3 = this.components[2];\n          for (y = 0; y < height; y++) {\n            component1Line = component1.lines[0 | (y * component1.scaleY * scaleY)];\n            component2Line = component2.lines[0 | (y * component2.scaleY * scaleY)];\n            component3Line = component3.lines[0 | (y * component3.scaleY * scaleY)];\n            for (x = 0; x < width; x++) {\n              if (!colorTransform) {\n                R = component1Line[0 | (x * component1.scaleX * scaleX)];\n                G = component2Line[0 | (x * component2.scaleX * scaleX)];\n                B = component3Line[0 | (x * component3.scaleX * scaleX)];\n              } else {\n                Y = component1Line[0 | (x * component1.scaleX * scaleX)];\n                Cb = component2Line[0 | (x * component2.scaleX * scaleX)];\n                Cr = component3Line[0 | (x * component3.scaleX * scaleX)];\n\n                R = clampTo8bit(Y + 1.402 * (Cr - 128));\n                G = clampTo8bit(Y - 0.3441363 * (Cb - 128) - 0.71413636 * (Cr - 128));\n                B = clampTo8bit(Y + 1.772 * (Cb - 128));\n              }\n\n              data[offset++] = R;\n              data[offset++] = G;\n              data[offset++] = B;\n            }\n          }\n          break;\n        case 4:\n          if (!this.adobe)\n            throw new Error('Unsupported color mode (4 components)');\n          // The default transform for four components is false\n          colorTransform = false;\n          // The adobe transform marker overrides any previous setting\n          if (this.adobe && this.adobe.transformCode)\n            colorTransform = true;\n          else if (typeof this.opts.colorTransform !== 'undefined')\n            colorTransform = !!this.opts.colorTransform;\n\n          component1 = this.components[0];\n          component2 = this.components[1];\n          component3 = this.components[2];\n          component4 = this.components[3];\n          for (y = 0; y < height; y++) {\n            component1Line = component1.lines[0 | (y * component1.scaleY * scaleY)];\n            component2Line = component2.lines[0 | (y * component2.scaleY * scaleY)];\n            component3Line = component3.lines[0 | (y * component3.scaleY * scaleY)];\n            component4Line = component4.lines[0 | (y * component4.scaleY * scaleY)];\n            for (x = 0; x < width; x++) {\n              if (!colorTransform) {\n                C = component1Line[0 | (x * component1.scaleX * scaleX)];\n                M = component2Line[0 | (x * component2.scaleX * scaleX)];\n                Ye = component3Line[0 | (x * component3.scaleX * scaleX)];\n                K = component4Line[0 | (x * component4.scaleX * scaleX)];\n              } else {\n                Y = component1Line[0 | (x * component1.scaleX * scaleX)];\n                Cb = component2Line[0 | (x * component2.scaleX * scaleX)];\n                Cr = component3Line[0 | (x * component3.scaleX * scaleX)];\n                K = component4Line[0 | (x * component4.scaleX * scaleX)];\n\n                C = 255 - clampTo8bit(Y + 1.402 * (Cr - 128));\n                M = 255 - clampTo8bit(Y - 0.3441363 * (Cb - 128) - 0.71413636 * (Cr - 128));\n                Ye = 255 - clampTo8bit(Y + 1.772 * (Cb - 128));\n              }\n              data[offset++] = 255-C;\n              data[offset++] = 255-M;\n              data[offset++] = 255-Ye;\n              data[offset++] = 255-K;\n            }\n          }\n          break;\n        default:\n          throw new Error('Unsupported color mode');\n      }\n      return data;\n    },\n    copyToImageData: function copyToImageData(imageData, formatAsRGBA) {\n      var width = imageData.width, height = imageData.height;\n      var imageDataArray = imageData.data;\n      var data = this.getData(width, height);\n      var i = 0, j = 0, x, y;\n      var Y, K, C, M, R, G, B;\n      switch (this.components.length) {\n        case 1:\n          for (y = 0; y < height; y++) {\n            for (x = 0; x < width; x++) {\n              Y = data[i++];\n\n              imageDataArray[j++] = Y;\n              imageDataArray[j++] = Y;\n              imageDataArray[j++] = Y;\n              if (formatAsRGBA) {\n                imageDataArray[j++] = 255;\n              }\n            }\n          }\n          break;\n        case 3:\n          for (y = 0; y < height; y++) {\n            for (x = 0; x < width; x++) {\n              R = data[i++];\n              G = data[i++];\n              B = data[i++];\n\n              imageDataArray[j++] = R;\n              imageDataArray[j++] = G;\n              imageDataArray[j++] = B;\n              if (formatAsRGBA) {\n                imageDataArray[j++] = 255;\n              }\n            }\n          }\n          break;\n        case 4:\n          for (y = 0; y < height; y++) {\n            for (x = 0; x < width; x++) {\n              C = data[i++];\n              M = data[i++];\n              Y = data[i++];\n              K = data[i++];\n\n              R = 255 - clampTo8bit(C * (1 - K / 255) + K);\n              G = 255 - clampTo8bit(M * (1 - K / 255) + K);\n              B = 255 - clampTo8bit(Y * (1 - K / 255) + K);\n\n              imageDataArray[j++] = R;\n              imageDataArray[j++] = G;\n              imageDataArray[j++] = B;\n              if (formatAsRGBA) {\n                imageDataArray[j++] = 255;\n              }\n            }\n          }\n          break;\n        default:\n          throw new Error('Unsupported color mode');\n      }\n    }\n  };\n\n\n  // We cap the amount of memory used by jpeg-js to avoid unexpected OOMs from untrusted content.\n  var totalBytesAllocated = 0;\n  var maxMemoryUsageBytes = 0;\n  function requestMemoryAllocation(increaseAmount = 0) {\n    var totalMemoryImpactBytes = totalBytesAllocated + increaseAmount;\n    if (totalMemoryImpactBytes > maxMemoryUsageBytes) {\n      var exceededAmount = Math.ceil((totalMemoryImpactBytes - maxMemoryUsageBytes) / 1024 / 1024);\n      throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${exceededAmount}MB`);\n    }\n\n    totalBytesAllocated = totalMemoryImpactBytes;\n  }\n\n  constructor.resetMaxMemoryUsage = function (maxMemoryUsageBytes_) {\n    totalBytesAllocated = 0;\n    maxMemoryUsageBytes = maxMemoryUsageBytes_;\n  };\n\n  constructor.getBytesAllocated = function () {\n    return totalBytesAllocated;\n  };\n\n  constructor.requestMemoryAllocation = requestMemoryAllocation;\n\n  return constructor;\n})();\n\nif (typeof module !== 'undefined') {\n\tmodule.exports = decode;\n} else if (typeof window !== 'undefined') {\n\twindow['jpeg-js'] = window['jpeg-js'] || {};\n\twindow['jpeg-js'].decode = decode;\n}\n\nfunction decode(jpegData, userOpts = {}) {\n  var defaultOpts = {\n    // \"undefined\" means \"Choose whether to transform colors based on the image’s color model.\"\n    colorTransform: undefined,\n    useTArray: false,\n    formatAsRGBA: true,\n    tolerantDecoding: true,\n    maxResolutionInMP: 100, // Don't decode more than 100 megapixels\n    maxMemoryUsageInMB: 512, // Don't decode if memory footprint is more than 512MB\n  };\n\n  var opts = {...defaultOpts, ...userOpts};\n  var arr = new Uint8Array(jpegData);\n  var decoder = new JpegImage();\n  decoder.opts = opts;\n  // If this constructor ever supports async decoding this will need to be done differently.\n  // Until then, treating as singleton limit is fine.\n  JpegImage.resetMaxMemoryUsage(opts.maxMemoryUsageInMB * 1024 * 1024);\n  decoder.parse(arr);\n\n  var channels = (opts.formatAsRGBA) ? 4 : 3;\n  var bytesNeeded = decoder.width * decoder.height * channels;\n  try {\n    JpegImage.requestMemoryAllocation(bytesNeeded);\n    var image = {\n      width: decoder.width,\n      height: decoder.height,\n      exifBuffer: decoder.exifBuffer,\n      data: opts.useTArray ?\n        new Uint8Array(bytesNeeded) :\n        Buffer.alloc(bytesNeeded)\n    };\n    if(decoder.comments.length > 0) {\n      image[\"comments\"] = decoder.comments;\n    }\n  } catch (err) {\n    if (err instanceof RangeError) {\n      throw new Error(\"Could not allocate enough memory for the image. \" +\n                      \"Required: \" + bytesNeeded);\n    } \n    \n    if (err instanceof ReferenceError) {\n      if (err.message === \"Buffer is not defined\") {\n        throw new Error(\"Buffer is not globally defined in this environment. \" +\n                        \"Consider setting useTArray to true\");\n      }\n    }\n    throw err;\n  }\n\n  decoder.copyToImageData(image, opts.formatAsRGBA);\n\n  return image;\n}\n","/*\n  Copyright (c) 2008, Adobe Systems Incorporated\n  All rights reserved.\n\n  Redistribution and use in source and binary forms, with or without \n  modification, are permitted provided that the following conditions are\n  met:\n\n  * Redistributions of source code must retain the above copyright notice, \n    this list of conditions and the following disclaimer.\n  \n  * Redistributions in binary form must reproduce the above copyright\n    notice, this list of conditions and the following disclaimer in the \n    documentation and/or other materials provided with the distribution.\n  \n  * Neither the name of Adobe Systems Incorporated nor the names of its \n    contributors may be used to endorse or promote products derived from \n    this software without specific prior written permission.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n  IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR \n  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n/*\nJPEG encoder ported to JavaScript and optimized by Andreas Ritter, www.bytestrom.eu, 11/2009\n\nBasic GUI blocking jpeg encoder\n*/\n\nvar btoa = btoa || function(buf) {\n  return Buffer.from(buf).toString('base64');\n};\n\nfunction JPEGEncoder(quality) {\n  var self = this;\n\tvar fround = Math.round;\n\tvar ffloor = Math.floor;\n\tvar YTable = new Array(64);\n\tvar UVTable = new Array(64);\n\tvar fdtbl_Y = new Array(64);\n\tvar fdtbl_UV = new Array(64);\n\tvar YDC_HT;\n\tvar UVDC_HT;\n\tvar YAC_HT;\n\tvar UVAC_HT;\n\t\n\tvar bitcode = new Array(65535);\n\tvar category = new Array(65535);\n\tvar outputfDCTQuant = new Array(64);\n\tvar DU = new Array(64);\n\tvar byteout = [];\n\tvar bytenew = 0;\n\tvar bytepos = 7;\n\t\n\tvar YDU = new Array(64);\n\tvar UDU = new Array(64);\n\tvar VDU = new Array(64);\n\tvar clt = new Array(256);\n\tvar RGB_YUV_TABLE = new Array(2048);\n\tvar currentQuality;\n\t\n\tvar ZigZag = [\n\t\t\t 0, 1, 5, 6,14,15,27,28,\n\t\t\t 2, 4, 7,13,16,26,29,42,\n\t\t\t 3, 8,12,17,25,30,41,43,\n\t\t\t 9,11,18,24,31,40,44,53,\n\t\t\t10,19,23,32,39,45,52,54,\n\t\t\t20,22,33,38,46,51,55,60,\n\t\t\t21,34,37,47,50,56,59,61,\n\t\t\t35,36,48,49,57,58,62,63\n\t\t];\n\t\n\tvar std_dc_luminance_nrcodes = [0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];\n\tvar std_dc_luminance_values = [0,1,2,3,4,5,6,7,8,9,10,11];\n\tvar std_ac_luminance_nrcodes = [0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,0x7d];\n\tvar std_ac_luminance_values = [\n\t\t\t0x01,0x02,0x03,0x00,0x04,0x11,0x05,0x12,\n\t\t\t0x21,0x31,0x41,0x06,0x13,0x51,0x61,0x07,\n\t\t\t0x22,0x71,0x14,0x32,0x81,0x91,0xa1,0x08,\n\t\t\t0x23,0x42,0xb1,0xc1,0x15,0x52,0xd1,0xf0,\n\t\t\t0x24,0x33,0x62,0x72,0x82,0x09,0x0a,0x16,\n\t\t\t0x17,0x18,0x19,0x1a,0x25,0x26,0x27,0x28,\n\t\t\t0x29,0x2a,0x34,0x35,0x36,0x37,0x38,0x39,\n\t\t\t0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,\n\t\t\t0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,\n\t\t\t0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,\n\t\t\t0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,\n\t\t\t0x7a,0x83,0x84,0x85,0x86,0x87,0x88,0x89,\n\t\t\t0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,\n\t\t\t0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,\n\t\t\t0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,\n\t\t\t0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,\n\t\t\t0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,\n\t\t\t0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe1,0xe2,\n\t\t\t0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,\n\t\t\t0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,\n\t\t\t0xf9,0xfa\n\t\t];\n\t\n\tvar std_dc_chrominance_nrcodes = [0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];\n\tvar std_dc_chrominance_values = [0,1,2,3,4,5,6,7,8,9,10,11];\n\tvar std_ac_chrominance_nrcodes = [0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,0x77];\n\tvar std_ac_chrominance_values = [\n\t\t\t0x00,0x01,0x02,0x03,0x11,0x04,0x05,0x21,\n\t\t\t0x31,0x06,0x12,0x41,0x51,0x07,0x61,0x71,\n\t\t\t0x13,0x22,0x32,0x81,0x08,0x14,0x42,0x91,\n\t\t\t0xa1,0xb1,0xc1,0x09,0x23,0x33,0x52,0xf0,\n\t\t\t0x15,0x62,0x72,0xd1,0x0a,0x16,0x24,0x34,\n\t\t\t0xe1,0x25,0xf1,0x17,0x18,0x19,0x1a,0x26,\n\t\t\t0x27,0x28,0x29,0x2a,0x35,0x36,0x37,0x38,\n\t\t\t0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,\n\t\t\t0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,\n\t\t\t0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,\n\t\t\t0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,\n\t\t\t0x79,0x7a,0x82,0x83,0x84,0x85,0x86,0x87,\n\t\t\t0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,\n\t\t\t0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,\n\t\t\t0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,\n\t\t\t0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,\n\t\t\t0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,\n\t\t\t0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,\n\t\t\t0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,\n\t\t\t0xea,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,\n\t\t\t0xf9,0xfa\n\t\t];\n\t\n\tfunction initQuantTables(sf){\n\t\t\tvar YQT = [\n\t\t\t\t16, 11, 10, 16, 24, 40, 51, 61,\n\t\t\t\t12, 12, 14, 19, 26, 58, 60, 55,\n\t\t\t\t14, 13, 16, 24, 40, 57, 69, 56,\n\t\t\t\t14, 17, 22, 29, 51, 87, 80, 62,\n\t\t\t\t18, 22, 37, 56, 68,109,103, 77,\n\t\t\t\t24, 35, 55, 64, 81,104,113, 92,\n\t\t\t\t49, 64, 78, 87,103,121,120,101,\n\t\t\t\t72, 92, 95, 98,112,100,103, 99\n\t\t\t];\n\t\t\t\n\t\t\tfor (var i = 0; i < 64; i++) {\n\t\t\t\tvar t = ffloor((YQT[i]*sf+50)/100);\n\t\t\t\tif (t < 1) {\n\t\t\t\t\tt = 1;\n\t\t\t\t} else if (t > 255) {\n\t\t\t\t\tt = 255;\n\t\t\t\t}\n\t\t\t\tYTable[ZigZag[i]] = t;\n\t\t\t}\n\t\t\tvar UVQT = [\n\t\t\t\t17, 18, 24, 47, 99, 99, 99, 99,\n\t\t\t\t18, 21, 26, 66, 99, 99, 99, 99,\n\t\t\t\t24, 26, 56, 99, 99, 99, 99, 99,\n\t\t\t\t47, 66, 99, 99, 99, 99, 99, 99,\n\t\t\t\t99, 99, 99, 99, 99, 99, 99, 99,\n\t\t\t\t99, 99, 99, 99, 99, 99, 99, 99,\n\t\t\t\t99, 99, 99, 99, 99, 99, 99, 99,\n\t\t\t\t99, 99, 99, 99, 99, 99, 99, 99\n\t\t\t];\n\t\t\tfor (var j = 0; j < 64; j++) {\n\t\t\t\tvar u = ffloor((UVQT[j]*sf+50)/100);\n\t\t\t\tif (u < 1) {\n\t\t\t\t\tu = 1;\n\t\t\t\t} else if (u > 255) {\n\t\t\t\t\tu = 255;\n\t\t\t\t}\n\t\t\t\tUVTable[ZigZag[j]] = u;\n\t\t\t}\n\t\t\tvar aasf = [\n\t\t\t\t1.0, 1.387039845, 1.306562965, 1.175875602,\n\t\t\t\t1.0, 0.785694958, 0.541196100, 0.275899379\n\t\t\t];\n\t\t\tvar k = 0;\n\t\t\tfor (var row = 0; row < 8; row++)\n\t\t\t{\n\t\t\t\tfor (var col = 0; col < 8; col++)\n\t\t\t\t{\n\t\t\t\t\tfdtbl_Y[k]  = (1.0 / (YTable [ZigZag[k]] * aasf[row] * aasf[col] * 8.0));\n\t\t\t\t\tfdtbl_UV[k] = (1.0 / (UVTable[ZigZag[k]] * aasf[row] * aasf[col] * 8.0));\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction computeHuffmanTbl(nrcodes, std_table){\n\t\t\tvar codevalue = 0;\n\t\t\tvar pos_in_table = 0;\n\t\t\tvar HT = new Array();\n\t\t\tfor (var k = 1; k <= 16; k++) {\n\t\t\t\tfor (var j = 1; j <= nrcodes[k]; j++) {\n\t\t\t\t\tHT[std_table[pos_in_table]] = [];\n\t\t\t\t\tHT[std_table[pos_in_table]][0] = codevalue;\n\t\t\t\t\tHT[std_table[pos_in_table]][1] = k;\n\t\t\t\t\tpos_in_table++;\n\t\t\t\t\tcodevalue++;\n\t\t\t\t}\n\t\t\t\tcodevalue*=2;\n\t\t\t}\n\t\t\treturn HT;\n\t\t}\n\t\t\n\t\tfunction initHuffmanTbl()\n\t\t{\n\t\t\tYDC_HT = computeHuffmanTbl(std_dc_luminance_nrcodes,std_dc_luminance_values);\n\t\t\tUVDC_HT = computeHuffmanTbl(std_dc_chrominance_nrcodes,std_dc_chrominance_values);\n\t\t\tYAC_HT = computeHuffmanTbl(std_ac_luminance_nrcodes,std_ac_luminance_values);\n\t\t\tUVAC_HT = computeHuffmanTbl(std_ac_chrominance_nrcodes,std_ac_chrominance_values);\n\t\t}\n\t\n\t\tfunction initCategoryNumber()\n\t\t{\n\t\t\tvar nrlower = 1;\n\t\t\tvar nrupper = 2;\n\t\t\tfor (var cat = 1; cat <= 15; cat++) {\n\t\t\t\t//Positive numbers\n\t\t\t\tfor (var nr = nrlower; nr<nrupper; nr++) {\n\t\t\t\t\tcategory[32767+nr] = cat;\n\t\t\t\t\tbitcode[32767+nr] = [];\n\t\t\t\t\tbitcode[32767+nr][1] = cat;\n\t\t\t\t\tbitcode[32767+nr][0] = nr;\n\t\t\t\t}\n\t\t\t\t//Negative numbers\n\t\t\t\tfor (var nrneg =-(nrupper-1); nrneg<=-nrlower; nrneg++) {\n\t\t\t\t\tcategory[32767+nrneg] = cat;\n\t\t\t\t\tbitcode[32767+nrneg] = [];\n\t\t\t\t\tbitcode[32767+nrneg][1] = cat;\n\t\t\t\t\tbitcode[32767+nrneg][0] = nrupper-1+nrneg;\n\t\t\t\t}\n\t\t\t\tnrlower <<= 1;\n\t\t\t\tnrupper <<= 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction initRGBYUVTable() {\n\t\t\tfor(var i = 0; i < 256;i++) {\n\t\t\t\tRGB_YUV_TABLE[i]      \t\t=  19595 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+ 256)>>0] \t=  38470 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+ 512)>>0] \t=   7471 * i + 0x8000;\n\t\t\t\tRGB_YUV_TABLE[(i+ 768)>>0] \t= -11059 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+1024)>>0] \t= -21709 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+1280)>>0] \t=  32768 * i + 0x807FFF;\n\t\t\t\tRGB_YUV_TABLE[(i+1536)>>0] \t= -27439 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+1792)>>0] \t= - 5329 * i;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// IO functions\n\t\tfunction writeBits(bs)\n\t\t{\n\t\t\tvar value = bs[0];\n\t\t\tvar posval = bs[1]-1;\n\t\t\twhile ( posval >= 0 ) {\n\t\t\t\tif (value & (1 << posval) ) {\n\t\t\t\t\tbytenew |= (1 << bytepos);\n\t\t\t\t}\n\t\t\t\tposval--;\n\t\t\t\tbytepos--;\n\t\t\t\tif (bytepos < 0) {\n\t\t\t\t\tif (bytenew == 0xFF) {\n\t\t\t\t\t\twriteByte(0xFF);\n\t\t\t\t\t\twriteByte(0);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\twriteByte(bytenew);\n\t\t\t\t\t}\n\t\t\t\t\tbytepos=7;\n\t\t\t\t\tbytenew=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction writeByte(value)\n\t\t{\n\t\t\t//byteout.push(clt[value]); // write char directly instead of converting later\n      byteout.push(value);\n\t\t}\n\t\n\t\tfunction writeWord(value)\n\t\t{\n\t\t\twriteByte((value>>8)&0xFF);\n\t\t\twriteByte((value   )&0xFF);\n\t\t}\n\t\t\n\t\t// DCT & quantization core\n\t\tfunction fDCTQuant(data, fdtbl)\n\t\t{\n\t\t\tvar d0, d1, d2, d3, d4, d5, d6, d7;\n\t\t\t/* Pass 1: process rows. */\n\t\t\tvar dataOff=0;\n\t\t\tvar i;\n\t\t\tvar I8 = 8;\n\t\t\tvar I64 = 64;\n\t\t\tfor (i=0; i<I8; ++i)\n\t\t\t{\n\t\t\t\td0 = data[dataOff];\n\t\t\t\td1 = data[dataOff+1];\n\t\t\t\td2 = data[dataOff+2];\n\t\t\t\td3 = data[dataOff+3];\n\t\t\t\td4 = data[dataOff+4];\n\t\t\t\td5 = data[dataOff+5];\n\t\t\t\td6 = data[dataOff+6];\n\t\t\t\td7 = data[dataOff+7];\n\t\t\t\t\n\t\t\t\tvar tmp0 = d0 + d7;\n\t\t\t\tvar tmp7 = d0 - d7;\n\t\t\t\tvar tmp1 = d1 + d6;\n\t\t\t\tvar tmp6 = d1 - d6;\n\t\t\t\tvar tmp2 = d2 + d5;\n\t\t\t\tvar tmp5 = d2 - d5;\n\t\t\t\tvar tmp3 = d3 + d4;\n\t\t\t\tvar tmp4 = d3 - d4;\n\t\n\t\t\t\t/* Even part */\n\t\t\t\tvar tmp10 = tmp0 + tmp3;\t/* phase 2 */\n\t\t\t\tvar tmp13 = tmp0 - tmp3;\n\t\t\t\tvar tmp11 = tmp1 + tmp2;\n\t\t\t\tvar tmp12 = tmp1 - tmp2;\n\t\n\t\t\t\tdata[dataOff] = tmp10 + tmp11; /* phase 3 */\n\t\t\t\tdata[dataOff+4] = tmp10 - tmp11;\n\t\n\t\t\t\tvar z1 = (tmp12 + tmp13) * 0.707106781; /* c4 */\n\t\t\t\tdata[dataOff+2] = tmp13 + z1; /* phase 5 */\n\t\t\t\tdata[dataOff+6] = tmp13 - z1;\n\t\n\t\t\t\t/* Odd part */\n\t\t\t\ttmp10 = tmp4 + tmp5; /* phase 2 */\n\t\t\t\ttmp11 = tmp5 + tmp6;\n\t\t\t\ttmp12 = tmp6 + tmp7;\n\t\n\t\t\t\t/* The rotator is modified from fig 4-8 to avoid extra negations. */\n\t\t\t\tvar z5 = (tmp10 - tmp12) * 0.382683433; /* c6 */\n\t\t\t\tvar z2 = 0.541196100 * tmp10 + z5; /* c2-c6 */\n\t\t\t\tvar z4 = 1.306562965 * tmp12 + z5; /* c2+c6 */\n\t\t\t\tvar z3 = tmp11 * 0.707106781; /* c4 */\n\t\n\t\t\t\tvar z11 = tmp7 + z3;\t/* phase 5 */\n\t\t\t\tvar z13 = tmp7 - z3;\n\t\n\t\t\t\tdata[dataOff+5] = z13 + z2;\t/* phase 6 */\n\t\t\t\tdata[dataOff+3] = z13 - z2;\n\t\t\t\tdata[dataOff+1] = z11 + z4;\n\t\t\t\tdata[dataOff+7] = z11 - z4;\n\t\n\t\t\t\tdataOff += 8; /* advance pointer to next row */\n\t\t\t}\n\t\n\t\t\t/* Pass 2: process columns. */\n\t\t\tdataOff = 0;\n\t\t\tfor (i=0; i<I8; ++i)\n\t\t\t{\n\t\t\t\td0 = data[dataOff];\n\t\t\t\td1 = data[dataOff + 8];\n\t\t\t\td2 = data[dataOff + 16];\n\t\t\t\td3 = data[dataOff + 24];\n\t\t\t\td4 = data[dataOff + 32];\n\t\t\t\td5 = data[dataOff + 40];\n\t\t\t\td6 = data[dataOff + 48];\n\t\t\t\td7 = data[dataOff + 56];\n\t\t\t\t\n\t\t\t\tvar tmp0p2 = d0 + d7;\n\t\t\t\tvar tmp7p2 = d0 - d7;\n\t\t\t\tvar tmp1p2 = d1 + d6;\n\t\t\t\tvar tmp6p2 = d1 - d6;\n\t\t\t\tvar tmp2p2 = d2 + d5;\n\t\t\t\tvar tmp5p2 = d2 - d5;\n\t\t\t\tvar tmp3p2 = d3 + d4;\n\t\t\t\tvar tmp4p2 = d3 - d4;\n\t\n\t\t\t\t/* Even part */\n\t\t\t\tvar tmp10p2 = tmp0p2 + tmp3p2;\t/* phase 2 */\n\t\t\t\tvar tmp13p2 = tmp0p2 - tmp3p2;\n\t\t\t\tvar tmp11p2 = tmp1p2 + tmp2p2;\n\t\t\t\tvar tmp12p2 = tmp1p2 - tmp2p2;\n\t\n\t\t\t\tdata[dataOff] = tmp10p2 + tmp11p2; /* phase 3 */\n\t\t\t\tdata[dataOff+32] = tmp10p2 - tmp11p2;\n\t\n\t\t\t\tvar z1p2 = (tmp12p2 + tmp13p2) * 0.707106781; /* c4 */\n\t\t\t\tdata[dataOff+16] = tmp13p2 + z1p2; /* phase 5 */\n\t\t\t\tdata[dataOff+48] = tmp13p2 - z1p2;\n\t\n\t\t\t\t/* Odd part */\n\t\t\t\ttmp10p2 = tmp4p2 + tmp5p2; /* phase 2 */\n\t\t\t\ttmp11p2 = tmp5p2 + tmp6p2;\n\t\t\t\ttmp12p2 = tmp6p2 + tmp7p2;\n\t\n\t\t\t\t/* The rotator is modified from fig 4-8 to avoid extra negations. */\n\t\t\t\tvar z5p2 = (tmp10p2 - tmp12p2) * 0.382683433; /* c6 */\n\t\t\t\tvar z2p2 = 0.541196100 * tmp10p2 + z5p2; /* c2-c6 */\n\t\t\t\tvar z4p2 = 1.306562965 * tmp12p2 + z5p2; /* c2+c6 */\n\t\t\t\tvar z3p2 = tmp11p2 * 0.707106781; /* c4 */\n\t\n\t\t\t\tvar z11p2 = tmp7p2 + z3p2;\t/* phase 5 */\n\t\t\t\tvar z13p2 = tmp7p2 - z3p2;\n\t\n\t\t\t\tdata[dataOff+40] = z13p2 + z2p2; /* phase 6 */\n\t\t\t\tdata[dataOff+24] = z13p2 - z2p2;\n\t\t\t\tdata[dataOff+ 8] = z11p2 + z4p2;\n\t\t\t\tdata[dataOff+56] = z11p2 - z4p2;\n\t\n\t\t\t\tdataOff++; /* advance pointer to next column */\n\t\t\t}\n\t\n\t\t\t// Quantize/descale the coefficients\n\t\t\tvar fDCTQuant;\n\t\t\tfor (i=0; i<I64; ++i)\n\t\t\t{\n\t\t\t\t// Apply the quantization and scaling factor & Round to nearest integer\n\t\t\t\tfDCTQuant = data[i]*fdtbl[i];\n\t\t\t\toutputfDCTQuant[i] = (fDCTQuant > 0.0) ? ((fDCTQuant + 0.5)|0) : ((fDCTQuant - 0.5)|0);\n\t\t\t\t//outputfDCTQuant[i] = fround(fDCTQuant);\n\n\t\t\t}\n\t\t\treturn outputfDCTQuant;\n\t\t}\n\t\t\n\t\tfunction writeAPP0()\n\t\t{\n\t\t\twriteWord(0xFFE0); // marker\n\t\t\twriteWord(16); // length\n\t\t\twriteByte(0x4A); // J\n\t\t\twriteByte(0x46); // F\n\t\t\twriteByte(0x49); // I\n\t\t\twriteByte(0x46); // F\n\t\t\twriteByte(0); // = \"JFIF\",'\\0'\n\t\t\twriteByte(1); // versionhi\n\t\t\twriteByte(1); // versionlo\n\t\t\twriteByte(0); // xyunits\n\t\t\twriteWord(1); // xdensity\n\t\t\twriteWord(1); // ydensity\n\t\t\twriteByte(0); // thumbnwidth\n\t\t\twriteByte(0); // thumbnheight\n\t\t}\n\n\t\tfunction writeAPP1(exifBuffer) {\n\t\t\tif (!exifBuffer) return;\n\n\t\t\twriteWord(0xFFE1); // APP1 marker\n\n\t\t\tif (exifBuffer[0] === 0x45 &&\n\t\t\t\t\texifBuffer[1] === 0x78 &&\n\t\t\t\t\texifBuffer[2] === 0x69 &&\n\t\t\t\t\texifBuffer[3] === 0x66) {\n\t\t\t\t// Buffer already starts with EXIF, just use it directly\n\t\t\t\twriteWord(exifBuffer.length + 2); // length is buffer + length itself!\n\t\t\t} else {\n\t\t\t\t// Buffer doesn't start with EXIF, write it for them\n\t\t\t\twriteWord(exifBuffer.length + 5 + 2); // length is buffer + EXIF\\0 + length itself!\n\t\t\t\twriteByte(0x45); // E\n\t\t\t\twriteByte(0x78); // X\n\t\t\t\twriteByte(0x69); // I\n\t\t\t\twriteByte(0x66); // F\n\t\t\t\twriteByte(0); // = \"EXIF\",'\\0'\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < exifBuffer.length; i++) {\n\t\t\t\twriteByte(exifBuffer[i]);\n\t\t\t}\n\t\t}\n\n\t\tfunction writeSOF0(width, height)\n\t\t{\n\t\t\twriteWord(0xFFC0); // marker\n\t\t\twriteWord(17);   // length, truecolor YUV JPG\n\t\t\twriteByte(8);    // precision\n\t\t\twriteWord(height);\n\t\t\twriteWord(width);\n\t\t\twriteByte(3);    // nrofcomponents\n\t\t\twriteByte(1);    // IdY\n\t\t\twriteByte(0x11); // HVY\n\t\t\twriteByte(0);    // QTY\n\t\t\twriteByte(2);    // IdU\n\t\t\twriteByte(0x11); // HVU\n\t\t\twriteByte(1);    // QTU\n\t\t\twriteByte(3);    // IdV\n\t\t\twriteByte(0x11); // HVV\n\t\t\twriteByte(1);    // QTV\n\t\t}\n\t\n\t\tfunction writeDQT()\n\t\t{\n\t\t\twriteWord(0xFFDB); // marker\n\t\t\twriteWord(132);\t   // length\n\t\t\twriteByte(0);\n\t\t\tfor (var i=0; i<64; i++) {\n\t\t\t\twriteByte(YTable[i]);\n\t\t\t}\n\t\t\twriteByte(1);\n\t\t\tfor (var j=0; j<64; j++) {\n\t\t\t\twriteByte(UVTable[j]);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction writeDHT()\n\t\t{\n\t\t\twriteWord(0xFFC4); // marker\n\t\t\twriteWord(0x01A2); // length\n\t\n\t\t\twriteByte(0); // HTYDCinfo\n\t\t\tfor (var i=0; i<16; i++) {\n\t\t\t\twriteByte(std_dc_luminance_nrcodes[i+1]);\n\t\t\t}\n\t\t\tfor (var j=0; j<=11; j++) {\n\t\t\t\twriteByte(std_dc_luminance_values[j]);\n\t\t\t}\n\t\n\t\t\twriteByte(0x10); // HTYACinfo\n\t\t\tfor (var k=0; k<16; k++) {\n\t\t\t\twriteByte(std_ac_luminance_nrcodes[k+1]);\n\t\t\t}\n\t\t\tfor (var l=0; l<=161; l++) {\n\t\t\t\twriteByte(std_ac_luminance_values[l]);\n\t\t\t}\n\t\n\t\t\twriteByte(1); // HTUDCinfo\n\t\t\tfor (var m=0; m<16; m++) {\n\t\t\t\twriteByte(std_dc_chrominance_nrcodes[m+1]);\n\t\t\t}\n\t\t\tfor (var n=0; n<=11; n++) {\n\t\t\t\twriteByte(std_dc_chrominance_values[n]);\n\t\t\t}\n\t\n\t\t\twriteByte(0x11); // HTUACinfo\n\t\t\tfor (var o=0; o<16; o++) {\n\t\t\t\twriteByte(std_ac_chrominance_nrcodes[o+1]);\n\t\t\t}\n\t\t\tfor (var p=0; p<=161; p++) {\n\t\t\t\twriteByte(std_ac_chrominance_values[p]);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction writeCOM(comments)\n\t\t{\n\t\t\tif (typeof comments === \"undefined\" || comments.constructor !== Array) return;\n\t\t\tcomments.forEach(e => {\n\t\t\t\tif (typeof e !== \"string\") return;\n\t\t\t\twriteWord(0xFFFE); // marker\n\t\t\t\tvar l = e.length;\n\t\t\t\twriteWord(l + 2); // length itself as well\n\t\t\t\tvar i;\n\t\t\t\tfor (i = 0; i < l; i++)\n\t\t\t\t\twriteByte(e.charCodeAt(i));\n\t\t\t});\n\t\t}\n\t\n\t\tfunction writeSOS()\n\t\t{\n\t\t\twriteWord(0xFFDA); // marker\n\t\t\twriteWord(12); // length\n\t\t\twriteByte(3); // nrofcomponents\n\t\t\twriteByte(1); // IdY\n\t\t\twriteByte(0); // HTY\n\t\t\twriteByte(2); // IdU\n\t\t\twriteByte(0x11); // HTU\n\t\t\twriteByte(3); // IdV\n\t\t\twriteByte(0x11); // HTV\n\t\t\twriteByte(0); // Ss\n\t\t\twriteByte(0x3f); // Se\n\t\t\twriteByte(0); // Bf\n\t\t}\n\t\t\n\t\tfunction processDU(CDU, fdtbl, DC, HTDC, HTAC){\n\t\t\tvar EOB = HTAC[0x00];\n\t\t\tvar M16zeroes = HTAC[0xF0];\n\t\t\tvar pos;\n\t\t\tvar I16 = 16;\n\t\t\tvar I63 = 63;\n\t\t\tvar I64 = 64;\n\t\t\tvar DU_DCT = fDCTQuant(CDU, fdtbl);\n\t\t\t//ZigZag reorder\n\t\t\tfor (var j=0;j<I64;++j) {\n\t\t\t\tDU[ZigZag[j]]=DU_DCT[j];\n\t\t\t}\n\t\t\tvar Diff = DU[0] - DC; DC = DU[0];\n\t\t\t//Encode DC\n\t\t\tif (Diff==0) {\n\t\t\t\twriteBits(HTDC[0]); // Diff might be 0\n\t\t\t} else {\n\t\t\t\tpos = 32767+Diff;\n\t\t\t\twriteBits(HTDC[category[pos]]);\n\t\t\t\twriteBits(bitcode[pos]);\n\t\t\t}\n\t\t\t//Encode ACs\n\t\t\tvar end0pos = 63; // was const... which is crazy\n\t\t\tfor (; (end0pos>0)&&(DU[end0pos]==0); end0pos--) {};\n\t\t\t//end0pos = first element in reverse order !=0\n\t\t\tif ( end0pos == 0) {\n\t\t\t\twriteBits(EOB);\n\t\t\t\treturn DC;\n\t\t\t}\n\t\t\tvar i = 1;\n\t\t\tvar lng;\n\t\t\twhile ( i <= end0pos ) {\n\t\t\t\tvar startpos = i;\n\t\t\t\tfor (; (DU[i]==0) && (i<=end0pos); ++i) {}\n\t\t\t\tvar nrzeroes = i-startpos;\n\t\t\t\tif ( nrzeroes >= I16 ) {\n\t\t\t\t\tlng = nrzeroes>>4;\n\t\t\t\t\tfor (var nrmarker=1; nrmarker <= lng; ++nrmarker)\n\t\t\t\t\t\twriteBits(M16zeroes);\n\t\t\t\t\tnrzeroes = nrzeroes&0xF;\n\t\t\t\t}\n\t\t\t\tpos = 32767+DU[i];\n\t\t\t\twriteBits(HTAC[(nrzeroes<<4)+category[pos]]);\n\t\t\t\twriteBits(bitcode[pos]);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif ( end0pos != I63 ) {\n\t\t\t\twriteBits(EOB);\n\t\t\t}\n\t\t\treturn DC;\n\t\t}\n\n\t\tfunction initCharLookupTable(){\n\t\t\tvar sfcc = String.fromCharCode;\n\t\t\tfor(var i=0; i < 256; i++){ ///// ACHTUNG // 255\n\t\t\t\tclt[i] = sfcc(i);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.encode = function(image,quality) // image data object\n\t\t{\n\t\t\tvar time_start = new Date().getTime();\n\t\t\t\n\t\t\tif(quality) setQuality(quality);\n\t\t\t\n\t\t\t// Initialize bit writer\n\t\t\tbyteout = new Array();\n\t\t\tbytenew=0;\n\t\t\tbytepos=7;\n\t\n\t\t\t// Add JPEG headers\n\t\t\twriteWord(0xFFD8); // SOI\n\t\t\twriteAPP0();\n\t\t\twriteCOM(image.comments);\n\t\t\twriteAPP1(image.exifBuffer);\n\t\t\twriteDQT();\n\t\t\twriteSOF0(image.width,image.height);\n\t\t\twriteDHT();\n\t\t\twriteSOS();\n\n\t\n\t\t\t// Encode 8x8 macroblocks\n\t\t\tvar DCY=0;\n\t\t\tvar DCU=0;\n\t\t\tvar DCV=0;\n\t\t\t\n\t\t\tbytenew=0;\n\t\t\tbytepos=7;\n\t\t\t\n\t\t\t\n\t\t\tthis.encode.displayName = \"_encode_\";\n\n\t\t\tvar imageData = image.data;\n\t\t\tvar width = image.width;\n\t\t\tvar height = image.height;\n\n\t\t\tvar quadWidth = width*4;\n\t\t\tvar tripleWidth = width*3;\n\t\t\t\n\t\t\tvar x, y = 0;\n\t\t\tvar r, g, b;\n\t\t\tvar start,p, col,row,pos;\n\t\t\twhile(y < height){\n\t\t\t\tx = 0;\n\t\t\t\twhile(x < quadWidth){\n\t\t\t\tstart = quadWidth * y + x;\n\t\t\t\tp = start;\n\t\t\t\tcol = -1;\n\t\t\t\trow = 0;\n\t\t\t\t\n\t\t\t\tfor(pos=0; pos < 64; pos++){\n\t\t\t\t\trow = pos >> 3;// /8\n\t\t\t\t\tcol = ( pos & 7 ) * 4; // %8\n\t\t\t\t\tp = start + ( row * quadWidth ) + col;\t\t\n\t\t\t\t\t\n\t\t\t\t\tif(y+row >= height){ // padding bottom\n\t\t\t\t\t\tp-= (quadWidth*(y+1+row-height));\n\t\t\t\t\t}\n\n\t\t\t\t\tif(x+col >= quadWidth){ // padding right\t\n\t\t\t\t\t\tp-= ((x+col) - quadWidth +4)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tr = imageData[ p++ ];\n\t\t\t\t\tg = imageData[ p++ ];\n\t\t\t\t\tb = imageData[ p++ ];\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t/* // calculate YUV values dynamically\n\t\t\t\t\tYDU[pos]=((( 0.29900)*r+( 0.58700)*g+( 0.11400)*b))-128; //-0x80\n\t\t\t\t\tUDU[pos]=(((-0.16874)*r+(-0.33126)*g+( 0.50000)*b));\n\t\t\t\t\tVDU[pos]=((( 0.50000)*r+(-0.41869)*g+(-0.08131)*b));\n\t\t\t\t\t*/\n\t\t\t\t\t\n\t\t\t\t\t// use lookup table (slightly faster)\n\t\t\t\t\tYDU[pos] = ((RGB_YUV_TABLE[r]             + RGB_YUV_TABLE[(g +  256)>>0] + RGB_YUV_TABLE[(b +  512)>>0]) >> 16)-128;\n\t\t\t\t\tUDU[pos] = ((RGB_YUV_TABLE[(r +  768)>>0] + RGB_YUV_TABLE[(g + 1024)>>0] + RGB_YUV_TABLE[(b + 1280)>>0]) >> 16)-128;\n\t\t\t\t\tVDU[pos] = ((RGB_YUV_TABLE[(r + 1280)>>0] + RGB_YUV_TABLE[(g + 1536)>>0] + RGB_YUV_TABLE[(b + 1792)>>0]) >> 16)-128;\n\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tDCY = processDU(YDU, fdtbl_Y, DCY, YDC_HT, YAC_HT);\n\t\t\t\tDCU = processDU(UDU, fdtbl_UV, DCU, UVDC_HT, UVAC_HT);\n\t\t\t\tDCV = processDU(VDU, fdtbl_UV, DCV, UVDC_HT, UVAC_HT);\n\t\t\t\tx+=32;\n\t\t\t\t}\n\t\t\t\ty+=8;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t////////////////////////////////////////////////////////////////\n\t\n\t\t\t// Do the bit alignment of the EOI marker\n\t\t\tif ( bytepos >= 0 ) {\n\t\t\t\tvar fillbits = [];\n\t\t\t\tfillbits[1] = bytepos+1;\n\t\t\t\tfillbits[0] = (1<<(bytepos+1))-1;\n\t\t\t\twriteBits(fillbits);\n\t\t\t}\n\t\n\t\t\twriteWord(0xFFD9); //EOI\n\n\t\t\tif (typeof module === 'undefined') return new Uint8Array(byteout);\n      return Buffer.from(byteout);\n\n\t\t\tvar jpegDataUri = 'data:image/jpeg;base64,' + btoa(byteout.join(''));\n\t\t\t\n\t\t\tbyteout = [];\n\t\t\t\n\t\t\t// benchmarking\n\t\t\tvar duration = new Date().getTime() - time_start;\n    \t\t//console.log('Encoding time: '+ duration + 'ms');\n    \t\t//\n\t\t\t\n\t\t\treturn jpegDataUri\t\t\t\n\t}\n\t\n\tfunction setQuality(quality){\n\t\tif (quality <= 0) {\n\t\t\tquality = 1;\n\t\t}\n\t\tif (quality > 100) {\n\t\t\tquality = 100;\n\t\t}\n\t\t\n\t\tif(currentQuality == quality) return // don't recalc if unchanged\n\t\t\n\t\tvar sf = 0;\n\t\tif (quality < 50) {\n\t\t\tsf = Math.floor(5000 / quality);\n\t\t} else {\n\t\t\tsf = Math.floor(200 - quality*2);\n\t\t}\n\t\t\n\t\tinitQuantTables(sf);\n\t\tcurrentQuality = quality;\n\t\t//console.log('Quality set to: '+quality +'%');\n\t}\n\t\n\tfunction init(){\n\t\tvar time_start = new Date().getTime();\n\t\tif(!quality) quality = 50;\n\t\t// Create tables\n\t\tinitCharLookupTable()\n\t\tinitHuffmanTbl();\n\t\tinitCategoryNumber();\n\t\tinitRGBYUVTable();\n\t\t\n\t\tsetQuality(quality);\n\t\tvar duration = new Date().getTime() - time_start;\n    \t//console.log('Initialization '+ duration + 'ms');\n\t}\n\t\n\tinit();\n\t\n};\n\nif (typeof module !== 'undefined') {\n\tmodule.exports = encode;\n} else if (typeof window !== 'undefined') {\n\twindow['jpeg-js'] = window['jpeg-js'] || {};\n\twindow['jpeg-js'].encode = encode;\n}\n\nfunction encode(imgData, qu) {\n  if (typeof qu === 'undefined') qu = 50;\n  var encoder = new JPEGEncoder(qu);\n\tvar data = encoder.encode(imgData, qu);\n  return {\n    data: data,\n    width: imgData.width,\n    height: imgData.height,\n  };\n}\n\n// helper function to get the imageData of an existing image on the current page.\nfunction getImageDataFromImage(idOrElement){\n\tvar theImg = (typeof(idOrElement)=='string')? document.getElementById(idOrElement):idOrElement;\n\tvar cvs = document.createElement('canvas');\n\tcvs.width = theImg.width;\n\tcvs.height = theImg.height;\n\tvar ctx = cvs.getContext(\"2d\");\n\tctx.drawImage(theImg,0,0);\n\t\n\treturn (ctx.getImageData(0, 0, cvs.width, cvs.height));\n}\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.PriorityQueue = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\nvar AbstractPriorityQueue, ArrayStrategy, BHeapStrategy, BinaryHeapStrategy, PriorityQueue,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nAbstractPriorityQueue = _dereq_('./PriorityQueue/AbstractPriorityQueue');\n\nArrayStrategy = _dereq_('./PriorityQueue/ArrayStrategy');\n\nBinaryHeapStrategy = _dereq_('./PriorityQueue/BinaryHeapStrategy');\n\nBHeapStrategy = _dereq_('./PriorityQueue/BHeapStrategy');\n\nPriorityQueue = (function(superClass) {\n  extend(PriorityQueue, superClass);\n\n  function PriorityQueue(options) {\n    options || (options = {});\n    options.strategy || (options.strategy = BinaryHeapStrategy);\n    options.comparator || (options.comparator = function(a, b) {\n      return (a || 0) - (b || 0);\n    });\n    PriorityQueue.__super__.constructor.call(this, options);\n  }\n\n  return PriorityQueue;\n\n})(AbstractPriorityQueue);\n\nPriorityQueue.ArrayStrategy = ArrayStrategy;\n\nPriorityQueue.BinaryHeapStrategy = BinaryHeapStrategy;\n\nPriorityQueue.BHeapStrategy = BHeapStrategy;\n\nmodule.exports = PriorityQueue;\n\n\n},{\"./PriorityQueue/AbstractPriorityQueue\":2,\"./PriorityQueue/ArrayStrategy\":3,\"./PriorityQueue/BHeapStrategy\":4,\"./PriorityQueue/BinaryHeapStrategy\":5}],2:[function(_dereq_,module,exports){\nvar AbstractPriorityQueue;\n\nmodule.exports = AbstractPriorityQueue = (function() {\n  function AbstractPriorityQueue(options) {\n    var ref;\n    if ((options != null ? options.strategy : void 0) == null) {\n      throw 'Must pass options.strategy, a strategy';\n    }\n    if ((options != null ? options.comparator : void 0) == null) {\n      throw 'Must pass options.comparator, a comparator';\n    }\n    this.priv = new options.strategy(options);\n    this.length = (options != null ? (ref = options.initialValues) != null ? ref.length : void 0 : void 0) || 0;\n  }\n\n  AbstractPriorityQueue.prototype.queue = function(value) {\n    this.length++;\n    this.priv.queue(value);\n    return void 0;\n  };\n\n  AbstractPriorityQueue.prototype.dequeue = function(value) {\n    if (!this.length) {\n      throw 'Empty queue';\n    }\n    this.length--;\n    return this.priv.dequeue();\n  };\n\n  AbstractPriorityQueue.prototype.peek = function(value) {\n    if (!this.length) {\n      throw 'Empty queue';\n    }\n    return this.priv.peek();\n  };\n\n  AbstractPriorityQueue.prototype.clear = function() {\n    this.length = 0;\n    return this.priv.clear();\n  };\n\n  return AbstractPriorityQueue;\n\n})();\n\n\n},{}],3:[function(_dereq_,module,exports){\nvar ArrayStrategy, binarySearchForIndexReversed;\n\nbinarySearchForIndexReversed = function(array, value, comparator) {\n  var high, low, mid;\n  low = 0;\n  high = array.length;\n  while (low < high) {\n    mid = (low + high) >>> 1;\n    if (comparator(array[mid], value) >= 0) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return low;\n};\n\nmodule.exports = ArrayStrategy = (function() {\n  function ArrayStrategy(options) {\n    var ref;\n    this.options = options;\n    this.comparator = this.options.comparator;\n    this.data = ((ref = this.options.initialValues) != null ? ref.slice(0) : void 0) || [];\n    this.data.sort(this.comparator).reverse();\n  }\n\n  ArrayStrategy.prototype.queue = function(value) {\n    var pos;\n    pos = binarySearchForIndexReversed(this.data, value, this.comparator);\n    this.data.splice(pos, 0, value);\n    return void 0;\n  };\n\n  ArrayStrategy.prototype.dequeue = function() {\n    return this.data.pop();\n  };\n\n  ArrayStrategy.prototype.peek = function() {\n    return this.data[this.data.length - 1];\n  };\n\n  ArrayStrategy.prototype.clear = function() {\n    this.data.length = 0;\n    return void 0;\n  };\n\n  return ArrayStrategy;\n\n})();\n\n\n},{}],4:[function(_dereq_,module,exports){\nvar BHeapStrategy;\n\nmodule.exports = BHeapStrategy = (function() {\n  function BHeapStrategy(options) {\n    var arr, i, j, k, len, ref, ref1, shift, value;\n    this.comparator = (options != null ? options.comparator : void 0) || function(a, b) {\n      return a - b;\n    };\n    this.pageSize = (options != null ? options.pageSize : void 0) || 512;\n    this.length = 0;\n    shift = 0;\n    while ((1 << shift) < this.pageSize) {\n      shift += 1;\n    }\n    if (1 << shift !== this.pageSize) {\n      throw 'pageSize must be a power of two';\n    }\n    this._shift = shift;\n    this._emptyMemoryPageTemplate = arr = [];\n    for (i = j = 0, ref = this.pageSize; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n      arr.push(null);\n    }\n    this._memory = [];\n    this._mask = this.pageSize - 1;\n    if (options.initialValues) {\n      ref1 = options.initialValues;\n      for (k = 0, len = ref1.length; k < len; k++) {\n        value = ref1[k];\n        this.queue(value);\n      }\n    }\n  }\n\n  BHeapStrategy.prototype.queue = function(value) {\n    this.length += 1;\n    this._write(this.length, value);\n    this._bubbleUp(this.length, value);\n    return void 0;\n  };\n\n  BHeapStrategy.prototype.dequeue = function() {\n    var ret, val;\n    ret = this._read(1);\n    val = this._read(this.length);\n    this.length -= 1;\n    if (this.length > 0) {\n      this._write(1, val);\n      this._bubbleDown(1, val);\n    }\n    return ret;\n  };\n\n  BHeapStrategy.prototype.peek = function() {\n    return this._read(1);\n  };\n\n  BHeapStrategy.prototype.clear = function() {\n    this.length = 0;\n    this._memory.length = 0;\n    return void 0;\n  };\n\n  BHeapStrategy.prototype._write = function(index, value) {\n    var page;\n    page = index >> this._shift;\n    while (page >= this._memory.length) {\n      this._memory.push(this._emptyMemoryPageTemplate.slice(0));\n    }\n    return this._memory[page][index & this._mask] = value;\n  };\n\n  BHeapStrategy.prototype._read = function(index) {\n    return this._memory[index >> this._shift][index & this._mask];\n  };\n\n  BHeapStrategy.prototype._bubbleUp = function(index, value) {\n    var compare, indexInPage, parentIndex, parentValue;\n    compare = this.comparator;\n    while (index > 1) {\n      indexInPage = index & this._mask;\n      if (index < this.pageSize || indexInPage > 3) {\n        parentIndex = (index & ~this._mask) | (indexInPage >> 1);\n      } else if (indexInPage < 2) {\n        parentIndex = (index - this.pageSize) >> this._shift;\n        parentIndex += parentIndex & ~(this._mask >> 1);\n        parentIndex |= this.pageSize >> 1;\n      } else {\n        parentIndex = index - 2;\n      }\n      parentValue = this._read(parentIndex);\n      if (compare(parentValue, value) < 0) {\n        break;\n      }\n      this._write(parentIndex, value);\n      this._write(index, parentValue);\n      index = parentIndex;\n    }\n    return void 0;\n  };\n\n  BHeapStrategy.prototype._bubbleDown = function(index, value) {\n    var childIndex1, childIndex2, childValue1, childValue2, compare;\n    compare = this.comparator;\n    while (index < this.length) {\n      if (index > this._mask && !(index & (this._mask - 1))) {\n        childIndex1 = childIndex2 = index + 2;\n      } else if (index & (this.pageSize >> 1)) {\n        childIndex1 = (index & ~this._mask) >> 1;\n        childIndex1 |= index & (this._mask >> 1);\n        childIndex1 = (childIndex1 + 1) << this._shift;\n        childIndex2 = childIndex1 + 1;\n      } else {\n        childIndex1 = index + (index & this._mask);\n        childIndex2 = childIndex1 + 1;\n      }\n      if (childIndex1 !== childIndex2 && childIndex2 <= this.length) {\n        childValue1 = this._read(childIndex1);\n        childValue2 = this._read(childIndex2);\n        if (compare(childValue1, value) < 0 && compare(childValue1, childValue2) <= 0) {\n          this._write(childIndex1, value);\n          this._write(index, childValue1);\n          index = childIndex1;\n        } else if (compare(childValue2, value) < 0) {\n          this._write(childIndex2, value);\n          this._write(index, childValue2);\n          index = childIndex2;\n        } else {\n          break;\n        }\n      } else if (childIndex1 <= this.length) {\n        childValue1 = this._read(childIndex1);\n        if (compare(childValue1, value) < 0) {\n          this._write(childIndex1, value);\n          this._write(index, childValue1);\n          index = childIndex1;\n        } else {\n          break;\n        }\n      } else {\n        break;\n      }\n    }\n    return void 0;\n  };\n\n  return BHeapStrategy;\n\n})();\n\n\n},{}],5:[function(_dereq_,module,exports){\nvar BinaryHeapStrategy;\n\nmodule.exports = BinaryHeapStrategy = (function() {\n  function BinaryHeapStrategy(options) {\n    var ref;\n    this.comparator = (options != null ? options.comparator : void 0) || function(a, b) {\n      return a - b;\n    };\n    this.length = 0;\n    this.data = ((ref = options.initialValues) != null ? ref.slice(0) : void 0) || [];\n    this._heapify();\n  }\n\n  BinaryHeapStrategy.prototype._heapify = function() {\n    var i, j, ref;\n    if (this.data.length > 0) {\n      for (i = j = 1, ref = this.data.length; 1 <= ref ? j < ref : j > ref; i = 1 <= ref ? ++j : --j) {\n        this._bubbleUp(i);\n      }\n    }\n    return void 0;\n  };\n\n  BinaryHeapStrategy.prototype.queue = function(value) {\n    this.data.push(value);\n    this._bubbleUp(this.data.length - 1);\n    return void 0;\n  };\n\n  BinaryHeapStrategy.prototype.dequeue = function() {\n    var last, ret;\n    ret = this.data[0];\n    last = this.data.pop();\n    if (this.data.length > 0) {\n      this.data[0] = last;\n      this._bubbleDown(0);\n    }\n    return ret;\n  };\n\n  BinaryHeapStrategy.prototype.peek = function() {\n    return this.data[0];\n  };\n\n  BinaryHeapStrategy.prototype.clear = function() {\n    this.length = 0;\n    this.data.length = 0;\n    return void 0;\n  };\n\n  BinaryHeapStrategy.prototype._bubbleUp = function(pos) {\n    var parent, x;\n    while (pos > 0) {\n      parent = (pos - 1) >>> 1;\n      if (this.comparator(this.data[pos], this.data[parent]) < 0) {\n        x = this.data[parent];\n        this.data[parent] = this.data[pos];\n        this.data[pos] = x;\n        pos = parent;\n      } else {\n        break;\n      }\n    }\n    return void 0;\n  };\n\n  BinaryHeapStrategy.prototype._bubbleDown = function(pos) {\n    var last, left, minIndex, right, x;\n    last = this.data.length - 1;\n    while (true) {\n      left = (pos << 1) + 1;\n      right = left + 1;\n      minIndex = pos;\n      if (left <= last && this.comparator(this.data[left], this.data[minIndex]) < 0) {\n        minIndex = left;\n      }\n      if (right <= last && this.comparator(this.data[right], this.data[minIndex]) < 0) {\n        minIndex = right;\n      }\n      if (minIndex !== pos) {\n        x = this.data[minIndex];\n        this.data[minIndex] = this.data[pos];\n        this.data[pos] = x;\n        pos = minIndex;\n      } else {\n        break;\n      }\n    }\n    return void 0;\n  };\n\n  return BinaryHeapStrategy;\n\n})();\n\n\n},{}]},{},[1])(1)\n});","/*\nThe MIT License (MIT)\nCopyright © 2006-2007 Kevin C. Olbrich\nCopyright © 2010-2016 LIM SAS (http://lim.eu) - Julien Sanchez\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\nof the Software, and to permit persons to whom the Software is furnished to do\nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Qty = factory());\n})(this, (function () { 'use strict';\n\n  /**\n   * Tests if a value is a string\n   *\n   * @param {*} value - Value to test\n   *\n   * @returns {boolean} true if value is a string, false otherwise\n   */\n  function isString(value) {\n    return typeof value === \"string\" || value instanceof String;\n  }\n\n  /*\n   * Prefer stricter Number.isFinite if currently supported.\n   * To be dropped when ES6 is finalized. Obsolete browsers will\n   * have to use ES6 polyfills.\n   */\n  var isFiniteImpl = Number.isFinite || window.isFinite;\n  /**\n   * Tests if a value is a number\n   *\n   * @param {*} value - Value to test\n   *\n   * @returns {boolean} true if value is a number, false otherwise\n   */\n  function isNumber(value) {\n    // Number.isFinite allows not to consider NaN or '1' as numbers\n    return isFiniteImpl(value);\n  }\n\n  /*\n   * Identity function\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * Returns unique strings from list\n   *\n   * @param {string[]} strings - array of strings\n   *\n   *\n   * @returns {string[]} a new array of strings without duplicates\n   */\n  function uniq(strings) {\n    var seen = {};\n    return strings.filter(function(item) {\n      return seen.hasOwnProperty(item) ? false : (seen[item] = true);\n    });\n  }\n\n  function compareArray(array1, array2) {\n    if (array2.length !== array1.length) {\n      return false;\n    }\n    for (var i = 0; i < array1.length; i++) {\n      if (array2[i].compareArray) {\n        if (!array2[i].compareArray(array1[i])) {\n          return false;\n        }\n      }\n      if (array2[i] !== array1[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function assign(target, properties) {\n    Object.keys(properties).forEach(function(key) {\n      target[key] = properties[key];\n    });\n  }\n\n  /**\n   * Safely multiplies numbers while avoiding floating errors\n   * like 0.1 * 0.1 => 0.010000000000000002\n   *\n   * @param {...number} numbers - numbers to multiply\n   *\n   * @returns {number} result\n   */\n  function mulSafe() {\n    var result = 1, decimals = 0;\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      decimals = decimals + getFractional(arg);\n      result *= arg;\n    }\n\n    return decimals !== 0 ? round(result, decimals) : result;\n  }\n\n  /**\n   * Safely divides two numbers while avoiding floating errors\n   * like 0.3 / 0.05 => 5.999999999999999\n   *\n   * @returns {number} result\n   * @param {number} num Numerator\n   * @param {number} den Denominator\n   */\n  function divSafe(num, den) {\n    if (den === 0) {\n      throw new Error(\"Divide by zero\");\n    }\n\n    var factor = Math.pow(10, getFractional(den));\n    var invDen = factor / (factor * den);\n\n    return mulSafe(num, invDen);\n  }\n\n  /**\n   * Rounds value at the specified number of decimals\n   *\n   * @param {number} val - value to round\n   * @param {number} decimals - number of decimals\n   *\n   * @returns {number} rounded number\n   */\n  function round(val, decimals) {\n    return Math.round(val * Math.pow(10, decimals)) / Math.pow(10, decimals);\n  }\n\n  function getFractional(num) {\n    // Check for NaNs or Infinities\n    if (!isFinite(num)) {\n      return 0;\n    }\n\n    // Faster than parsing strings\n    // http://jsperf.com/count-decimals/2\n    var count = 0;\n    while (num % 1 !== 0) {\n      num *= 10;\n      count++;\n    }\n    return count;\n  }\n\n  /**\n   * Custom error type definition\n   * @constructor\n   */\n  function QtyError() {\n    var err;\n    if (!this) { // Allows to instantiate QtyError without new()\n      err = Object.create(QtyError.prototype);\n      QtyError.apply(err, arguments);\n      return err;\n    }\n    err = Error.apply(this, arguments);\n    this.name = \"QtyError\";\n    this.message = err.message;\n    this.stack = err.stack;\n  }\n  QtyError.prototype = Object.create(Error.prototype, {constructor: { value: QtyError }});\n\n  /*\n   * Throws incompatible units error\n   * @param {string} left - units\n   * @param {string} right - units incompatible with first argument\n   * @throws \"Incompatible units\" error\n   */\n  function throwIncompatibleUnits(left, right) {\n    throw new QtyError(\"Incompatible units: \" + left + \" and \" + right);\n  }\n\n  var UNITS = {\n    /* prefixes */\n    \"<googol>\" : [[\"googol\"], 1e100, \"prefix\"],\n    \"<kibi>\"  :  [[\"Ki\",\"Kibi\",\"kibi\"], Math.pow(2,10), \"prefix\"],\n    \"<mebi>\"  :  [[\"Mi\",\"Mebi\",\"mebi\"], Math.pow(2,20), \"prefix\"],\n    \"<gibi>\"  :  [[\"Gi\",\"Gibi\",\"gibi\"], Math.pow(2,30), \"prefix\"],\n    \"<tebi>\"  :  [[\"Ti\",\"Tebi\",\"tebi\"], Math.pow(2,40), \"prefix\"],\n    \"<pebi>\"  :  [[\"Pi\",\"Pebi\",\"pebi\"], Math.pow(2,50), \"prefix\"],\n    \"<exi>\"   :  [[\"Ei\",\"Exi\",\"exi\"], Math.pow(2,60), \"prefix\"],\n    \"<zebi>\"  :  [[\"Zi\",\"Zebi\",\"zebi\"], Math.pow(2,70), \"prefix\"],\n    \"<yebi>\"  :  [[\"Yi\",\"Yebi\",\"yebi\"], Math.pow(2,80), \"prefix\"],\n    \"<yotta>\" :  [[\"Y\",\"Yotta\",\"yotta\"], 1e24, \"prefix\"],\n    \"<zetta>\" :  [[\"Z\",\"Zetta\",\"zetta\"], 1e21, \"prefix\"],\n    \"<exa>\"   :  [[\"E\",\"Exa\",\"exa\"], 1e18, \"prefix\"],\n    \"<peta>\"  :  [[\"P\",\"Peta\",\"peta\"], 1e15, \"prefix\"],\n    \"<tera>\"  :  [[\"T\",\"Tera\",\"tera\"], 1e12, \"prefix\"],\n    \"<giga>\"  :  [[\"G\",\"Giga\",\"giga\"], 1e9, \"prefix\"],\n    \"<mega>\"  :  [[\"M\",\"Mega\",\"mega\"], 1e6, \"prefix\"],\n    \"<kilo>\"  :  [[\"k\",\"kilo\"], 1e3, \"prefix\"],\n    \"<hecto>\" :  [[\"h\",\"Hecto\",\"hecto\"], 1e2, \"prefix\"],\n    \"<deca>\"  :  [[\"da\",\"Deca\",\"deca\",\"deka\"], 1e1, \"prefix\"],\n    \"<deci>\"  :  [[\"d\",\"Deci\",\"deci\"], 1e-1, \"prefix\"],\n    \"<centi>\"  : [[\"c\",\"Centi\",\"centi\"], 1e-2, \"prefix\"],\n    \"<milli>\" :  [[\"m\",\"Milli\",\"milli\"], 1e-3, \"prefix\"],\n    \"<micro>\"  : [\n      [\"u\",\"\\u03BC\"/*µ as greek letter*/,\"\\u00B5\"/*µ as micro sign*/,\"Micro\",\"mc\",\"micro\"],\n      1e-6,\n      \"prefix\"\n    ],\n    \"<nano>\"  :  [[\"n\",\"Nano\",\"nano\"], 1e-9, \"prefix\"],\n    \"<pico>\"  :  [[\"p\",\"Pico\",\"pico\"], 1e-12, \"prefix\"],\n    \"<femto>\" :  [[\"f\",\"Femto\",\"femto\"], 1e-15, \"prefix\"],\n    \"<atto>\"  :  [[\"a\",\"Atto\",\"atto\"], 1e-18, \"prefix\"],\n    \"<zepto>\" :  [[\"z\",\"Zepto\",\"zepto\"], 1e-21, \"prefix\"],\n    \"<yocto>\" :  [[\"y\",\"Yocto\",\"yocto\"], 1e-24, \"prefix\"],\n\n    \"<1>\"     :  [[\"1\", \"<1>\"], 1, \"\"],\n    /* length units */\n    \"<meter>\" :  [[\"m\",\"meter\",\"meters\",\"metre\",\"metres\"], 1.0, \"length\", [\"<meter>\"] ],\n    \"<inch>\"  :  [[\"in\",\"inch\",\"inches\",\"\\\"\"], 0.0254, \"length\", [\"<meter>\"]],\n    \"<foot>\"  :  [[\"ft\",\"foot\",\"feet\",\"'\"], 0.3048, \"length\", [\"<meter>\"]],\n    \"<yard>\"  :  [[\"yd\",\"yard\",\"yards\"], 0.9144, \"length\", [\"<meter>\"]],\n    \"<mile>\"  :  [[\"mi\",\"mile\",\"miles\"], 1609.344, \"length\", [\"<meter>\"]],\n    \"<naut-mile>\" : [[\"nmi\",\"naut-mile\"], 1852, \"length\", [\"<meter>\"]],\n    \"<league>\":  [[\"league\",\"leagues\"], 4828, \"length\", [\"<meter>\"]],\n    \"<furlong>\": [[\"furlong\",\"furlongs\"], 201.2, \"length\", [\"<meter>\"]],\n    \"<rod>\"   :  [[\"rd\",\"rod\",\"rods\"], 5.029, \"length\", [\"<meter>\"]],\n    \"<mil>\"   :  [[\"mil\",\"mils\"], 0.0000254, \"length\", [\"<meter>\"]],\n    \"<angstrom>\"  :[[\"ang\",\"angstrom\",\"angstroms\"], 1e-10, \"length\", [\"<meter>\"]],\n    \"<fathom>\" : [[\"fathom\",\"fathoms\"], 1.829, \"length\", [\"<meter>\"]],\n    \"<pica>\"  : [[\"pica\",\"picas\"], 0.00423333333, \"length\", [\"<meter>\"]],\n    \"<point>\" : [[\"pt\",\"point\",\"points\"], 0.000352777778, \"length\", [\"<meter>\"]],\n    \"<redshift>\" : [[\"z\",\"red-shift\", \"redshift\"], 1.302773e26, \"length\", [\"<meter>\"]],\n    \"<AU>\"    : [[\"AU\",\"astronomical-unit\"], 149597900000, \"length\", [\"<meter>\"]],\n    \"<light-second>\":[[\"ls\",\"light-second\"], 299792500, \"length\", [\"<meter>\"]],\n    \"<light-minute>\":[[\"lmin\",\"light-minute\"], 17987550000, \"length\", [\"<meter>\"]],\n    \"<light-year>\" : [[\"ly\",\"light-year\"], 9460528000000000, \"length\", [\"<meter>\"]],\n    \"<parsec>\"  : [[\"pc\",\"parsec\",\"parsecs\"], 30856780000000000, \"length\", [\"<meter>\"]],\n    \"<datamile>\"  :  [[\"DM\",\"datamile\"], 1828.8, \"length\", [\"<meter>\"]],\n\n    /* mass */\n    \"<kilogram>\" : [[\"kg\",\"kilogram\",\"kilograms\"], 1.0, \"mass\", [\"<kilogram>\"]],\n    \"<AMU>\" : [[\"u\",\"AMU\",\"amu\"], 1.660538921e-27, \"mass\", [\"<kilogram>\"]],\n    \"<dalton>\" : [[\"Da\",\"Dalton\",\"Daltons\",\"dalton\",\"daltons\"], 1.660538921e-27, \"mass\", [\"<kilogram>\"]],\n    \"<slug>\" : [[\"slug\",\"slugs\"], 14.5939029, \"mass\", [\"<kilogram>\"]],\n    \"<short-ton>\" : [[\"tn\",\"ton\",\"short-ton\"], 907.18474, \"mass\", [\"<kilogram>\"]],\n    \"<metric-ton>\":[[\"t\",\"tonne\",\"metric-ton\"], 1000, \"mass\", [\"<kilogram>\"]],\n    \"<carat>\" : [[\"ct\",\"carat\",\"carats\"], 0.0002, \"mass\", [\"<kilogram>\"]],\n    \"<pound>\" : [[\"lbs\",\"lb\",\"pound\",\"pounds\",\"#\"], 0.45359237, \"mass\", [\"<kilogram>\"]],\n    \"<ounce>\" : [[\"oz\",\"ounce\",\"ounces\"], 0.0283495231, \"mass\", [\"<kilogram>\"]],\n    \"<gram>\"    :  [[\"g\",\"gram\",\"grams\",\"gramme\",\"grammes\"], 1e-3, \"mass\", [\"<kilogram>\"]],\n    \"<grain>\" : [[\"grain\",\"grains\",\"gr\"], 6.479891e-5, \"mass\", [\"<kilogram>\"]],\n    \"<dram>\"  : [[\"dram\",\"drams\",\"dr\"], 0.0017718452, \"mass\",[\"<kilogram>\"]],\n    \"<stone>\" : [[\"stone\",\"stones\",\"st\"],6.35029318, \"mass\",[\"<kilogram>\"]],\n\n    /* area */\n    \"<hectare>\":[[\"hectare\"], 10000, \"area\", [\"<meter>\",\"<meter>\"]],\n    \"<acre>\":[[\"acre\",\"acres\"], 4046.85642, \"area\", [\"<meter>\",\"<meter>\"]],\n    \"<sqft>\":[[\"sqft\"], 1, \"area\", [\"<foot>\",\"<foot>\"]],\n\n    /* volume */\n    \"<liter>\" : [[\"l\",\"L\",\"liter\",\"liters\",\"litre\",\"litres\"], 0.001, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<gallon>\":  [[\"gal\",\"gallon\",\"gallons\"], 0.0037854118, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<gallon-imp>\":  [[\"galimp\",\"gallon-imp\",\"gallons-imp\"], 0.0045460900, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<quart>\":  [[\"qt\",\"quart\",\"quarts\"], 0.00094635295, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<pint>\":  [[\"pt\",\"pint\",\"pints\"], 0.000473176475, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<pint-imp>\":  [[\"ptimp\",\"pint-imp\",\"pints-imp\"], 5.6826125e-4, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<cup>\":  [[\"cu\",\"cup\",\"cups\"], 0.000236588238, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<fluid-ounce>\":  [[\"floz\",\"fluid-ounce\",\"fluid-ounces\"], 2.95735297e-5, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<fluid-ounce-imp>\":  [[\"flozimp\", \"floz-imp\",\"fluid-ounce-imp\",\"fluid-ounces-imp\"], 2.84130625e-5, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<tablespoon>\":  [[\"tb\",\"tbsp\",\"tbs\",\"tablespoon\",\"tablespoons\"], 1.47867648e-5, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<teaspoon>\":  [[\"tsp\",\"teaspoon\",\"teaspoons\"], 4.92892161e-6, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<bushel>\":  [[\"bu\",\"bsh\",\"bushel\",\"bushels\"], 0.035239072, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<oilbarrel>\":  [[\"bbl\",\"oilbarrel\", \"oilbarrels\", \"oil-barrel\",\"oil-barrels\"], 0.158987294928, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<beerbarrel>\":  [[\"bl\",\"bl-us\",\"beerbarrel\", \"beerbarrels\", \"beer-barrel\",\"beer-barrels\"], 0.1173477658, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<beerbarrel-imp>\":  [[\"blimp\",\"bl-imp\",\"beerbarrel-imp\", \"beerbarrels-imp\", \"beer-barrel-imp\",\"beer-barrels-imp\"], 0.16365924, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n\n    /* speed */\n    \"<kph>\" : [[\"kph\"], 0.277777778, \"speed\", [\"<meter>\"], [\"<second>\"]],\n    \"<mph>\" : [[\"mph\"], 0.44704, \"speed\", [\"<meter>\"], [\"<second>\"]],\n    \"<knot>\" : [[\"kt\",\"kn\",\"kts\",\"knot\",\"knots\"], 0.514444444, \"speed\", [\"<meter>\"], [\"<second>\"]],\n    \"<fps>\"  : [[\"fps\"], 0.3048, \"speed\", [\"<meter>\"], [\"<second>\"]],\n\n    /* acceleration */\n    \"<gee>\" : [[\"gee\"], 9.80665, \"acceleration\", [\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<Gal>\" : [[\"Gal\"], 1e-2, \"acceleration\", [\"<meter>\"], [\"<second>\",\"<second>\"]],\n\n    /* temperature_difference */\n    \"<kelvin>\" : [[\"degK\",\"kelvin\"], 1.0, \"temperature\", [\"<kelvin>\"]],\n    \"<celsius>\" : [[\"degC\",\"celsius\",\"celsius\",\"centigrade\"], 1.0, \"temperature\", [\"<kelvin>\"]],\n    \"<fahrenheit>\" : [[\"degF\",\"fahrenheit\"], 5 / 9, \"temperature\", [\"<kelvin>\"]],\n    \"<rankine>\" : [[\"degR\",\"rankine\"], 5 / 9, \"temperature\", [\"<kelvin>\"]],\n    \"<temp-K>\"  : [[\"tempK\",\"temp-K\"], 1.0, \"temperature\", [\"<temp-K>\"]],\n    \"<temp-C>\"  : [[\"tempC\",\"temp-C\"], 1.0, \"temperature\", [\"<temp-K>\"]],\n    \"<temp-F>\"  : [[\"tempF\",\"temp-F\"], 5 / 9, \"temperature\", [\"<temp-K>\"]],\n    \"<temp-R>\"  : [[\"tempR\",\"temp-R\"], 5 / 9, \"temperature\", [\"<temp-K>\"]],\n\n    /* time */\n    \"<second>\":  [[\"s\",\"sec\",\"secs\",\"second\",\"seconds\"], 1.0, \"time\", [\"<second>\"]],\n    \"<minute>\":  [[\"min\",\"mins\",\"minute\",\"minutes\"], 60.0, \"time\", [\"<second>\"]],\n    \"<hour>\":  [[\"h\",\"hr\",\"hrs\",\"hour\",\"hours\"], 3600.0, \"time\", [\"<second>\"]],\n    \"<day>\":  [[\"d\",\"day\",\"days\"], 3600 * 24, \"time\", [\"<second>\"]],\n    \"<week>\":  [[\"wk\",\"week\",\"weeks\"], 7 * 3600 * 24, \"time\", [\"<second>\"]],\n    \"<fortnight>\": [[\"fortnight\",\"fortnights\"], 1209600, \"time\", [\"<second>\"]],\n    \"<year>\":  [[\"y\",\"yr\",\"year\",\"years\",\"annum\"], 31556926, \"time\", [\"<second>\"]],\n    \"<decade>\":[[\"decade\",\"decades\"], 315569260, \"time\", [\"<second>\"]],\n    \"<century>\":[[\"century\",\"centuries\"], 3155692600, \"time\", [\"<second>\"]],\n\n    /* pressure */\n    \"<pascal>\" : [[\"Pa\",\"pascal\",\"Pascal\"], 1.0, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<bar>\" : [[\"bar\",\"bars\"], 100000, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<mmHg>\" : [[\"mmHg\"], 133.322368, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<inHg>\" : [[\"inHg\"], 3386.3881472, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<torr>\" : [[\"torr\"], 133.322368, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<atm>\" : [[\"atm\",\"ATM\",\"atmosphere\",\"atmospheres\"], 101325, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<psi>\" : [[\"psi\"], 6894.76, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<cmh2o>\" : [[\"cmH2O\",\"cmh2o\"], 98.0638, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<inh2o>\" : [[\"inH2O\",\"inh2o\"], 249.082052, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n\n    /* viscosity */\n    \"<poise>\"  : [[\"P\",\"poise\"], 0.1, \"viscosity\", [\"<kilogram>\"],[\"<meter>\",\"<second>\"] ],\n    \"<stokes>\" : [[\"St\",\"stokes\"], 1e-4, \"viscosity\", [\"<meter>\",\"<meter>\"], [\"<second>\"]],\n\n    /* substance */\n    \"<mole>\"  :  [[\"mol\",\"mole\"], 1.0, \"substance\", [\"<mole>\"]],\n\n    /* molar_concentration */\n    \"<molar>\" : [[\"M\",\"molar\"], 1000, \"molar_concentration\", [\"<mole>\"], [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<wtpercent>\"  : [[\"wt%\",\"wtpercent\"], 10, \"molar_concentration\", [\"<kilogram>\"], [\"<meter>\",\"<meter>\",\"<meter>\"]],\n\n    /* activity */\n    \"<katal>\" :  [[\"kat\",\"katal\",\"Katal\"], 1.0, \"activity\", [\"<mole>\"], [\"<second>\"]],\n    \"<unit>\"  :  [[\"U\",\"enzUnit\",\"unit\"], 16.667e-16, \"activity\", [\"<mole>\"], [\"<second>\"]],\n\n    /* capacitance */\n    \"<farad>\" :  [[\"F\",\"farad\",\"Farad\"], 1.0, \"capacitance\", [\"<second>\",\"<second>\",\"<second>\",\"<second>\",\"<ampere>\",\"<ampere>\"], [\"<meter>\", \"<meter>\", \"<kilogram>\"]],\n\n    /* charge */\n    \"<coulomb>\" :  [[\"C\",\"coulomb\",\"Coulomb\"], 1.0, \"charge\", [\"<ampere>\",\"<second>\"]],\n    \"<Ah>\" :  [[\"Ah\"], 3600, \"charge\", [\"<ampere>\",\"<second>\"]],\n\n    /* current */\n    \"<ampere>\"  :  [[\"A\",\"Ampere\",\"ampere\",\"amp\",\"amps\"], 1.0, \"current\", [\"<ampere>\"]],\n\n    /* conductance */\n    \"<siemens>\" : [[\"S\",\"Siemens\",\"siemens\"], 1.0, \"conductance\", [\"<second>\",\"<second>\",\"<second>\",\"<ampere>\",\"<ampere>\"], [\"<kilogram>\",\"<meter>\",\"<meter>\"]],\n\n    /* inductance */\n    \"<henry>\" :  [[\"H\",\"Henry\",\"henry\"], 1.0, \"inductance\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\",\"<ampere>\"]],\n\n    /* potential */\n    \"<volt>\"  :  [[\"V\",\"Volt\",\"volt\",\"volts\"], 1.0, \"potential\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\",\"<second>\",\"<ampere>\"]],\n\n    /* resistance */\n    \"<ohm>\" :  [\n      [\"Ohm\",\"ohm\",\"\\u03A9\"/*Ω as greek letter*/,\"\\u2126\"/*Ω as ohm sign*/],\n      1.0,\n      \"resistance\",\n      [\"<meter>\",\"<meter>\",\"<kilogram>\"],[\"<second>\",\"<second>\",\"<second>\",\"<ampere>\",\"<ampere>\"]\n    ],\n    /* magnetism */\n    \"<weber>\" : [[\"Wb\",\"weber\",\"webers\"], 1.0, \"magnetism\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\"]],\n    \"<tesla>\"  : [[\"T\",\"tesla\",\"teslas\"], 1.0, \"magnetism\", [\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\"]],\n    \"<gauss>\" : [[\"G\",\"gauss\"], 1e-4, \"magnetism\",  [\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\"]],\n    \"<maxwell>\" : [[\"Mx\",\"maxwell\",\"maxwells\"], 1e-8, \"magnetism\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\"]],\n    \"<oersted>\"  : [[\"Oe\",\"oersted\",\"oersteds\"], 250.0 / Math.PI, \"magnetism\", [\"<ampere>\"], [\"<meter>\"]],\n\n    /* energy */\n    \"<joule>\" :  [[\"J\",\"joule\",\"Joule\",\"joules\",\"Joules\"], 1.0, \"energy\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<erg>\"   :  [[\"erg\",\"ergs\"], 1e-7, \"energy\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<btu>\"   :  [[\"BTU\",\"btu\",\"BTUs\"], 1055.056, \"energy\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<calorie>\" :  [[\"cal\",\"calorie\",\"calories\"], 4.18400, \"energy\",[\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<Calorie>\" :  [[\"Cal\",\"Calorie\",\"Calories\"], 4184.00, \"energy\",[\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<therm-US>\" : [[\"th\",\"therm\",\"therms\",\"Therm\",\"therm-US\"], 105480400, \"energy\",[\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<Wh>\" : [[\"Wh\"], 3600, \"energy\",[\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<electronvolt>\" : [[\"eV\", \"electronvolt\", \"electronvolts\"], 1.602176634E-19, \"energy\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n\n    /* force */\n    \"<newton>\"  : [[\"N\",\"Newton\",\"newton\"], 1.0, \"force\", [\"<kilogram>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<dyne>\"  : [[\"dyn\",\"dyne\"], 1e-5, \"force\", [\"<kilogram>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<pound-force>\"  : [[\"lbf\",\"pound-force\"], 4.448222, \"force\", [\"<kilogram>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n\n    /* frequency */\n    \"<hertz>\" : [[\"Hz\",\"hertz\",\"Hertz\"], 1.0, \"frequency\", [\"<1>\"], [\"<second>\"]],\n\n    /* angle */\n    \"<radian>\" :[[\"rad\",\"radian\",\"radians\"], 1.0, \"angle\", [\"<radian>\"]],\n    \"<degree>\" :[[\"deg\",\"degree\",\"degrees\"], Math.PI / 180.0, \"angle\", [\"<radian>\"]],\n    \"<arcminute>\" :[[\"arcmin\",\"arcminute\",\"arcminutes\"], Math.PI / 10800.0, \"angle\", [\"<radian>\"]],\n    \"<arcsecond>\" :[[\"arcsec\",\"arcsecond\",\"arcseconds\"], Math.PI / 648000.0, \"angle\", [\"<radian>\"]],\n    \"<gradian>\"   :[[\"gon\",\"grad\",\"gradian\",\"grads\"], Math.PI / 200.0, \"angle\", [\"<radian>\"]],\n    \"<steradian>\"  : [[\"sr\",\"steradian\",\"steradians\"], 1.0, \"solid_angle\", [\"<steradian>\"]],\n\n    /* rotation */\n    \"<rotation>\" : [[\"rotation\"], 2.0 * Math.PI, \"angle\", [\"<radian>\"]],\n    \"<rpm>\"   :[[\"rpm\"], 2.0 * Math.PI / 60.0, \"angular_velocity\", [\"<radian>\"], [\"<second>\"]],\n\n    /* information */\n    \"<byte>\"  :[[\"B\",\"byte\",\"bytes\"], 1.0, \"information\", [\"<byte>\"]],\n    \"<bit>\"  :[[\"b\",\"bit\",\"bits\"], 0.125, \"information\", [\"<byte>\"]],\n\n    /* information rate */\n    \"<Bps>\" : [[\"Bps\"], 1.0, \"information_rate\", [\"<byte>\"], [\"<second>\"]],\n    \"<bps>\" : [[\"bps\"], 0.125, \"information_rate\", [\"<byte>\"], [\"<second>\"]],\n\n    /* currency */\n    \"<dollar>\":[[\"USD\",\"dollar\"], 1.0, \"currency\", [\"<dollar>\"]],\n    \"<cents>\" :[[\"cents\"], 0.01, \"currency\", [\"<dollar>\"]],\n\n    /* luminosity */\n    \"<candela>\" : [[\"cd\",\"candela\"], 1.0, \"luminosity\", [\"<candela>\"]],\n    \"<lumen>\" : [[\"lm\",\"lumen\"], 1.0, \"luminous_power\", [\"<candela>\",\"<steradian>\"]],\n    \"<lux>\" :[[\"lux\"], 1.0, \"illuminance\", [\"<candela>\",\"<steradian>\"], [\"<meter>\",\"<meter>\"]],\n\n    /* power */\n    \"<watt>\"  : [[\"W\",\"watt\",\"watts\"], 1.0, \"power\", [\"<kilogram>\",\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\",\"<second>\"]],\n    \"<volt-ampere>\"  : [[\"VA\",\"volt-ampere\"], 1.0, \"power\", [\"<kilogram>\",\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\",\"<second>\"]],\n    \"<volt-ampere-reactive>\"  : [[\"var\",\"Var\",\"VAr\",\"VAR\",\"volt-ampere-reactive\"], 1.0, \"power\", [\"<kilogram>\",\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\",\"<second>\"]],\n    \"<horsepower>\"  :  [[\"hp\",\"horsepower\"], 745.699872, \"power\", [\"<kilogram>\",\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\",\"<second>\"]],\n\n    /* radiation */\n    \"<gray>\" : [[\"Gy\",\"gray\",\"grays\"], 1.0, \"radiation\", [\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<roentgen>\" : [[\"R\",\"roentgen\"], 0.009330, \"radiation\", [\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<sievert>\" : [[\"Sv\",\"sievert\",\"sieverts\"], 1.0, \"radiation\", [\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<becquerel>\" : [[\"Bq\",\"becquerel\",\"becquerels\"], 1.0, \"radiation\", [\"<1>\"],[\"<second>\"]],\n    \"<curie>\" : [[\"Ci\",\"curie\",\"curies\"], 3.7e10, \"radiation\", [\"<1>\"],[\"<second>\"]],\n\n    /* rate */\n    \"<cpm>\" : [[\"cpm\"], 1.0 / 60.0, \"rate\", [\"<count>\"],[\"<second>\"]],\n    \"<dpm>\" : [[\"dpm\"], 1.0 / 60.0, \"rate\", [\"<count>\"],[\"<second>\"]],\n    \"<bpm>\" : [[\"bpm\"], 1.0 / 60.0, \"rate\", [\"<count>\"],[\"<second>\"]],\n\n    /* resolution / typography */\n    \"<dot>\" : [[\"dot\",\"dots\"], 1, \"resolution\", [\"<each>\"]],\n    \"<pixel>\" : [[\"pixel\",\"px\"], 1, \"resolution\", [\"<each>\"]],\n    \"<ppi>\" : [[\"ppi\"], 1, \"resolution\", [\"<pixel>\"], [\"<inch>\"]],\n    \"<dpi>\" : [[\"dpi\"], 1, \"typography\", [\"<dot>\"], [\"<inch>\"]],\n\n    /* other */\n    \"<cell>\" : [[\"cells\",\"cell\"], 1, \"counting\", [\"<each>\"]],\n    \"<each>\" : [[\"each\"], 1.0, \"counting\", [\"<each>\"]],\n    \"<count>\" : [[\"count\"], 1.0, \"counting\", [\"<each>\"]],\n    \"<base-pair>\"  : [[\"bp\",\"base-pair\"], 1.0, \"counting\", [\"<each>\"]],\n    \"<nucleotide>\" : [[\"nt\",\"nucleotide\"], 1.0, \"counting\", [\"<each>\"]],\n    \"<molecule>\" : [[\"molecule\",\"molecules\"], 1.0, \"counting\", [\"<1>\"]],\n    \"<dozen>\" :  [[\"doz\",\"dz\",\"dozen\"],12.0,\"prefix_only\", [\"<each>\"]],\n    \"<percent>\": [[\"%\",\"percent\"], 0.01, \"prefix_only\", [\"<1>\"]],\n    \"<ppm>\" :  [[\"ppm\"],1e-6, \"prefix_only\", [\"<1>\"]],\n    \"<ppb>\" :  [[\"ppb\"],1e-9, \"prefix_only\", [\"<1>\"]],\n    \"<ppt>\" :  [[\"ppt\"],1e-12, \"prefix_only\", [\"<1>\"]],\n    \"<ppq>\" :  [[\"ppq\"],1e-15, \"prefix_only\", [\"<1>\"]],\n    \"<gross>\" :  [[\"gr\",\"gross\"],144.0, \"prefix_only\", [\"<dozen>\",\"<dozen>\"]],\n    \"<decibel>\"  : [[\"dB\",\"decibel\",\"decibels\"], 1.0, \"logarithmic\", [\"<decibel>\"]]\n  };\n\n  var BASE_UNITS = [\"<meter>\",\"<kilogram>\",\"<second>\",\"<mole>\", \"<ampere>\",\"<radian>\",\"<kelvin>\",\"<temp-K>\",\"<byte>\",\"<dollar>\",\"<candela>\",\"<each>\",\"<steradian>\",\"<decibel>\"];\n\n  var UNITY = \"<1>\";\n  var UNITY_ARRAY = [UNITY];\n\n  // Setup\n\n  /**\n   * Asserts unit definition is valid\n   *\n   * @param {string} unitDef - Name of unit to test\n   * @param {Object} definition - Definition of unit to test\n   *\n   * @returns {void}\n   * @throws {QtyError} if unit definition is not valid\n   */\n  function validateUnitDefinition(unitDef, definition) {\n    var scalar = definition[1];\n    var numerator = definition[3] || [];\n    var denominator = definition[4] || [];\n    if (!isNumber(scalar)) {\n      throw new QtyError(unitDef + \": Invalid unit definition. \" +\n                         \"'scalar' must be a number\");\n    }\n\n    numerator.forEach(function(unit) {\n      if (UNITS[unit] === undefined) {\n        throw new QtyError(unitDef + \": Invalid unit definition. \" +\n                           \"Unit \" + unit + \" in 'numerator' is not recognized\");\n      }\n    });\n\n    denominator.forEach(function(unit) {\n      if (UNITS[unit] === undefined) {\n        throw new QtyError(unitDef + \": Invalid unit definition. \" +\n                           \"Unit \" + unit + \" in 'denominator' is not recognized\");\n      }\n    });\n  }\n\n  var PREFIX_VALUES = {};\n  var PREFIX_MAP = {};\n  var UNIT_VALUES = {};\n  var UNIT_MAP = {};\n  var OUTPUT_MAP = {};\n  for (var unitDef in UNITS) {\n    if (UNITS.hasOwnProperty(unitDef)) {\n      var definition = UNITS[unitDef];\n      if (definition[2] === \"prefix\") {\n        PREFIX_VALUES[unitDef] = definition[1];\n        for (var i = 0; i < definition[0].length; i++) {\n          PREFIX_MAP[definition[0][i]] = unitDef;\n        }\n      }\n      else {\n        validateUnitDefinition(unitDef, definition);\n        UNIT_VALUES[unitDef] = {\n          scalar: definition[1],\n          numerator: definition[3],\n          denominator: definition[4]\n        };\n        for (var j = 0; j < definition[0].length; j++) {\n          UNIT_MAP[definition[0][j]] = unitDef;\n        }\n      }\n      OUTPUT_MAP[unitDef] = definition[0][0];\n    }\n  }\n\n  /**\n   * Returns a list of available units of kind\n   *\n   * @param {string} [kind] - kind of units\n   * @returns {array} names of units\n   * @throws {QtyError} if kind is unknown\n   */\n  function getUnits(kind) {\n    var i;\n    var units = [];\n    var unitKeys = Object.keys(UNITS);\n    if (typeof kind === \"undefined\") {\n      for (i = 0; i < unitKeys.length; i++) {\n        if ([\"\", \"prefix\"].indexOf(UNITS[unitKeys[i]][2]) === -1) {\n          units.push(unitKeys[i].substr(1, unitKeys[i].length - 2));\n        }\n      }\n    }\n    else if (this.getKinds().indexOf(kind) === -1) {\n      throw new QtyError(\"Kind not recognized\");\n    }\n    else {\n      for (i = 0; i < unitKeys.length; i++) {\n        if (UNITS[unitKeys[i]][2] === kind) {\n          units.push(unitKeys[i].substr(1, unitKeys[i].length - 2));\n        }\n      }\n    }\n\n    return units.sort(function(a, b) {\n      if (a.toLowerCase() < b.toLowerCase()) {\n        return -1;\n      }\n      if (a.toLowerCase() > b.toLowerCase()) {\n        return 1;\n      }\n      return 0;\n    });\n  }\n\n  /**\n   * Returns a list of alternative names for a unit\n   *\n   * @param {string} unitName - name of unit\n   * @returns {string[]} aliases for unit\n   * @throws {QtyError} if unit is unknown\n   */\n  function getAliases(unitName) {\n    if (!UNIT_MAP[unitName]) {\n      throw new QtyError(\"Unit not recognized\");\n    }\n    return UNITS[UNIT_MAP[unitName]][0];\n  }\n\n  var SIGNATURE_VECTOR = [\"length\", \"time\", \"temperature\", \"mass\", \"current\", \"substance\", \"luminosity\", \"currency\", \"information\", \"angle\"];\n\n  /*\n  calculates the unit signature id for use in comparing compatible units and simplification\n  the signature is based on a simple classification of units and is based on the following publication\n\n  Novak, G.S., Jr. \"Conversion of units of measurement\", IEEE Transactions on Software Engineering,\n  21(8), Aug 1995, pp.651-661\n  doi://10.1109/32.403789\n  http://ieeexplore.ieee.org/Xplore/login.jsp?url=/iel1/32/9079/00403789.pdf?isnumber=9079&prod=JNL&arnumber=403789&arSt=651&ared=661&arAuthor=Novak%2C+G.S.%2C+Jr.\n  */\n  function unitSignature() {\n    if (this.signature) {\n      return this.signature;\n    }\n    var vector = unitSignatureVector.call(this);\n    for (var i = 0; i < vector.length; i++) {\n      vector[i] *= Math.pow(20, i);\n    }\n\n    return vector.reduce(\n      function(previous, current) {\n        return previous + current;\n      },\n      0\n    );\n  }\n\n  // calculates the unit signature vector used by unit_signature\n  function unitSignatureVector() {\n    if (!this.isBase()) {\n      return unitSignatureVector.call(this.toBase());\n    }\n\n    var vector = new Array(SIGNATURE_VECTOR.length);\n    for (var i = 0; i < vector.length; i++) {\n      vector[i] = 0;\n    }\n    var r, n;\n    for (var j = 0; j < this.numerator.length; j++) {\n      if ((r = UNITS[this.numerator[j]])) {\n        n = SIGNATURE_VECTOR.indexOf(r[2]);\n        if (n >= 0) {\n          vector[n] = vector[n] + 1;\n        }\n      }\n    }\n\n    for (var k = 0; k < this.denominator.length; k++) {\n      if ((r = UNITS[this.denominator[k]])) {\n        n = SIGNATURE_VECTOR.indexOf(r[2]);\n        if (n >= 0) {\n          vector[n] = vector[n] - 1;\n        }\n      }\n    }\n    return vector;\n  }\n\n  var SIGN = \"[+-]\";\n  var INTEGER = \"\\\\d+\";\n  var SIGNED_INTEGER = SIGN + \"?\" + INTEGER;\n  var FRACTION = \"\\\\.\" + INTEGER;\n  var FLOAT = \"(?:\" + INTEGER + \"(?:\" + FRACTION + \")?\" + \")\" +\n              \"|\" +\n              \"(?:\" + FRACTION + \")\";\n  var EXPONENT = \"[Ee]\" + SIGNED_INTEGER;\n  var SCI_NUMBER = \"(?:\" + FLOAT + \")(?:\" + EXPONENT + \")?\";\n  var SIGNED_NUMBER = SIGN + \"?\\\\s*\" + SCI_NUMBER;\n  var QTY_STRING = \"(\" + SIGNED_NUMBER + \")?\" + \"\\\\s*([^/]*)(?:\\/(.+))?\";\n  var QTY_STRING_REGEX = new RegExp(\"^\" + QTY_STRING + \"$\");\n\n  var POWER_OP = \"\\\\^|\\\\*{2}\";\n  // Allow unit powers representing scalar, length, area, volume; 4 is for some\n  // special case representations in SI base units.\n  var SAFE_POWER = \"[01234]\";\n  var TOP_REGEX = new RegExp (\"([^ \\\\*\\\\d]+?)(?:\" + POWER_OP + \")?(-?\" + SAFE_POWER + \"(?![a-zA-Z]))\");\n  var BOTTOM_REGEX = new RegExp(\"([^ \\\\*\\\\d]+?)(?:\" + POWER_OP + \")?(\" + SAFE_POWER + \"(?![a-zA-Z]))\");\n\n  /* parse a string into a unit object.\n   * Typical formats like :\n   * \"5.6 kg*m/s^2\"\n   * \"5.6 kg*m*s^-2\"\n   * \"5.6 kilogram*meter*second^-2\"\n   * \"2.2 kPa\"\n   * \"37 degC\"\n   * \"1\"  -- creates a unitless constant with value 1\n   * \"GPa\"  -- creates a unit with scalar 1 with units 'GPa'\n   * 6'4\"  -- recognized as 6 feet + 4 inches\n   * 8 lbs 8 oz -- recognized as 8 lbs + 8 ounces\n   */\n  function parse(val) {\n    if (!isString(val)) {\n      val = val.toString();\n    }\n    val = val.trim();\n\n    var result = QTY_STRING_REGEX.exec(val);\n    if (!result) {\n      throw new QtyError(val + \": Quantity not recognized\");\n    }\n\n    var scalarMatch = result[1];\n    if (scalarMatch) {\n      // Allow whitespaces between sign and scalar for loose parsing\n      scalarMatch = scalarMatch.replace(/\\s/g, \"\");\n      this.scalar = parseFloat(scalarMatch);\n    }\n    else {\n      this.scalar = 1;\n    }\n    var top = result[2];\n    var bottom = result[3];\n\n    var n, x, nx;\n    // TODO DRY me\n    while ((result = TOP_REGEX.exec(top))) {\n      n = parseFloat(result[2]);\n      if (isNaN(n)) {\n        // Prevents infinite loops\n        throw new QtyError(\"Unit exponent is not a number\");\n      }\n      // Disallow unrecognized unit even if exponent is 0\n      if (n === 0 && !UNIT_TEST_REGEX.test(result[1])) {\n        throw new QtyError(\"Unit not recognized\");\n      }\n      x = result[1] + \" \";\n      nx = \"\";\n      for (var i = 0; i < Math.abs(n) ; i++) {\n        nx += x;\n      }\n      if (n >= 0) {\n        top = top.replace(result[0], nx);\n      }\n      else {\n        bottom = bottom ? bottom + nx : nx;\n        top = top.replace(result[0], \"\");\n      }\n    }\n\n    while ((result = BOTTOM_REGEX.exec(bottom))) {\n      n = parseFloat(result[2]);\n      if (isNaN(n)) {\n        // Prevents infinite loops\n        throw new QtyError(\"Unit exponent is not a number\");\n      }\n      // Disallow unrecognized unit even if exponent is 0\n      if (n === 0 && !UNIT_TEST_REGEX.test(result[1])) {\n        throw new QtyError(\"Unit not recognized\");\n      }\n      x = result[1] + \" \";\n      nx = \"\";\n      for (var j = 0; j < n ; j++) {\n        nx += x;\n      }\n\n      bottom = bottom.replace(result[0], nx);\n    }\n\n    if (top) {\n      this.numerator = parseUnits(top.trim());\n    }\n    if (bottom) {\n      this.denominator = parseUnits(bottom.trim());\n    }\n  }\n\n  var PREFIX_REGEX = Object.keys(PREFIX_MAP).sort(function(a, b) {\n    return b.length - a.length;\n  }).join(\"|\");\n  var UNIT_REGEX = Object.keys(UNIT_MAP).sort(function(a, b) {\n    return b.length - a.length;\n  }).join(\"|\");\n  /*\n   * Minimal boundary regex to support units with Unicode characters\n   * \\b only works for ASCII\n   */\n  var BOUNDARY_REGEX = \"\\\\b|$\";\n  var UNIT_MATCH = \"(\" + PREFIX_REGEX + \")??(\" +\n                   UNIT_REGEX +\n                   \")(?:\" + BOUNDARY_REGEX + \")\";\n  var UNIT_TEST_REGEX = new RegExp(\"^\\\\s*(\" + UNIT_MATCH + \"[\\\\s\\\\*]*)+$\");\n  var UNIT_MATCH_REGEX = new RegExp(UNIT_MATCH, \"g\"); // g flag for multiple occurences\n  var parsedUnitsCache = {};\n  /**\n   * Parses and converts units string to normalized unit array.\n   * Result is cached to speed up next calls.\n   *\n   * @param {string} units Units string\n   * @returns {string[]} Array of normalized units\n   *\n   * @example\n   * // Returns [\"<second>\", \"<meter>\", \"<second>\"]\n   * parseUnits(\"s m s\");\n   *\n   */\n  function parseUnits(units) {\n    var cached = parsedUnitsCache[units];\n    if (cached) {\n      return cached;\n    }\n\n    var unitMatch, normalizedUnits = [];\n\n    // Scan\n    if (!UNIT_TEST_REGEX.test(units)) {\n      throw new QtyError(\"Unit not recognized\");\n    }\n\n    while ((unitMatch = UNIT_MATCH_REGEX.exec(units))) {\n      normalizedUnits.push(unitMatch.slice(1));\n    }\n\n    normalizedUnits = normalizedUnits.map(function(item) {\n      return PREFIX_MAP[item[0]] ? [PREFIX_MAP[item[0]], UNIT_MAP[item[1]]] : [UNIT_MAP[item[1]]];\n    });\n\n    // Flatten and remove null elements\n    normalizedUnits = normalizedUnits.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n    normalizedUnits = normalizedUnits.filter(function(item) {\n      return item;\n    });\n\n    parsedUnitsCache[units] = normalizedUnits;\n\n    return normalizedUnits;\n  }\n\n  /**\n   * Parses a string as a quantity\n   * @param {string} value - quantity as text\n   * @throws if value is not a string\n   * @returns {Qty|null} Parsed quantity or null if unrecognized\n   */\n  function globalParse(value) {\n    if (!isString(value)) {\n      throw new QtyError(\"Argument should be a string\");\n    }\n\n    try {\n      return this(value);\n    }\n    catch (e) {\n      return null;\n    }\n  }\n\n  /**\n   * Tests if a value is a Qty instance\n   *\n   * @param {*} value - Value to test\n   *\n   * @returns {boolean} true if value is a Qty instance, false otherwise\n   */\n  function isQty(value) {\n    return value instanceof Qty;\n  }\n\n  function Qty(initValue, initUnits) {\n    assertValidConstructorArgs.apply(null, arguments);\n\n    if (!(isQty(this))) {\n      return new Qty(initValue, initUnits);\n    }\n\n    this.scalar = null;\n    this.baseScalar = null;\n    this.signature = null;\n    this._conversionCache = {};\n    this.numerator = UNITY_ARRAY;\n    this.denominator = UNITY_ARRAY;\n\n    if (isDefinitionObject(initValue)) {\n      this.scalar = initValue.scalar;\n      this.numerator = (initValue.numerator && initValue.numerator.length !== 0) ? initValue.numerator : UNITY_ARRAY;\n      this.denominator = (initValue.denominator && initValue.denominator.length !== 0) ? initValue.denominator : UNITY_ARRAY;\n    }\n    else if (initUnits) {\n      parse.call(this, initUnits);\n      this.scalar = initValue;\n    }\n    else {\n      parse.call(this, initValue);\n    }\n\n    // math with temperatures is very limited\n    if (this.denominator.join(\"*\").indexOf(\"temp\") >= 0) {\n      throw new QtyError(\"Cannot divide with temperatures\");\n    }\n    if (this.numerator.join(\"*\").indexOf(\"temp\") >= 0) {\n      if (this.numerator.length > 1) {\n        throw new QtyError(\"Cannot multiply by temperatures\");\n      }\n      if (!compareArray(this.denominator, UNITY_ARRAY)) {\n        throw new QtyError(\"Cannot divide with temperatures\");\n      }\n    }\n\n    this.initValue = initValue;\n    updateBaseScalar.call(this);\n\n    if (this.isTemperature() && this.baseScalar < 0) {\n      throw new QtyError(\"Temperatures must not be less than absolute zero\");\n    }\n  }\n\n  Qty.prototype = {\n    // Properly set up constructor\n    constructor: Qty,\n  };\n\n  /**\n   * Asserts constructor arguments are valid\n   *\n   * @param {*} value - Value to test\n   * @param {string} [units] - Optional units when value is passed as a number\n   *\n   * @returns {void}\n   * @throws {QtyError} if constructor arguments are invalid\n   */\n  function assertValidConstructorArgs(value, units) {\n    if (units) {\n      if (!(isNumber(value) && isString(units))) {\n        throw new QtyError(\"Only number accepted as initialization value \" +\n                           \"when units are explicitly provided\");\n      }\n    }\n    else {\n      if (!(isString(value) ||\n            isNumber(value) ||\n            isQty(value)    ||\n            isDefinitionObject(value))) {\n        throw new QtyError(\"Only string, number or quantity accepted as \" +\n                           \"single initialization value\");\n      }\n    }\n  }\n\n  /**\n   * Tests if a value is a Qty definition object\n   *\n   * @param {*} value - Value to test\n   *\n   * @returns {boolean} true if value is a definition object, false otherwise\n   */\n  function isDefinitionObject(value) {\n    return value && typeof value === \"object\" && value.hasOwnProperty(\"scalar\");\n  }\n\n  function updateBaseScalar() {\n    if (this.baseScalar) {\n      return this.baseScalar;\n    }\n    if (this.isBase()) {\n      this.baseScalar = this.scalar;\n      this.signature = unitSignature.call(this);\n    }\n    else {\n      var base = this.toBase();\n      this.baseScalar = base.scalar;\n      this.signature = base.signature;\n    }\n  }\n\n  var KINDS = {\n    \"-312078\": \"elastance\",\n    \"-312058\": \"resistance\",\n    \"-312038\": \"inductance\",\n    \"-152058\": \"potential\",\n    \"-152040\": \"magnetism\",\n    \"-152038\": \"magnetism\",\n    \"-7997\": \"specific_volume\",\n    \"-79\": \"snap\",\n    \"-59\": \"jolt\",\n    \"-39\": \"acceleration\",\n    \"-38\": \"radiation\",\n    \"-20\": \"frequency\",\n    \"-19\": \"speed\",\n    \"-18\": \"viscosity\",\n    \"-17\": \"volumetric_flow\",\n    \"-1\": \"wavenumber\",\n    \"0\": \"unitless\",\n    \"1\": \"length\",\n    \"2\": \"area\",\n    \"3\": \"volume\",\n    \"20\": \"time\",\n    \"400\": \"temperature\",\n    \"7941\": \"yank\",\n    \"7942\": \"power\",\n    \"7959\": \"pressure\",\n    \"7961\": \"force\",\n    \"7962\": \"energy\",\n    \"7979\": \"viscosity\",\n    \"7981\": \"momentum\",\n    \"7982\": \"angular_momentum\",\n    \"7997\": \"density\",\n    \"7998\": \"area_density\",\n    \"8000\": \"mass\",\n    \"152020\": \"radiation_exposure\",\n    \"159999\": \"magnetism\",\n    \"160000\": \"current\",\n    \"160020\": \"charge\",\n    \"312058\": \"conductance\",\n    \"312078\": \"capacitance\",\n    \"3199980\": \"activity\",\n    \"3199997\": \"molar_concentration\",\n    \"3200000\": \"substance\",\n    \"63999998\": \"illuminance\",\n    \"64000000\": \"luminous_power\",\n    \"1280000000\": \"currency\",\n    \"25599999980\": \"information_rate\",\n    \"25600000000\": \"information\",\n    \"511999999980\": \"angular_velocity\",\n    \"512000000000\": \"angle\"\n  };\n\n  /**\n   * Returns the list of available well-known kinds of units, e.g.\n   * \"radiation\" or \"length\".\n   *\n   * @returns {string[]} names of kinds of units\n   */\n  function getKinds() {\n    return uniq(Object.keys(KINDS).map(function(knownSignature) {\n      return KINDS[knownSignature];\n    }));\n  }\n\n  Qty.prototype.kind = function() {\n    return KINDS[this.signature.toString()];\n  };\n\n  assign(Qty.prototype, {\n    isDegrees: function() {\n      // signature may not have been calculated yet\n      return (this.signature === null || this.signature === 400) &&\n        this.numerator.length === 1 &&\n        compareArray(this.denominator, UNITY_ARRAY) &&\n        (this.numerator[0].match(/<temp-[CFRK]>/) || this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/));\n    },\n\n    isTemperature: function() {\n      return this.isDegrees() && this.numerator[0].match(/<temp-[CFRK]>/);\n    }\n  });\n\n  function subtractTemperatures(lhs,rhs) {\n    var lhsUnits = lhs.units();\n    var rhsConverted = rhs.to(lhsUnits);\n    var dstDegrees = Qty(getDegreeUnits(lhsUnits));\n    return Qty({\"scalar\": lhs.scalar - rhsConverted.scalar, \"numerator\": dstDegrees.numerator, \"denominator\": dstDegrees.denominator});\n  }\n\n  function subtractTempDegrees(temp,deg) {\n    var tempDegrees = deg.to(getDegreeUnits(temp.units()));\n    return Qty({\"scalar\": temp.scalar - tempDegrees.scalar, \"numerator\": temp.numerator, \"denominator\": temp.denominator});\n  }\n\n  function addTempDegrees(temp,deg) {\n    var tempDegrees = deg.to(getDegreeUnits(temp.units()));\n    return Qty({\"scalar\": temp.scalar + tempDegrees.scalar, \"numerator\": temp.numerator, \"denominator\": temp.denominator});\n  }\n\n  function getDegreeUnits(units) {\n    if (units === \"tempK\") {\n      return \"degK\";\n    }\n    else if (units === \"tempC\") {\n      return \"degC\";\n    }\n    else if (units === \"tempF\") {\n      return \"degF\";\n    }\n    else if (units === \"tempR\") {\n      return \"degR\";\n    }\n    else {\n      throw new QtyError(\"Unknown type for temp conversion from: \" + units);\n    }\n  }\n\n  function toDegrees(src,dst) {\n    var srcDegK = toDegK(src);\n    var dstUnits = dst.units();\n    var dstScalar;\n\n    if (dstUnits === \"degK\") {\n      dstScalar = srcDegK.scalar;\n    }\n    else if (dstUnits === \"degC\") {\n      dstScalar = srcDegK.scalar ;\n    }\n    else if (dstUnits === \"degF\") {\n      dstScalar = srcDegK.scalar * 9 / 5;\n    }\n    else if (dstUnits === \"degR\") {\n      dstScalar = srcDegK.scalar * 9 / 5;\n    }\n    else {\n      throw new QtyError(\"Unknown type for degree conversion to: \" + dstUnits);\n    }\n\n    return Qty({\"scalar\": dstScalar, \"numerator\": dst.numerator, \"denominator\": dst.denominator});\n  }\n\n  function toDegK(qty) {\n    var units = qty.units();\n    var q;\n    if (units.match(/(deg)[CFRK]/)) {\n      q = qty.baseScalar;\n    }\n    else if (units === \"tempK\") {\n      q = qty.scalar;\n    }\n    else if (units === \"tempC\") {\n      q = qty.scalar;\n    }\n    else if (units === \"tempF\") {\n      q = qty.scalar * 5 / 9;\n    }\n    else if (units === \"tempR\") {\n      q = qty.scalar * 5 / 9;\n    }\n    else {\n      throw new QtyError(\"Unknown type for temp conversion from: \" + units);\n    }\n\n    return Qty({\"scalar\": q, \"numerator\": [\"<kelvin>\"], \"denominator\": UNITY_ARRAY});\n  }\n\n  function toTemp(src,dst) {\n    var dstUnits = dst.units();\n    var dstScalar;\n\n    if (dstUnits === \"tempK\") {\n      dstScalar = src.baseScalar;\n    }\n    else if (dstUnits === \"tempC\") {\n      dstScalar = src.baseScalar - 273.15;\n    }\n    else if (dstUnits === \"tempF\") {\n      dstScalar = (src.baseScalar * 9 / 5) - 459.67;\n    }\n    else if (dstUnits === \"tempR\") {\n      dstScalar = src.baseScalar * 9 / 5;\n    }\n    else {\n      throw new QtyError(\"Unknown type for temp conversion to: \" + dstUnits);\n    }\n\n    return Qty({\"scalar\": dstScalar, \"numerator\": dst.numerator, \"denominator\": dst.denominator});\n  }\n\n  function toTempK(qty) {\n    var units = qty.units();\n    var q;\n    if (units.match(/(deg)[CFRK]/)) {\n      q = qty.baseScalar;\n    }\n    else if (units === \"tempK\") {\n      q = qty.scalar;\n    }\n    else if (units === \"tempC\") {\n      q = qty.scalar + 273.15;\n    }\n    else if (units === \"tempF\") {\n      q = (qty.scalar + 459.67) * 5 / 9;\n    }\n    else if (units === \"tempR\") {\n      q = qty.scalar * 5 / 9;\n    }\n    else {\n      throw new QtyError(\"Unknown type for temp conversion from: \" + units);\n    }\n\n    return Qty({\"scalar\": q, \"numerator\": [\"<temp-K>\"], \"denominator\": UNITY_ARRAY});\n  }\n\n  assign(Qty.prototype, {\n    /**\n     * Converts to other compatible units.\n     * Instance's converted quantities are cached for faster subsequent calls.\n     *\n     * @param {(string|Qty)} other - Target units as string or retrieved from\n     *                               other Qty instance (scalar is ignored)\n     *\n     * @returns {Qty} New converted Qty instance with target units\n     *\n     * @throws {QtyError} if target units are incompatible\n     *\n     * @example\n     * var weight = Qty(\"25 kg\");\n     * weight.to(\"lb\"); // => Qty(\"55.11556554621939 lbs\");\n     * weight.to(Qty(\"3 g\")); // => Qty(\"25000 g\"); // scalar of passed Qty is ignored\n     */\n    to: function(other) {\n      var cached, target;\n\n      if (other === undefined || other === null) {\n        return this;\n      }\n\n      if (!isString(other)) {\n        return this.to(other.units());\n      }\n\n      cached = this._conversionCache[other];\n      if (cached) {\n        return cached;\n      }\n\n      // Instantiating target to normalize units\n      target = Qty(other);\n      if (target.units() === this.units()) {\n        return this;\n      }\n\n      if (!this.isCompatible(target)) {\n        if (this.isInverse(target)) {\n          target = this.inverse().to(other);\n        }\n        else {\n          throwIncompatibleUnits(this.units(), target.units());\n        }\n      }\n      else {\n        if (target.isTemperature()) {\n          target = toTemp(this,target);\n        }\n        else if (target.isDegrees()) {\n          target = toDegrees(this,target);\n        }\n        else {\n          var q = divSafe(this.baseScalar, target.baseScalar);\n          target = Qty({\"scalar\": q, \"numerator\": target.numerator, \"denominator\": target.denominator});\n        }\n      }\n\n      this._conversionCache[other] = target;\n      return target;\n    },\n\n    // convert to base SI units\n    // results of the conversion are cached so subsequent calls to this will be fast\n    toBase: function() {\n      if (this.isBase()) {\n        return this;\n      }\n\n      if (this.isTemperature()) {\n        return toTempK(this);\n      }\n\n      var cached = baseUnitCache[this.units()];\n      if (!cached) {\n        cached = toBaseUnits(this.numerator,this.denominator);\n        baseUnitCache[this.units()] = cached;\n      }\n      return cached.mul(this.scalar);\n    },\n\n    // Converts the unit back to a float if it is unitless.  Otherwise raises an exception\n    toFloat: function() {\n      if (this.isUnitless()) {\n        return this.scalar;\n      }\n      throw new QtyError(\"Can't convert to Float unless unitless.  Use Unit#scalar\");\n    },\n\n    /**\n     * Returns the nearest multiple of quantity passed as\n     * precision\n     *\n     * @param {(Qty|string|number)} precQuantity - Quantity, string formated\n     *   quantity or number as expected precision\n     *\n     * @returns {Qty} Nearest multiple of precQuantity\n     *\n     * @example\n     * Qty('5.5 ft').toPrec('2 ft'); // returns 6 ft\n     * Qty('0.8 cu').toPrec('0.25 cu'); // returns 0.75 cu\n     * Qty('6.3782 m').toPrec('cm'); // returns 6.38 m\n     * Qty('1.146 MPa').toPrec('0.1 bar'); // returns 1.15 MPa\n     *\n     */\n    toPrec: function(precQuantity) {\n      if (isString(precQuantity)) {\n        precQuantity = Qty(precQuantity);\n      }\n      if (isNumber(precQuantity)) {\n        precQuantity = Qty(precQuantity + \" \" + this.units());\n      }\n\n      if (!this.isUnitless()) {\n        precQuantity = precQuantity.to(this.units());\n      }\n      else if (!precQuantity.isUnitless()) {\n        throwIncompatibleUnits(this.units(), precQuantity.units());\n      }\n\n      if (precQuantity.scalar === 0) {\n        throw new QtyError(\"Divide by zero\");\n      }\n\n      var precRoundedResult = mulSafe(\n        Math.round(this.scalar / precQuantity.scalar),\n        precQuantity.scalar\n      );\n\n      return Qty(precRoundedResult + this.units());\n    }\n  });\n\n  /**\n   * Configures and returns a fast function to convert\n   * Number values from units to others.\n   * Useful to efficiently convert large array of values\n   * with same units into others with iterative methods.\n   * Does not take care of rounding issues.\n   *\n   * @param {string} srcUnits Units of values to convert\n   * @param {string} dstUnits Units to convert to\n   *\n   * @returns {Function} Converting function accepting Number value\n   *   and returning converted value\n   *\n   * @throws \"Incompatible units\" if units are incompatible\n   *\n   * @example\n   * // Converting large array of numbers with the same units\n   * // into other units\n   * var converter = Qty.swiftConverter(\"m/h\", \"ft/s\");\n   * var convertedSerie = largeSerie.map(converter);\n   *\n   */\n  function swiftConverter(srcUnits, dstUnits) {\n    var srcQty = Qty(srcUnits);\n    var dstQty = Qty(dstUnits);\n\n    if (srcQty.eq(dstQty)) {\n      return identity;\n    }\n\n    var convert;\n    if (!srcQty.isTemperature()) {\n      convert = function(value) {\n        return value * srcQty.baseScalar / dstQty.baseScalar;\n      };\n    }\n    else {\n      convert = function(value) {\n        // TODO Not optimized\n        return srcQty.mul(value).to(dstQty).scalar;\n      };\n    }\n\n    return function converter(value) {\n      var i, length, result;\n      if (!Array.isArray(value)) {\n        return convert(value);\n      }\n      else {\n        length = value.length;\n        result = [];\n        for (i = 0; i < length; i++) {\n          result.push(convert(value[i]));\n        }\n        return result;\n      }\n    };\n  }\n\n  var baseUnitCache = {};\n\n  function toBaseUnits(numerator,denominator) {\n    var num = [];\n    var den = [];\n    var q = 1;\n    var unit;\n    for (var i = 0; i < numerator.length; i++) {\n      unit = numerator[i];\n      if (PREFIX_VALUES[unit]) {\n        // workaround to fix\n        // 0.1 * 0.1 => 0.010000000000000002\n        q = mulSafe(q, PREFIX_VALUES[unit]);\n      }\n      else {\n        if (UNIT_VALUES[unit]) {\n          q *= UNIT_VALUES[unit].scalar;\n\n          if (UNIT_VALUES[unit].numerator) {\n            num.push(UNIT_VALUES[unit].numerator);\n          }\n          if (UNIT_VALUES[unit].denominator) {\n            den.push(UNIT_VALUES[unit].denominator);\n          }\n        }\n      }\n    }\n    for (var j = 0; j < denominator.length; j++) {\n      unit = denominator[j];\n      if (PREFIX_VALUES[unit]) {\n        q /= PREFIX_VALUES[unit];\n      }\n      else {\n        if (UNIT_VALUES[unit]) {\n          q /= UNIT_VALUES[unit].scalar;\n\n          if (UNIT_VALUES[unit].numerator) {\n            den.push(UNIT_VALUES[unit].numerator);\n          }\n          if (UNIT_VALUES[unit].denominator) {\n            num.push(UNIT_VALUES[unit].denominator);\n          }\n        }\n      }\n    }\n\n    // Flatten\n    num = num.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n    den = den.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n\n    return Qty({\"scalar\": q, \"numerator\": num, \"denominator\": den});\n  }\n\n  Qty.parse = globalParse;\n\n  Qty.getUnits = getUnits;\n  Qty.getAliases = getAliases;\n\n  Qty.mulSafe = mulSafe;\n  Qty.divSafe = divSafe;\n\n  Qty.getKinds = getKinds;\n\n  Qty.swiftConverter = swiftConverter;\n\n  Qty.Error = QtyError;\n\n  assign(Qty.prototype, {\n    // Returns new instance with units of this\n    add: function(other) {\n      if (isString(other)) {\n        other = Qty(other);\n      }\n\n      if (!this.isCompatible(other)) {\n        throwIncompatibleUnits(this.units(), other.units());\n      }\n\n      if (this.isTemperature() && other.isTemperature()) {\n        throw new QtyError(\"Cannot add two temperatures\");\n      }\n      else if (this.isTemperature()) {\n        return addTempDegrees(this, other);\n      }\n      else if (other.isTemperature()) {\n        return addTempDegrees(other, this);\n      }\n\n      return Qty({\"scalar\": this.scalar + other.to(this).scalar, \"numerator\": this.numerator, \"denominator\": this.denominator});\n    },\n\n    sub: function(other) {\n      if (isString(other)) {\n        other = Qty(other);\n      }\n\n      if (!this.isCompatible(other)) {\n        throwIncompatibleUnits(this.units(), other.units());\n      }\n\n      if (this.isTemperature() && other.isTemperature()) {\n        return subtractTemperatures(this,other);\n      }\n      else if (this.isTemperature()) {\n        return subtractTempDegrees(this,other);\n      }\n      else if (other.isTemperature()) {\n        throw new QtyError(\"Cannot subtract a temperature from a differential degree unit\");\n      }\n\n      return Qty({\"scalar\": this.scalar - other.to(this).scalar, \"numerator\": this.numerator, \"denominator\": this.denominator});\n    },\n\n    mul: function(other) {\n      if (isNumber(other)) {\n        return Qty({\"scalar\": mulSafe(this.scalar, other), \"numerator\": this.numerator, \"denominator\": this.denominator});\n      }\n      else if (isString(other)) {\n        other = Qty(other);\n      }\n\n      if ((this.isTemperature() || other.isTemperature()) && !(this.isUnitless() || other.isUnitless())) {\n        throw new QtyError(\"Cannot multiply by temperatures\");\n      }\n\n      // Quantities should be multiplied with same units if compatible, with base units else\n      var op1 = this;\n      var op2 = other;\n\n      // so as not to confuse results, multiplication and division between temperature degrees will maintain original unit info in num/den\n      // multiplication and division between deg[CFRK] can never factor each other out, only themselves: \"degK*degC/degC^2\" == \"degK/degC\"\n      if (op1.isCompatible(op2) && op1.signature !== 400) {\n        op2 = op2.to(op1);\n      }\n      var numdenscale = cleanTerms(op1.numerator, op1.denominator, op2.numerator, op2.denominator);\n\n      return Qty({\"scalar\": mulSafe(op1.scalar, op2.scalar, numdenscale[2]), \"numerator\": numdenscale[0], \"denominator\": numdenscale[1]});\n    },\n\n    div: function(other) {\n      if (isNumber(other)) {\n        if (other === 0) {\n          throw new QtyError(\"Divide by zero\");\n        }\n        return Qty({\"scalar\": this.scalar / other, \"numerator\": this.numerator, \"denominator\": this.denominator});\n      }\n      else if (isString(other)) {\n        other = Qty(other);\n      }\n\n      if (other.scalar === 0) {\n        throw new QtyError(\"Divide by zero\");\n      }\n\n      if (other.isTemperature()) {\n        throw new QtyError(\"Cannot divide with temperatures\");\n      }\n      else if (this.isTemperature() && !other.isUnitless()) {\n        throw new QtyError(\"Cannot divide with temperatures\");\n      }\n\n      // Quantities should be multiplied with same units if compatible, with base units else\n      var op1 = this;\n      var op2 = other;\n\n      // so as not to confuse results, multiplication and division between temperature degrees will maintain original unit info in num/den\n      // multiplication and division between deg[CFRK] can never factor each other out, only themselves: \"degK*degC/degC^2\" == \"degK/degC\"\n      if (op1.isCompatible(op2) && op1.signature !== 400) {\n        op2 = op2.to(op1);\n      }\n      var numdenscale = cleanTerms(op1.numerator, op1.denominator, op2.denominator, op2.numerator);\n\n      return Qty({\"scalar\": mulSafe(op1.scalar, numdenscale[2]) / op2.scalar, \"numerator\": numdenscale[0], \"denominator\": numdenscale[1]});\n    },\n\n    // Returns a Qty that is the inverse of this Qty,\n    inverse: function() {\n      if (this.isTemperature()) {\n        throw new QtyError(\"Cannot divide with temperatures\");\n      }\n      if (this.scalar === 0) {\n        throw new QtyError(\"Divide by zero\");\n      }\n      return Qty({\"scalar\": 1 / this.scalar, \"numerator\": this.denominator, \"denominator\": this.numerator});\n    }\n  });\n\n  function cleanTerms(num1, den1, num2, den2) {\n    function notUnity(val) {\n      return val !== UNITY;\n    }\n\n    num1 = num1.filter(notUnity);\n    num2 = num2.filter(notUnity);\n    den1 = den1.filter(notUnity);\n    den2 = den2.filter(notUnity);\n\n    var combined = {};\n\n    function combineTerms(terms, direction) {\n      var k;\n      var prefix;\n      var prefixValue;\n      for (var i = 0; i < terms.length; i++) {\n        if (PREFIX_VALUES[terms[i]]) {\n          k = terms[i + 1];\n          prefix = terms[i];\n          prefixValue = PREFIX_VALUES[prefix];\n          i++;\n        }\n        else {\n          k = terms[i];\n          prefix = null;\n          prefixValue = 1;\n        }\n        if (k && k !== UNITY) {\n          if (combined[k]) {\n            combined[k][0] += direction;\n            var combinedPrefixValue = combined[k][2] ? PREFIX_VALUES[combined[k][2]] : 1;\n            combined[k][direction === 1 ? 3 : 4] *= divSafe(prefixValue, combinedPrefixValue);\n          }\n          else {\n            combined[k] = [direction, k, prefix, 1, 1];\n          }\n        }\n      }\n    }\n\n    combineTerms(num1, 1);\n    combineTerms(den1, -1);\n    combineTerms(num2, 1);\n    combineTerms(den2, -1);\n\n    var num = [];\n    var den = [];\n    var scale = 1;\n\n    for (var prop in combined) {\n      if (combined.hasOwnProperty(prop)) {\n        var item = combined[prop];\n        var n;\n        if (item[0] > 0) {\n          for (n = 0; n < item[0]; n++) {\n            num.push(item[2] === null ? item[1] : [item[2], item[1]]);\n          }\n        }\n        else if (item[0] < 0) {\n          for (n = 0; n < -item[0]; n++) {\n            den.push(item[2] === null ? item[1] : [item[2], item[1]]);\n          }\n        }\n        scale *= divSafe(item[3], item[4]);\n      }\n    }\n\n    if (num.length === 0) {\n      num = UNITY_ARRAY;\n    }\n    if (den.length === 0) {\n      den = UNITY_ARRAY;\n    }\n\n    // Flatten\n    num = num.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n    den = den.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n\n    return [num, den, scale];\n  }\n\n  assign(Qty.prototype, {\n    eq: function(other) {\n      return this.compareTo(other) === 0;\n    },\n\n    lt: function(other) {\n      return this.compareTo(other) === -1;\n    },\n\n    lte: function(other) {\n      return this.eq(other) || this.lt(other);\n    },\n\n    gt: function(other) {\n      return this.compareTo(other) === 1;\n    },\n\n    gte: function(other) {\n      return this.eq(other) || this.gt(other);\n    },\n\n    // Compare two Qty objects. Throws an exception if they are not of compatible types.\n    // Comparisons are done based on the value of the quantity in base SI units.\n    //\n    // NOTE: We cannot compare inverses as that breaks the general compareTo contract:\n    //   if a.compareTo(b) < 0 then b.compareTo(a) > 0\n    //   if a.compareTo(b) == 0 then b.compareTo(a) == 0\n    //\n    //   Since \"10S\" == \".1ohm\" (10 > .1) and \"10ohm\" == \".1S\" (10 > .1)\n    //     Qty(\"10S\").inverse().compareTo(\"10ohm\") == -1\n    //     Qty(\"10ohm\").inverse().compareTo(\"10S\") == -1\n    //\n    //   If including inverses in the sort is needed, I suggest writing: Qty.sort(qtyArray,units)\n    compareTo: function(other) {\n      if (isString(other)) {\n        return this.compareTo(Qty(other));\n      }\n      if (!this.isCompatible(other)) {\n        throwIncompatibleUnits(this.units(), other.units());\n      }\n      if (this.baseScalar < other.baseScalar) {\n        return -1;\n      }\n      else if (this.baseScalar === other.baseScalar) {\n        return 0;\n      }\n      else if (this.baseScalar > other.baseScalar) {\n        return 1;\n      }\n    },\n\n    // Return true if quantities and units match\n    // Unit(\"100 cm\").same(Unit(\"100 cm\"))  # => true\n    // Unit(\"100 cm\").same(Unit(\"1 m\"))     # => false\n    same: function(other) {\n      return (this.scalar === other.scalar) && (this.units() === other.units());\n    }\n  });\n\n  assign(Qty.prototype, {\n    // returns true if no associated units\n    // false, even if the units are \"unitless\" like 'radians, each, etc'\n    isUnitless: function() {\n      return [this.numerator, this.denominator].every(function(item) {\n        return compareArray(item, UNITY_ARRAY);\n      });\n    },\n\n    /*\n    check to see if units are compatible, but not the scalar part\n    this check is done by comparing signatures for performance reasons\n    if passed a string, it will create a unit object with the string and then do the comparison\n    this permits a syntax like:\n    unit =~ \"mm\"\n    if you want to do a regexp on the unit string do this ...\n    unit.units =~ /regexp/\n    */\n    isCompatible: function(other) {\n      if (isString(other)) {\n        return this.isCompatible(Qty(other));\n      }\n\n      if (!(isQty(other))) {\n        return false;\n      }\n\n      if (other.signature !== undefined) {\n        return this.signature === other.signature;\n      }\n      else {\n        return false;\n      }\n    },\n\n    /*\n    check to see if units are inverse of each other, but not the scalar part\n    this check is done by comparing signatures for performance reasons\n    if passed a string, it will create a unit object with the string and then do the comparison\n    this permits a syntax like:\n    unit =~ \"mm\"\n    if you want to do a regexp on the unit string do this ...\n    unit.units =~ /regexp/\n    */\n    isInverse: function(other) {\n      return this.inverse().isCompatible(other);\n    },\n\n    // Returns 'true' if the Unit is represented in base units\n    isBase: function() {\n      if (this._isBase !== undefined) {\n        return this._isBase;\n      }\n      if (this.isDegrees() && this.numerator[0].match(/<(kelvin|temp-K)>/)) {\n        this._isBase = true;\n        return this._isBase;\n      }\n\n      this.numerator.concat(this.denominator).forEach(function(item) {\n        if (item !== UNITY && BASE_UNITS.indexOf(item) === -1 ) {\n          this._isBase = false;\n        }\n      }, this);\n      if (this._isBase === false) {\n        return this._isBase;\n      }\n      this._isBase = true;\n      return this._isBase;\n    }\n  });\n\n  function NestedMap() {}\n\n  NestedMap.prototype.get = function(keys) {\n\n    // Allows to pass key1, key2, ... instead of [key1, key2, ...]\n    if (arguments.length > 1) {\n      // Slower with Firefox but faster with Chrome than\n      // Array.prototype.slice.call(arguments)\n      // See http://jsperf.com/array-apply-versus-array-prototype-slice-call\n      keys = Array.apply(null, arguments);\n    }\n\n    return keys.reduce(function(map, key, index) {\n      if (map) {\n\n        var childMap = map[key];\n\n        if (index === keys.length - 1) {\n          return childMap ? childMap.data : undefined;\n        }\n        else {\n          return childMap;\n        }\n      }\n    },\n    this);\n  };\n\n  NestedMap.prototype.set = function(keys, value) {\n\n    if (arguments.length > 2) {\n      keys = Array.prototype.slice.call(arguments, 0, -1);\n      value = arguments[arguments.length - 1];\n    }\n\n    return keys.reduce(function(map, key, index) {\n\n      var childMap = map[key];\n      if (childMap === undefined) {\n        childMap = map[key] = {};\n      }\n\n      if (index === keys.length - 1) {\n        childMap.data = value;\n        return value;\n      }\n      else {\n        return childMap;\n      }\n    }, this);\n  };\n\n  /**\n   * Default formatter\n   *\n   * @param {number} scalar - scalar value\n   * @param {string} units - units as string\n   *\n   * @returns {string} formatted result\n   */\n  function defaultFormatter(scalar, units) {\n    return (scalar + \" \" + units).trim();\n  }\n\n  /**\n   *\n   * Configurable Qty default formatter\n   *\n   * @type {function}\n   *\n   * @param {number} scalar\n   * @param {string} units\n   *\n   * @returns {string} formatted result\n   */\n  Qty.formatter = defaultFormatter;\n\n  assign(Qty.prototype, {\n\n    // returns the 'unit' part of the Unit object without the scalar\n    units: function() {\n      if (this._units !== undefined) {\n        return this._units;\n      }\n\n      var numIsUnity = compareArray(this.numerator, UNITY_ARRAY);\n      var denIsUnity = compareArray(this.denominator, UNITY_ARRAY);\n      if (numIsUnity && denIsUnity) {\n        this._units = \"\";\n        return this._units;\n      }\n\n      var numUnits = stringifyUnits(this.numerator);\n      var denUnits = stringifyUnits(this.denominator);\n      this._units = numUnits + (denIsUnity ? \"\" : (\"/\" + denUnits));\n      return this._units;\n    },\n\n    /**\n     * Stringifies the quantity\n     * Deprecation notice: only units parameter is supported.\n     *\n     * @param {(number|string|Qty)} targetUnitsOrMaxDecimalsOrPrec -\n     *                              target units if string,\n     *                              max number of decimals if number,\n     *                              passed to #toPrec before converting if Qty\n     *\n     * @param {number=} maxDecimals - Maximum number of decimals of\n     *                                formatted output\n     *\n     * @returns {string} reparseable quantity as string\n     */\n    toString: function(targetUnitsOrMaxDecimalsOrPrec, maxDecimals) {\n      var targetUnits;\n      if (isNumber(targetUnitsOrMaxDecimalsOrPrec)) {\n        targetUnits = this.units();\n        maxDecimals = targetUnitsOrMaxDecimalsOrPrec;\n      }\n      else if (isString(targetUnitsOrMaxDecimalsOrPrec)) {\n        targetUnits = targetUnitsOrMaxDecimalsOrPrec;\n      }\n      else if (isQty(targetUnitsOrMaxDecimalsOrPrec)) {\n        return this.toPrec(targetUnitsOrMaxDecimalsOrPrec).toString(maxDecimals);\n      }\n\n      var out = this.to(targetUnits);\n\n      var outScalar = maxDecimals !== undefined ? round(out.scalar, maxDecimals) : out.scalar;\n      out = (outScalar + \" \" + out.units()).trim();\n      return out;\n    },\n\n    /**\n     * Format the quantity according to optional passed target units\n     * and formatter\n     *\n     * @param {string} [targetUnits=current units] -\n     *                 optional units to convert to before formatting\n     *\n     * @param {function} [formatter=Qty.formatter] -\n     *                   delegates formatting to formatter callback.\n     *                   formatter is called back with two parameters (scalar, units)\n     *                   and should return formatted result.\n     *                   If unspecified, formatting is delegated to default formatter\n     *                   set to Qty.formatter\n     *\n     * @example\n     * var roundingAndLocalizingFormatter = function(scalar, units) {\n     *   // localize or limit scalar to n max decimals for instance\n     *   // return formatted result\n     * };\n     * var qty = Qty('1.1234 m');\n     * qty.format(); // same units, default formatter => \"1.234 m\"\n     * qty.format(\"cm\"); // converted to \"cm\", default formatter => \"123.45 cm\"\n     * qty.format(roundingAndLocalizingFormatter); // same units, custom formatter => \"1,2 m\"\n     * qty.format(\"cm\", roundingAndLocalizingFormatter); // convert to \"cm\", custom formatter => \"123,4 cm\"\n     *\n     * @returns {string} quantity as string\n     */\n    format: function(targetUnits, formatter) {\n      if (arguments.length === 1) {\n        if (typeof targetUnits === \"function\") {\n          formatter = targetUnits;\n          targetUnits = undefined;\n        }\n      }\n\n      formatter = formatter || Qty.formatter;\n      var targetQty = this.to(targetUnits);\n      return formatter.call(this, targetQty.scalar, targetQty.units());\n    }\n  });\n\n  var stringifiedUnitsCache = new NestedMap();\n  /**\n   * Returns a string representing a normalized unit array\n   *\n   * @param {string[]} units Normalized unit array\n   * @returns {string} String representing passed normalized unit array and\n   *   suitable for output\n   *\n   */\n  function stringifyUnits(units) {\n\n    var stringified = stringifiedUnitsCache.get(units);\n    if (stringified) {\n      return stringified;\n    }\n\n    var isUnity = compareArray(units, UNITY_ARRAY);\n    if (isUnity) {\n      stringified = \"1\";\n    }\n    else {\n      stringified = simplify(getOutputNames(units)).join(\"*\");\n    }\n\n    // Cache result\n    stringifiedUnitsCache.set(units, stringified);\n\n    return stringified;\n  }\n\n  function getOutputNames(units) {\n    var unitNames = [], token, tokenNext;\n    for (var i = 0; i < units.length; i++) {\n      token = units[i];\n      tokenNext = units[i + 1];\n      if (PREFIX_VALUES[token]) {\n        unitNames.push(OUTPUT_MAP[token] + OUTPUT_MAP[tokenNext]);\n        i++;\n      }\n      else {\n        unitNames.push(OUTPUT_MAP[token]);\n      }\n    }\n    return unitNames;\n  }\n\n  function simplify(units) {\n    // this turns ['s','m','s'] into ['s2','m']\n\n    var unitCounts = units.reduce(function(acc, unit) {\n      var unitCounter = acc[unit];\n      if (!unitCounter) {\n        acc.push(unitCounter = acc[unit] = [unit, 0]);\n      }\n\n      unitCounter[1]++;\n\n      return acc;\n    }, []);\n\n    return unitCounts.map(function(unitCount) {\n      return unitCount[0] + (unitCount[1] > 1 ? unitCount[1] : \"\");\n    });\n  }\n\n  Qty.version = \"1.8.0\";\n\n  return Qty;\n\n}));\n","(function(){function a(d){for(var e=0,f=d.length-1,g=void 0,h=void 0,i=void 0,j=c(e,f);!0;){if(f<=e)return d[j];if(f==e+1)return d[e]>d[f]&&b(d,e,f),d[j];for(g=c(e,f),d[g]>d[f]&&b(d,g,f),d[e]>d[f]&&b(d,e,f),d[g]>d[e]&&b(d,g,e),b(d,g,e+1),h=e+1,i=f;!0;){do h++;while(d[e]>d[h]);do i--;while(d[i]>d[e]);if(i<h)break;b(d,h,i)}b(d,e,i),i<=j&&(e=h),i>=j&&(f=i-1)}}var b=function b(d,e,f){var _ref;return _ref=[d[f],d[e]],d[e]=_ref[0],d[f]=_ref[1],_ref},c=function c(d,e){return~~((d+e)/2)};'undefined'!=typeof module&&module.exports?module.exports=a:window.median=a})();\n","import { isAnyArray } from 'is-any-array';\nimport max from 'ml-array-max';\nimport min from 'ml-array-min';\n\nfunction rescale(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!isAnyArray(input)) {\n    throw new TypeError('input must be an array');\n  } else if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var output;\n\n  if (options.output !== undefined) {\n    if (!isAnyArray(options.output)) {\n      throw new TypeError('output option must be an array if specified');\n    }\n\n    output = options.output;\n  } else {\n    output = new Array(input.length);\n  }\n\n  var currentMin = min(input);\n  var currentMax = max(input);\n\n  if (currentMin === currentMax) {\n    throw new RangeError('minimum and maximum input values are equal. Cannot rescale a constant array');\n  }\n\n  var _options$min = options.min,\n      minValue = _options$min === void 0 ? options.autoMinMax ? currentMin : 0 : _options$min,\n      _options$max = options.max,\n      maxValue = _options$max === void 0 ? options.autoMinMax ? currentMax : 1 : _options$max;\n\n  if (minValue >= maxValue) {\n    throw new RangeError('min option must be smaller than max option');\n  }\n\n  var factor = (maxValue - minValue) / (currentMax - currentMin);\n\n  for (var i = 0; i < input.length; i++) {\n    output[i] = (input[i] - currentMin) * factor + minValue;\n  }\n\n  return output;\n}\n\nexport { rescale as default };\n","import { isAnyArray } from 'is-any-array';\n\nfunction min(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!isAnyArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var _options$fromIndex = options.fromIndex,\n      fromIndex = _options$fromIndex === void 0 ? 0 : _options$fromIndex,\n      _options$toIndex = options.toIndex,\n      toIndex = _options$toIndex === void 0 ? input.length : _options$toIndex;\n\n  if (fromIndex < 0 || fromIndex >= input.length || !Number.isInteger(fromIndex)) {\n    throw new Error('fromIndex must be a positive integer smaller than length');\n  }\n\n  if (toIndex <= fromIndex || toIndex > input.length || !Number.isInteger(toIndex)) {\n    throw new Error('toIndex must be an integer greater than fromIndex and at most equal to length');\n  }\n\n  var minValue = input[fromIndex];\n\n  for (var i = fromIndex + 1; i < toIndex; i++) {\n    if (input[i] < minValue) minValue = input[i];\n  }\n\n  return minValue;\n}\n\nexport { min as default };\n","import { isAnyArray } from 'is-any-array';\n\nfunction max(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!isAnyArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var _options$fromIndex = options.fromIndex,\n      fromIndex = _options$fromIndex === void 0 ? 0 : _options$fromIndex,\n      _options$toIndex = options.toIndex,\n      toIndex = _options$toIndex === void 0 ? input.length : _options$toIndex;\n\n  if (fromIndex < 0 || fromIndex >= input.length || !Number.isInteger(fromIndex)) {\n    throw new Error('fromIndex must be a positive integer smaller than length');\n  }\n\n  if (toIndex <= fromIndex || toIndex > input.length || !Number.isInteger(toIndex)) {\n    throw new Error('toIndex must be an integer greater than fromIndex and at most equal to length');\n  }\n\n  var maxValue = input[fromIndex];\n\n  for (var i = fromIndex + 1; i < toIndex; i++) {\n    if (input[i] > maxValue) maxValue = input[i];\n  }\n\n  return maxValue;\n}\n\nexport { max as default };\n","'use strict';\n\n/**\n * @class DisjointSet\n */\nclass DisjointSet {\n    constructor() {\n        this.nodes = new Map();\n    }\n\n    /**\n     * Adds an element as a new set\n     * @param {*} value\n     * @return {DisjointSetNode} Object holding the element\n     */\n    add(value) {\n        var node = this.nodes.get(value);\n        if (!node) {\n            node = new DisjointSetNode(value);\n            this.nodes.set(value, node);\n        }\n        return node;\n    }\n\n    /**\n     * Merges the sets that contain x and y\n     * @param {DisjointSetNode} x\n     * @param {DisjointSetNode} y\n     */\n    union(x, y) {\n        const rootX = this.find(x);\n        const rootY = this.find(y);\n        if (rootX === rootY) {\n            return;\n        }\n        if (rootX.rank < rootY.rank) {\n            rootX.parent = rootY;\n        } else if (rootX.rank > rootY.rank) {\n            rootY.parent = rootX;\n        } else {\n            rootY.parent = rootX;\n            rootX.rank++;\n        }\n    }\n\n    /**\n     * Finds and returns the root node of the set that contains node\n     * @param {DisjointSetNode} node\n     * @return {DisjointSetNode}\n     */\n    find(node) {\n        var rootX = node;\n        while (rootX.parent !== null) {\n            rootX = rootX.parent;\n        }\n        var toUpdateX = node;\n        while (toUpdateX.parent !== null) {\n            var toUpdateParent = toUpdateX;\n            toUpdateX = toUpdateX.parent;\n            toUpdateParent.parent = rootX;\n        }\n        return rootX;\n    }\n\n    /**\n     * Returns true if x and y belong to the same set\n     * @param {DisjointSetNode} x\n     * @param {DisjointSetNode} y\n     */\n    connected(x, y) {\n        return this.find(x) === this.find(y);\n    }\n}\n\nmodule.exports = DisjointSet;\n\nfunction DisjointSetNode(value) {\n    this.value = value;\n    this.parent = null;\n    this.rank = 0;\n}\n","export function squaredEuclidean(p, q) {\r\n    let d = 0;\r\n    for (let i = 0; i < p.length; i++) {\r\n        d += (p[i] - q[i]) * (p[i] - q[i]);\r\n    }\r\n    return d;\r\n}\r\nexport function euclidean(p, q) {\r\n    return Math.sqrt(squaredEuclidean(p, q));\r\n}\r\n","'use strict'\n\nvar FFT = require('./fftlib');\n\nvar FFTUtils= {\n    DEBUG : false,\n\n    /**\n     * Calculates the inverse of a 2D Fourier transform\n     *\n     * @param ft\n     * @param ftRows\n     * @param ftCols\n     * @return\n     */\n    ifft2DArray : function(ft, ftRows, ftCols){\n        var tempTransform = new Array(ftRows * ftCols);\n        var nRows = ftRows / 2;\n        var nCols = (ftCols - 1) * 2;\n        // reverse transform columns\n        FFT.init(nRows);\n        var tmpCols = {re: new Array(nRows), im: new Array(nRows)};\n        for (var iCol = 0; iCol < ftCols; iCol++) {\n            for (var iRow = nRows - 1; iRow >= 0; iRow--) {\n                tmpCols.re[iRow] = ft[(iRow * 2) * ftCols + iCol];\n                tmpCols.im[iRow] = ft[(iRow * 2 + 1) * ftCols + iCol];\n            }\n            //Unnormalized inverse transform\n            FFT.bt(tmpCols.re, tmpCols.im);\n            for (var iRow = nRows - 1; iRow >= 0; iRow--) {\n                tempTransform[(iRow * 2) * ftCols + iCol] = tmpCols.re[iRow];\n                tempTransform[(iRow * 2 + 1) * ftCols + iCol] = tmpCols.im[iRow];\n            }\n        }\n\n        // reverse row transform\n        var finalTransform = new Array(nRows * nCols);\n        FFT.init(nCols);\n        var tmpRows = {re: new Array(nCols), im: new Array(nCols)};\n        var scale = nCols * nRows;\n        for (var iRow = 0; iRow < ftRows; iRow += 2) {\n            tmpRows.re[0] = tempTransform[iRow * ftCols];\n            tmpRows.im[0] = tempTransform[(iRow + 1) * ftCols];\n            for (var iCol = 1; iCol < ftCols; iCol++) {\n                tmpRows.re[iCol] = tempTransform[iRow * ftCols + iCol];\n                tmpRows.im[iCol] = tempTransform[(iRow + 1) * ftCols + iCol];\n                tmpRows.re[nCols - iCol] = tempTransform[iRow * ftCols + iCol];\n                tmpRows.im[nCols - iCol] = -tempTransform[(iRow + 1) * ftCols + iCol];\n            }\n            //Unnormalized inverse transform\n            FFT.bt(tmpRows.re, tmpRows.im);\n\n            var indexB = (iRow / 2) * nCols;\n            for (var iCol = nCols - 1; iCol >= 0; iCol--) {\n                finalTransform[indexB + iCol] = tmpRows.re[iCol] / scale;\n            }\n        }\n        return finalTransform;\n    },\n    /**\n     * Calculates the fourier transform of a matrix of size (nRows,nCols) It is\n     * assumed that both nRows and nCols are a power of two\n     *\n     * On exit the matrix has dimensions (nRows * 2, nCols / 2 + 1) where the\n     * even rows contain the real part and the odd rows the imaginary part of the\n     * transform\n     * @param data\n     * @param nRows\n     * @param nCols\n     * @return\n     */\n    fft2DArray:function(data, nRows, nCols, opt) {\n        var options = Object.assign({},{inplace:true})\n        var ftCols = (nCols / 2 + 1);\n        var ftRows = nRows * 2;\n        var tempTransform = new Array(ftRows * ftCols);\n        FFT.init(nCols);\n        // transform rows\n        var tmpRows = {re: new Array(nCols), im: new Array(nCols)};\n        var row1 = {re: new Array(nCols), im: new Array(nCols)}\n        var row2 = {re: new Array(nCols), im: new Array(nCols)}\n        var index, iRow0, iRow1, iRow2, iRow3;\n        for (var iRow = 0; iRow < nRows / 2; iRow++) {\n            index = (iRow * 2) * nCols;\n            tmpRows.re = data.slice(index, index + nCols);\n\n            index = (iRow * 2 + 1) * nCols;\n            tmpRows.im = data.slice(index, index + nCols);\n\n            FFT.fft1d(tmpRows.re, tmpRows.im);\n\n            this.reconstructTwoRealFFT(tmpRows, row1, row2);\n            //Now lets put back the result into the output array\n            iRow0 = (iRow * 4) * ftCols;\n            iRow1 = (iRow * 4 + 1) * ftCols;\n            iRow2 = (iRow * 4 + 2) * ftCols;\n            iRow3 = (iRow * 4 + 3) * ftCols;\n            for (var k = ftCols - 1; k >= 0; k--) {\n                tempTransform[iRow0 + k] = row1.re[k];\n                tempTransform[iRow1 + k] = row1.im[k];\n                tempTransform[iRow2 + k] = row2.re[k];\n                tempTransform[iRow3 + k] = row2.im[k];\n            }\n        }\n\n        //console.log(tempTransform);\n        row1 = null;\n        row2 = null;\n        // transform columns\n        var finalTransform = new Array(ftRows * ftCols);\n\n        FFT.init(nRows);\n        var tmpCols = {re: new Array(nRows), im: new Array(nRows)};\n        for (var iCol = ftCols - 1; iCol >= 0; iCol--) {\n            for (var iRow = nRows - 1; iRow >= 0; iRow--) {\n                tmpCols.re[iRow] = tempTransform[(iRow * 2) * ftCols + iCol];\n                tmpCols.im[iRow] = tempTransform[(iRow * 2 + 1) * ftCols + iCol];\n                //TODO Chech why this happens\n                if(isNaN(tmpCols.re[iRow])){\n                    tmpCols.re[iRow]=0;\n                }\n                if(isNaN(tmpCols.im[iRow])){\n                    tmpCols.im[iRow]=0;\n                }\n            }\n            FFT.fft1d(tmpCols.re, tmpCols.im);\n            for (var iRow = nRows - 1; iRow >= 0; iRow--) {\n                finalTransform[(iRow * 2) * ftCols + iCol] = tmpCols.re[iRow];\n                finalTransform[(iRow * 2 + 1) * ftCols + iCol] = tmpCols.im[iRow];\n            }\n        }\n\n        //console.log(finalTransform);\n        return finalTransform;\n\n    },\n    /**\n     *\n     * @param fourierTransform\n     * @param realTransform1\n     * @param realTransform2\n     *\n     * Reconstructs the individual Fourier transforms of two simultaneously\n     * transformed series. Based on the Symmetry relationships (the asterisk\n     * denotes the complex conjugate)\n     *\n     * F_{N-n} = F_n^{*} for a purely real f transformed to F\n     *\n     * G_{N-n} = G_n^{*} for a purely imaginary g transformed to G\n     *\n     */\n    reconstructTwoRealFFT:function(fourierTransform, realTransform1, realTransform2) {\n        var length = fourierTransform.re.length;\n\n        // the components n=0 are trivial\n        realTransform1.re[0] = fourierTransform.re[0];\n        realTransform1.im[0] = 0.0;\n        realTransform2.re[0] = fourierTransform.im[0];\n        realTransform2.im[0] = 0.0;\n        var rm, rp, im, ip, j;\n        for (var i = length / 2; i > 0; i--) {\n            j = length - i;\n            rm = 0.5 * (fourierTransform.re[i] - fourierTransform.re[j]);\n            rp = 0.5 * (fourierTransform.re[i] + fourierTransform.re[j]);\n            im = 0.5 * (fourierTransform.im[i] - fourierTransform.im[j]);\n            ip = 0.5 * (fourierTransform.im[i] + fourierTransform.im[j]);\n            realTransform1.re[i] = rp;\n            realTransform1.im[i] = im;\n            realTransform1.re[j] = rp;\n            realTransform1.im[j] = -im;\n            realTransform2.re[i] = ip;\n            realTransform2.im[i] = -rm;\n            realTransform2.re[j] = ip;\n            realTransform2.im[j] = rm;\n        }\n    },\n\n    /**\n     * In place version of convolute 2D\n     *\n     * @param ftSignal\n     * @param ftFilter\n     * @param ftRows\n     * @param ftCols\n     * @return\n     */\n    convolute2DI:function(ftSignal, ftFilter, ftRows, ftCols) {\n        var re, im;\n        for (var iRow = 0; iRow < ftRows / 2; iRow++) {\n            for (var iCol = 0; iCol < ftCols; iCol++) {\n                //\n                re = ftSignal[(iRow * 2) * ftCols + iCol]\n                    * ftFilter[(iRow * 2) * ftCols + iCol]\n                    - ftSignal[(iRow * 2 + 1) * ftCols + iCol]\n                    * ftFilter[(iRow * 2 + 1) * ftCols + iCol];\n                im = ftSignal[(iRow * 2) * ftCols + iCol]\n                    * ftFilter[(iRow * 2 + 1) * ftCols + iCol]\n                    + ftSignal[(iRow * 2 + 1) * ftCols + iCol]\n                    * ftFilter[(iRow * 2) * ftCols + iCol];\n                //\n                ftSignal[(iRow * 2) * ftCols + iCol] = re;\n                ftSignal[(iRow * 2 + 1) * ftCols + iCol] = im;\n            }\n        }\n    },\n    /**\n     *\n     * @param data\n     * @param kernel\n     * @param nRows\n     * @param nCols\n     * @returns {*}\n     */\n    convolute:function(data, kernel, nRows, nCols, opt) {\n        var ftSpectrum = new Array(nCols * nRows);\n        for (var i = 0; i<nRows * nCols; i++) {\n            ftSpectrum[i] = data[i];\n        }\n\n        ftSpectrum = this.fft2DArray(ftSpectrum, nRows, nCols);\n\n\n        var dimR = kernel.length;\n        var dimC = kernel[0].length;\n        var ftFilterData = new Array(nCols * nRows);\n        for(var i = 0; i < nCols * nRows; i++) {\n            ftFilterData[i] = 0;\n        }\n\n        var iRow, iCol;\n        var shiftR = Math.floor((dimR - 1) / 2);\n        var shiftC = Math.floor((dimC - 1) / 2);\n        for (var ir = 0; ir < dimR; ir++) {\n            iRow = (ir - shiftR + nRows) % nRows;\n            for (var ic = 0; ic < dimC; ic++) {\n                iCol = (ic - shiftC + nCols) % nCols;\n                ftFilterData[iRow * nCols + iCol] = kernel[ir][ic];\n            }\n        }\n        ftFilterData = this.fft2DArray(ftFilterData, nRows, nCols);\n\n        var ftRows = nRows * 2;\n        var ftCols = nCols / 2 + 1;\n        this.convolute2DI(ftSpectrum, ftFilterData, ftRows, ftCols);\n\n        return this.ifft2DArray(ftSpectrum, ftRows, ftCols);\n    },\n\n\n    toRadix2:function(data, nRows, nCols) {\n        var i, j, irow, icol;\n        var cols = nCols, rows = nRows, prows=0, pcols=0;\n        if(!(nCols !== 0 && (nCols & (nCols - 1)) === 0)) {\n            //Then we have to make a pading to next radix2\n            cols = 0;\n            while((nCols>>++cols)!=0);\n            cols=1<<cols;\n            pcols = cols-nCols;\n        }\n        if(!(nRows !== 0 && (nRows & (nRows - 1)) === 0)) {\n            //Then we have to make a pading to next radix2\n            rows = 0;\n            while((nRows>>++rows)!=0);\n            rows=1<<rows;\n            prows = (rows-nRows)*cols;\n        }\n        if(rows==nRows&&cols==nCols)//Do nothing. Returns the same input!!! Be careful\n            return {data:data, rows:nRows, cols:nCols};\n\n        var output = new Array(rows*cols);\n        var shiftR = Math.floor((rows-nRows)/2)-nRows;\n        var shiftC = Math.floor((cols-nCols)/2)-nCols;\n\n        for( i = 0; i < rows; i++) {\n            irow = i*cols;\n            icol = ((i-shiftR) % nRows) * nCols;\n            for( j = 0; j < cols; j++) {\n                output[irow+j] = data[(icol+(j-shiftC) % nCols) ];\n            }\n        }\n        return {data:output, rows:rows, cols:cols};\n    },\n\n    /**\n     * Crop the given matrix to fit the corresponding number of rows and columns\n     */\n    crop:function(data, rows, cols, nRows, nCols, opt) {\n\n        if(rows == nRows && cols == nCols)//Do nothing. Returns the same input!!! Be careful\n            return data;\n\n        var options = Object.assign({}, opt);\n\n        var output = new Array(nCols*nRows);\n\n        var shiftR = Math.floor((rows-nRows)/2);\n        var shiftC = Math.floor((cols-nCols)/2);\n        var destinyRow, sourceRow, i, j;\n        for( i = 0; i < nRows; i++) {\n            destinyRow = i*nCols;\n            sourceRow = (i+shiftR)*cols;\n            for( j = 0;j < nCols; j++) {\n                output[destinyRow+j] = data[sourceRow+(j+shiftC)];\n            }\n        }\n\n        return output;\n    }\n}\n\nmodule.exports = FFTUtils;\n","/**\n * Fast Fourier Transform module\n * 1D-FFT/IFFT, 2D-FFT/IFFT (radix-2)\n */\nvar FFT = (function(){\n  var FFT;  \n  \n  if(typeof exports !== 'undefined') {\n    FFT = exports;   // for CommonJS\n  } else {\n    FFT = {};\n  }\n  \n  var version = {\n    release: '0.3.0',\n    date: '2013-03'\n  };\n  FFT.toString = function() {\n    return \"version \" + version.release + \", released \" + version.date;\n  };\n\n  // core operations\n  var _n = 0,          // order\n      _bitrev = null,  // bit reversal table\n      _cstb = null;    // sin/cos table\n\n  var core = {\n    init : function(n) {\n      if(n !== 0 && (n & (n - 1)) === 0) {\n        _n = n;\n        core._initArray();\n        core._makeBitReversalTable();\n        core._makeCosSinTable();\n      } else {\n        throw new Error(\"init: radix-2 required\");\n      }\n    },\n    // 1D-FFT\n    fft1d : function(re, im) {\n      core.fft(re, im, 1);\n    },\n    // 1D-IFFT\n    ifft1d : function(re, im) {\n      var n = 1/_n;\n      core.fft(re, im, -1);\n      for(var i=0; i<_n; i++) {\n        re[i] *= n;\n        im[i] *= n;\n      }\n    },\n     // 1D-IFFT\n    bt1d : function(re, im) {\n      core.fft(re, im, -1);\n    },\n    // 2D-FFT Not very useful if the number of rows have to be equal to cols\n    fft2d : function(re, im) {\n      var tre = [],\n          tim = [],\n          i = 0;\n      // x-axis\n      for(var y=0; y<_n; y++) {\n        i = y*_n;\n        for(var x1=0; x1<_n; x1++) {\n          tre[x1] = re[x1 + i];\n          tim[x1] = im[x1 + i];\n        }\n        core.fft1d(tre, tim);\n        for(var x2=0; x2<_n; x2++) {\n          re[x2 + i] = tre[x2];\n          im[x2 + i] = tim[x2];\n        }\n      }\n      // y-axis\n      for(var x=0; x<_n; x++) {\n        for(var y1=0; y1<_n; y1++) {\n          i = x + y1*_n;\n          tre[y1] = re[i];\n          tim[y1] = im[i];\n        }\n        core.fft1d(tre, tim);\n        for(var y2=0; y2<_n; y2++) {\n          i = x + y2*_n;\n          re[i] = tre[y2];\n          im[i] = tim[y2];\n        }\n      }\n    },\n    // 2D-IFFT\n    ifft2d : function(re, im) {\n      var tre = [],\n          tim = [],\n          i = 0;\n      // x-axis\n      for(var y=0; y<_n; y++) {\n        i = y*_n;\n        for(var x1=0; x1<_n; x1++) {\n          tre[x1] = re[x1 + i];\n          tim[x1] = im[x1 + i];\n        }\n        core.ifft1d(tre, tim);\n        for(var x2=0; x2<_n; x2++) {\n          re[x2 + i] = tre[x2];\n          im[x2 + i] = tim[x2];\n        }\n      }\n      // y-axis\n      for(var x=0; x<_n; x++) {\n        for(var y1=0; y1<_n; y1++) {\n          i = x + y1*_n;\n          tre[y1] = re[i];\n          tim[y1] = im[i];\n        }\n        core.ifft1d(tre, tim);\n        for(var y2=0; y2<_n; y2++) {\n          i = x + y2*_n;\n          re[i] = tre[y2];\n          im[i] = tim[y2];\n        }\n      }\n    },\n    // core operation of FFT\n    fft : function(re, im, inv) {\n      var d, h, ik, m, tmp, wr, wi, xr, xi,\n          n4 = _n >> 2;\n      // bit reversal\n      for(var l=0; l<_n; l++) {\n        m = _bitrev[l];\n        if(l < m) {\n          tmp = re[l];\n          re[l] = re[m];\n          re[m] = tmp;\n          tmp = im[l];\n          im[l] = im[m];\n          im[m] = tmp;\n        }\n      }\n      // butterfly operation\n      for(var k=1; k<_n; k<<=1) {\n        h = 0;\n        d = _n/(k << 1);\n        for(var j=0; j<k; j++) {\n          wr = _cstb[h + n4];\n          wi = inv*_cstb[h];\n          for(var i=j; i<_n; i+=(k<<1)) {\n            ik = i + k;\n            xr = wr*re[ik] + wi*im[ik];\n            xi = wr*im[ik] - wi*re[ik];\n            re[ik] = re[i] - xr;\n            re[i] += xr;\n            im[ik] = im[i] - xi;\n            im[i] += xi;\n          }\n          h += d;\n        }\n      }\n    },\n    // initialize the array (supports TypedArray)\n    _initArray : function() {\n      if(typeof Uint32Array !== 'undefined') {\n        _bitrev = new Uint32Array(_n);\n      } else {\n        _bitrev = [];\n      }\n      if(typeof Float64Array !== 'undefined') {\n        _cstb = new Float64Array(_n*1.25);\n      } else {\n        _cstb = [];\n      }\n    },\n    // zero padding\n    _paddingZero : function() {\n      // TODO\n    },\n    // makes bit reversal table\n    _makeBitReversalTable : function() {\n      var i = 0,\n          j = 0,\n          k = 0;\n      _bitrev[0] = 0;\n      while(++i < _n) {\n        k = _n >> 1;\n        while(k <= j) {\n          j -= k;\n          k >>= 1;\n        }\n        j += k;\n        _bitrev[i] = j;\n      }\n    },\n    // makes trigonometiric function table\n    _makeCosSinTable : function() {\n      var n2 = _n >> 1,\n          n4 = _n >> 2,\n          n8 = _n >> 3,\n          n2p4 = n2 + n4,\n          t = Math.sin(Math.PI/_n),\n          dc = 2*t*t,\n          ds = Math.sqrt(dc*(2 - dc)),\n          c = _cstb[n4] = 1,\n          s = _cstb[0] = 0;\n      t = 2*dc;\n      for(var i=1; i<n8; i++) {\n        c -= dc;\n        dc += t*c;\n        s += ds;\n        ds -= t*s;\n        _cstb[i] = s;\n        _cstb[n4 - i] = c;\n      }\n      if(n8 !== 0) {\n        _cstb[n8] = Math.sqrt(0.5);\n      }\n      for(var j=0; j<n4; j++) {\n        _cstb[n2 - j]  = _cstb[j];\n      }\n      for(var k=0; k<n2p4; k++) {\n        _cstb[k + n2] = -_cstb[k];\n      }\n    }\n  };\n  // aliases (public APIs)\n  var apis = ['init', 'fft1d', 'ifft1d', 'fft2d', 'ifft2d'];\n  for(var i=0; i<apis.length; i++) {\n    FFT[apis[i]] = core[apis[i]];\n  }\n  FFT.bt = core.bt1d;\n  FFT.fft = core.fft1d;\n  FFT.ifft = core.ifft1d;\n  \n  return FFT;\n}).call(this);\n","'use strict';\n\nexports.FFTUtils = require(\"./FFTUtils\");\nexports.FFT = require('./fftlib');\n","'use strict';\n\nconst { squaredEuclidean } = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n  sigma: 1\n};\n\nclass GaussianKernel {\n  constructor(options) {\n    options = Object.assign({}, defaultOptions, options);\n    this.sigma = options.sigma;\n    this.divisor = 2 * options.sigma * options.sigma;\n  }\n  compute(x, y) {\n    const distance = squaredEuclidean(x, y);\n    return Math.exp(-distance / this.divisor);\n  }\n}\n\nmodule.exports = GaussianKernel;\n","'use strict';\n\nconst defaultOptions = {\n  degree: 1,\n  constant: 1,\n  scale: 1\n};\n\nclass PolynomialKernel {\n  constructor(options) {\n    options = Object.assign({}, defaultOptions, options);\n\n    this.degree = options.degree;\n    this.constant = options.constant;\n    this.scale = options.scale;\n  }\n\n  compute(x, y) {\n    var sum = 0;\n    for (var i = 0; i < x.length; i++) {\n      sum += x[i] * y[i];\n    }\n    return Math.pow(this.scale * sum + this.constant, this.degree);\n  }\n}\n\nmodule.exports = PolynomialKernel;\n","'use strict';\n\nconst defaultOptions = {\n  alpha: 0.01,\n  constant: -Math.E\n};\n\nclass SigmoidKernel {\n  constructor(options) {\n    options = Object.assign({}, defaultOptions, options);\n    this.alpha = options.alpha;\n    this.constant = options.constant;\n  }\n\n  compute(x, y) {\n    var sum = 0;\n    for (var i = 0; i < x.length; i++) {\n      sum += x[i] * y[i];\n    }\n    return Math.tanh(this.alpha * sum + this.constant);\n  }\n}\n\nmodule.exports = SigmoidKernel;\n","'use strict';\n\nconst { Matrix, MatrixTransposeView } = require('ml-matrix');\nconst GaussianKernel = require('ml-kernel-gaussian');\nconst PolynomialKernel = require('ml-kernel-polynomial');\nconst SigmoidKernel = require('ml-kernel-sigmoid');\n\nconst ANOVAKernel = require('./kernels/anova-kernel');\nconst CauchyKernel = require('./kernels/cauchy-kernel');\nconst ExponentialKernel = require('./kernels/exponential-kernel');\nconst HistogramKernel = require('./kernels/histogram-intersection-kernel');\nconst LaplacianKernel = require('./kernels/laplacian-kernel');\nconst MultiquadraticKernel = require('./kernels/multiquadratic-kernel');\nconst RationalKernel = require('./kernels/rational-quadratic-kernel');\n\nconst kernelType = {\n  gaussian: GaussianKernel,\n  rbf: GaussianKernel,\n  polynomial: PolynomialKernel,\n  poly: PolynomialKernel,\n  anova: ANOVAKernel,\n  cauchy: CauchyKernel,\n  exponential: ExponentialKernel,\n  histogram: HistogramKernel,\n  min: HistogramKernel,\n  laplacian: LaplacianKernel,\n  multiquadratic: MultiquadraticKernel,\n  rational: RationalKernel,\n  sigmoid: SigmoidKernel,\n  mlp: SigmoidKernel\n};\n\nclass Kernel {\n  constructor(type, options) {\n    this.kernelType = type;\n    if (type === 'linear') return;\n\n    if (typeof type === 'string') {\n      type = type.toLowerCase();\n\n      var KernelConstructor = kernelType[type];\n      if (KernelConstructor) {\n        this.kernelFunction = new KernelConstructor(options);\n      } else {\n        throw new Error(`unsupported kernel type: ${type}`);\n      }\n    } else if (typeof type === 'object' && typeof type.compute === 'function') {\n      this.kernelFunction = type;\n    } else {\n      throw new TypeError(\n        'first argument must be a valid kernel type or instance'\n      );\n    }\n  }\n\n  compute(inputs, landmarks) {\n    inputs = Matrix.checkMatrix(inputs);\n    if (landmarks === undefined) {\n      landmarks = inputs;\n    } else {\n      landmarks = Matrix.checkMatrix(landmarks);\n    }\n    if (this.kernelType === 'linear') {\n      return inputs.mmul(new MatrixTransposeView(landmarks));\n    }\n\n    const kernelMatrix = new Matrix(inputs.rows, landmarks.rows);\n    if (inputs === landmarks) {\n      // fast path, matrix is symmetric\n      for (let i = 0; i < inputs.rows; i++) {\n        for (let j = i; j < inputs.rows; j++) {\n          const value = this.kernelFunction.compute(\n            inputs.getRow(i),\n            inputs.getRow(j)\n          );\n          kernelMatrix.set(i, j, value);\n          kernelMatrix.set(j, i, value);\n        }\n      }\n    } else {\n      for (let i = 0; i < inputs.rows; i++) {\n        for (let j = 0; j < landmarks.rows; j++) {\n          kernelMatrix.set(\n            i,\n            j,\n            this.kernelFunction.compute(inputs.getRow(i), landmarks.getRow(j))\n          );\n        }\n      }\n    }\n    return kernelMatrix;\n  }\n}\n\nmodule.exports = Kernel;\n","'use strict';\n\nconst defaultOptions = {\n  sigma: 1,\n  degree: 1\n};\n\nclass ANOVAKernel {\n  constructor(options) {\n    options = Object.assign({}, defaultOptions, options);\n    this.sigma = options.sigma;\n    this.degree = options.degree;\n  }\n\n  compute(x, y) {\n    var sum = 0;\n    var len = Math.min(x.length, y.length);\n    for (var i = 1; i <= len; ++i) {\n      sum += Math.pow(\n        Math.exp(\n          -this.sigma *\n            Math.pow(Math.pow(x[i - 1], i) - Math.pow(y[i - 1], i), 2)\n        ),\n        this.degree\n      );\n    }\n    return sum;\n  }\n}\n\nmodule.exports = ANOVAKernel;\n","'use strict';\n\nconst { squaredEuclidean } = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n  sigma: 1\n};\n\nclass CauchyKernel {\n  constructor(options) {\n    options = Object.assign({}, defaultOptions, options);\n    this.sigma = options.sigma;\n  }\n\n  compute(x, y) {\n    return 1 / (1 + squaredEuclidean(x, y) / (this.sigma * this.sigma));\n  }\n}\n\nmodule.exports = CauchyKernel;\n","'use strict';\n\nconst { euclidean } = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n  sigma: 1\n};\n\nclass ExponentialKernel {\n  constructor(options) {\n    options = Object.assign({}, defaultOptions, options);\n    this.sigma = options.sigma;\n    this.divisor = 2 * options.sigma * options.sigma;\n  }\n\n  compute(x, y) {\n    const distance = euclidean(x, y);\n    return Math.exp(-distance / this.divisor);\n  }\n}\n\nmodule.exports = ExponentialKernel;\n","'use strict';\n\nclass HistogramIntersectionKernel {\n  compute(x, y) {\n    var min = Math.min(x.length, y.length);\n    var sum = 0;\n    for (var i = 0; i < min; ++i) {\n      sum += Math.min(x[i], y[i]);\n    }\n\n    return sum;\n  }\n}\n\nmodule.exports = HistogramIntersectionKernel;\n","'use strict';\n\nconst { euclidean } = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n  sigma: 1\n};\n\nclass LaplacianKernel {\n  constructor(options) {\n    options = Object.assign({}, defaultOptions, options);\n    this.sigma = options.sigma;\n  }\n\n  compute(x, y) {\n    const distance = euclidean(x, y);\n    return Math.exp(-distance / this.sigma);\n  }\n}\n\nmodule.exports = LaplacianKernel;\n","'use strict';\n\nconst { squaredEuclidean } = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n  constant: 1\n};\n\nclass MultiquadraticKernel {\n  constructor(options) {\n    options = Object.assign({}, defaultOptions, options);\n    this.constant = options.constant;\n  }\n\n  compute(x, y) {\n    return Math.sqrt(squaredEuclidean(x, y) + this.constant * this.constant);\n  }\n}\n\nmodule.exports = MultiquadraticKernel;\n","'use strict';\n\nconst { squaredEuclidean } = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n  constant: 1\n};\n\nclass RationalQuadraticKernel {\n  constructor(options) {\n    options = Object.assign({}, defaultOptions, options);\n    this.constant = options.constant;\n  }\n\n  compute(x, y) {\n    const distance = squaredEuclidean(x, y);\n    return 1 - distance / (distance + this.constant);\n  }\n}\n\nmodule.exports = RationalQuadraticKernel;\n","'use strict;'\n/**\n * Created by acastillo on 7/7/16.\n */\nvar FFTUtils = require(\"ml-fft\").FFTUtils;\n\nfunction convolutionFFT(input, kernel, opt) {\n    var tmp = matrix2Array(input);\n    var inputData = tmp.data;\n    var options = Object.assign({normalize : false, divisor : 1, rows:tmp.rows, cols:tmp.cols}, opt);\n\n    var nRows, nCols;\n    if (options.rows&&options.cols) {\n        nRows = options.rows;\n        nCols = options.cols;\n    }\n    else {\n        throw new Error(\"Invalid number of rows or columns \" + nRows + \" \" + nCols)\n    }\n\n    var divisor = options.divisor;\n    var i,j;\n    var kHeight =  kernel.length;\n    var kWidth =  kernel[0].length;\n    if (options.normalize) {\n        divisor = 0;\n        for (i = 0; i < kHeight; i++)\n            for (j = 0; j < kWidth; j++)\n                divisor += kernel[i][j];\n    }\n    if (divisor === 0) {\n        throw new RangeError('convolution: The divisor is equal to zero');\n    }\n\n    var radix2Sized = FFTUtils.toRadix2(inputData, nRows, nCols);\n    var conv = FFTUtils.convolute(radix2Sized.data, kernel, radix2Sized.rows, radix2Sized.cols);\n    conv = FFTUtils.crop(conv, radix2Sized.rows, radix2Sized.cols, nRows, nCols);\n\n    if(divisor!=0&&divisor!=1){\n        for(i=0;i<conv.length;i++){\n            conv[i]/=divisor;\n        }\n    }\n\n    return conv;\n}\n\nfunction convolutionDirect(input, kernel, opt) {\n    var tmp = matrix2Array(input);\n    var inputData = tmp.data;\n    var options = Object.assign({normalize : false, divisor : 1, rows:tmp.rows, cols:tmp.cols}, opt);\n\n    var nRows, nCols;\n    if (options.rows&&options.cols) {\n        nRows = options.rows;\n        nCols = options.cols;\n    }\n    else {\n        throw new Error(\"Invalid number of rows or columns \" + nRows + \" \" + nCols)\n    }\n\n    var divisor = options.divisor;\n    var kHeight =  kernel.length;\n    var kWidth =  kernel[0].length;\n    var i, j, x, y, index, sum, kVal, row, col;\n    if (options.normalize) {\n        divisor = 0;\n        for (i = 0; i < kHeight; i++)\n            for (j = 0; j < kWidth; j++)\n                divisor += kernel[i][j];\n    }\n    if (divisor === 0) {\n        throw new RangeError('convolution: The divisor is equal to zero');\n    }\n\n    var output = new Array(nRows*nCols);\n\n    var hHeight = Math.floor(kHeight/2);\n    var hWidth = Math.floor(kWidth/2);\n\n    for (y = 0; y < nRows; y++) {\n        for (x = 0; x < nCols; x++) {\n            sum = 0;\n            for ( j = 0; j < kHeight; j++) {\n                for ( i = 0; i < kWidth; i++) {\n                    kVal = kernel[kHeight - j - 1][kWidth - i - 1];\n                    row = (y + j -hHeight + nRows) % nRows;\n                    col = (x + i - hWidth + nCols) % nCols;\n                    index = (row * nCols + col);\n                    sum += inputData[index] * kVal;\n                }\n            }\n            index = (y * nCols + x);\n            output[index]= sum / divisor;\n        }\n    }\n    return output;\n}\n\n\n\nfunction LoG(sigma, nPoints, options){\n    var factor = 1000;\n    if(options&&options.factor){\n        factor = options.factor;\n    }\n\n    var kernel = new Array(nPoints);\n    var i,j,tmp,y2,tmp2;\n\n    factor*=-1;//-1/(Math.PI*Math.pow(sigma,4));\n    var center = (nPoints-1)/2;\n    var sigma2 = 2*sigma*sigma;\n    for( i=0;i<nPoints;i++){\n        kernel[i]=new Array(nPoints);\n        y2 = (i-center)*(i-center);\n        for( j=0;j<nPoints;j++){\n            tmp = -((j-center)*(j-center)+y2)/sigma2;\n            kernel[i][j]=Math.round(factor*(1+tmp)*Math.exp(tmp));\n        }\n    }\n\n    return kernel;\n}\n\nfunction matrix2Array(input){\n    var inputData=input;\n    var nRows, nCols;\n    if(typeof input[0]!=\"number\"){\n        nRows = input.length;\n        nCols = input[0].length;\n        inputData = new Array(nRows*nCols);\n        for(var i=0;i<nRows;i++){\n            for(var j=0;j<nCols;j++){\n                inputData[i*nCols+j]=input[i][j];\n            }\n        }\n    }\n    else{\n        var tmp = Math.sqrt(input.length);\n        if(Number.isInteger(tmp)){\n            nRows=tmp;\n            nCols=tmp;\n        }\n    }\n\n    return {data:inputData,rows:nRows,cols:nCols};\n}\n\n\nmodule.exports = {\n    fft:convolutionFFT,\n    direct:convolutionDirect,\n    kernelFactory:{LoG:LoG},\n    matrix2Array:matrix2Array\n};","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar isAnyArray = require('is-any-array');\nvar rescale = require('ml-array-rescale');\n\nconst indent = ' '.repeat(2);\nconst indentData = ' '.repeat(4);\n\nfunction inspectMatrix() {\n  return inspectMatrixWithOptions(this);\n}\n\nfunction inspectMatrixWithOptions(matrix, options = {}) {\n  const {\n    maxRows = 15,\n    maxColumns = 10,\n    maxNumSize = 8,\n    padMinus = 'auto',\n  } = options;\n  return `${matrix.constructor.name} {\n${indent}[\n${indentData}${inspectData(matrix, maxRows, maxColumns, maxNumSize, padMinus)}\n${indent}]\n${indent}rows: ${matrix.rows}\n${indent}columns: ${matrix.columns}\n}`;\n}\n\nfunction inspectData(matrix, maxRows, maxColumns, maxNumSize, padMinus) {\n  const { rows, columns } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n\n  if (padMinus === 'auto') {\n    padMinus = false;\n    loop: for (let i = 0; i < maxI; i++) {\n      for (let j = 0; j < maxJ; j++) {\n        if (matrix.get(i, j) < 0) {\n          padMinus = true;\n          break loop;\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j), maxNumSize, padMinus));\n    }\n    result.push(`${line.join(' ')}`);\n  }\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n  return result.join(`\\n${indentData}`);\n}\n\nfunction formatNumber(num, maxNumSize, padMinus) {\n  return (\n    num >= 0 && padMinus\n      ? ` ${formatNumber2(num, maxNumSize - 1)}`\n      : formatNumber2(num, maxNumSize)\n  ).padEnd(maxNumSize);\n}\n\nfunction formatNumber2(num, len) {\n  // small.length numbers should be as is\n  let str = num.toString();\n  if (str.length <= len) return str;\n\n  // (7)'0.00123' is better then (7)'1.23e-2'\n  // (8)'0.000123' is worse then (7)'1.23e-3',\n  let fix = num.toFixed(len);\n  if (fix.length > len) {\n    fix = num.toFixed(Math.max(0, len - (fix.length - len)));\n  }\n  if (\n    fix.length <= len &&\n    !fix.startsWith('0.000') &&\n    !fix.startsWith('-0.000')\n  ) {\n    return fix;\n  }\n\n  // well, if it's still too long the user should've used longer numbers\n  let exp = num.toExponential(len);\n  if (exp.length > len) {\n    exp = num.toExponential(Math.max(0, len - (exp.length - len)));\n  }\n  return exp.slice(0);\n}\n\nfunction installMathOperations(AbstractMatrix, Matrix) {\n  AbstractMatrix.prototype.add = function add(value) {\n    if (typeof value === 'number') return this.addS(value);\n    return this.addM(value);\n  };\n\n  AbstractMatrix.prototype.addS = function addS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.addM = function addM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.add = function add(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.add(value);\n  };\n\n  AbstractMatrix.prototype.sub = function sub(value) {\n    if (typeof value === 'number') return this.subS(value);\n    return this.subM(value);\n  };\n\n  AbstractMatrix.prototype.subS = function subS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.subM = function subM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sub = function sub(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sub(value);\n  };\n  AbstractMatrix.prototype.subtract = AbstractMatrix.prototype.sub;\n  AbstractMatrix.prototype.subtractS = AbstractMatrix.prototype.subS;\n  AbstractMatrix.prototype.subtractM = AbstractMatrix.prototype.subM;\n  AbstractMatrix.subtract = AbstractMatrix.sub;\n\n  AbstractMatrix.prototype.mul = function mul(value) {\n    if (typeof value === 'number') return this.mulS(value);\n    return this.mulM(value);\n  };\n\n  AbstractMatrix.prototype.mulS = function mulS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.mulM = function mulM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mul = function mul(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mul(value);\n  };\n  AbstractMatrix.prototype.multiply = AbstractMatrix.prototype.mul;\n  AbstractMatrix.prototype.multiplyS = AbstractMatrix.prototype.mulS;\n  AbstractMatrix.prototype.multiplyM = AbstractMatrix.prototype.mulM;\n  AbstractMatrix.multiply = AbstractMatrix.mul;\n\n  AbstractMatrix.prototype.div = function div(value) {\n    if (typeof value === 'number') return this.divS(value);\n    return this.divM(value);\n  };\n\n  AbstractMatrix.prototype.divS = function divS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.divM = function divM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.div = function div(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.div(value);\n  };\n  AbstractMatrix.prototype.divide = AbstractMatrix.prototype.div;\n  AbstractMatrix.prototype.divideS = AbstractMatrix.prototype.divS;\n  AbstractMatrix.prototype.divideM = AbstractMatrix.prototype.divM;\n  AbstractMatrix.divide = AbstractMatrix.div;\n\n  AbstractMatrix.prototype.mod = function mod(value) {\n    if (typeof value === 'number') return this.modS(value);\n    return this.modM(value);\n  };\n\n  AbstractMatrix.prototype.modS = function modS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.modM = function modM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mod = function mod(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mod(value);\n  };\n  AbstractMatrix.prototype.modulus = AbstractMatrix.prototype.mod;\n  AbstractMatrix.prototype.modulusS = AbstractMatrix.prototype.modS;\n  AbstractMatrix.prototype.modulusM = AbstractMatrix.prototype.modM;\n  AbstractMatrix.modulus = AbstractMatrix.mod;\n\n  AbstractMatrix.prototype.and = function and(value) {\n    if (typeof value === 'number') return this.andS(value);\n    return this.andM(value);\n  };\n\n  AbstractMatrix.prototype.andS = function andS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.andM = function andM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.and = function and(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.and(value);\n  };\n\n  AbstractMatrix.prototype.or = function or(value) {\n    if (typeof value === 'number') return this.orS(value);\n    return this.orM(value);\n  };\n\n  AbstractMatrix.prototype.orS = function orS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.orM = function orM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.or = function or(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.or(value);\n  };\n\n  AbstractMatrix.prototype.xor = function xor(value) {\n    if (typeof value === 'number') return this.xorS(value);\n    return this.xorM(value);\n  };\n\n  AbstractMatrix.prototype.xorS = function xorS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.xorM = function xorM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.xor = function xor(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.xor(value);\n  };\n\n  AbstractMatrix.prototype.leftShift = function leftShift(value) {\n    if (typeof value === 'number') return this.leftShiftS(value);\n    return this.leftShiftM(value);\n  };\n\n  AbstractMatrix.prototype.leftShiftS = function leftShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.leftShiftM = function leftShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.leftShift = function leftShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.leftShift(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShift = function signPropagatingRightShift(value) {\n    if (typeof value === 'number') return this.signPropagatingRightShiftS(value);\n    return this.signPropagatingRightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftS = function signPropagatingRightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftM = function signPropagatingRightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.signPropagatingRightShift = function signPropagatingRightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.signPropagatingRightShift(value);\n  };\n\n  AbstractMatrix.prototype.rightShift = function rightShift(value) {\n    if (typeof value === 'number') return this.rightShiftS(value);\n    return this.rightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.rightShiftS = function rightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.rightShiftM = function rightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.rightShift = function rightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.rightShift(value);\n  };\n  AbstractMatrix.prototype.zeroFillRightShift = AbstractMatrix.prototype.rightShift;\n  AbstractMatrix.prototype.zeroFillRightShiftS = AbstractMatrix.prototype.rightShiftS;\n  AbstractMatrix.prototype.zeroFillRightShiftM = AbstractMatrix.prototype.rightShiftM;\n  AbstractMatrix.zeroFillRightShift = AbstractMatrix.rightShift;\n\n  AbstractMatrix.prototype.not = function not() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, ~(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.not = function not(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.not();\n  };\n\n  AbstractMatrix.prototype.abs = function abs() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.abs(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.abs = function abs(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.abs();\n  };\n\n  AbstractMatrix.prototype.acos = function acos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acos = function acos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acos();\n  };\n\n  AbstractMatrix.prototype.acosh = function acosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acosh = function acosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acosh();\n  };\n\n  AbstractMatrix.prototype.asin = function asin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asin = function asin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asin();\n  };\n\n  AbstractMatrix.prototype.asinh = function asinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asinh = function asinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asinh();\n  };\n\n  AbstractMatrix.prototype.atan = function atan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atan = function atan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atan();\n  };\n\n  AbstractMatrix.prototype.atanh = function atanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atanh = function atanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atanh();\n  };\n\n  AbstractMatrix.prototype.cbrt = function cbrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cbrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cbrt = function cbrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cbrt();\n  };\n\n  AbstractMatrix.prototype.ceil = function ceil() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.ceil(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.ceil = function ceil(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.ceil();\n  };\n\n  AbstractMatrix.prototype.clz32 = function clz32() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.clz32(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.clz32 = function clz32(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.clz32();\n  };\n\n  AbstractMatrix.prototype.cos = function cos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cos = function cos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cos();\n  };\n\n  AbstractMatrix.prototype.cosh = function cosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cosh = function cosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cosh();\n  };\n\n  AbstractMatrix.prototype.exp = function exp() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.exp(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.exp = function exp(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.exp();\n  };\n\n  AbstractMatrix.prototype.expm1 = function expm1() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.expm1(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.expm1 = function expm1(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.expm1();\n  };\n\n  AbstractMatrix.prototype.floor = function floor() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.floor(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.floor = function floor(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.floor();\n  };\n\n  AbstractMatrix.prototype.fround = function fround() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.fround(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.fround = function fround(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.fround();\n  };\n\n  AbstractMatrix.prototype.log = function log() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log = function log(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log();\n  };\n\n  AbstractMatrix.prototype.log1p = function log1p() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log1p(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log1p = function log1p(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log1p();\n  };\n\n  AbstractMatrix.prototype.log10 = function log10() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log10(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log10 = function log10(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log10();\n  };\n\n  AbstractMatrix.prototype.log2 = function log2() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log2(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log2 = function log2(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log2();\n  };\n\n  AbstractMatrix.prototype.round = function round() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.round(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.round = function round(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.round();\n  };\n\n  AbstractMatrix.prototype.sign = function sign() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sign(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sign = function sign(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sign();\n  };\n\n  AbstractMatrix.prototype.sin = function sin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sin = function sin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sin();\n  };\n\n  AbstractMatrix.prototype.sinh = function sinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sinh = function sinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sinh();\n  };\n\n  AbstractMatrix.prototype.sqrt = function sqrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sqrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sqrt = function sqrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sqrt();\n  };\n\n  AbstractMatrix.prototype.tan = function tan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tan = function tan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tan();\n  };\n\n  AbstractMatrix.prototype.tanh = function tanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tanh = function tanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tanh();\n  };\n\n  AbstractMatrix.prototype.trunc = function trunc() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.trunc(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.trunc = function trunc(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.trunc();\n  };\n\n  AbstractMatrix.pow = function pow(matrix, arg0) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.pow(arg0);\n  };\n\n  AbstractMatrix.prototype.pow = function pow(value) {\n    if (typeof value === 'number') return this.powS(value);\n    return this.powM(value);\n  };\n\n  AbstractMatrix.prototype.powS = function powS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.pow(this.get(i, j), value));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.powM = function powM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.pow(this.get(i, j), matrix.get(i, j)));\n      }\n    }\n    return this;\n  };\n}\n\n/**\n * @private\n * Check that a row index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nfunction checkRowIndex(matrix, index, outer) {\n  let max = outer ? matrix.rows : matrix.rows - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Row index out of range');\n  }\n}\n\n/**\n * @private\n * Check that a column index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nfunction checkColumnIndex(matrix, index, outer) {\n  let max = outer ? matrix.columns : matrix.columns - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Column index out of range');\n  }\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nfunction checkRowVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.columns) {\n    throw new RangeError(\n      'vector size must be the same as the number of columns',\n    );\n  }\n  return vector;\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nfunction checkColumnVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.rows) {\n    throw new RangeError('vector size must be the same as the number of rows');\n  }\n  return vector;\n}\n\nfunction checkRowIndices(matrix, rowIndices) {\n  if (!isAnyArray.isAnyArray(rowIndices)) {\n    throw new TypeError('row indices must be an array');\n  }\n\n  for (let i = 0; i < rowIndices.length; i++) {\n    if (rowIndices[i] < 0 || rowIndices[i] >= matrix.rows) {\n      throw new RangeError('row indices are out of range');\n    }\n  }\n}\n\nfunction checkColumnIndices(matrix, columnIndices) {\n  if (!isAnyArray.isAnyArray(columnIndices)) {\n    throw new TypeError('column indices must be an array');\n  }\n\n  for (let i = 0; i < columnIndices.length; i++) {\n    if (columnIndices[i] < 0 || columnIndices[i] >= matrix.columns) {\n      throw new RangeError('column indices are out of range');\n    }\n  }\n}\n\nfunction checkRange(matrix, startRow, endRow, startColumn, endColumn) {\n  if (arguments.length !== 5) {\n    throw new RangeError('expected 4 arguments');\n  }\n  checkNumber('startRow', startRow);\n  checkNumber('endRow', endRow);\n  checkNumber('startColumn', startColumn);\n  checkNumber('endColumn', endColumn);\n  if (\n    startRow > endRow ||\n    startColumn > endColumn ||\n    startRow < 0 ||\n    startRow >= matrix.rows ||\n    endRow < 0 ||\n    endRow >= matrix.rows ||\n    startColumn < 0 ||\n    startColumn >= matrix.columns ||\n    endColumn < 0 ||\n    endColumn >= matrix.columns\n  ) {\n    throw new RangeError('Submatrix indices are out of range');\n  }\n}\n\nfunction newArray(length, value = 0) {\n  let array = [];\n  for (let i = 0; i < length; i++) {\n    array.push(value);\n  }\n  return array;\n}\n\nfunction checkNumber(name, value) {\n  if (typeof value !== 'number') {\n    throw new TypeError(`${name} must be a number`);\n  }\n}\n\nfunction checkNonEmpty(matrix) {\n  if (matrix.isEmpty()) {\n    throw new Error('Empty matrix has no elements to index');\n  }\n}\n\nfunction sumByRow(matrix) {\n  let sum = newArray(matrix.rows);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nfunction sumByColumn(matrix) {\n  let sum = newArray(matrix.columns);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nfunction sumAll(matrix) {\n  let v = 0;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v += matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nfunction productByRow(matrix) {\n  let sum = newArray(matrix.rows, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nfunction productByColumn(matrix) {\n  let sum = newArray(matrix.columns, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nfunction productAll(matrix) {\n  let v = 1;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v *= matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nfunction varianceByRow(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let i = 0; i < rows; i++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean[i];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / cols) / (cols - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / cols) / cols);\n    }\n  }\n  return variance;\n}\n\nfunction varianceByColumn(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let j = 0; j < cols; j++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let i = 0; i < rows; i++) {\n      x = matrix.get(i, j) - mean[j];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / rows) / (rows - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / rows) / rows);\n    }\n  }\n  return variance;\n}\n\nfunction varianceAll(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const size = rows * cols;\n\n  let sum1 = 0;\n  let sum2 = 0;\n  let x = 0;\n  for (let i = 0; i < rows; i++) {\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean;\n      sum1 += x;\n      sum2 += x * x;\n    }\n  }\n  if (unbiased) {\n    return (sum2 - (sum1 * sum1) / size) / (size - 1);\n  } else {\n    return (sum2 - (sum1 * sum1) / size) / size;\n  }\n}\n\nfunction centerByRow(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[i]);\n    }\n  }\n}\n\nfunction centerByColumn(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[j]);\n    }\n  }\n}\n\nfunction centerAll(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean);\n    }\n  }\n}\n\nfunction getScaleByRow(matrix) {\n  const scale = [];\n  for (let i = 0; i < matrix.rows; i++) {\n    let sum = 0;\n    for (let j = 0; j < matrix.columns; j++) {\n      sum += Math.pow(matrix.get(i, j), 2) / (matrix.columns - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nfunction scaleByRow(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[i]);\n    }\n  }\n}\n\nfunction getScaleByColumn(matrix) {\n  const scale = [];\n  for (let j = 0; j < matrix.columns; j++) {\n    let sum = 0;\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += Math.pow(matrix.get(i, j), 2) / (matrix.rows - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nfunction scaleByColumn(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[j]);\n    }\n  }\n}\n\nfunction getScaleAll(matrix) {\n  const divider = matrix.size - 1;\n  let sum = 0;\n  for (let j = 0; j < matrix.columns; j++) {\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += Math.pow(matrix.get(i, j), 2) / divider;\n    }\n  }\n  return Math.sqrt(sum);\n}\n\nfunction scaleAll(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale);\n    }\n  }\n}\n\nclass AbstractMatrix {\n  static from1DArray(newRows, newColumns, newData) {\n    let length = newRows * newColumns;\n    if (length !== newData.length) {\n      throw new RangeError('data length does not match given dimensions');\n    }\n    let newMatrix = new Matrix(newRows, newColumns);\n    for (let row = 0; row < newRows; row++) {\n      for (let column = 0; column < newColumns; column++) {\n        newMatrix.set(row, column, newData[row * newColumns + column]);\n      }\n    }\n    return newMatrix;\n  }\n\n  static rowVector(newData) {\n    let vector = new Matrix(1, newData.length);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(0, i, newData[i]);\n    }\n    return vector;\n  }\n\n  static columnVector(newData) {\n    let vector = new Matrix(newData.length, 1);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(i, 0, newData[i]);\n    }\n    return vector;\n  }\n\n  static zeros(rows, columns) {\n    return new Matrix(rows, columns);\n  }\n\n  static ones(rows, columns) {\n    return new Matrix(rows, columns).fill(1);\n  }\n\n  static rand(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { random = Math.random } = options;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.set(i, j, random());\n      }\n    }\n    return matrix;\n  }\n\n  static randInt(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1000, random = Math.random } = options;\n    if (!Number.isInteger(min)) throw new TypeError('min must be an integer');\n    if (!Number.isInteger(max)) throw new TypeError('max must be an integer');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let interval = max - min;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        let value = min + Math.round(random() * interval);\n        matrix.set(i, j, value);\n      }\n    }\n    return matrix;\n  }\n\n  static eye(rows, columns, value) {\n    if (columns === undefined) columns = rows;\n    if (value === undefined) value = 1;\n    let min = Math.min(rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, value);\n    }\n    return matrix;\n  }\n\n  static diag(data, rows, columns) {\n    let l = data.length;\n    if (rows === undefined) rows = l;\n    if (columns === undefined) columns = rows;\n    let min = Math.min(l, rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, data[i]);\n    }\n    return matrix;\n  }\n\n  static min(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.min(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static max(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new this(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.max(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static checkMatrix(value) {\n    return AbstractMatrix.isMatrix(value) ? value : new Matrix(value);\n  }\n\n  static isMatrix(value) {\n    return value != null && value.klass === 'Matrix';\n  }\n\n  get size() {\n    return this.rows * this.columns;\n  }\n\n  apply(callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        callback.call(this, i, j);\n      }\n    }\n    return this;\n  }\n\n  to1DArray() {\n    let array = [];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        array.push(this.get(i, j));\n      }\n    }\n    return array;\n  }\n\n  to2DArray() {\n    let copy = [];\n    for (let i = 0; i < this.rows; i++) {\n      copy.push([]);\n      for (let j = 0; j < this.columns; j++) {\n        copy[i].push(this.get(i, j));\n      }\n    }\n    return copy;\n  }\n\n  toJSON() {\n    return this.to2DArray();\n  }\n\n  isRowVector() {\n    return this.rows === 1;\n  }\n\n  isColumnVector() {\n    return this.columns === 1;\n  }\n\n  isVector() {\n    return this.rows === 1 || this.columns === 1;\n  }\n\n  isSquare() {\n    return this.rows === this.columns;\n  }\n\n  isEmpty() {\n    return this.rows === 0 || this.columns === 0;\n  }\n\n  isSymmetric() {\n    if (this.isSquare()) {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j <= i; j++) {\n          if (this.get(i, j) !== this.get(j, i)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  isDistance() {\n    if (!this.isSymmetric()) return false;\n\n    for (let i = 0; i < this.rows; i++) {\n      if (this.get(i, i) !== 0) return false;\n    }\n\n    return true;\n  }\n\n  isEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isEchelonForm = false;\n          checked = true;\n        }\n      }\n      i++;\n    }\n    return isEchelonForm;\n  }\n\n  isReducedEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isReducedEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isReducedEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isReducedEchelonForm = false;\n          checked = true;\n        }\n      }\n      for (let k = j + 1; k < this.rows; k++) {\n        if (this.get(i, k) !== 0) {\n          isReducedEchelonForm = false;\n        }\n      }\n      i++;\n    }\n    return isReducedEchelonForm;\n  }\n\n  echelonForm() {\n    let result = this.clone();\n    let h = 0;\n    let k = 0;\n    while (h < result.rows && k < result.columns) {\n      let iMax = h;\n      for (let i = h; i < result.rows; i++) {\n        if (result.get(i, k) > result.get(iMax, k)) {\n          iMax = i;\n        }\n      }\n      if (result.get(iMax, k) === 0) {\n        k++;\n      } else {\n        result.swapRows(h, iMax);\n        let tmp = result.get(h, k);\n        for (let j = k; j < result.columns; j++) {\n          result.set(h, j, result.get(h, j) / tmp);\n        }\n        for (let i = h + 1; i < result.rows; i++) {\n          let factor = result.get(i, k) / result.get(h, k);\n          result.set(i, k, 0);\n          for (let j = k + 1; j < result.columns; j++) {\n            result.set(i, j, result.get(i, j) - result.get(h, j) * factor);\n          }\n        }\n        h++;\n        k++;\n      }\n    }\n    return result;\n  }\n\n  reducedEchelonForm() {\n    let result = this.echelonForm();\n    let m = result.columns;\n    let n = result.rows;\n    let h = n - 1;\n    while (h >= 0) {\n      if (result.maxRow(h) === 0) {\n        h--;\n      } else {\n        let p = 0;\n        let pivot = false;\n        while (p < n && pivot === false) {\n          if (result.get(h, p) === 1) {\n            pivot = true;\n          } else {\n            p++;\n          }\n        }\n        for (let i = 0; i < h; i++) {\n          let factor = result.get(i, p);\n          for (let j = p; j < m; j++) {\n            let tmp = result.get(i, j) - factor * result.get(h, j);\n            result.set(i, j, tmp);\n          }\n        }\n        h--;\n      }\n    }\n    return result;\n  }\n\n  set() {\n    throw new Error('set method is unimplemented');\n  }\n\n  get() {\n    throw new Error('get method is unimplemented');\n  }\n\n  repeat(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { rows = 1, columns = 1 } = options;\n    if (!Number.isInteger(rows) || rows <= 0) {\n      throw new TypeError('rows must be a positive integer');\n    }\n    if (!Number.isInteger(columns) || columns <= 0) {\n      throw new TypeError('columns must be a positive integer');\n    }\n    let matrix = new Matrix(this.rows * rows, this.columns * columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.setSubMatrix(this, this.rows * i, this.columns * j);\n      }\n    }\n    return matrix;\n  }\n\n  fill(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, value);\n      }\n    }\n    return this;\n  }\n\n  neg() {\n    return this.mulS(-1);\n  }\n\n  getRow(index) {\n    checkRowIndex(this, index);\n    let row = [];\n    for (let i = 0; i < this.columns; i++) {\n      row.push(this.get(index, i));\n    }\n    return row;\n  }\n\n  getRowVector(index) {\n    return Matrix.rowVector(this.getRow(index));\n  }\n\n  setRow(index, array) {\n    checkRowIndex(this, index);\n    array = checkRowVector(this, array);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, array[i]);\n    }\n    return this;\n  }\n\n  swapRows(row1, row2) {\n    checkRowIndex(this, row1);\n    checkRowIndex(this, row2);\n    for (let i = 0; i < this.columns; i++) {\n      let temp = this.get(row1, i);\n      this.set(row1, i, this.get(row2, i));\n      this.set(row2, i, temp);\n    }\n    return this;\n  }\n\n  getColumn(index) {\n    checkColumnIndex(this, index);\n    let column = [];\n    for (let i = 0; i < this.rows; i++) {\n      column.push(this.get(i, index));\n    }\n    return column;\n  }\n\n  getColumnVector(index) {\n    return Matrix.columnVector(this.getColumn(index));\n  }\n\n  setColumn(index, array) {\n    checkColumnIndex(this, index);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, array[i]);\n    }\n    return this;\n  }\n\n  swapColumns(column1, column2) {\n    checkColumnIndex(this, column1);\n    checkColumnIndex(this, column2);\n    for (let i = 0; i < this.rows; i++) {\n      let temp = this.get(i, column1);\n      this.set(i, column1, this.get(i, column2));\n      this.set(i, column2, temp);\n    }\n    return this;\n  }\n\n  addRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[j]);\n      }\n    }\n    return this;\n  }\n\n  subRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[j]);\n      }\n    }\n    return this;\n  }\n\n  mulRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[j]);\n      }\n    }\n    return this;\n  }\n\n  divRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[j]);\n      }\n    }\n    return this;\n  }\n\n  addColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[i]);\n      }\n    }\n    return this;\n  }\n\n  subColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[i]);\n      }\n    }\n    return this;\n  }\n\n  divColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulRow(index, value) {\n    checkRowIndex(this, index);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, this.get(index, i) * value);\n    }\n    return this;\n  }\n\n  mulColumn(index, value) {\n    checkColumnIndex(this, index);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, this.get(i, index) * value);\n    }\n    return this;\n  }\n\n  max(by) {\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    switch (by) {\n      case 'row': {\n        const max = new Array(this.rows).fill(Number.NEGATIVE_INFINITY);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) > max[row]) {\n              max[row] = this.get(row, column);\n            }\n          }\n        }\n        return max;\n      }\n      case 'column': {\n        const max = new Array(this.columns).fill(Number.NEGATIVE_INFINITY);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) > max[column]) {\n              max[column] = this.get(row, column);\n            }\n          }\n        }\n        return max;\n      }\n      case undefined: {\n        let max = this.get(0, 0);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) > max) {\n              max = this.get(row, column);\n            }\n          }\n        }\n        return max;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  maxIndex() {\n    checkNonEmpty(this);\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  min(by) {\n    if (this.isEmpty()) {\n      return NaN;\n    }\n\n    switch (by) {\n      case 'row': {\n        const min = new Array(this.rows).fill(Number.POSITIVE_INFINITY);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) < min[row]) {\n              min[row] = this.get(row, column);\n            }\n          }\n        }\n        return min;\n      }\n      case 'column': {\n        const min = new Array(this.columns).fill(Number.POSITIVE_INFINITY);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) < min[column]) {\n              min[column] = this.get(row, column);\n            }\n          }\n        }\n        return min;\n      }\n      case undefined: {\n        let min = this.get(0, 0);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) < min) {\n              min = this.get(row, column);\n            }\n          }\n        }\n        return min;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  minIndex() {\n    checkNonEmpty(this);\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  maxRow(row) {\n    checkRowIndex(this, row);\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  maxRowIndex(row) {\n    checkRowIndex(this, row);\n    checkNonEmpty(this);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  minRow(row) {\n    checkRowIndex(this, row);\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  minRowIndex(row) {\n    checkRowIndex(this, row);\n    checkNonEmpty(this);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  maxColumn(column) {\n    checkColumnIndex(this, column);\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  maxColumnIndex(column) {\n    checkColumnIndex(this, column);\n    checkNonEmpty(this);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  minColumn(column) {\n    checkColumnIndex(this, column);\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  minColumnIndex(column) {\n    checkColumnIndex(this, column);\n    checkNonEmpty(this);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  diag() {\n    let min = Math.min(this.rows, this.columns);\n    let diag = [];\n    for (let i = 0; i < min; i++) {\n      diag.push(this.get(i, i));\n    }\n    return diag;\n  }\n\n  norm(type = 'frobenius') {\n    switch (type) {\n      case 'max':\n        return this.max();\n      case 'frobenius':\n        return Math.sqrt(this.dot(this));\n      default:\n        throw new RangeError(`unknown norm type: ${type}`);\n    }\n  }\n\n  cumulativeSum() {\n    let sum = 0;\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        sum += this.get(i, j);\n        this.set(i, j, sum);\n      }\n    }\n    return this;\n  }\n\n  dot(vector2) {\n    if (AbstractMatrix.isMatrix(vector2)) vector2 = vector2.to1DArray();\n    let vector1 = this.to1DArray();\n    if (vector1.length !== vector2.length) {\n      throw new RangeError('vectors do not have the same size');\n    }\n    let dot = 0;\n    for (let i = 0; i < vector1.length; i++) {\n      dot += vector1[i] * vector2[i];\n    }\n    return dot;\n  }\n\n  mmul(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.columns;\n\n    let result = new Matrix(m, p);\n\n    let Bcolj = new Float64Array(n);\n    for (let j = 0; j < p; j++) {\n      for (let k = 0; k < n; k++) {\n        Bcolj[k] = other.get(k, j);\n      }\n\n      for (let i = 0; i < m; i++) {\n        let s = 0;\n        for (let k = 0; k < n; k++) {\n          s += this.get(i, k) * Bcolj[k];\n        }\n\n        result.set(i, j, s);\n      }\n    }\n    return result;\n  }\n\n  strassen2x2(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(2, 2);\n    const a11 = this.get(0, 0);\n    const b11 = other.get(0, 0);\n    const a12 = this.get(0, 1);\n    const b12 = other.get(0, 1);\n    const a21 = this.get(1, 0);\n    const b21 = other.get(1, 0);\n    const a22 = this.get(1, 1);\n    const b22 = other.get(1, 1);\n\n    // Compute intermediate values.\n    const m1 = (a11 + a22) * (b11 + b22);\n    const m2 = (a21 + a22) * b11;\n    const m3 = a11 * (b12 - b22);\n    const m4 = a22 * (b21 - b11);\n    const m5 = (a11 + a12) * b22;\n    const m6 = (a21 - a11) * (b11 + b12);\n    const m7 = (a12 - a22) * (b21 + b22);\n\n    // Combine intermediate values into the output.\n    const c00 = m1 + m4 - m5 + m7;\n    const c01 = m3 + m5;\n    const c10 = m2 + m4;\n    const c11 = m1 - m2 + m3 + m6;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    return result;\n  }\n\n  strassen3x3(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(3, 3);\n\n    const a00 = this.get(0, 0);\n    const a01 = this.get(0, 1);\n    const a02 = this.get(0, 2);\n    const a10 = this.get(1, 0);\n    const a11 = this.get(1, 1);\n    const a12 = this.get(1, 2);\n    const a20 = this.get(2, 0);\n    const a21 = this.get(2, 1);\n    const a22 = this.get(2, 2);\n\n    const b00 = other.get(0, 0);\n    const b01 = other.get(0, 1);\n    const b02 = other.get(0, 2);\n    const b10 = other.get(1, 0);\n    const b11 = other.get(1, 1);\n    const b12 = other.get(1, 2);\n    const b20 = other.get(2, 0);\n    const b21 = other.get(2, 1);\n    const b22 = other.get(2, 2);\n\n    const m1 = (a00 + a01 + a02 - a10 - a11 - a21 - a22) * b11;\n    const m2 = (a00 - a10) * (-b01 + b11);\n    const m3 = a11 * (-b00 + b01 + b10 - b11 - b12 - b20 + b22);\n    const m4 = (-a00 + a10 + a11) * (b00 - b01 + b11);\n    const m5 = (a10 + a11) * (-b00 + b01);\n    const m6 = a00 * b00;\n    const m7 = (-a00 + a20 + a21) * (b00 - b02 + b12);\n    const m8 = (-a00 + a20) * (b02 - b12);\n    const m9 = (a20 + a21) * (-b00 + b02);\n    const m10 = (a00 + a01 + a02 - a11 - a12 - a20 - a21) * b12;\n    const m11 = a21 * (-b00 + b02 + b10 - b11 - b12 - b20 + b21);\n    const m12 = (-a02 + a21 + a22) * (b11 + b20 - b21);\n    const m13 = (a02 - a22) * (b11 - b21);\n    const m14 = a02 * b20;\n    const m15 = (a21 + a22) * (-b20 + b21);\n    const m16 = (-a02 + a11 + a12) * (b12 + b20 - b22);\n    const m17 = (a02 - a12) * (b12 - b22);\n    const m18 = (a11 + a12) * (-b20 + b22);\n    const m19 = a01 * b10;\n    const m20 = a12 * b21;\n    const m21 = a10 * b02;\n    const m22 = a20 * b01;\n    const m23 = a22 * b22;\n\n    const c00 = m6 + m14 + m19;\n    const c01 = m1 + m4 + m5 + m6 + m12 + m14 + m15;\n    const c02 = m6 + m7 + m9 + m10 + m14 + m16 + m18;\n    const c10 = m2 + m3 + m4 + m6 + m14 + m16 + m17;\n    const c11 = m2 + m4 + m5 + m6 + m20;\n    const c12 = m14 + m16 + m17 + m18 + m21;\n    const c20 = m6 + m7 + m8 + m11 + m12 + m13 + m14;\n    const c21 = m12 + m13 + m14 + m15 + m22;\n    const c22 = m6 + m7 + m8 + m9 + m23;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(0, 2, c02);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    result.set(1, 2, c12);\n    result.set(2, 0, c20);\n    result.set(2, 1, c21);\n    result.set(2, 2, c22);\n    return result;\n  }\n\n  mmulStrassen(y) {\n    y = Matrix.checkMatrix(y);\n    let x = this.clone();\n    let r1 = x.rows;\n    let c1 = x.columns;\n    let r2 = y.rows;\n    let c2 = y.columns;\n    if (c1 !== r2) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`,\n      );\n    }\n\n    // Put a matrix into the top left of a matrix of zeros.\n    // `rows` and `cols` are the dimensions of the output matrix.\n    function embed(mat, rows, cols) {\n      let r = mat.rows;\n      let c = mat.columns;\n      if (r === rows && c === cols) {\n        return mat;\n      } else {\n        let resultat = AbstractMatrix.zeros(rows, cols);\n        resultat = resultat.setSubMatrix(mat, 0, 0);\n        return resultat;\n      }\n    }\n\n    // Make sure both matrices are the same size.\n    // This is exclusively for simplicity:\n    // this algorithm can be implemented with matrices of different sizes.\n\n    let r = Math.max(r1, r2);\n    let c = Math.max(c1, c2);\n    x = embed(x, r, c);\n    y = embed(y, r, c);\n\n    // Our recursive multiplication function.\n    function blockMult(a, b, rows, cols) {\n      // For small matrices, resort to naive multiplication.\n      if (rows <= 512 || cols <= 512) {\n        return a.mmul(b); // a is equivalent to this\n      }\n\n      // Apply dynamic padding.\n      if (rows % 2 === 1 && cols % 2 === 1) {\n        a = embed(a, rows + 1, cols + 1);\n        b = embed(b, rows + 1, cols + 1);\n      } else if (rows % 2 === 1) {\n        a = embed(a, rows + 1, cols);\n        b = embed(b, rows + 1, cols);\n      } else if (cols % 2 === 1) {\n        a = embed(a, rows, cols + 1);\n        b = embed(b, rows, cols + 1);\n      }\n\n      let halfRows = parseInt(a.rows / 2, 10);\n      let halfCols = parseInt(a.columns / 2, 10);\n      // Subdivide input matrices.\n      let a11 = a.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n      let b11 = b.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n\n      let a12 = a.subMatrix(0, halfRows - 1, halfCols, a.columns - 1);\n      let b12 = b.subMatrix(0, halfRows - 1, halfCols, b.columns - 1);\n\n      let a21 = a.subMatrix(halfRows, a.rows - 1, 0, halfCols - 1);\n      let b21 = b.subMatrix(halfRows, b.rows - 1, 0, halfCols - 1);\n\n      let a22 = a.subMatrix(halfRows, a.rows - 1, halfCols, a.columns - 1);\n      let b22 = b.subMatrix(halfRows, b.rows - 1, halfCols, b.columns - 1);\n\n      // Compute intermediate values.\n      let m1 = blockMult(\n        AbstractMatrix.add(a11, a22),\n        AbstractMatrix.add(b11, b22),\n        halfRows,\n        halfCols,\n      );\n      let m2 = blockMult(AbstractMatrix.add(a21, a22), b11, halfRows, halfCols);\n      let m3 = blockMult(a11, AbstractMatrix.sub(b12, b22), halfRows, halfCols);\n      let m4 = blockMult(a22, AbstractMatrix.sub(b21, b11), halfRows, halfCols);\n      let m5 = blockMult(AbstractMatrix.add(a11, a12), b22, halfRows, halfCols);\n      let m6 = blockMult(\n        AbstractMatrix.sub(a21, a11),\n        AbstractMatrix.add(b11, b12),\n        halfRows,\n        halfCols,\n      );\n      let m7 = blockMult(\n        AbstractMatrix.sub(a12, a22),\n        AbstractMatrix.add(b21, b22),\n        halfRows,\n        halfCols,\n      );\n\n      // Combine intermediate values into the output.\n      let c11 = AbstractMatrix.add(m1, m4);\n      c11.sub(m5);\n      c11.add(m7);\n      let c12 = AbstractMatrix.add(m3, m5);\n      let c21 = AbstractMatrix.add(m2, m4);\n      let c22 = AbstractMatrix.sub(m1, m2);\n      c22.add(m3);\n      c22.add(m6);\n\n      // Crop output to the desired size (undo dynamic padding).\n      let result = AbstractMatrix.zeros(2 * c11.rows, 2 * c11.columns);\n      result = result.setSubMatrix(c11, 0, 0);\n      result = result.setSubMatrix(c12, c11.rows, 0);\n      result = result.setSubMatrix(c21, 0, c11.columns);\n      result = result.setSubMatrix(c22, c11.rows, c11.columns);\n      return result.subMatrix(0, rows - 1, 0, cols - 1);\n    }\n\n    return blockMult(x, y, r, c);\n  }\n\n  scaleRows(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.rows; i++) {\n      const row = this.getRow(i);\n      if (row.length > 0) {\n        rescale(row, { min, max, output: row });\n      }\n      newMatrix.setRow(i, row);\n    }\n    return newMatrix;\n  }\n\n  scaleColumns(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.columns; i++) {\n      const column = this.getColumn(i);\n      if (column.length) {\n        rescale(column, {\n          min,\n          max,\n          output: column,\n        });\n      }\n      newMatrix.setColumn(i, column);\n    }\n    return newMatrix;\n  }\n\n  flipRows() {\n    const middle = Math.ceil(this.columns / 2);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < middle; j++) {\n        let first = this.get(i, j);\n        let last = this.get(i, this.columns - 1 - j);\n        this.set(i, j, last);\n        this.set(i, this.columns - 1 - j, first);\n      }\n    }\n    return this;\n  }\n\n  flipColumns() {\n    const middle = Math.ceil(this.rows / 2);\n    for (let j = 0; j < this.columns; j++) {\n      for (let i = 0; i < middle; i++) {\n        let first = this.get(i, j);\n        let last = this.get(this.rows - 1 - i, j);\n        this.set(i, j, last);\n        this.set(this.rows - 1 - i, j, first);\n      }\n    }\n    return this;\n  }\n\n  kroneckerProduct(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.rows;\n    let q = other.columns;\n\n    let result = new Matrix(m * p, n * q);\n    for (let i = 0; i < m; i++) {\n      for (let j = 0; j < n; j++) {\n        for (let k = 0; k < p; k++) {\n          for (let l = 0; l < q; l++) {\n            result.set(p * i + k, q * j + l, this.get(i, j) * other.get(k, l));\n          }\n        }\n      }\n    }\n    return result;\n  }\n\n  kroneckerSum(other) {\n    other = Matrix.checkMatrix(other);\n    if (!this.isSquare() || !other.isSquare()) {\n      throw new Error('Kronecker Sum needs two Square Matrices');\n    }\n    let m = this.rows;\n    let n = other.rows;\n    let AxI = this.kroneckerProduct(Matrix.eye(n, n));\n    let IxB = Matrix.eye(m, m).kroneckerProduct(other);\n    return AxI.add(IxB);\n  }\n\n  transpose() {\n    let result = new Matrix(this.columns, this.rows);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        result.set(j, i, this.get(i, j));\n      }\n    }\n    return result;\n  }\n\n  sortRows(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.rows; i++) {\n      this.setRow(i, this.getRow(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  sortColumns(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.columns; i++) {\n      this.setColumn(i, this.getColumn(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  subMatrix(startRow, endRow, startColumn, endColumn) {\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    let newMatrix = new Matrix(\n      endRow - startRow + 1,\n      endColumn - startColumn + 1,\n    );\n    for (let i = startRow; i <= endRow; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        newMatrix.set(i - startRow, j - startColumn, this.get(i, j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixRow(indices, startColumn, endColumn) {\n    if (startColumn === undefined) startColumn = 0;\n    if (endColumn === undefined) endColumn = this.columns - 1;\n    if (\n      startColumn > endColumn ||\n      startColumn < 0 ||\n      startColumn >= this.columns ||\n      endColumn < 0 ||\n      endColumn >= this.columns\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(indices.length, endColumn - startColumn + 1);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        if (indices[i] < 0 || indices[i] >= this.rows) {\n          throw new RangeError(`Row index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(i, j - startColumn, this.get(indices[i], j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixColumn(indices, startRow, endRow) {\n    if (startRow === undefined) startRow = 0;\n    if (endRow === undefined) endRow = this.rows - 1;\n    if (\n      startRow > endRow ||\n      startRow < 0 ||\n      startRow >= this.rows ||\n      endRow < 0 ||\n      endRow >= this.rows\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(endRow - startRow + 1, indices.length);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startRow; j <= endRow; j++) {\n        if (indices[i] < 0 || indices[i] >= this.columns) {\n          throw new RangeError(`Column index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(j - startRow, i, this.get(j, indices[i]));\n      }\n    }\n    return newMatrix;\n  }\n\n  setSubMatrix(matrix, startRow, startColumn) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (matrix.isEmpty()) {\n      return this;\n    }\n    let endRow = startRow + matrix.rows - 1;\n    let endColumn = startColumn + matrix.columns - 1;\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    for (let i = 0; i < matrix.rows; i++) {\n      for (let j = 0; j < matrix.columns; j++) {\n        this.set(startRow + i, startColumn + j, matrix.get(i, j));\n      }\n    }\n    return this;\n  }\n\n  selection(rowIndices, columnIndices) {\n    checkRowIndices(this, rowIndices);\n    checkColumnIndices(this, columnIndices);\n    let newMatrix = new Matrix(rowIndices.length, columnIndices.length);\n    for (let i = 0; i < rowIndices.length; i++) {\n      let rowIndex = rowIndices[i];\n      for (let j = 0; j < columnIndices.length; j++) {\n        let columnIndex = columnIndices[j];\n        newMatrix.set(i, j, this.get(rowIndex, columnIndex));\n      }\n    }\n    return newMatrix;\n  }\n\n  trace() {\n    let min = Math.min(this.rows, this.columns);\n    let trace = 0;\n    for (let i = 0; i < min; i++) {\n      trace += this.get(i, i);\n    }\n    return trace;\n  }\n\n  clone() {\n    return this.constructor.copy(this, new Matrix(this.rows, this.columns));\n  }\n\n  /**\n   * @template {AbstractMatrix} M\n   * @param {AbstractMatrix} from\n   * @param {M} to\n   * @return {M}\n   */\n  static copy(from, to) {\n    for (const [row, column, value] of from.entries()) {\n      to.set(row, column, value);\n    }\n\n    return to;\n  }\n\n  sum(by) {\n    switch (by) {\n      case 'row':\n        return sumByRow(this);\n      case 'column':\n        return sumByColumn(this);\n      case undefined:\n        return sumAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  product(by) {\n    switch (by) {\n      case 'row':\n        return productByRow(this);\n      case 'column':\n        return productByColumn(this);\n      case undefined:\n        return productAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  mean(by) {\n    const sum = this.sum(by);\n    switch (by) {\n      case 'row': {\n        for (let i = 0; i < this.rows; i++) {\n          sum[i] /= this.columns;\n        }\n        return sum;\n      }\n      case 'column': {\n        for (let i = 0; i < this.columns; i++) {\n          sum[i] /= this.rows;\n        }\n        return sum;\n      }\n      case undefined:\n        return sum / this.size;\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  variance(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { unbiased = true, mean = this.mean(by) } = options;\n    if (typeof unbiased !== 'boolean') {\n      throw new TypeError('unbiased must be a boolean');\n    }\n    switch (by) {\n      case 'row': {\n        if (!isAnyArray.isAnyArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByRow(this, unbiased, mean);\n      }\n      case 'column': {\n        if (!isAnyArray.isAnyArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByColumn(this, unbiased, mean);\n      }\n      case undefined: {\n        if (typeof mean !== 'number') {\n          throw new TypeError('mean must be a number');\n        }\n        return varianceAll(this, unbiased, mean);\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  standardDeviation(by, options) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    const variance = this.variance(by, options);\n    if (by === undefined) {\n      return Math.sqrt(variance);\n    } else {\n      for (let i = 0; i < variance.length; i++) {\n        variance[i] = Math.sqrt(variance[i]);\n      }\n      return variance;\n    }\n  }\n\n  center(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { center = this.mean(by) } = options;\n    switch (by) {\n      case 'row': {\n        if (!isAnyArray.isAnyArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByRow(this, center);\n        return this;\n      }\n      case 'column': {\n        if (!isAnyArray.isAnyArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByColumn(this, center);\n        return this;\n      }\n      case undefined: {\n        if (typeof center !== 'number') {\n          throw new TypeError('center must be a number');\n        }\n        centerAll(this, center);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  scale(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    let scale = options.scale;\n    switch (by) {\n      case 'row': {\n        if (scale === undefined) {\n          scale = getScaleByRow(this);\n        } else if (!isAnyArray.isAnyArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByRow(this, scale);\n        return this;\n      }\n      case 'column': {\n        if (scale === undefined) {\n          scale = getScaleByColumn(this);\n        } else if (!isAnyArray.isAnyArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByColumn(this, scale);\n        return this;\n      }\n      case undefined: {\n        if (scale === undefined) {\n          scale = getScaleAll(this);\n        } else if (typeof scale !== 'number') {\n          throw new TypeError('scale must be a number');\n        }\n        scaleAll(this, scale);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  toString(options) {\n    return inspectMatrixWithOptions(this, options);\n  }\n\n  [Symbol.iterator]() {\n    return this.entries();\n  }\n\n  /**\n   * iterator from left to right, from top to bottom\n   * yield [row, column, value]\n   * @returns {Generator<[number, number, number], void, *>}\n   */\n  *entries() {\n    for (let row = 0; row < this.rows; row++) {\n      for (let col = 0; col < this.columns; col++) {\n        yield [row, col, this.get(row, col)];\n      }\n    }\n  }\n\n  /**\n   * iterator from left to right, from top to bottom\n   * yield value\n   * @returns {Generator<number, void, *>}\n   */\n  *values() {\n    for (let row = 0; row < this.rows; row++) {\n      for (let col = 0; col < this.columns; col++) {\n        yield this.get(row, col);\n      }\n    }\n  }\n}\n\nAbstractMatrix.prototype.klass = 'Matrix';\nif (typeof Symbol !== 'undefined') {\n  AbstractMatrix.prototype[Symbol.for('nodejs.util.inspect.custom')] =\n    inspectMatrix;\n}\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\nfunction isArrayOfNumbers(array) {\n  return array.every((element) => {\n    return typeof element === 'number';\n  });\n}\n\n// Synonyms\nAbstractMatrix.random = AbstractMatrix.rand;\nAbstractMatrix.randomInt = AbstractMatrix.randInt;\nAbstractMatrix.diagonal = AbstractMatrix.diag;\nAbstractMatrix.prototype.diagonal = AbstractMatrix.prototype.diag;\nAbstractMatrix.identity = AbstractMatrix.eye;\nAbstractMatrix.prototype.negate = AbstractMatrix.prototype.neg;\nAbstractMatrix.prototype.tensorProduct =\n  AbstractMatrix.prototype.kroneckerProduct;\n\nclass Matrix extends AbstractMatrix {\n  /**\n   * @type {Float64Array[]}\n   */\n  data;\n\n  /**\n   * Init an empty matrix\n   * @param {number} nRows\n   * @param {number} nColumns\n   */\n  #initData(nRows, nColumns) {\n    this.data = [];\n\n    if (Number.isInteger(nColumns) && nColumns >= 0) {\n      for (let i = 0; i < nRows; i++) {\n        this.data.push(new Float64Array(nColumns));\n      }\n    } else {\n      throw new TypeError('nColumns must be a positive integer');\n    }\n\n    this.rows = nRows;\n    this.columns = nColumns;\n  }\n\n  constructor(nRows, nColumns) {\n    super();\n    if (Matrix.isMatrix(nRows)) {\n      this.#initData(nRows.rows, nRows.columns);\n      Matrix.copy(nRows, this);\n    } else if (Number.isInteger(nRows) && nRows >= 0) {\n      this.#initData(nRows, nColumns);\n    } else if (isAnyArray.isAnyArray(nRows)) {\n      // Copy the values from the 2D array\n      const arrayData = nRows;\n      nRows = arrayData.length;\n      nColumns = nRows ? arrayData[0].length : 0;\n      if (typeof nColumns !== 'number') {\n        throw new TypeError(\n          'Data must be a 2D array with at least one element',\n        );\n      }\n      this.data = [];\n\n      for (let i = 0; i < nRows; i++) {\n        if (arrayData[i].length !== nColumns) {\n          throw new RangeError('Inconsistent array dimensions');\n        }\n        if (!isArrayOfNumbers(arrayData[i])) {\n          throw new TypeError('Input data contains non-numeric values');\n        }\n        this.data.push(Float64Array.from(arrayData[i]));\n      }\n\n      this.rows = nRows;\n      this.columns = nColumns;\n    } else {\n      throw new TypeError(\n        'First argument must be a positive number or an array',\n      );\n    }\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n\n  removeRow(index) {\n    checkRowIndex(this, index);\n    this.data.splice(index, 1);\n    this.rows -= 1;\n    return this;\n  }\n\n  addRow(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.rows;\n    }\n    checkRowIndex(this, index, true);\n    array = Float64Array.from(checkRowVector(this, array));\n    this.data.splice(index, 0, array);\n    this.rows += 1;\n    return this;\n  }\n\n  removeColumn(index) {\n    checkColumnIndex(this, index);\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns - 1);\n      for (let j = 0; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      for (let j = index + 1; j < this.columns; j++) {\n        newRow[j - 1] = this.data[i][j];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns -= 1;\n    return this;\n  }\n\n  addColumn(index, array) {\n    if (typeof array === 'undefined') {\n      array = index;\n      index = this.columns;\n    }\n    checkColumnIndex(this, index, true);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns + 1);\n      let j = 0;\n      for (; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      newRow[j++] = array[i];\n      for (; j < this.columns + 1; j++) {\n        newRow[j] = this.data[i][j - 1];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns += 1;\n    return this;\n  }\n}\n\ninstallMathOperations(AbstractMatrix, Matrix);\n\n/**\n * @typedef {0 | 1 | number | boolean} Mask\n */\n\nclass SymmetricMatrix extends AbstractMatrix {\n  /** @type {Matrix} */\n  #matrix;\n\n  get size() {\n    return this.#matrix.size;\n  }\n\n  get rows() {\n    return this.#matrix.rows;\n  }\n\n  get columns() {\n    return this.#matrix.columns;\n  }\n\n  get diagonalSize() {\n    return this.rows;\n  }\n\n  /**\n   * not the same as matrix.isSymmetric()\n   * Here is to check if it's instanceof SymmetricMatrix without bundling issues\n   *\n   * @param value\n   * @returns {boolean}\n   */\n  static isSymmetricMatrix(value) {\n    return Matrix.isMatrix(value) && value.klassType === 'SymmetricMatrix';\n  }\n\n  /**\n   * @param diagonalSize\n   * @return {SymmetricMatrix}\n   */\n  static zeros(diagonalSize) {\n    return new this(diagonalSize);\n  }\n\n  /**\n   * @param diagonalSize\n   * @return {SymmetricMatrix}\n   */\n  static ones(diagonalSize) {\n    return new this(diagonalSize).fill(1);\n  }\n\n  /**\n   * @param {number | AbstractMatrix | ArrayLike<ArrayLike<number>>} diagonalSize\n   * @return {this}\n   */\n  constructor(diagonalSize) {\n    super();\n\n    if (Matrix.isMatrix(diagonalSize)) {\n      if (!diagonalSize.isSymmetric()) {\n        throw new TypeError('not symmetric data');\n      }\n\n      this.#matrix = Matrix.copy(\n        diagonalSize,\n        new Matrix(diagonalSize.rows, diagonalSize.rows),\n      );\n    } else if (Number.isInteger(diagonalSize) && diagonalSize >= 0) {\n      this.#matrix = new Matrix(diagonalSize, diagonalSize);\n    } else {\n      this.#matrix = new Matrix(diagonalSize);\n\n      if (!this.isSymmetric()) {\n        throw new TypeError('not symmetric data');\n      }\n    }\n  }\n\n  clone() {\n    const matrix = new SymmetricMatrix(this.diagonalSize);\n\n    for (const [row, col, value] of this.upperRightEntries()) {\n      matrix.set(row, col, value);\n    }\n\n    return matrix;\n  }\n\n  toMatrix() {\n    return new Matrix(this);\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.#matrix.get(rowIndex, columnIndex);\n  }\n  set(rowIndex, columnIndex, value) {\n    // symmetric set\n    this.#matrix.set(rowIndex, columnIndex, value);\n    this.#matrix.set(columnIndex, rowIndex, value);\n\n    return this;\n  }\n\n  removeCross(index) {\n    // symmetric remove side\n    this.#matrix.removeRow(index);\n    this.#matrix.removeColumn(index);\n\n    return this;\n  }\n\n  addCross(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.diagonalSize;\n    }\n\n    const row = array.slice();\n    row.splice(index, 1);\n\n    this.#matrix.addRow(index, row);\n    this.#matrix.addColumn(index, array);\n\n    return this;\n  }\n\n  /**\n   * @param {Mask[]} mask\n   */\n  applyMask(mask) {\n    if (mask.length !== this.diagonalSize) {\n      throw new RangeError('Mask size do not match with matrix size');\n    }\n\n    // prepare sides to remove from matrix from mask\n    /** @type {number[]} */\n    const sidesToRemove = [];\n    for (const [index, passthroughs] of mask.entries()) {\n      if (passthroughs) continue;\n      sidesToRemove.push(index);\n    }\n    // to remove from highest to lowest for no mutation shifting\n    sidesToRemove.reverse();\n\n    // remove sides\n    for (const sideIndex of sidesToRemove) {\n      this.removeCross(sideIndex);\n    }\n\n    return this;\n  }\n\n  /**\n   * Compact format upper-right corner of matrix\n   * iterate from left to right, from top to bottom.\n   *\n   * ```\n   *   A B C D\n   * A 1 2 3 4\n   * B 2 5 6 7\n   * C 3 6 8 9\n   * D 4 7 9 10\n   * ```\n   *\n   * will return compact 1D array `[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]`\n   *\n   * length is S(i=0, n=sideSize) => 10 for a 4 sideSized matrix\n   *\n   * @returns {number[]}\n   */\n  toCompact() {\n    const { diagonalSize } = this;\n\n    /** @type {number[]} */\n    const compact = new Array((diagonalSize * (diagonalSize + 1)) / 2);\n    for (let col = 0, row = 0, index = 0; index < compact.length; index++) {\n      compact[index] = this.get(row, col);\n\n      if (++col >= diagonalSize) col = ++row;\n    }\n\n    return compact;\n  }\n\n  /**\n   * @param {number[]} compact\n   * @return {SymmetricMatrix}\n   */\n  static fromCompact(compact) {\n    const compactSize = compact.length;\n    // compactSize = (sideSize * (sideSize + 1)) / 2\n    // https://mathsolver.microsoft.com/fr/solve-problem/y%20%3D%20%20x%20%60cdot%20%20%20%60frac%7B%20%20%60left(%20x%2B1%20%20%60right)%20%20%20%20%7D%7B%202%20%20%7D\n    // sideSize = (Sqrt(8 × compactSize + 1) - 1) / 2\n    const diagonalSize = (Math.sqrt(8 * compactSize + 1) - 1) / 2;\n\n    if (!Number.isInteger(diagonalSize)) {\n      throw new TypeError(\n        `This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(\n          compact,\n        )}`,\n      );\n    }\n\n    const matrix = new SymmetricMatrix(diagonalSize);\n    for (let col = 0, row = 0, index = 0; index < compactSize; index++) {\n      matrix.set(col, row, compact[index]);\n      if (++col >= diagonalSize) col = ++row;\n    }\n\n    return matrix;\n  }\n\n  /**\n   * half iterator upper-right-corner from left to right, from top to bottom\n   * yield [row, column, value]\n   *\n   * @returns {Generator<[number, number, number], void, *>}\n   */\n  *upperRightEntries() {\n    for (let row = 0, col = 0; row < this.diagonalSize; void 0) {\n      const value = this.get(row, col);\n\n      yield [row, col, value];\n\n      // at the end of row, move cursor to next row at diagonal position\n      if (++col >= this.diagonalSize) col = ++row;\n    }\n  }\n\n  /**\n   * half iterator upper-right-corner from left to right, from top to bottom\n   * yield value\n   *\n   * @returns {Generator<[number, number, number], void, *>}\n   */\n  *upperRightValues() {\n    for (let row = 0, col = 0; row < this.diagonalSize; void 0) {\n      const value = this.get(row, col);\n\n      yield value;\n\n      // at the end of row, move cursor to next row at diagonal position\n      if (++col >= this.diagonalSize) col = ++row;\n    }\n  }\n}\nSymmetricMatrix.prototype.klassType = 'SymmetricMatrix';\n\nclass DistanceMatrix extends SymmetricMatrix {\n  /**\n   * not the same as matrix.isSymmetric()\n   * Here is to check if it's instanceof SymmetricMatrix without bundling issues\n   *\n   * @param value\n   * @returns {boolean}\n   */\n  static isDistanceMatrix(value) {\n    return (\n      SymmetricMatrix.isSymmetricMatrix(value) &&\n      value.klassSubType === 'DistanceMatrix'\n    );\n  }\n\n  constructor(sideSize) {\n    super(sideSize);\n\n    if (!this.isDistance()) {\n      throw new TypeError('Provided arguments do no produce a distance matrix');\n    }\n  }\n\n  set(rowIndex, columnIndex, value) {\n    // distance matrix diagonal is 0\n    if (rowIndex === columnIndex) value = 0;\n\n    return super.set(rowIndex, columnIndex, value);\n  }\n\n  addCross(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.diagonalSize;\n    }\n\n    // ensure distance\n    array = array.slice();\n    array[index] = 0;\n\n    return super.addCross(index, array);\n  }\n\n  toSymmetricMatrix() {\n    return new SymmetricMatrix(this);\n  }\n\n  clone() {\n    const matrix = new DistanceMatrix(this.diagonalSize);\n\n    for (const [row, col, value] of this.upperRightEntries()) {\n      if (row === col) continue;\n      matrix.set(row, col, value);\n    }\n\n    return matrix;\n  }\n\n  /**\n   * Compact format upper-right corner of matrix\n   * no diagonal (only zeros)\n   * iterable from left to right, from top to bottom.\n   *\n   * ```\n   *   A B C D\n   * A 0 1 2 3\n   * B 1 0 4 5\n   * C 2 4 0 6\n   * D 3 5 6 0\n   * ```\n   *\n   * will return compact 1D array `[1, 2, 3, 4, 5, 6]`\n   *\n   * length is S(i=0, n=sideSize-1) => 6 for a 4 side sized matrix\n   *\n   * @returns {number[]}\n   */\n  toCompact() {\n    const { diagonalSize } = this;\n    const compactLength = ((diagonalSize - 1) * diagonalSize) / 2;\n\n    /** @type {number[]} */\n    const compact = new Array(compactLength);\n    for (let col = 1, row = 0, index = 0; index < compact.length; index++) {\n      compact[index] = this.get(row, col);\n\n      if (++col >= diagonalSize) col = ++row + 1;\n    }\n\n    return compact;\n  }\n\n  /**\n   * @param {number[]} compact\n   */\n  static fromCompact(compact) {\n    const compactSize = compact.length;\n    // compactSize = (sideSize * (sideSize - 1)) / 2\n    // sideSize = (Sqrt(8 × compactSize + 1) + 1) / 2\n    const diagonalSize = (Math.sqrt(8 * compactSize + 1) + 1) / 2;\n\n    if (!Number.isInteger(diagonalSize)) {\n      throw new TypeError(\n        `This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(\n          compact,\n        )}`,\n      );\n    }\n\n    const matrix = new this(diagonalSize);\n    for (let col = 1, row = 0, index = 0; index < compactSize; index++) {\n      matrix.set(col, row, compact[index]);\n      if (++col >= diagonalSize) col = ++row + 1;\n    }\n\n    return matrix;\n  }\n}\nDistanceMatrix.prototype.klassSubType = 'DistanceMatrix';\n\nclass BaseView extends AbstractMatrix {\n  constructor(matrix, rows, columns) {\n    super();\n    this.matrix = matrix;\n    this.rows = rows;\n    this.columns = columns;\n  }\n}\n\nclass MatrixColumnView extends BaseView {\n  constructor(matrix, column) {\n    checkColumnIndex(matrix, column);\n    super(matrix, matrix.rows, 1);\n    this.column = column;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.column, value);\n    return this;\n  }\n\n  get(rowIndex) {\n    return this.matrix.get(rowIndex, this.column);\n  }\n}\n\nclass MatrixColumnSelectionView extends BaseView {\n  constructor(matrix, columnIndices) {\n    checkColumnIndices(matrix, columnIndices);\n    super(matrix, matrix.rows, columnIndices.length);\n    this.columnIndices = columnIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.columnIndices[columnIndex], value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(rowIndex, this.columnIndices[columnIndex]);\n  }\n}\n\nclass MatrixFlipColumnView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.rows, matrix.columns);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.columns - columnIndex - 1, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(rowIndex, this.columns - columnIndex - 1);\n  }\n}\n\nclass MatrixFlipRowView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.rows, matrix.columns);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.rows - rowIndex - 1, columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.rows - rowIndex - 1, columnIndex);\n  }\n}\n\nclass MatrixRowView extends BaseView {\n  constructor(matrix, row) {\n    checkRowIndex(matrix, row);\n    super(matrix, 1, matrix.columns);\n    this.row = row;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.row, columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.row, columnIndex);\n  }\n}\n\nclass MatrixRowSelectionView extends BaseView {\n  constructor(matrix, rowIndices) {\n    checkRowIndices(matrix, rowIndices);\n    super(matrix, rowIndices.length, matrix.columns);\n    this.rowIndices = rowIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.rowIndices[rowIndex], columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.rowIndices[rowIndex], columnIndex);\n  }\n}\n\nclass MatrixSelectionView extends BaseView {\n  constructor(matrix, rowIndices, columnIndices) {\n    checkRowIndices(matrix, rowIndices);\n    checkColumnIndices(matrix, columnIndices);\n    super(matrix, rowIndices.length, columnIndices.length);\n    this.rowIndices = rowIndices;\n    this.columnIndices = columnIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(\n      this.rowIndices[rowIndex],\n      this.columnIndices[columnIndex],\n      value,\n    );\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(\n      this.rowIndices[rowIndex],\n      this.columnIndices[columnIndex],\n    );\n  }\n}\n\nclass MatrixSubView extends BaseView {\n  constructor(matrix, startRow, endRow, startColumn, endColumn) {\n    checkRange(matrix, startRow, endRow, startColumn, endColumn);\n    super(matrix, endRow - startRow + 1, endColumn - startColumn + 1);\n    this.startRow = startRow;\n    this.startColumn = startColumn;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(\n      this.startRow + rowIndex,\n      this.startColumn + columnIndex,\n      value,\n    );\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(\n      this.startRow + rowIndex,\n      this.startColumn + columnIndex,\n    );\n  }\n}\n\nclass MatrixTransposeView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.columns, matrix.rows);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(columnIndex, rowIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(columnIndex, rowIndex);\n  }\n}\n\nclass WrapperMatrix1D extends AbstractMatrix {\n  constructor(data, options = {}) {\n    const { rows = 1 } = options;\n\n    if (data.length % rows !== 0) {\n      throw new Error('the data length is not divisible by the number of rows');\n    }\n    super();\n    this.rows = rows;\n    this.columns = data.length / rows;\n    this.data = data;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    let index = this._calculateIndex(rowIndex, columnIndex);\n    this.data[index] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    let index = this._calculateIndex(rowIndex, columnIndex);\n    return this.data[index];\n  }\n\n  _calculateIndex(row, column) {\n    return row * this.columns + column;\n  }\n}\n\nclass WrapperMatrix2D extends AbstractMatrix {\n  constructor(data) {\n    super();\n    this.data = data;\n    this.rows = data.length;\n    this.columns = data[0].length;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n}\n\nfunction wrap(array, options) {\n  if (isAnyArray.isAnyArray(array)) {\n    if (array[0] && isAnyArray.isAnyArray(array[0])) {\n      return new WrapperMatrix2D(array);\n    } else {\n      return new WrapperMatrix1D(array, options);\n    }\n  } else {\n    throw new Error('the argument is not an array');\n  }\n}\n\nclass LuDecomposition {\n  constructor(matrix) {\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n\n    let lu = matrix.clone();\n    let rows = lu.rows;\n    let columns = lu.columns;\n    let pivotVector = new Float64Array(rows);\n    let pivotSign = 1;\n    let i, j, k, p, s, t, v;\n    let LUcolj, kmax;\n\n    for (i = 0; i < rows; i++) {\n      pivotVector[i] = i;\n    }\n\n    LUcolj = new Float64Array(rows);\n\n    for (j = 0; j < columns; j++) {\n      for (i = 0; i < rows; i++) {\n        LUcolj[i] = lu.get(i, j);\n      }\n\n      for (i = 0; i < rows; i++) {\n        kmax = Math.min(i, j);\n        s = 0;\n        for (k = 0; k < kmax; k++) {\n          s += lu.get(i, k) * LUcolj[k];\n        }\n        LUcolj[i] -= s;\n        lu.set(i, j, LUcolj[i]);\n      }\n\n      p = j;\n      for (i = j + 1; i < rows; i++) {\n        if (Math.abs(LUcolj[i]) > Math.abs(LUcolj[p])) {\n          p = i;\n        }\n      }\n\n      if (p !== j) {\n        for (k = 0; k < columns; k++) {\n          t = lu.get(p, k);\n          lu.set(p, k, lu.get(j, k));\n          lu.set(j, k, t);\n        }\n\n        v = pivotVector[p];\n        pivotVector[p] = pivotVector[j];\n        pivotVector[j] = v;\n\n        pivotSign = -pivotSign;\n      }\n\n      if (j < rows && lu.get(j, j) !== 0) {\n        for (i = j + 1; i < rows; i++) {\n          lu.set(i, j, lu.get(i, j) / lu.get(j, j));\n        }\n      }\n    }\n\n    this.LU = lu;\n    this.pivotVector = pivotVector;\n    this.pivotSign = pivotSign;\n  }\n\n  isSingular() {\n    let data = this.LU;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      if (data.get(j, j) === 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let lu = this.LU;\n    let rows = lu.rows;\n\n    if (rows !== value.rows) {\n      throw new Error('Invalid matrix dimensions');\n    }\n    if (this.isSingular()) {\n      throw new Error('LU matrix is singular');\n    }\n\n    let count = value.columns;\n    let X = value.subMatrixRow(this.pivotVector, 0, count - 1);\n    let columns = lu.columns;\n    let i, j, k;\n\n    for (k = 0; k < columns; k++) {\n      for (i = k + 1; i < columns; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    for (k = columns - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / lu.get(k, k));\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    return X;\n  }\n\n  get determinant() {\n    let data = this.LU;\n    if (!data.isSquare()) {\n      throw new Error('Matrix must be square');\n    }\n    let determinant = this.pivotSign;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      determinant *= data.get(j, j);\n    }\n    return determinant;\n  }\n\n  get lowerTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i > j) {\n          X.set(i, j, data.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, 1);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get upperTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i <= j) {\n          X.set(i, j, data.get(i, j));\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get pivotPermutationVector() {\n    return Array.from(this.pivotVector);\n  }\n}\n\nfunction hypotenuse(a, b) {\n  let r = 0;\n  if (Math.abs(a) > Math.abs(b)) {\n    r = b / a;\n    return Math.abs(a) * Math.sqrt(1 + r * r);\n  }\n  if (b !== 0) {\n    r = a / b;\n    return Math.abs(b) * Math.sqrt(1 + r * r);\n  }\n  return 0;\n}\n\nclass QrDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let qr = value.clone();\n    let m = value.rows;\n    let n = value.columns;\n    let rdiag = new Float64Array(n);\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      let nrm = 0;\n      for (i = k; i < m; i++) {\n        nrm = hypotenuse(nrm, qr.get(i, k));\n      }\n      if (nrm !== 0) {\n        if (qr.get(k, k) < 0) {\n          nrm = -nrm;\n        }\n        for (i = k; i < m; i++) {\n          qr.set(i, k, qr.get(i, k) / nrm);\n        }\n        qr.set(k, k, qr.get(k, k) + 1);\n        for (j = k + 1; j < n; j++) {\n          s = 0;\n          for (i = k; i < m; i++) {\n            s += qr.get(i, k) * qr.get(i, j);\n          }\n          s = -s / qr.get(k, k);\n          for (i = k; i < m; i++) {\n            qr.set(i, j, qr.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n      rdiag[k] = -nrm;\n    }\n\n    this.QR = qr;\n    this.Rdiag = rdiag;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let qr = this.QR;\n    let m = qr.rows;\n\n    if (value.rows !== m) {\n      throw new Error('Matrix row dimensions must agree');\n    }\n    if (!this.isFullRank()) {\n      throw new Error('Matrix is rank deficient');\n    }\n\n    let count = value.columns;\n    let X = value.clone();\n    let n = qr.columns;\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      for (j = 0; j < count; j++) {\n        s = 0;\n        for (i = k; i < m; i++) {\n          s += qr.get(i, k) * X.get(i, j);\n        }\n        s = -s / qr.get(k, k);\n        for (i = k; i < m; i++) {\n          X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n        }\n      }\n    }\n    for (k = n - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / this.Rdiag[k]);\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * qr.get(i, k));\n        }\n      }\n    }\n\n    return X.subMatrix(0, n - 1, 0, count - 1);\n  }\n\n  isFullRank() {\n    let columns = this.QR.columns;\n    for (let i = 0; i < columns; i++) {\n      if (this.Rdiag[i] === 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  get upperTriangularMatrix() {\n    let qr = this.QR;\n    let n = qr.columns;\n    let X = new Matrix(n, n);\n    let i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        if (i < j) {\n          X.set(i, j, qr.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, this.Rdiag[i]);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get orthogonalMatrix() {\n    let qr = this.QR;\n    let rows = qr.rows;\n    let columns = qr.columns;\n    let X = new Matrix(rows, columns);\n    let i, j, k, s;\n\n    for (k = columns - 1; k >= 0; k--) {\n      for (i = 0; i < rows; i++) {\n        X.set(i, k, 0);\n      }\n      X.set(k, k, 1);\n      for (j = k; j < columns; j++) {\n        if (qr.get(k, k) !== 0) {\n          s = 0;\n          for (i = k; i < rows; i++) {\n            s += qr.get(i, k) * X.get(i, j);\n          }\n\n          s = -s / qr.get(k, k);\n\n          for (i = k; i < rows; i++) {\n            X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n    }\n    return X;\n  }\n}\n\nclass SingularValueDecomposition {\n  constructor(value, options = {}) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    if (value.isEmpty()) {\n      throw new Error('Matrix must be non-empty');\n    }\n\n    let m = value.rows;\n    let n = value.columns;\n\n    const {\n      computeLeftSingularVectors = true,\n      computeRightSingularVectors = true,\n      autoTranspose = false,\n    } = options;\n\n    let wantu = Boolean(computeLeftSingularVectors);\n    let wantv = Boolean(computeRightSingularVectors);\n\n    let swapped = false;\n    let a;\n    if (m < n) {\n      if (!autoTranspose) {\n        a = value.clone();\n        // eslint-disable-next-line no-console\n        console.warn(\n          'Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose',\n        );\n      } else {\n        a = value.transpose();\n        m = a.rows;\n        n = a.columns;\n        swapped = true;\n        let aux = wantu;\n        wantu = wantv;\n        wantv = aux;\n      }\n    } else {\n      a = value.clone();\n    }\n\n    let nu = Math.min(m, n);\n    let ni = Math.min(m + 1, n);\n    let s = new Float64Array(ni);\n    let U = new Matrix(m, nu);\n    let V = new Matrix(n, n);\n\n    let e = new Float64Array(n);\n    let work = new Float64Array(m);\n\n    let si = new Float64Array(ni);\n    for (let i = 0; i < ni; i++) si[i] = i;\n\n    let nct = Math.min(m - 1, n);\n    let nrt = Math.max(0, Math.min(n - 2, m));\n    let mrc = Math.max(nct, nrt);\n\n    for (let k = 0; k < mrc; k++) {\n      if (k < nct) {\n        s[k] = 0;\n        for (let i = k; i < m; i++) {\n          s[k] = hypotenuse(s[k], a.get(i, k));\n        }\n        if (s[k] !== 0) {\n          if (a.get(k, k) < 0) {\n            s[k] = -s[k];\n          }\n          for (let i = k; i < m; i++) {\n            a.set(i, k, a.get(i, k) / s[k]);\n          }\n          a.set(k, k, a.get(k, k) + 1);\n        }\n        s[k] = -s[k];\n      }\n\n      for (let j = k + 1; j < n; j++) {\n        if (k < nct && s[k] !== 0) {\n          let t = 0;\n          for (let i = k; i < m; i++) {\n            t += a.get(i, k) * a.get(i, j);\n          }\n          t = -t / a.get(k, k);\n          for (let i = k; i < m; i++) {\n            a.set(i, j, a.get(i, j) + t * a.get(i, k));\n          }\n        }\n        e[j] = a.get(k, j);\n      }\n\n      if (wantu && k < nct) {\n        for (let i = k; i < m; i++) {\n          U.set(i, k, a.get(i, k));\n        }\n      }\n\n      if (k < nrt) {\n        e[k] = 0;\n        for (let i = k + 1; i < n; i++) {\n          e[k] = hypotenuse(e[k], e[i]);\n        }\n        if (e[k] !== 0) {\n          if (e[k + 1] < 0) {\n            e[k] = 0 - e[k];\n          }\n          for (let i = k + 1; i < n; i++) {\n            e[i] /= e[k];\n          }\n          e[k + 1] += 1;\n        }\n        e[k] = -e[k];\n        if (k + 1 < m && e[k] !== 0) {\n          for (let i = k + 1; i < m; i++) {\n            work[i] = 0;\n          }\n          for (let i = k + 1; i < m; i++) {\n            for (let j = k + 1; j < n; j++) {\n              work[i] += e[j] * a.get(i, j);\n            }\n          }\n          for (let j = k + 1; j < n; j++) {\n            let t = -e[j] / e[k + 1];\n            for (let i = k + 1; i < m; i++) {\n              a.set(i, j, a.get(i, j) + t * work[i]);\n            }\n          }\n        }\n        if (wantv) {\n          for (let i = k + 1; i < n; i++) {\n            V.set(i, k, e[i]);\n          }\n        }\n      }\n    }\n\n    let p = Math.min(n, m + 1);\n    if (nct < n) {\n      s[nct] = a.get(nct, nct);\n    }\n    if (m < p) {\n      s[p - 1] = 0;\n    }\n    if (nrt + 1 < p) {\n      e[nrt] = a.get(nrt, p - 1);\n    }\n    e[p - 1] = 0;\n\n    if (wantu) {\n      for (let j = nct; j < nu; j++) {\n        for (let i = 0; i < m; i++) {\n          U.set(i, j, 0);\n        }\n        U.set(j, j, 1);\n      }\n      for (let k = nct - 1; k >= 0; k--) {\n        if (s[k] !== 0) {\n          for (let j = k + 1; j < nu; j++) {\n            let t = 0;\n            for (let i = k; i < m; i++) {\n              t += U.get(i, k) * U.get(i, j);\n            }\n            t = -t / U.get(k, k);\n            for (let i = k; i < m; i++) {\n              U.set(i, j, U.get(i, j) + t * U.get(i, k));\n            }\n          }\n          for (let i = k; i < m; i++) {\n            U.set(i, k, -U.get(i, k));\n          }\n          U.set(k, k, 1 + U.get(k, k));\n          for (let i = 0; i < k - 1; i++) {\n            U.set(i, k, 0);\n          }\n        } else {\n          for (let i = 0; i < m; i++) {\n            U.set(i, k, 0);\n          }\n          U.set(k, k, 1);\n        }\n      }\n    }\n\n    if (wantv) {\n      for (let k = n - 1; k >= 0; k--) {\n        if (k < nrt && e[k] !== 0) {\n          for (let j = k + 1; j < n; j++) {\n            let t = 0;\n            for (let i = k + 1; i < n; i++) {\n              t += V.get(i, k) * V.get(i, j);\n            }\n            t = -t / V.get(k + 1, k);\n            for (let i = k + 1; i < n; i++) {\n              V.set(i, j, V.get(i, j) + t * V.get(i, k));\n            }\n          }\n        }\n        for (let i = 0; i < n; i++) {\n          V.set(i, k, 0);\n        }\n        V.set(k, k, 1);\n      }\n    }\n\n    let pp = p - 1;\n    let eps = Number.EPSILON;\n    while (p > 0) {\n      let k, kase;\n      for (k = p - 2; k >= -1; k--) {\n        if (k === -1) {\n          break;\n        }\n        const alpha =\n          Number.MIN_VALUE + eps * Math.abs(s[k] + Math.abs(s[k + 1]));\n        if (Math.abs(e[k]) <= alpha || Number.isNaN(e[k])) {\n          e[k] = 0;\n          break;\n        }\n      }\n      if (k === p - 2) {\n        kase = 4;\n      } else {\n        let ks;\n        for (ks = p - 1; ks >= k; ks--) {\n          if (ks === k) {\n            break;\n          }\n          let t =\n            (ks !== p ? Math.abs(e[ks]) : 0) +\n            (ks !== k + 1 ? Math.abs(e[ks - 1]) : 0);\n          if (Math.abs(s[ks]) <= eps * t) {\n            s[ks] = 0;\n            break;\n          }\n        }\n        if (ks === k) {\n          kase = 3;\n        } else if (ks === p - 1) {\n          kase = 1;\n        } else {\n          kase = 2;\n          k = ks;\n        }\n      }\n\n      k++;\n\n      switch (kase) {\n        case 1: {\n          let f = e[p - 2];\n          e[p - 2] = 0;\n          for (let j = p - 2; j >= k; j--) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            if (j !== k) {\n              f = -sn * e[j - 1];\n              e[j - 1] = cs * e[j - 1];\n            }\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, p - 1);\n                V.set(i, p - 1, -sn * V.get(i, j) + cs * V.get(i, p - 1));\n                V.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 2: {\n          let f = e[k - 1];\n          e[k - 1] = 0;\n          for (let j = k; j < p; j++) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            f = -sn * e[j];\n            e[j] = cs * e[j];\n            if (wantu) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, k - 1);\n                U.set(i, k - 1, -sn * U.get(i, j) + cs * U.get(i, k - 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 3: {\n          const scale = Math.max(\n            Math.abs(s[p - 1]),\n            Math.abs(s[p - 2]),\n            Math.abs(e[p - 2]),\n            Math.abs(s[k]),\n            Math.abs(e[k]),\n          );\n          const sp = s[p - 1] / scale;\n          const spm1 = s[p - 2] / scale;\n          const epm1 = e[p - 2] / scale;\n          const sk = s[k] / scale;\n          const ek = e[k] / scale;\n          const b = ((spm1 + sp) * (spm1 - sp) + epm1 * epm1) / 2;\n          const c = sp * epm1 * (sp * epm1);\n          let shift = 0;\n          if (b !== 0 || c !== 0) {\n            if (b < 0) {\n              shift = 0 - Math.sqrt(b * b + c);\n            } else {\n              shift = Math.sqrt(b * b + c);\n            }\n            shift = c / (b + shift);\n          }\n          let f = (sk + sp) * (sk - sp) + shift;\n          let g = sk * ek;\n          for (let j = k; j < p - 1; j++) {\n            let t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            let cs = f / t;\n            let sn = g / t;\n            if (j !== k) {\n              e[j - 1] = t;\n            }\n            f = cs * s[j] + sn * e[j];\n            e[j] = cs * e[j] - sn * s[j];\n            g = sn * s[j + 1];\n            s[j + 1] = cs * s[j + 1];\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, j + 1);\n                V.set(i, j + 1, -sn * V.get(i, j) + cs * V.get(i, j + 1));\n                V.set(i, j, t);\n              }\n            }\n            t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            cs = f / t;\n            sn = g / t;\n            s[j] = t;\n            f = cs * e[j] + sn * s[j + 1];\n            s[j + 1] = -sn * e[j] + cs * s[j + 1];\n            g = sn * e[j + 1];\n            e[j + 1] = cs * e[j + 1];\n            if (wantu && j < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, j + 1);\n                U.set(i, j + 1, -sn * U.get(i, j) + cs * U.get(i, j + 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          e[p - 2] = f;\n          break;\n        }\n        case 4: {\n          if (s[k] <= 0) {\n            s[k] = s[k] < 0 ? -s[k] : 0;\n            if (wantv) {\n              for (let i = 0; i <= pp; i++) {\n                V.set(i, k, -V.get(i, k));\n              }\n            }\n          }\n          while (k < pp) {\n            if (s[k] >= s[k + 1]) {\n              break;\n            }\n            let t = s[k];\n            s[k] = s[k + 1];\n            s[k + 1] = t;\n            if (wantv && k < n - 1) {\n              for (let i = 0; i < n; i++) {\n                t = V.get(i, k + 1);\n                V.set(i, k + 1, V.get(i, k));\n                V.set(i, k, t);\n              }\n            }\n            if (wantu && k < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = U.get(i, k + 1);\n                U.set(i, k + 1, U.get(i, k));\n                U.set(i, k, t);\n              }\n            }\n            k++;\n          }\n          p--;\n          break;\n        }\n        // no default\n      }\n    }\n\n    if (swapped) {\n      let tmp = V;\n      V = U;\n      U = tmp;\n    }\n\n    this.m = m;\n    this.n = n;\n    this.s = s;\n    this.U = U;\n    this.V = V;\n  }\n\n  solve(value) {\n    let Y = value;\n    let e = this.threshold;\n    let scols = this.s.length;\n    let Ls = Matrix.zeros(scols, scols);\n\n    for (let i = 0; i < scols; i++) {\n      if (Math.abs(this.s[i]) <= e) {\n        Ls.set(i, i, 0);\n      } else {\n        Ls.set(i, i, 1 / this.s[i]);\n      }\n    }\n\n    let U = this.U;\n    let V = this.rightSingularVectors;\n\n    let VL = V.mmul(Ls);\n    let vrows = V.rows;\n    let urows = U.rows;\n    let VLU = Matrix.zeros(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < scols; k++) {\n          sum += VL.get(i, k) * U.get(j, k);\n        }\n        VLU.set(i, j, sum);\n      }\n    }\n\n    return VLU.mmul(Y);\n  }\n\n  solveForDiagonal(value) {\n    return this.solve(Matrix.diag(value));\n  }\n\n  inverse() {\n    let V = this.V;\n    let e = this.threshold;\n    let vrows = V.rows;\n    let vcols = V.columns;\n    let X = new Matrix(vrows, this.s.length);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < vcols; j++) {\n        if (Math.abs(this.s[j]) > e) {\n          X.set(i, j, V.get(i, j) / this.s[j]);\n        }\n      }\n    }\n\n    let U = this.U;\n\n    let urows = U.rows;\n    let ucols = U.columns;\n    let Y = new Matrix(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < ucols; k++) {\n          sum += X.get(i, k) * U.get(j, k);\n        }\n        Y.set(i, j, sum);\n      }\n    }\n\n    return Y;\n  }\n\n  get condition() {\n    return this.s[0] / this.s[Math.min(this.m, this.n) - 1];\n  }\n\n  get norm2() {\n    return this.s[0];\n  }\n\n  get rank() {\n    let tol = Math.max(this.m, this.n) * this.s[0] * Number.EPSILON;\n    let r = 0;\n    let s = this.s;\n    for (let i = 0, ii = s.length; i < ii; i++) {\n      if (s[i] > tol) {\n        r++;\n      }\n    }\n    return r;\n  }\n\n  get diagonal() {\n    return Array.from(this.s);\n  }\n\n  get threshold() {\n    return (Number.EPSILON / 2) * Math.max(this.m, this.n) * this.s[0];\n  }\n\n  get leftSingularVectors() {\n    return this.U;\n  }\n\n  get rightSingularVectors() {\n    return this.V;\n  }\n\n  get diagonalMatrix() {\n    return Matrix.diag(this.s);\n  }\n}\n\nfunction inverse(matrix, useSVD = false) {\n  matrix = WrapperMatrix2D.checkMatrix(matrix);\n  if (useSVD) {\n    return new SingularValueDecomposition(matrix).inverse();\n  } else {\n    return solve(matrix, Matrix.eye(matrix.rows));\n  }\n}\n\nfunction solve(leftHandSide, rightHandSide, useSVD = false) {\n  leftHandSide = WrapperMatrix2D.checkMatrix(leftHandSide);\n  rightHandSide = WrapperMatrix2D.checkMatrix(rightHandSide);\n  if (useSVD) {\n    return new SingularValueDecomposition(leftHandSide).solve(rightHandSide);\n  } else {\n    return leftHandSide.isSquare()\n      ? new LuDecomposition(leftHandSide).solve(rightHandSide)\n      : new QrDecomposition(leftHandSide).solve(rightHandSide);\n  }\n}\n\nfunction determinant(matrix) {\n  matrix = Matrix.checkMatrix(matrix);\n  if (matrix.isSquare()) {\n    if (matrix.columns === 0) {\n      return 1;\n    }\n\n    let a, b, c, d;\n    if (matrix.columns === 2) {\n      // 2 x 2 matrix\n      a = matrix.get(0, 0);\n      b = matrix.get(0, 1);\n      c = matrix.get(1, 0);\n      d = matrix.get(1, 1);\n\n      return a * d - b * c;\n    } else if (matrix.columns === 3) {\n      // 3 x 3 matrix\n      let subMatrix0, subMatrix1, subMatrix2;\n      subMatrix0 = new MatrixSelectionView(matrix, [1, 2], [1, 2]);\n      subMatrix1 = new MatrixSelectionView(matrix, [1, 2], [0, 2]);\n      subMatrix2 = new MatrixSelectionView(matrix, [1, 2], [0, 1]);\n      a = matrix.get(0, 0);\n      b = matrix.get(0, 1);\n      c = matrix.get(0, 2);\n\n      return (\n        a * determinant(subMatrix0) -\n        b * determinant(subMatrix1) +\n        c * determinant(subMatrix2)\n      );\n    } else {\n      // general purpose determinant using the LU decomposition\n      return new LuDecomposition(matrix).determinant;\n    }\n  } else {\n    throw Error('determinant can only be calculated for a square matrix');\n  }\n}\n\nfunction xrange(n, exception) {\n  let range = [];\n  for (let i = 0; i < n; i++) {\n    if (i !== exception) {\n      range.push(i);\n    }\n  }\n  return range;\n}\n\nfunction dependenciesOneRow(\n  error,\n  matrix,\n  index,\n  thresholdValue = 10e-10,\n  thresholdError = 10e-10,\n) {\n  if (error > thresholdError) {\n    return new Array(matrix.rows + 1).fill(0);\n  } else {\n    let returnArray = matrix.addRow(index, [0]);\n    for (let i = 0; i < returnArray.rows; i++) {\n      if (Math.abs(returnArray.get(i, 0)) < thresholdValue) {\n        returnArray.set(i, 0, 0);\n      }\n    }\n    return returnArray.to1DArray();\n  }\n}\n\nfunction linearDependencies(matrix, options = {}) {\n  const { thresholdValue = 10e-10, thresholdError = 10e-10 } = options;\n  matrix = Matrix.checkMatrix(matrix);\n\n  let n = matrix.rows;\n  let results = new Matrix(n, n);\n\n  for (let i = 0; i < n; i++) {\n    let b = Matrix.columnVector(matrix.getRow(i));\n    let Abis = matrix.subMatrixRow(xrange(n, i)).transpose();\n    let svd = new SingularValueDecomposition(Abis);\n    let x = svd.solve(b);\n    let error = Matrix.sub(b, Abis.mmul(x)).abs().max();\n    results.setRow(\n      i,\n      dependenciesOneRow(error, x, i, thresholdValue, thresholdError),\n    );\n  }\n  return results;\n}\n\nfunction pseudoInverse(matrix, threshold = Number.EPSILON) {\n  matrix = Matrix.checkMatrix(matrix);\n  if (matrix.isEmpty()) {\n    // with a zero dimension, the pseudo-inverse is the transpose, since all 0xn and nx0 matrices are singular\n    // (0xn)*(nx0)*(0xn) = 0xn\n    // (nx0)*(0xn)*(nx0) = nx0\n    return matrix.transpose();\n  }\n  let svdSolution = new SingularValueDecomposition(matrix, { autoTranspose: true });\n\n  let U = svdSolution.leftSingularVectors;\n  let V = svdSolution.rightSingularVectors;\n  let s = svdSolution.diagonal;\n\n  for (let i = 0; i < s.length; i++) {\n    if (Math.abs(s[i]) > threshold) {\n      s[i] = 1.0 / s[i];\n    } else {\n      s[i] = 0.0;\n    }\n  }\n\n  return V.mmul(Matrix.diag(s).mmul(U.transpose()));\n}\n\nfunction covariance(xMatrix, yMatrix = xMatrix, options = {}) {\n  xMatrix = new Matrix(xMatrix);\n  let yIsSame = false;\n  if (\n    typeof yMatrix === 'object' &&\n    !Matrix.isMatrix(yMatrix) &&\n    !isAnyArray.isAnyArray(yMatrix)\n  ) {\n    options = yMatrix;\n    yMatrix = xMatrix;\n    yIsSame = true;\n  } else {\n    yMatrix = new Matrix(yMatrix);\n  }\n  if (xMatrix.rows !== yMatrix.rows) {\n    throw new TypeError('Both matrices must have the same number of rows');\n  }\n  const { center = true } = options;\n  if (center) {\n    xMatrix = xMatrix.center('column');\n    if (!yIsSame) {\n      yMatrix = yMatrix.center('column');\n    }\n  }\n  const cov = xMatrix.transpose().mmul(yMatrix);\n  for (let i = 0; i < cov.rows; i++) {\n    for (let j = 0; j < cov.columns; j++) {\n      cov.set(i, j, cov.get(i, j) * (1 / (xMatrix.rows - 1)));\n    }\n  }\n  return cov;\n}\n\nfunction correlation(xMatrix, yMatrix = xMatrix, options = {}) {\n  xMatrix = new Matrix(xMatrix);\n  let yIsSame = false;\n  if (\n    typeof yMatrix === 'object' &&\n    !Matrix.isMatrix(yMatrix) &&\n    !isAnyArray.isAnyArray(yMatrix)\n  ) {\n    options = yMatrix;\n    yMatrix = xMatrix;\n    yIsSame = true;\n  } else {\n    yMatrix = new Matrix(yMatrix);\n  }\n  if (xMatrix.rows !== yMatrix.rows) {\n    throw new TypeError('Both matrices must have the same number of rows');\n  }\n\n  const { center = true, scale = true } = options;\n  if (center) {\n    xMatrix.center('column');\n    if (!yIsSame) {\n      yMatrix.center('column');\n    }\n  }\n  if (scale) {\n    xMatrix.scale('column');\n    if (!yIsSame) {\n      yMatrix.scale('column');\n    }\n  }\n\n  const sdx = xMatrix.standardDeviation('column', { unbiased: true });\n  const sdy = yIsSame\n    ? sdx\n    : yMatrix.standardDeviation('column', { unbiased: true });\n\n  const corr = xMatrix.transpose().mmul(yMatrix);\n  for (let i = 0; i < corr.rows; i++) {\n    for (let j = 0; j < corr.columns; j++) {\n      corr.set(\n        i,\n        j,\n        corr.get(i, j) * (1 / (sdx[i] * sdy[j])) * (1 / (xMatrix.rows - 1)),\n      );\n    }\n  }\n  return corr;\n}\n\nclass EigenvalueDecomposition {\n  constructor(matrix, options = {}) {\n    const { assumeSymmetric = false } = options;\n\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n    if (!matrix.isSquare()) {\n      throw new Error('Matrix is not a square matrix');\n    }\n\n    if (matrix.isEmpty()) {\n      throw new Error('Matrix must be non-empty');\n    }\n\n    let n = matrix.columns;\n    let V = new Matrix(n, n);\n    let d = new Float64Array(n);\n    let e = new Float64Array(n);\n    let value = matrix;\n    let i, j;\n\n    let isSymmetric = false;\n    if (assumeSymmetric) {\n      isSymmetric = true;\n    } else {\n      isSymmetric = matrix.isSymmetric();\n    }\n\n    if (isSymmetric) {\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          V.set(i, j, value.get(i, j));\n        }\n      }\n      tred2(n, e, d, V);\n      tql2(n, e, d, V);\n    } else {\n      let H = new Matrix(n, n);\n      let ort = new Float64Array(n);\n      for (j = 0; j < n; j++) {\n        for (i = 0; i < n; i++) {\n          H.set(i, j, value.get(i, j));\n        }\n      }\n      orthes(n, H, ort, V);\n      hqr2(n, e, d, V, H);\n    }\n\n    this.n = n;\n    this.e = e;\n    this.d = d;\n    this.V = V;\n  }\n\n  get realEigenvalues() {\n    return Array.from(this.d);\n  }\n\n  get imaginaryEigenvalues() {\n    return Array.from(this.e);\n  }\n\n  get eigenvectorMatrix() {\n    return this.V;\n  }\n\n  get diagonalMatrix() {\n    let n = this.n;\n    let e = this.e;\n    let d = this.d;\n    let X = new Matrix(n, n);\n    let i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        X.set(i, j, 0);\n      }\n      X.set(i, i, d[i]);\n      if (e[i] > 0) {\n        X.set(i, i + 1, e[i]);\n      } else if (e[i] < 0) {\n        X.set(i, i - 1, e[i]);\n      }\n    }\n    return X;\n  }\n}\n\nfunction tred2(n, e, d, V) {\n  let f, g, h, i, j, k, hh, scale;\n\n  for (j = 0; j < n; j++) {\n    d[j] = V.get(n - 1, j);\n  }\n\n  for (i = n - 1; i > 0; i--) {\n    scale = 0;\n    h = 0;\n    for (k = 0; k < i; k++) {\n      scale = scale + Math.abs(d[k]);\n    }\n\n    if (scale === 0) {\n      e[i] = d[i - 1];\n      for (j = 0; j < i; j++) {\n        d[j] = V.get(i - 1, j);\n        V.set(i, j, 0);\n        V.set(j, i, 0);\n      }\n    } else {\n      for (k = 0; k < i; k++) {\n        d[k] /= scale;\n        h += d[k] * d[k];\n      }\n\n      f = d[i - 1];\n      g = Math.sqrt(h);\n      if (f > 0) {\n        g = -g;\n      }\n\n      e[i] = scale * g;\n      h = h - f * g;\n      d[i - 1] = f - g;\n      for (j = 0; j < i; j++) {\n        e[j] = 0;\n      }\n\n      for (j = 0; j < i; j++) {\n        f = d[j];\n        V.set(j, i, f);\n        g = e[j] + V.get(j, j) * f;\n        for (k = j + 1; k <= i - 1; k++) {\n          g += V.get(k, j) * d[k];\n          e[k] += V.get(k, j) * f;\n        }\n        e[j] = g;\n      }\n\n      f = 0;\n      for (j = 0; j < i; j++) {\n        e[j] /= h;\n        f += e[j] * d[j];\n      }\n\n      hh = f / (h + h);\n      for (j = 0; j < i; j++) {\n        e[j] -= hh * d[j];\n      }\n\n      for (j = 0; j < i; j++) {\n        f = d[j];\n        g = e[j];\n        for (k = j; k <= i - 1; k++) {\n          V.set(k, j, V.get(k, j) - (f * e[k] + g * d[k]));\n        }\n        d[j] = V.get(i - 1, j);\n        V.set(i, j, 0);\n      }\n    }\n    d[i] = h;\n  }\n\n  for (i = 0; i < n - 1; i++) {\n    V.set(n - 1, i, V.get(i, i));\n    V.set(i, i, 1);\n    h = d[i + 1];\n    if (h !== 0) {\n      for (k = 0; k <= i; k++) {\n        d[k] = V.get(k, i + 1) / h;\n      }\n\n      for (j = 0; j <= i; j++) {\n        g = 0;\n        for (k = 0; k <= i; k++) {\n          g += V.get(k, i + 1) * V.get(k, j);\n        }\n        for (k = 0; k <= i; k++) {\n          V.set(k, j, V.get(k, j) - g * d[k]);\n        }\n      }\n    }\n\n    for (k = 0; k <= i; k++) {\n      V.set(k, i + 1, 0);\n    }\n  }\n\n  for (j = 0; j < n; j++) {\n    d[j] = V.get(n - 1, j);\n    V.set(n - 1, j, 0);\n  }\n\n  V.set(n - 1, n - 1, 1);\n  e[0] = 0;\n}\n\nfunction tql2(n, e, d, V) {\n  let g, h, i, j, k, l, m, p, r, dl1, c, c2, c3, el1, s, s2;\n\n  for (i = 1; i < n; i++) {\n    e[i - 1] = e[i];\n  }\n\n  e[n - 1] = 0;\n\n  let f = 0;\n  let tst1 = 0;\n  let eps = Number.EPSILON;\n\n  for (l = 0; l < n; l++) {\n    tst1 = Math.max(tst1, Math.abs(d[l]) + Math.abs(e[l]));\n    m = l;\n    while (m < n) {\n      if (Math.abs(e[m]) <= eps * tst1) {\n        break;\n      }\n      m++;\n    }\n\n    if (m > l) {\n      do {\n\n        g = d[l];\n        p = (d[l + 1] - g) / (2 * e[l]);\n        r = hypotenuse(p, 1);\n        if (p < 0) {\n          r = -r;\n        }\n\n        d[l] = e[l] / (p + r);\n        d[l + 1] = e[l] * (p + r);\n        dl1 = d[l + 1];\n        h = g - d[l];\n        for (i = l + 2; i < n; i++) {\n          d[i] -= h;\n        }\n\n        f = f + h;\n\n        p = d[m];\n        c = 1;\n        c2 = c;\n        c3 = c;\n        el1 = e[l + 1];\n        s = 0;\n        s2 = 0;\n        for (i = m - 1; i >= l; i--) {\n          c3 = c2;\n          c2 = c;\n          s2 = s;\n          g = c * e[i];\n          h = c * p;\n          r = hypotenuse(p, e[i]);\n          e[i + 1] = s * r;\n          s = e[i] / r;\n          c = p / r;\n          p = c * d[i] - s * g;\n          d[i + 1] = h + s * (c * g + s * d[i]);\n\n          for (k = 0; k < n; k++) {\n            h = V.get(k, i + 1);\n            V.set(k, i + 1, s * V.get(k, i) + c * h);\n            V.set(k, i, c * V.get(k, i) - s * h);\n          }\n        }\n\n        p = (-s * s2 * c3 * el1 * e[l]) / dl1;\n        e[l] = s * p;\n        d[l] = c * p;\n      } while (Math.abs(e[l]) > eps * tst1);\n    }\n    d[l] = d[l] + f;\n    e[l] = 0;\n  }\n\n  for (i = 0; i < n - 1; i++) {\n    k = i;\n    p = d[i];\n    for (j = i + 1; j < n; j++) {\n      if (d[j] < p) {\n        k = j;\n        p = d[j];\n      }\n    }\n\n    if (k !== i) {\n      d[k] = d[i];\n      d[i] = p;\n      for (j = 0; j < n; j++) {\n        p = V.get(j, i);\n        V.set(j, i, V.get(j, k));\n        V.set(j, k, p);\n      }\n    }\n  }\n}\n\nfunction orthes(n, H, ort, V) {\n  let low = 0;\n  let high = n - 1;\n  let f, g, h, i, j, m;\n  let scale;\n\n  for (m = low + 1; m <= high - 1; m++) {\n    scale = 0;\n    for (i = m; i <= high; i++) {\n      scale = scale + Math.abs(H.get(i, m - 1));\n    }\n\n    if (scale !== 0) {\n      h = 0;\n      for (i = high; i >= m; i--) {\n        ort[i] = H.get(i, m - 1) / scale;\n        h += ort[i] * ort[i];\n      }\n\n      g = Math.sqrt(h);\n      if (ort[m] > 0) {\n        g = -g;\n      }\n\n      h = h - ort[m] * g;\n      ort[m] = ort[m] - g;\n\n      for (j = m; j < n; j++) {\n        f = 0;\n        for (i = high; i >= m; i--) {\n          f += ort[i] * H.get(i, j);\n        }\n\n        f = f / h;\n        for (i = m; i <= high; i++) {\n          H.set(i, j, H.get(i, j) - f * ort[i]);\n        }\n      }\n\n      for (i = 0; i <= high; i++) {\n        f = 0;\n        for (j = high; j >= m; j--) {\n          f += ort[j] * H.get(i, j);\n        }\n\n        f = f / h;\n        for (j = m; j <= high; j++) {\n          H.set(i, j, H.get(i, j) - f * ort[j]);\n        }\n      }\n\n      ort[m] = scale * ort[m];\n      H.set(m, m - 1, scale * g);\n    }\n  }\n\n  for (i = 0; i < n; i++) {\n    for (j = 0; j < n; j++) {\n      V.set(i, j, i === j ? 1 : 0);\n    }\n  }\n\n  for (m = high - 1; m >= low + 1; m--) {\n    if (H.get(m, m - 1) !== 0) {\n      for (i = m + 1; i <= high; i++) {\n        ort[i] = H.get(i, m - 1);\n      }\n\n      for (j = m; j <= high; j++) {\n        g = 0;\n        for (i = m; i <= high; i++) {\n          g += ort[i] * V.get(i, j);\n        }\n\n        g = g / ort[m] / H.get(m, m - 1);\n        for (i = m; i <= high; i++) {\n          V.set(i, j, V.get(i, j) + g * ort[i]);\n        }\n      }\n    }\n  }\n}\n\nfunction hqr2(nn, e, d, V, H) {\n  let n = nn - 1;\n  let low = 0;\n  let high = nn - 1;\n  let eps = Number.EPSILON;\n  let exshift = 0;\n  let norm = 0;\n  let p = 0;\n  let q = 0;\n  let r = 0;\n  let s = 0;\n  let z = 0;\n  let iter = 0;\n  let i, j, k, l, m, t, w, x, y;\n  let ra, sa, vr, vi;\n  let notlast, cdivres;\n\n  for (i = 0; i < nn; i++) {\n    if (i < low || i > high) {\n      d[i] = H.get(i, i);\n      e[i] = 0;\n    }\n\n    for (j = Math.max(i - 1, 0); j < nn; j++) {\n      norm = norm + Math.abs(H.get(i, j));\n    }\n  }\n\n  while (n >= low) {\n    l = n;\n    while (l > low) {\n      s = Math.abs(H.get(l - 1, l - 1)) + Math.abs(H.get(l, l));\n      if (s === 0) {\n        s = norm;\n      }\n      if (Math.abs(H.get(l, l - 1)) < eps * s) {\n        break;\n      }\n      l--;\n    }\n\n    if (l === n) {\n      H.set(n, n, H.get(n, n) + exshift);\n      d[n] = H.get(n, n);\n      e[n] = 0;\n      n--;\n      iter = 0;\n    } else if (l === n - 1) {\n      w = H.get(n, n - 1) * H.get(n - 1, n);\n      p = (H.get(n - 1, n - 1) - H.get(n, n)) / 2;\n      q = p * p + w;\n      z = Math.sqrt(Math.abs(q));\n      H.set(n, n, H.get(n, n) + exshift);\n      H.set(n - 1, n - 1, H.get(n - 1, n - 1) + exshift);\n      x = H.get(n, n);\n\n      if (q >= 0) {\n        z = p >= 0 ? p + z : p - z;\n        d[n - 1] = x + z;\n        d[n] = d[n - 1];\n        if (z !== 0) {\n          d[n] = x - w / z;\n        }\n        e[n - 1] = 0;\n        e[n] = 0;\n        x = H.get(n, n - 1);\n        s = Math.abs(x) + Math.abs(z);\n        p = x / s;\n        q = z / s;\n        r = Math.sqrt(p * p + q * q);\n        p = p / r;\n        q = q / r;\n\n        for (j = n - 1; j < nn; j++) {\n          z = H.get(n - 1, j);\n          H.set(n - 1, j, q * z + p * H.get(n, j));\n          H.set(n, j, q * H.get(n, j) - p * z);\n        }\n\n        for (i = 0; i <= n; i++) {\n          z = H.get(i, n - 1);\n          H.set(i, n - 1, q * z + p * H.get(i, n));\n          H.set(i, n, q * H.get(i, n) - p * z);\n        }\n\n        for (i = low; i <= high; i++) {\n          z = V.get(i, n - 1);\n          V.set(i, n - 1, q * z + p * V.get(i, n));\n          V.set(i, n, q * V.get(i, n) - p * z);\n        }\n      } else {\n        d[n - 1] = x + p;\n        d[n] = x + p;\n        e[n - 1] = z;\n        e[n] = -z;\n      }\n\n      n = n - 2;\n      iter = 0;\n    } else {\n      x = H.get(n, n);\n      y = 0;\n      w = 0;\n      if (l < n) {\n        y = H.get(n - 1, n - 1);\n        w = H.get(n, n - 1) * H.get(n - 1, n);\n      }\n\n      if (iter === 10) {\n        exshift += x;\n        for (i = low; i <= n; i++) {\n          H.set(i, i, H.get(i, i) - x);\n        }\n        s = Math.abs(H.get(n, n - 1)) + Math.abs(H.get(n - 1, n - 2));\n        // eslint-disable-next-line no-multi-assign\n        x = y = 0.75 * s;\n        w = -0.4375 * s * s;\n      }\n\n      if (iter === 30) {\n        s = (y - x) / 2;\n        s = s * s + w;\n        if (s > 0) {\n          s = Math.sqrt(s);\n          if (y < x) {\n            s = -s;\n          }\n          s = x - w / ((y - x) / 2 + s);\n          for (i = low; i <= n; i++) {\n            H.set(i, i, H.get(i, i) - s);\n          }\n          exshift += s;\n          // eslint-disable-next-line no-multi-assign\n          x = y = w = 0.964;\n        }\n      }\n\n      iter = iter + 1;\n\n      m = n - 2;\n      while (m >= l) {\n        z = H.get(m, m);\n        r = x - z;\n        s = y - z;\n        p = (r * s - w) / H.get(m + 1, m) + H.get(m, m + 1);\n        q = H.get(m + 1, m + 1) - z - r - s;\n        r = H.get(m + 2, m + 1);\n        s = Math.abs(p) + Math.abs(q) + Math.abs(r);\n        p = p / s;\n        q = q / s;\n        r = r / s;\n        if (m === l) {\n          break;\n        }\n        if (\n          Math.abs(H.get(m, m - 1)) * (Math.abs(q) + Math.abs(r)) <\n          eps *\n            (Math.abs(p) *\n              (Math.abs(H.get(m - 1, m - 1)) +\n                Math.abs(z) +\n                Math.abs(H.get(m + 1, m + 1))))\n        ) {\n          break;\n        }\n        m--;\n      }\n\n      for (i = m + 2; i <= n; i++) {\n        H.set(i, i - 2, 0);\n        if (i > m + 2) {\n          H.set(i, i - 3, 0);\n        }\n      }\n\n      for (k = m; k <= n - 1; k++) {\n        notlast = k !== n - 1;\n        if (k !== m) {\n          p = H.get(k, k - 1);\n          q = H.get(k + 1, k - 1);\n          r = notlast ? H.get(k + 2, k - 1) : 0;\n          x = Math.abs(p) + Math.abs(q) + Math.abs(r);\n          if (x !== 0) {\n            p = p / x;\n            q = q / x;\n            r = r / x;\n          }\n        }\n\n        if (x === 0) {\n          break;\n        }\n\n        s = Math.sqrt(p * p + q * q + r * r);\n        if (p < 0) {\n          s = -s;\n        }\n\n        if (s !== 0) {\n          if (k !== m) {\n            H.set(k, k - 1, -s * x);\n          } else if (l !== m) {\n            H.set(k, k - 1, -H.get(k, k - 1));\n          }\n\n          p = p + s;\n          x = p / s;\n          y = q / s;\n          z = r / s;\n          q = q / p;\n          r = r / p;\n\n          for (j = k; j < nn; j++) {\n            p = H.get(k, j) + q * H.get(k + 1, j);\n            if (notlast) {\n              p = p + r * H.get(k + 2, j);\n              H.set(k + 2, j, H.get(k + 2, j) - p * z);\n            }\n\n            H.set(k, j, H.get(k, j) - p * x);\n            H.set(k + 1, j, H.get(k + 1, j) - p * y);\n          }\n\n          for (i = 0; i <= Math.min(n, k + 3); i++) {\n            p = x * H.get(i, k) + y * H.get(i, k + 1);\n            if (notlast) {\n              p = p + z * H.get(i, k + 2);\n              H.set(i, k + 2, H.get(i, k + 2) - p * r);\n            }\n\n            H.set(i, k, H.get(i, k) - p);\n            H.set(i, k + 1, H.get(i, k + 1) - p * q);\n          }\n\n          for (i = low; i <= high; i++) {\n            p = x * V.get(i, k) + y * V.get(i, k + 1);\n            if (notlast) {\n              p = p + z * V.get(i, k + 2);\n              V.set(i, k + 2, V.get(i, k + 2) - p * r);\n            }\n\n            V.set(i, k, V.get(i, k) - p);\n            V.set(i, k + 1, V.get(i, k + 1) - p * q);\n          }\n        }\n      }\n    }\n  }\n\n  if (norm === 0) {\n    return;\n  }\n\n  for (n = nn - 1; n >= 0; n--) {\n    p = d[n];\n    q = e[n];\n\n    if (q === 0) {\n      l = n;\n      H.set(n, n, 1);\n      for (i = n - 1; i >= 0; i--) {\n        w = H.get(i, i) - p;\n        r = 0;\n        for (j = l; j <= n; j++) {\n          r = r + H.get(i, j) * H.get(j, n);\n        }\n\n        if (e[i] < 0) {\n          z = w;\n          s = r;\n        } else {\n          l = i;\n          if (e[i] === 0) {\n            H.set(i, n, w !== 0 ? -r / w : -r / (eps * norm));\n          } else {\n            x = H.get(i, i + 1);\n            y = H.get(i + 1, i);\n            q = (d[i] - p) * (d[i] - p) + e[i] * e[i];\n            t = (x * s - z * r) / q;\n            H.set(i, n, t);\n            H.set(\n              i + 1,\n              n,\n              Math.abs(x) > Math.abs(z) ? (-r - w * t) / x : (-s - y * t) / z,\n            );\n          }\n\n          t = Math.abs(H.get(i, n));\n          if (eps * t * t > 1) {\n            for (j = i; j <= n; j++) {\n              H.set(j, n, H.get(j, n) / t);\n            }\n          }\n        }\n      }\n    } else if (q < 0) {\n      l = n - 1;\n\n      if (Math.abs(H.get(n, n - 1)) > Math.abs(H.get(n - 1, n))) {\n        H.set(n - 1, n - 1, q / H.get(n, n - 1));\n        H.set(n - 1, n, -(H.get(n, n) - p) / H.get(n, n - 1));\n      } else {\n        cdivres = cdiv(0, -H.get(n - 1, n), H.get(n - 1, n - 1) - p, q);\n        H.set(n - 1, n - 1, cdivres[0]);\n        H.set(n - 1, n, cdivres[1]);\n      }\n\n      H.set(n, n - 1, 0);\n      H.set(n, n, 1);\n      for (i = n - 2; i >= 0; i--) {\n        ra = 0;\n        sa = 0;\n        for (j = l; j <= n; j++) {\n          ra = ra + H.get(i, j) * H.get(j, n - 1);\n          sa = sa + H.get(i, j) * H.get(j, n);\n        }\n\n        w = H.get(i, i) - p;\n\n        if (e[i] < 0) {\n          z = w;\n          r = ra;\n          s = sa;\n        } else {\n          l = i;\n          if (e[i] === 0) {\n            cdivres = cdiv(-ra, -sa, w, q);\n            H.set(i, n - 1, cdivres[0]);\n            H.set(i, n, cdivres[1]);\n          } else {\n            x = H.get(i, i + 1);\n            y = H.get(i + 1, i);\n            vr = (d[i] - p) * (d[i] - p) + e[i] * e[i] - q * q;\n            vi = (d[i] - p) * 2 * q;\n            if (vr === 0 && vi === 0) {\n              vr =\n                eps *\n                norm *\n                (Math.abs(w) +\n                  Math.abs(q) +\n                  Math.abs(x) +\n                  Math.abs(y) +\n                  Math.abs(z));\n            }\n            cdivres = cdiv(\n              x * r - z * ra + q * sa,\n              x * s - z * sa - q * ra,\n              vr,\n              vi,\n            );\n            H.set(i, n - 1, cdivres[0]);\n            H.set(i, n, cdivres[1]);\n            if (Math.abs(x) > Math.abs(z) + Math.abs(q)) {\n              H.set(\n                i + 1,\n                n - 1,\n                (-ra - w * H.get(i, n - 1) + q * H.get(i, n)) / x,\n              );\n              H.set(\n                i + 1,\n                n,\n                (-sa - w * H.get(i, n) - q * H.get(i, n - 1)) / x,\n              );\n            } else {\n              cdivres = cdiv(\n                -r - y * H.get(i, n - 1),\n                -s - y * H.get(i, n),\n                z,\n                q,\n              );\n              H.set(i + 1, n - 1, cdivres[0]);\n              H.set(i + 1, n, cdivres[1]);\n            }\n          }\n\n          t = Math.max(Math.abs(H.get(i, n - 1)), Math.abs(H.get(i, n)));\n          if (eps * t * t > 1) {\n            for (j = i; j <= n; j++) {\n              H.set(j, n - 1, H.get(j, n - 1) / t);\n              H.set(j, n, H.get(j, n) / t);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  for (i = 0; i < nn; i++) {\n    if (i < low || i > high) {\n      for (j = i; j < nn; j++) {\n        V.set(i, j, H.get(i, j));\n      }\n    }\n  }\n\n  for (j = nn - 1; j >= low; j--) {\n    for (i = low; i <= high; i++) {\n      z = 0;\n      for (k = low; k <= Math.min(j, high); k++) {\n        z = z + V.get(i, k) * H.get(k, j);\n      }\n      V.set(i, j, z);\n    }\n  }\n}\n\nfunction cdiv(xr, xi, yr, yi) {\n  let r, d;\n  if (Math.abs(yr) > Math.abs(yi)) {\n    r = yi / yr;\n    d = yr + r * yi;\n    return [(xr + r * xi) / d, (xi - r * xr) / d];\n  } else {\n    r = yr / yi;\n    d = yi + r * yr;\n    return [(r * xr + xi) / d, (r * xi - xr) / d];\n  }\n}\n\nclass CholeskyDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n    if (!value.isSymmetric()) {\n      throw new Error('Matrix is not symmetric');\n    }\n\n    let a = value;\n    let dimension = a.rows;\n    let l = new Matrix(dimension, dimension);\n    let positiveDefinite = true;\n    let i, j, k;\n\n    for (j = 0; j < dimension; j++) {\n      let d = 0;\n      for (k = 0; k < j; k++) {\n        let s = 0;\n        for (i = 0; i < k; i++) {\n          s += l.get(k, i) * l.get(j, i);\n        }\n        s = (a.get(j, k) - s) / l.get(k, k);\n        l.set(j, k, s);\n        d = d + s * s;\n      }\n\n      d = a.get(j, j) - d;\n\n      positiveDefinite &= d > 0;\n      l.set(j, j, Math.sqrt(Math.max(d, 0)));\n      for (k = j + 1; k < dimension; k++) {\n        l.set(j, k, 0);\n      }\n    }\n\n    this.L = l;\n    this.positiveDefinite = Boolean(positiveDefinite);\n  }\n\n  isPositiveDefinite() {\n    return this.positiveDefinite;\n  }\n\n  solve(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let l = this.L;\n    let dimension = l.rows;\n\n    if (value.rows !== dimension) {\n      throw new Error('Matrix dimensions do not match');\n    }\n    if (this.isPositiveDefinite() === false) {\n      throw new Error('Matrix is not positive definite');\n    }\n\n    let count = value.columns;\n    let B = value.clone();\n    let i, j, k;\n\n    for (k = 0; k < dimension; k++) {\n      for (j = 0; j < count; j++) {\n        for (i = 0; i < k; i++) {\n          B.set(k, j, B.get(k, j) - B.get(i, j) * l.get(k, i));\n        }\n        B.set(k, j, B.get(k, j) / l.get(k, k));\n      }\n    }\n\n    for (k = dimension - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        for (i = k + 1; i < dimension; i++) {\n          B.set(k, j, B.get(k, j) - B.get(i, j) * l.get(i, k));\n        }\n        B.set(k, j, B.get(k, j) / l.get(k, k));\n      }\n    }\n\n    return B;\n  }\n\n  get lowerTriangularMatrix() {\n    return this.L;\n  }\n}\n\nclass nipals {\n  constructor(X, options = {}) {\n    X = WrapperMatrix2D.checkMatrix(X);\n    let { Y } = options;\n    const {\n      scaleScores = false,\n      maxIterations = 1000,\n      terminationCriteria = 1e-10,\n    } = options;\n\n    let u;\n    if (Y) {\n      if (isAnyArray.isAnyArray(Y) && typeof Y[0] === 'number') {\n        Y = Matrix.columnVector(Y);\n      } else {\n        Y = WrapperMatrix2D.checkMatrix(Y);\n      }\n      if (Y.rows !== X.rows) {\n        throw new Error('Y should have the same number of rows as X');\n      }\n      u = Y.getColumnVector(0);\n    } else {\n      u = X.getColumnVector(0);\n    }\n\n    let diff = 1;\n    let t, q, w, tOld;\n\n    for (\n      let counter = 0;\n      counter < maxIterations && diff > terminationCriteria;\n      counter++\n    ) {\n      w = X.transpose().mmul(u).div(u.transpose().mmul(u).get(0, 0));\n      w = w.div(w.norm());\n\n      t = X.mmul(w).div(w.transpose().mmul(w).get(0, 0));\n\n      if (counter > 0) {\n        diff = t.clone().sub(tOld).pow(2).sum();\n      }\n      tOld = t.clone();\n\n      if (Y) {\n        q = Y.transpose().mmul(t).div(t.transpose().mmul(t).get(0, 0));\n        q = q.div(q.norm());\n\n        u = Y.mmul(q).div(q.transpose().mmul(q).get(0, 0));\n      } else {\n        u = t;\n      }\n    }\n\n    if (Y) {\n      let p = X.transpose().mmul(t).div(t.transpose().mmul(t).get(0, 0));\n      p = p.div(p.norm());\n      let xResidual = X.clone().sub(t.clone().mmul(p.transpose()));\n      let residual = u.transpose().mmul(t).div(t.transpose().mmul(t).get(0, 0));\n      let yResidual = Y.clone().sub(\n        t.clone().mulS(residual.get(0, 0)).mmul(q.transpose()),\n      );\n\n      this.t = t;\n      this.p = p.transpose();\n      this.w = w.transpose();\n      this.q = q;\n      this.u = u;\n      this.s = t.transpose().mmul(t);\n      this.xResidual = xResidual;\n      this.yResidual = yResidual;\n      this.betas = residual;\n    } else {\n      this.w = w.transpose();\n      this.s = t.transpose().mmul(t).sqrt();\n      if (scaleScores) {\n        this.t = t.clone().div(this.s.get(0, 0));\n      } else {\n        this.t = t;\n      }\n      this.xResidual = X.sub(t.mmul(w.transpose()));\n    }\n  }\n}\n\nexports.AbstractMatrix = AbstractMatrix;\nexports.CHO = CholeskyDecomposition;\nexports.CholeskyDecomposition = CholeskyDecomposition;\nexports.DistanceMatrix = DistanceMatrix;\nexports.EVD = EigenvalueDecomposition;\nexports.EigenvalueDecomposition = EigenvalueDecomposition;\nexports.LU = LuDecomposition;\nexports.LuDecomposition = LuDecomposition;\nexports.Matrix = Matrix;\nexports.MatrixColumnSelectionView = MatrixColumnSelectionView;\nexports.MatrixColumnView = MatrixColumnView;\nexports.MatrixFlipColumnView = MatrixFlipColumnView;\nexports.MatrixFlipRowView = MatrixFlipRowView;\nexports.MatrixRowSelectionView = MatrixRowSelectionView;\nexports.MatrixRowView = MatrixRowView;\nexports.MatrixSelectionView = MatrixSelectionView;\nexports.MatrixSubView = MatrixSubView;\nexports.MatrixTransposeView = MatrixTransposeView;\nexports.NIPALS = nipals;\nexports.Nipals = nipals;\nexports.QR = QrDecomposition;\nexports.QrDecomposition = QrDecomposition;\nexports.SVD = SingularValueDecomposition;\nexports.SingularValueDecomposition = SingularValueDecomposition;\nexports.SymmetricMatrix = SymmetricMatrix;\nexports.WrapperMatrix1D = WrapperMatrix1D;\nexports.WrapperMatrix2D = WrapperMatrix2D;\nexports.correlation = correlation;\nexports.covariance = covariance;\nexports.default = Matrix;\nexports.determinant = determinant;\nexports.inverse = inverse;\nexports.linearDependencies = linearDependencies;\nexports.pseudoInverse = pseudoInverse;\nexports.solve = solve;\nexports.wrap = wrap;\n","module.exports = newArray\n\nfunction newArray (n, value) {\n  n = n || 0\n  var array = new Array(n)\n  for (var i = 0; i < n; i++) {\n    array[i] = value\n  }\n  return array\n}\n","module.exports = nextPowerOfTwo\n\nfunction nextPowerOfTwo (n) {\n  if (n === 0) return 1\n  n--\n  n |= n >> 1\n  n |= n >> 2\n  n |= n >> 4\n  n |= n >> 8\n  n |= n >> 16\n  return n+1\n}","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","\"use strict\"\n\nvar twoProduct = require(\"two-product\")\nvar robustSum = require(\"robust-sum\")\nvar robustScale = require(\"robust-scale\")\nvar robustSubtract = require(\"robust-subtract\")\n\nvar NUM_EXPAND = 5\n\nvar EPSILON     = 1.1102230246251565e-16\nvar ERRBOUND3   = (3.0 + 16.0 * EPSILON) * EPSILON\nvar ERRBOUND4   = (7.0 + 56.0 * EPSILON) * EPSILON\n\nfunction orientation_3(sum, prod, scale, sub) {\n  return function orientation3Exact(m0, m1, m2) {\n    var p = sum(sum(prod(m1[1], m2[0]), prod(-m2[1], m1[0])), sum(prod(m0[1], m1[0]), prod(-m1[1], m0[0])))\n    var n = sum(prod(m0[1], m2[0]), prod(-m2[1], m0[0]))\n    var d = sub(p, n)\n    return d[d.length - 1]\n  }\n}\n\nfunction orientation_4(sum, prod, scale, sub) {\n  return function orientation4Exact(m0, m1, m2, m3) {\n    var p = sum(sum(scale(sum(prod(m2[1], m3[0]), prod(-m3[1], m2[0])), m1[2]), sum(scale(sum(prod(m1[1], m3[0]), prod(-m3[1], m1[0])), -m2[2]), scale(sum(prod(m1[1], m2[0]), prod(-m2[1], m1[0])), m3[2]))), sum(scale(sum(prod(m1[1], m3[0]), prod(-m3[1], m1[0])), m0[2]), sum(scale(sum(prod(m0[1], m3[0]), prod(-m3[1], m0[0])), -m1[2]), scale(sum(prod(m0[1], m1[0]), prod(-m1[1], m0[0])), m3[2]))))\n    var n = sum(sum(scale(sum(prod(m2[1], m3[0]), prod(-m3[1], m2[0])), m0[2]), sum(scale(sum(prod(m0[1], m3[0]), prod(-m3[1], m0[0])), -m2[2]), scale(sum(prod(m0[1], m2[0]), prod(-m2[1], m0[0])), m3[2]))), sum(scale(sum(prod(m1[1], m2[0]), prod(-m2[1], m1[0])), m0[2]), sum(scale(sum(prod(m0[1], m2[0]), prod(-m2[1], m0[0])), -m1[2]), scale(sum(prod(m0[1], m1[0]), prod(-m1[1], m0[0])), m2[2]))))\n    var d = sub(p, n)\n    return d[d.length - 1]\n  }\n}\n\nfunction orientation_5(sum, prod, scale, sub) {\n  return function orientation5Exact(m0, m1, m2, m3, m4) {\n    var p = sum(sum(sum(scale(sum(scale(sum(prod(m3[1], m4[0]), prod(-m4[1], m3[0])), m2[2]), sum(scale(sum(prod(m2[1], m4[0]), prod(-m4[1], m2[0])), -m3[2]), scale(sum(prod(m2[1], m3[0]), prod(-m3[1], m2[0])), m4[2]))), m1[3]), sum(scale(sum(scale(sum(prod(m3[1], m4[0]), prod(-m4[1], m3[0])), m1[2]), sum(scale(sum(prod(m1[1], m4[0]), prod(-m4[1], m1[0])), -m3[2]), scale(sum(prod(m1[1], m3[0]), prod(-m3[1], m1[0])), m4[2]))), -m2[3]), scale(sum(scale(sum(prod(m2[1], m4[0]), prod(-m4[1], m2[0])), m1[2]), sum(scale(sum(prod(m1[1], m4[0]), prod(-m4[1], m1[0])), -m2[2]), scale(sum(prod(m1[1], m2[0]), prod(-m2[1], m1[0])), m4[2]))), m3[3]))), sum(scale(sum(scale(sum(prod(m2[1], m3[0]), prod(-m3[1], m2[0])), m1[2]), sum(scale(sum(prod(m1[1], m3[0]), prod(-m3[1], m1[0])), -m2[2]), scale(sum(prod(m1[1], m2[0]), prod(-m2[1], m1[0])), m3[2]))), -m4[3]), sum(scale(sum(scale(sum(prod(m3[1], m4[0]), prod(-m4[1], m3[0])), m1[2]), sum(scale(sum(prod(m1[1], m4[0]), prod(-m4[1], m1[0])), -m3[2]), scale(sum(prod(m1[1], m3[0]), prod(-m3[1], m1[0])), m4[2]))), m0[3]), scale(sum(scale(sum(prod(m3[1], m4[0]), prod(-m4[1], m3[0])), m0[2]), sum(scale(sum(prod(m0[1], m4[0]), prod(-m4[1], m0[0])), -m3[2]), scale(sum(prod(m0[1], m3[0]), prod(-m3[1], m0[0])), m4[2]))), -m1[3])))), sum(sum(scale(sum(scale(sum(prod(m1[1], m4[0]), prod(-m4[1], m1[0])), m0[2]), sum(scale(sum(prod(m0[1], m4[0]), prod(-m4[1], m0[0])), -m1[2]), scale(sum(prod(m0[1], m1[0]), prod(-m1[1], m0[0])), m4[2]))), m3[3]), sum(scale(sum(scale(sum(prod(m1[1], m3[0]), prod(-m3[1], m1[0])), m0[2]), sum(scale(sum(prod(m0[1], m3[0]), prod(-m3[1], m0[0])), -m1[2]), scale(sum(prod(m0[1], m1[0]), prod(-m1[1], m0[0])), m3[2]))), -m4[3]), scale(sum(scale(sum(prod(m2[1], m3[0]), prod(-m3[1], m2[0])), m1[2]), sum(scale(sum(prod(m1[1], m3[0]), prod(-m3[1], m1[0])), -m2[2]), scale(sum(prod(m1[1], m2[0]), prod(-m2[1], m1[0])), m3[2]))), m0[3]))), sum(scale(sum(scale(sum(prod(m2[1], m3[0]), prod(-m3[1], m2[0])), m0[2]), sum(scale(sum(prod(m0[1], m3[0]), prod(-m3[1], m0[0])), -m2[2]), scale(sum(prod(m0[1], m2[0]), prod(-m2[1], m0[0])), m3[2]))), -m1[3]), sum(scale(sum(scale(sum(prod(m1[1], m3[0]), prod(-m3[1], m1[0])), m0[2]), sum(scale(sum(prod(m0[1], m3[0]), prod(-m3[1], m0[0])), -m1[2]), scale(sum(prod(m0[1], m1[0]), prod(-m1[1], m0[0])), m3[2]))), m2[3]), scale(sum(scale(sum(prod(m1[1], m2[0]), prod(-m2[1], m1[0])), m0[2]), sum(scale(sum(prod(m0[1], m2[0]), prod(-m2[1], m0[0])), -m1[2]), scale(sum(prod(m0[1], m1[0]), prod(-m1[1], m0[0])), m2[2]))), -m3[3])))))\n    var n = sum(sum(sum(scale(sum(scale(sum(prod(m3[1], m4[0]), prod(-m4[1], m3[0])), m2[2]), sum(scale(sum(prod(m2[1], m4[0]), prod(-m4[1], m2[0])), -m3[2]), scale(sum(prod(m2[1], m3[0]), prod(-m3[1], m2[0])), m4[2]))), m0[3]), scale(sum(scale(sum(prod(m3[1], m4[0]), prod(-m4[1], m3[0])), m0[2]), sum(scale(sum(prod(m0[1], m4[0]), prod(-m4[1], m0[0])), -m3[2]), scale(sum(prod(m0[1], m3[0]), prod(-m3[1], m0[0])), m4[2]))), -m2[3])), sum(scale(sum(scale(sum(prod(m2[1], m4[0]), prod(-m4[1], m2[0])), m0[2]), sum(scale(sum(prod(m0[1], m4[0]), prod(-m4[1], m0[0])), -m2[2]), scale(sum(prod(m0[1], m2[0]), prod(-m2[1], m0[0])), m4[2]))), m3[3]), scale(sum(scale(sum(prod(m2[1], m3[0]), prod(-m3[1], m2[0])), m0[2]), sum(scale(sum(prod(m0[1], m3[0]), prod(-m3[1], m0[0])), -m2[2]), scale(sum(prod(m0[1], m2[0]), prod(-m2[1], m0[0])), m3[2]))), -m4[3]))), sum(sum(scale(sum(scale(sum(prod(m2[1], m4[0]), prod(-m4[1], m2[0])), m1[2]), sum(scale(sum(prod(m1[1], m4[0]), prod(-m4[1], m1[0])), -m2[2]), scale(sum(prod(m1[1], m2[0]), prod(-m2[1], m1[0])), m4[2]))), m0[3]), scale(sum(scale(sum(prod(m2[1], m4[0]), prod(-m4[1], m2[0])), m0[2]), sum(scale(sum(prod(m0[1], m4[0]), prod(-m4[1], m0[0])), -m2[2]), scale(sum(prod(m0[1], m2[0]), prod(-m2[1], m0[0])), m4[2]))), -m1[3])), sum(scale(sum(scale(sum(prod(m1[1], m4[0]), prod(-m4[1], m1[0])), m0[2]), sum(scale(sum(prod(m0[1], m4[0]), prod(-m4[1], m0[0])), -m1[2]), scale(sum(prod(m0[1], m1[0]), prod(-m1[1], m0[0])), m4[2]))), m2[3]), scale(sum(scale(sum(prod(m1[1], m2[0]), prod(-m2[1], m1[0])), m0[2]), sum(scale(sum(prod(m0[1], m2[0]), prod(-m2[1], m0[0])), -m1[2]), scale(sum(prod(m0[1], m1[0]), prod(-m1[1], m0[0])), m2[2]))), -m4[3]))))\n    var d = sub(p, n)\n    return d[d.length - 1]\n  }\n}\n\nfunction orientation(n) {\n  var fn =\n    n === 3 ? orientation_3 :\n    n === 4 ? orientation_4 : orientation_5\n\n  return fn(robustSum, twoProduct, robustScale, robustSubtract)\n}\n\nvar orientation3Exact = orientation(3)\nvar orientation4Exact = orientation(4)\n\nvar CACHED = [\n  function orientation0() { return 0 },\n  function orientation1() { return 0 },\n  function orientation2(a, b) {\n    return b[0] - a[0]\n  },\n  function orientation3(a, b, c) {\n    var l = (a[1] - c[1]) * (b[0] - c[0])\n    var r = (a[0] - c[0]) * (b[1] - c[1])\n    var det = l - r\n    var s\n    if(l > 0) {\n      if(r <= 0) {\n        return det\n      } else {\n        s = l + r\n      }\n    } else if(l < 0) {\n      if(r >= 0) {\n        return det\n      } else {\n        s = -(l + r)\n      }\n    } else {\n      return det\n    }\n    var tol = ERRBOUND3 * s\n    if(det >= tol || det <= -tol) {\n      return det\n    }\n    return orientation3Exact(a, b, c)\n  },\n  function orientation4(a,b,c,d) {\n    var adx = a[0] - d[0]\n    var bdx = b[0] - d[0]\n    var cdx = c[0] - d[0]\n    var ady = a[1] - d[1]\n    var bdy = b[1] - d[1]\n    var cdy = c[1] - d[1]\n    var adz = a[2] - d[2]\n    var bdz = b[2] - d[2]\n    var cdz = c[2] - d[2]\n    var bdxcdy = bdx * cdy\n    var cdxbdy = cdx * bdy\n    var cdxady = cdx * ady\n    var adxcdy = adx * cdy\n    var adxbdy = adx * bdy\n    var bdxady = bdx * ady\n    var det = adz * (bdxcdy - cdxbdy)\n            + bdz * (cdxady - adxcdy)\n            + cdz * (adxbdy - bdxady)\n    var permanent = (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz)\n                  + (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz)\n                  + (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz)\n    var tol = ERRBOUND4 * permanent\n    if ((det > tol) || (-det > tol)) {\n      return det\n    }\n    return orientation4Exact(a,b,c,d)\n  }\n]\n\nfunction slowOrient(args) {\n  var proc = CACHED[args.length]\n  if(!proc) {\n    proc = CACHED[args.length] = orientation(args.length)\n  }\n  return proc.apply(undefined, args)\n}\n\nfunction proc (slow, o0, o1, o2, o3, o4, o5) {\n  return function getOrientation(a0, a1, a2, a3, a4) {\n    switch (arguments.length) {\n      case 0:\n      case 1:\n        return 0;\n      case 2:\n        return o2(a0, a1)\n      case 3:\n        return o3(a0, a1, a2)\n      case 4:\n        return o4(a0, a1, a2, a3)\n      case 5:\n        return o5(a0, a1, a2, a3, a4)\n    }\n\n    var s = new Array(arguments.length)\n    for (var i = 0; i < arguments.length; ++i) {\n      s[i] = arguments[i]\n    }\n    return slow(s)\n  }\n}\n\nfunction generateOrientationProc() {\n  while(CACHED.length <= NUM_EXPAND) {\n    CACHED.push(orientation(CACHED.length))\n  }\n  module.exports = proc.apply(undefined, [slowOrient].concat(CACHED))\n  for(var i=0; i<=NUM_EXPAND; ++i) {\n    module.exports[i] = CACHED[i]\n  }\n}\n\ngenerateOrientationProc()","module.exports = robustPointInPolygon\n\nvar orient = require('robust-orientation')\n\nfunction robustPointInPolygon(vs, point) {\n  var x = point[0]\n  var y = point[1]\n  var n = vs.length\n  var inside = 1\n  var lim = n\n  for(var i = 0, j = n-1; i<lim; j=i++) {\n    var a = vs[i]\n    var b = vs[j]\n    var yi = a[1]\n    var yj = b[1]\n    if(yj < yi) {\n      if(yj < y && y < yi) {\n        var s = orient(a, b, point)\n        if(s === 0) {\n          return 0\n        } else {\n          inside ^= (0 < s)|0\n        }\n      } else if(y === yi) {\n        var c = vs[(i+1)%n]\n        var yk = c[1]\n        if(yi < yk) {\n          var s = orient(a, b, point)\n          if(s === 0) {\n            return 0\n          } else {\n            inside ^= (0 < s)|0\n          }\n        }\n      }\n    } else if(yi < yj) {\n      if(yi < y && y < yj) {\n        var s = orient(a, b, point)\n        if(s === 0) {\n          return 0\n        } else {\n          inside ^= (s < 0)|0\n        }\n      } else if(y === yi) {\n        var c = vs[(i+1)%n]\n        var yk = c[1]\n        if(yk < yi) {\n          var s = orient(a, b, point)\n          if(s === 0) {\n            return 0\n          } else {\n            inside ^= (s < 0)|0\n          }\n        }\n      }\n    } else if(y === yi) {\n      var x0 = Math.min(a[0], b[0])\n      var x1 = Math.max(a[0], b[0])\n      if(i === 0) {\n        while(j>0) {\n          var k = (j+n-1)%n\n          var p = vs[k]\n          if(p[1] !== y) {\n            break\n          }\n          var px = p[0]\n          x0 = Math.min(x0, px)\n          x1 = Math.max(x1, px)\n          j = k\n        }\n        if(j === 0) {\n          if(x0 <= x && x <= x1) {\n            return 0\n          }\n          return 1 \n        }\n        lim = j+1\n      }\n      var y0 = vs[(j+n-1)%n][1]\n      while(i+1<lim) {\n        var p = vs[i+1]\n        if(p[1] !== y) {\n          break\n        }\n        var px = p[0]\n        x0 = Math.min(x0, px)\n        x1 = Math.max(x1, px)\n        i += 1\n      }\n      if(x0 <= x && x <= x1) {\n        return 0\n      }\n      var y1 = vs[(i+1)%n][1]\n      if(x < x0 && (y0 < y !== y1 < y)) {\n        inside ^= 1\n      }\n    }\n  }\n  return 2 * inside - 1\n}","\"use strict\"\n\nvar twoProduct = require(\"two-product\")\nvar twoSum = require(\"two-sum\")\n\nmodule.exports = scaleLinearExpansion\n\nfunction scaleLinearExpansion(e, scale) {\n  var n = e.length\n  if(n === 1) {\n    var ts = twoProduct(e[0], scale)\n    if(ts[0]) {\n      return ts\n    }\n    return [ ts[1] ]\n  }\n  var g = new Array(2 * n)\n  var q = [0.1, 0.1]\n  var t = [0.1, 0.1]\n  var count = 0\n  twoProduct(e[0], scale, q)\n  if(q[0]) {\n    g[count++] = q[0]\n  }\n  for(var i=1; i<n; ++i) {\n    twoProduct(e[i], scale, t)\n    var pq = q[1]\n    twoSum(pq, t[0], q)\n    if(q[0]) {\n      g[count++] = q[0]\n    }\n    var a = t[1]\n    var b = q[1]\n    var x = a + b\n    var bv = x - a\n    var y = b - bv\n    q[1] = x\n    if(y) {\n      g[count++] = y\n    }\n  }\n  if(q[1]) {\n    g[count++] = q[1]\n  }\n  if(count === 0) {\n    g[count++] = 0.0\n  }\n  g.length = count\n  return g\n}","\"use strict\"\n\nmodule.exports = robustSubtract\n\n//Easy case: Add two scalars\nfunction scalarScalar(a, b) {\n  var x = a + b\n  var bv = x - a\n  var av = x - bv\n  var br = b - bv\n  var ar = a - av\n  var y = ar + br\n  if(y) {\n    return [y, x]\n  }\n  return [x]\n}\n\nfunction robustSubtract(e, f) {\n  var ne = e.length|0\n  var nf = f.length|0\n  if(ne === 1 && nf === 1) {\n    return scalarScalar(e[0], -f[0])\n  }\n  var n = ne + nf\n  var g = new Array(n)\n  var count = 0\n  var eptr = 0\n  var fptr = 0\n  var abs = Math.abs\n  var ei = e[eptr]\n  var ea = abs(ei)\n  var fi = -f[fptr]\n  var fa = abs(fi)\n  var a, b\n  if(ea < fa) {\n    b = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    b = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = -f[fptr]\n      fa = abs(fi)\n    }\n  }\n  if((eptr < ne && ea < fa) || (fptr >= nf)) {\n    a = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    a = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = -f[fptr]\n      fa = abs(fi)\n    }\n  }\n  var x = a + b\n  var bv = x - a\n  var y = b - bv\n  var q0 = y\n  var q1 = x\n  var _x, _bv, _av, _br, _ar\n  while(eptr < ne && fptr < nf) {\n    if(ea < fa) {\n      a = ei\n      eptr += 1\n      if(eptr < ne) {\n        ei = e[eptr]\n        ea = abs(ei)\n      }\n    } else {\n      a = fi\n      fptr += 1\n      if(fptr < nf) {\n        fi = -f[fptr]\n        fa = abs(fi)\n      }\n    }\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n  }\n  while(eptr < ne) {\n    a = ei\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n    }\n  }\n  while(fptr < nf) {\n    a = fi\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    } \n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    fptr += 1\n    if(fptr < nf) {\n      fi = -f[fptr]\n    }\n  }\n  if(q0) {\n    g[count++] = q0\n  }\n  if(q1) {\n    g[count++] = q1\n  }\n  if(!count) {\n    g[count++] = 0.0  \n  }\n  g.length = count\n  return g\n}","\"use strict\"\n\nmodule.exports = linearExpansionSum\n\n//Easy case: Add two scalars\nfunction scalarScalar(a, b) {\n  var x = a + b\n  var bv = x - a\n  var av = x - bv\n  var br = b - bv\n  var ar = a - av\n  var y = ar + br\n  if(y) {\n    return [y, x]\n  }\n  return [x]\n}\n\nfunction linearExpansionSum(e, f) {\n  var ne = e.length|0\n  var nf = f.length|0\n  if(ne === 1 && nf === 1) {\n    return scalarScalar(e[0], f[0])\n  }\n  var n = ne + nf\n  var g = new Array(n)\n  var count = 0\n  var eptr = 0\n  var fptr = 0\n  var abs = Math.abs\n  var ei = e[eptr]\n  var ea = abs(ei)\n  var fi = f[fptr]\n  var fa = abs(fi)\n  var a, b\n  if(ea < fa) {\n    b = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    b = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = f[fptr]\n      fa = abs(fi)\n    }\n  }\n  if((eptr < ne && ea < fa) || (fptr >= nf)) {\n    a = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    a = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = f[fptr]\n      fa = abs(fi)\n    }\n  }\n  var x = a + b\n  var bv = x - a\n  var y = b - bv\n  var q0 = y\n  var q1 = x\n  var _x, _bv, _av, _br, _ar\n  while(eptr < ne && fptr < nf) {\n    if(ea < fa) {\n      a = ei\n      eptr += 1\n      if(eptr < ne) {\n        ei = e[eptr]\n        ea = abs(ei)\n      }\n    } else {\n      a = fi\n      fptr += 1\n      if(fptr < nf) {\n        fi = f[fptr]\n        fa = abs(fi)\n      }\n    }\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n  }\n  while(eptr < ne) {\n    a = ei\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n    }\n  }\n  while(fptr < nf) {\n    a = fi\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    } \n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    fptr += 1\n    if(fptr < nf) {\n      fi = f[fptr]\n    }\n  }\n  if(q0) {\n    g[count++] = q0\n  }\n  if(q1) {\n    g[count++] = q1\n  }\n  if(!count) {\n    g[count++] = 0.0  \n  }\n  g.length = count\n  return g\n}","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"scrollLock\"] = factory();\n\telse\n\t\troot[\"scrollLock\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/tools.js\nvar argumentAsArray = function argumentAsArray(argument) {\n  return Array.isArray(argument) ? argument : [argument];\n};\nvar isElement = function isElement(target) {\n  return target instanceof Node;\n};\nvar isElementList = function isElementList(nodeList) {\n  return nodeList instanceof NodeList;\n};\nvar eachNode = function eachNode(nodeList, callback) {\n  if (nodeList && callback) {\n    nodeList = isElementList(nodeList) ? nodeList : [nodeList];\n\n    for (var i = 0; i < nodeList.length; i++) {\n      if (callback(nodeList[i], i, nodeList.length) === true) {\n        break;\n      }\n    }\n  }\n};\nvar throwError = function throwError(message) {\n  return console.error(\"[scroll-lock] \".concat(message));\n};\nvar arrayAsSelector = function arrayAsSelector(array) {\n  if (Array.isArray(array)) {\n    var selector = array.join(', ');\n    return selector;\n  }\n};\nvar nodeListAsArray = function nodeListAsArray(nodeList) {\n  var nodes = [];\n  eachNode(nodeList, function (node) {\n    return nodes.push(node);\n  });\n  return nodes;\n};\nvar findParentBySelector = function findParentBySelector($el, selector) {\n  var self = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var $root = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : document;\n\n  if (self && nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) !== -1) {\n    return $el;\n  }\n\n  while (($el = $el.parentElement) && nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) === -1) {\n    ;\n  }\n\n  return $el;\n};\nvar elementHasSelector = function elementHasSelector($el, selector) {\n  var $root = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  var has = nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) !== -1;\n  return has;\n};\nvar elementHasOverflowHidden = function elementHasOverflowHidden($el) {\n  if ($el) {\n    var computedStyle = getComputedStyle($el);\n    var overflowIsHidden = computedStyle.overflow === 'hidden';\n    return overflowIsHidden;\n  }\n};\nvar elementScrollTopOnStart = function elementScrollTopOnStart($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollTop = $el.scrollTop;\n    return scrollTop <= 0;\n  }\n};\nvar elementScrollTopOnEnd = function elementScrollTopOnEnd($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollTop = $el.scrollTop;\n    var scrollHeight = $el.scrollHeight;\n    var scrollTopWithHeight = scrollTop + $el.offsetHeight;\n    return scrollTopWithHeight >= scrollHeight;\n  }\n};\nvar elementScrollLeftOnStart = function elementScrollLeftOnStart($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollLeft = $el.scrollLeft;\n    return scrollLeft <= 0;\n  }\n};\nvar elementScrollLeftOnEnd = function elementScrollLeftOnEnd($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollLeft = $el.scrollLeft;\n    var scrollWidth = $el.scrollWidth;\n    var scrollLeftWithWidth = scrollLeft + $el.offsetWidth;\n    return scrollLeftWithWidth >= scrollWidth;\n  }\n};\nvar elementIsScrollableField = function elementIsScrollableField($el) {\n  var selector = 'textarea, [contenteditable=\"true\"]';\n  return elementHasSelector($el, selector);\n};\nvar elementIsInputRange = function elementIsInputRange($el) {\n  var selector = 'input[type=\"range\"]';\n  return elementHasSelector($el, selector);\n};\n// CONCATENATED MODULE: ./src/scroll-lock.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"disablePageScroll\", function() { return disablePageScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enablePageScroll\", function() { return enablePageScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollState\", function() { return getScrollState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearQueueScrollLocks\", function() { return clearQueueScrollLocks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTargetScrollBarWidth\", function() { return scroll_lock_getTargetScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentTargetScrollBarWidth\", function() { return scroll_lock_getCurrentTargetScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPageScrollBarWidth\", function() { return getPageScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentPageScrollBarWidth\", function() { return getCurrentPageScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addScrollableTarget\", function() { return scroll_lock_addScrollableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeScrollableTarget\", function() { return scroll_lock_removeScrollableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addScrollableSelector\", function() { return scroll_lock_addScrollableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeScrollableSelector\", function() { return scroll_lock_removeScrollableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLockableTarget\", function() { return scroll_lock_addLockableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLockableSelector\", function() { return scroll_lock_addLockableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFillGapMethod\", function() { return scroll_lock_setFillGapMethod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFillGapTarget\", function() { return scroll_lock_addFillGapTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFillGapTarget\", function() { return scroll_lock_removeFillGapTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFillGapSelector\", function() { return scroll_lock_addFillGapSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFillGapSelector\", function() { return scroll_lock_removeFillGapSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"refillGaps\", function() { return refillGaps; });\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar FILL_GAP_AVAILABLE_METHODS = ['padding', 'margin', 'width', 'max-width', 'none'];\nvar TOUCH_DIRECTION_DETECT_OFFSET = 3;\nvar state = {\n  scroll: true,\n  queue: 0,\n  scrollableSelectors: ['[data-scroll-lock-scrollable]'],\n  lockableSelectors: ['body', '[data-scroll-lock-lockable]'],\n  fillGapSelectors: ['body', '[data-scroll-lock-fill-gap]', '[data-scroll-lock-lockable]'],\n  fillGapMethod: FILL_GAP_AVAILABLE_METHODS[0],\n  //\n  startTouchY: 0,\n  startTouchX: 0\n};\nvar disablePageScroll = function disablePageScroll(target) {\n  if (state.queue <= 0) {\n    state.scroll = false;\n    scroll_lock_hideLockableOverflow();\n    fillGaps();\n  }\n\n  scroll_lock_addScrollableTarget(target);\n  state.queue++;\n};\nvar enablePageScroll = function enablePageScroll(target) {\n  state.queue > 0 && state.queue--;\n\n  if (state.queue <= 0) {\n    state.scroll = true;\n    scroll_lock_showLockableOverflow();\n    unfillGaps();\n  }\n\n  scroll_lock_removeScrollableTarget(target);\n};\nvar getScrollState = function getScrollState() {\n  return state.scroll;\n};\nvar clearQueueScrollLocks = function clearQueueScrollLocks() {\n  state.queue = 0;\n};\nvar scroll_lock_getTargetScrollBarWidth = function getTargetScrollBarWidth($target) {\n  var onlyExists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isElement($target)) {\n    var currentOverflowYProperty = $target.style.overflowY;\n\n    if (onlyExists) {\n      if (!getScrollState()) {\n        $target.style.overflowY = $target.getAttribute('data-scroll-lock-saved-overflow-y-property');\n      }\n    } else {\n      $target.style.overflowY = 'scroll';\n    }\n\n    var width = scroll_lock_getCurrentTargetScrollBarWidth($target);\n    $target.style.overflowY = currentOverflowYProperty;\n    return width;\n  } else {\n    return 0;\n  }\n};\nvar scroll_lock_getCurrentTargetScrollBarWidth = function getCurrentTargetScrollBarWidth($target) {\n  if (isElement($target)) {\n    if ($target === document.body) {\n      var documentWidth = document.documentElement.clientWidth;\n      var windowWidth = window.innerWidth;\n      var currentWidth = windowWidth - documentWidth;\n      return currentWidth;\n    } else {\n      var borderLeftWidthCurrentProperty = $target.style.borderLeftWidth;\n      var borderRightWidthCurrentProperty = $target.style.borderRightWidth;\n      $target.style.borderLeftWidth = '0px';\n      $target.style.borderRightWidth = '0px';\n\n      var _currentWidth = $target.offsetWidth - $target.clientWidth;\n\n      $target.style.borderLeftWidth = borderLeftWidthCurrentProperty;\n      $target.style.borderRightWidth = borderRightWidthCurrentProperty;\n      return _currentWidth;\n    }\n  } else {\n    return 0;\n  }\n};\nvar getPageScrollBarWidth = function getPageScrollBarWidth() {\n  var onlyExists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return scroll_lock_getTargetScrollBarWidth(document.body, onlyExists);\n};\nvar getCurrentPageScrollBarWidth = function getCurrentPageScrollBarWidth() {\n  return scroll_lock_getCurrentTargetScrollBarWidth(document.body);\n};\nvar scroll_lock_addScrollableTarget = function addScrollableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-scrollable', '');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_removeScrollableTarget = function removeScrollableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.removeAttribute('data-scroll-lock-scrollable');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_addScrollableSelector = function addScrollableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.scrollableSelectors.push(selector);\n    });\n  }\n};\nvar scroll_lock_removeScrollableSelector = function removeScrollableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.scrollableSelectors = state.scrollableSelectors.filter(function (sSelector) {\n        return sSelector !== selector;\n      });\n    });\n  }\n};\nvar scroll_lock_addLockableTarget = function addLockableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-lockable', '');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n\n    if (!getScrollState()) {\n      scroll_lock_hideLockableOverflow();\n    }\n  }\n};\nvar scroll_lock_addLockableSelector = function addLockableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.lockableSelectors.push(selector);\n    });\n\n    if (!getScrollState()) {\n      scroll_lock_hideLockableOverflow();\n    }\n\n    scroll_lock_addFillGapSelector(selector);\n  }\n};\nvar scroll_lock_setFillGapMethod = function setFillGapMethod(method) {\n  if (method) {\n    if (FILL_GAP_AVAILABLE_METHODS.indexOf(method) !== -1) {\n      state.fillGapMethod = method;\n      refillGaps();\n    } else {\n      var methods = FILL_GAP_AVAILABLE_METHODS.join(', ');\n      throwError(\"\\\"\".concat(method, \"\\\" method is not available!\\nAvailable fill gap methods: \").concat(methods, \".\"));\n    }\n  }\n};\nvar scroll_lock_addFillGapTarget = function addFillGapTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-fill-gap', '');\n\n          if (!state.scroll) {\n            scroll_lock_fillGapTarget($target);\n          }\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_removeFillGapTarget = function removeFillGapTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.removeAttribute('data-scroll-lock-fill-gap');\n\n          if (!state.scroll) {\n            scroll_lock_unfillGapTarget($target);\n          }\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_addFillGapSelector = function addFillGapSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      if (state.fillGapSelectors.indexOf(selector) === -1) {\n        state.fillGapSelectors.push(selector);\n\n        if (!state.scroll) {\n          scroll_lock_fillGapSelector(selector);\n        }\n      }\n    });\n  }\n};\nvar scroll_lock_removeFillGapSelector = function removeFillGapSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.fillGapSelectors = state.fillGapSelectors.filter(function (fSelector) {\n        return fSelector !== selector;\n      });\n\n      if (!state.scroll) {\n        scroll_lock_unfillGapSelector(selector);\n      }\n    });\n  }\n};\nvar refillGaps = function refillGaps() {\n  if (!state.scroll) {\n    fillGaps();\n  }\n};\n\nvar scroll_lock_hideLockableOverflow = function hideLockableOverflow() {\n  var selector = arrayAsSelector(state.lockableSelectors);\n  scroll_lock_hideLockableOverflowSelector(selector);\n};\n\nvar scroll_lock_showLockableOverflow = function showLockableOverflow() {\n  var selector = arrayAsSelector(state.lockableSelectors);\n  scroll_lock_showLockableOverflowSelector(selector);\n};\n\nvar scroll_lock_hideLockableOverflowSelector = function hideLockableOverflowSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_hideLockableOverflowTarget($target);\n  });\n};\n\nvar scroll_lock_showLockableOverflowSelector = function showLockableOverflowSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_showLockableOverflowTarget($target);\n  });\n};\n\nvar scroll_lock_hideLockableOverflowTarget = function hideLockableOverflowTarget($target) {\n  if (isElement($target) && $target.getAttribute('data-scroll-lock-locked') !== 'true') {\n    var computedStyle = window.getComputedStyle($target);\n    $target.setAttribute('data-scroll-lock-saved-overflow-y-property', computedStyle.overflowY);\n    $target.setAttribute('data-scroll-lock-saved-inline-overflow-property', $target.style.overflow);\n    $target.setAttribute('data-scroll-lock-saved-inline-overflow-y-property', $target.style.overflowY);\n    $target.style.overflow = 'hidden';\n    $target.setAttribute('data-scroll-lock-locked', 'true');\n  }\n};\n\nvar scroll_lock_showLockableOverflowTarget = function showLockableOverflowTarget($target) {\n  if (isElement($target) && $target.getAttribute('data-scroll-lock-locked') === 'true') {\n    $target.style.overflow = $target.getAttribute('data-scroll-lock-saved-inline-overflow-property');\n    $target.style.overflowY = $target.getAttribute('data-scroll-lock-saved-inline-overflow-y-property');\n    $target.removeAttribute('data-scroll-lock-saved-overflow-property');\n    $target.removeAttribute('data-scroll-lock-saved-inline-overflow-property');\n    $target.removeAttribute('data-scroll-lock-saved-inline-overflow-y-property');\n    $target.removeAttribute('data-scroll-lock-locked');\n  }\n};\n\nvar fillGaps = function fillGaps() {\n  state.fillGapSelectors.map(function (selector) {\n    scroll_lock_fillGapSelector(selector);\n  });\n};\n\nvar unfillGaps = function unfillGaps() {\n  state.fillGapSelectors.map(function (selector) {\n    scroll_lock_unfillGapSelector(selector);\n  });\n};\n\nvar scroll_lock_fillGapSelector = function fillGapSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  var isLockable = state.lockableSelectors.indexOf(selector) !== -1;\n  eachNode($targets, function ($target) {\n    scroll_lock_fillGapTarget($target, isLockable);\n  });\n};\n\nvar scroll_lock_fillGapTarget = function fillGapTarget($target) {\n  var isLockable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isElement($target)) {\n    var scrollBarWidth;\n\n    if ($target.getAttribute('data-scroll-lock-lockable') === '' || isLockable) {\n      scrollBarWidth = scroll_lock_getTargetScrollBarWidth($target, true);\n    } else {\n      var $lockableParent = findParentBySelector($target, arrayAsSelector(state.lockableSelectors));\n      scrollBarWidth = scroll_lock_getTargetScrollBarWidth($lockableParent, true);\n    }\n\n    if ($target.getAttribute('data-scroll-lock-filled-gap') === 'true') {\n      scroll_lock_unfillGapTarget($target);\n    }\n\n    var computedStyle = window.getComputedStyle($target);\n    $target.setAttribute('data-scroll-lock-filled-gap', 'true');\n    $target.setAttribute('data-scroll-lock-current-fill-gap-method', state.fillGapMethod);\n\n    if (state.fillGapMethod === 'margin') {\n      var currentMargin = parseFloat(computedStyle.marginRight);\n      $target.style.marginRight = \"\".concat(currentMargin + scrollBarWidth, \"px\");\n    } else if (state.fillGapMethod === 'width') {\n      $target.style.width = \"calc(100% - \".concat(scrollBarWidth, \"px)\");\n    } else if (state.fillGapMethod === 'max-width') {\n      $target.style.maxWidth = \"calc(100% - \".concat(scrollBarWidth, \"px)\");\n    } else if (state.fillGapMethod === 'padding') {\n      var currentPadding = parseFloat(computedStyle.paddingRight);\n      $target.style.paddingRight = \"\".concat(currentPadding + scrollBarWidth, \"px\");\n    }\n  }\n};\n\nvar scroll_lock_unfillGapSelector = function unfillGapSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_unfillGapTarget($target);\n  });\n};\n\nvar scroll_lock_unfillGapTarget = function unfillGapTarget($target) {\n  if (isElement($target)) {\n    if ($target.getAttribute('data-scroll-lock-filled-gap') === 'true') {\n      var currentFillGapMethod = $target.getAttribute('data-scroll-lock-current-fill-gap-method');\n      $target.removeAttribute('data-scroll-lock-filled-gap');\n      $target.removeAttribute('data-scroll-lock-current-fill-gap-method');\n\n      if (currentFillGapMethod === 'margin') {\n        $target.style.marginRight = \"\";\n      } else if (currentFillGapMethod === 'width') {\n        $target.style.width = \"\";\n      } else if (currentFillGapMethod === 'max-width') {\n        $target.style.maxWidth = \"\";\n      } else if (currentFillGapMethod === 'padding') {\n        $target.style.paddingRight = \"\";\n      }\n    }\n  }\n};\n\nvar onResize = function onResize(e) {\n  refillGaps();\n};\n\nvar onTouchStart = function onTouchStart(e) {\n  if (!state.scroll) {\n    state.startTouchY = e.touches[0].clientY;\n    state.startTouchX = e.touches[0].clientX;\n  }\n};\n\nvar scroll_lock_onTouchMove = function onTouchMove(e) {\n  if (!state.scroll) {\n    var startTouchY = state.startTouchY,\n        startTouchX = state.startTouchX;\n    var currentClientY = e.touches[0].clientY;\n    var currentClientX = e.touches[0].clientX;\n\n    if (e.touches.length < 2) {\n      var selector = arrayAsSelector(state.scrollableSelectors);\n      var direction = {\n        up: startTouchY < currentClientY,\n        down: startTouchY > currentClientY,\n        left: startTouchX < currentClientX,\n        right: startTouchX > currentClientX\n      };\n      var directionWithOffset = {\n        up: startTouchY + TOUCH_DIRECTION_DETECT_OFFSET < currentClientY,\n        down: startTouchY - TOUCH_DIRECTION_DETECT_OFFSET > currentClientY,\n        left: startTouchX + TOUCH_DIRECTION_DETECT_OFFSET < currentClientX,\n        right: startTouchX - TOUCH_DIRECTION_DETECT_OFFSET > currentClientX\n      };\n\n      var handle = function handle($el) {\n        var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if ($el) {\n          var parentScrollableEl = findParentBySelector($el, selector, false);\n\n          if (elementIsInputRange($el)) {\n            return false;\n          }\n\n          if (skip || elementIsScrollableField($el) && findParentBySelector($el, selector) || elementHasSelector($el, selector)) {\n            var prevent = false;\n\n            if (elementScrollLeftOnStart($el) && elementScrollLeftOnEnd($el)) {\n              if (direction.up && elementScrollTopOnStart($el) || direction.down && elementScrollTopOnEnd($el)) {\n                prevent = true;\n              }\n            } else if (elementScrollTopOnStart($el) && elementScrollTopOnEnd($el)) {\n              if (direction.left && elementScrollLeftOnStart($el) || direction.right && elementScrollLeftOnEnd($el)) {\n                prevent = true;\n              }\n            } else if (directionWithOffset.up && elementScrollTopOnStart($el) || directionWithOffset.down && elementScrollTopOnEnd($el) || directionWithOffset.left && elementScrollLeftOnStart($el) || directionWithOffset.right && elementScrollLeftOnEnd($el)) {\n              prevent = true;\n            }\n\n            if (prevent) {\n              if (parentScrollableEl) {\n                handle(parentScrollableEl, true);\n              } else {\n                if (e.cancelable) {\n                  e.preventDefault();\n                }\n              }\n            }\n          } else {\n            handle(parentScrollableEl);\n          }\n        } else {\n          if (e.cancelable) {\n            e.preventDefault();\n          }\n        }\n      };\n\n      handle(e.target);\n    }\n  }\n};\n\nvar onTouchEnd = function onTouchEnd(e) {\n  if (!state.scroll) {\n    state.startTouchY = 0;\n    state.startTouchX = 0;\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.addEventListener('resize', onResize);\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('touchstart', onTouchStart);\n  document.addEventListener('touchmove', scroll_lock_onTouchMove, {\n    passive: false\n  });\n  document.addEventListener('touchend', onTouchEnd);\n}\n\nvar deprecatedMethods = {\n  hide: function hide(target) {\n    throwError('\"hide\" is deprecated! Use \"disablePageScroll\" instead. \\n https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget');\n    disablePageScroll(target);\n  },\n  show: function show(target) {\n    throwError('\"show\" is deprecated! Use \"enablePageScroll\" instead. \\n https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget');\n    enablePageScroll(target);\n  },\n  toggle: function toggle(target) {\n    throwError('\"toggle\" is deprecated! Do not use it.');\n\n    if (getScrollState()) {\n      disablePageScroll();\n    } else {\n      enablePageScroll(target);\n    }\n  },\n  getState: function getState() {\n    throwError('\"getState\" is deprecated! Use \"getScrollState\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getscrollstate');\n    return getScrollState();\n  },\n  getWidth: function getWidth() {\n    throwError('\"getWidth\" is deprecated! Use \"getPageScrollBarWidth\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth');\n    return getPageScrollBarWidth();\n  },\n  getCurrentWidth: function getCurrentWidth() {\n    throwError('\"getCurrentWidth\" is deprecated! Use \"getCurrentPageScrollBarWidth\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth');\n    return getCurrentPageScrollBarWidth();\n  },\n  setScrollableTargets: function setScrollableTargets(target) {\n    throwError('\"setScrollableTargets\" is deprecated! Use \"addScrollableTarget\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget');\n    scroll_lock_addScrollableTarget(target);\n  },\n  setFillGapSelectors: function setFillGapSelectors(selector) {\n    throwError('\"setFillGapSelectors\" is deprecated! Use \"addFillGapSelector\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector');\n    scroll_lock_addFillGapSelector(selector);\n  },\n  setFillGapTargets: function setFillGapTargets(target) {\n    throwError('\"setFillGapTargets\" is deprecated! Use \"addFillGapTarget\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget');\n    scroll_lock_addFillGapTarget(target);\n  },\n  clearQueue: function clearQueue() {\n    throwError('\"clearQueue\" is deprecated! Use \"clearQueueScrollLocks\" instead. \\n https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks');\n    clearQueueScrollLocks();\n  }\n};\n\nvar scrollLock = _objectSpread({\n  disablePageScroll: disablePageScroll,\n  enablePageScroll: enablePageScroll,\n  getScrollState: getScrollState,\n  clearQueueScrollLocks: clearQueueScrollLocks,\n  getTargetScrollBarWidth: scroll_lock_getTargetScrollBarWidth,\n  getCurrentTargetScrollBarWidth: scroll_lock_getCurrentTargetScrollBarWidth,\n  getPageScrollBarWidth: getPageScrollBarWidth,\n  getCurrentPageScrollBarWidth: getCurrentPageScrollBarWidth,\n  addScrollableSelector: scroll_lock_addScrollableSelector,\n  removeScrollableSelector: scroll_lock_removeScrollableSelector,\n  addScrollableTarget: scroll_lock_addScrollableTarget,\n  removeScrollableTarget: scroll_lock_removeScrollableTarget,\n  addLockableSelector: scroll_lock_addLockableSelector,\n  addLockableTarget: scroll_lock_addLockableTarget,\n  addFillGapSelector: scroll_lock_addFillGapSelector,\n  removeFillGapSelector: scroll_lock_removeFillGapSelector,\n  addFillGapTarget: scroll_lock_addFillGapTarget,\n  removeFillGapTarget: scroll_lock_removeFillGapTarget,\n  setFillGapMethod: scroll_lock_setFillGapMethod,\n  refillGaps: refillGaps,\n  _state: state\n}, deprecatedMethods);\n\n/* harmony default export */ var scroll_lock = __webpack_exports__[\"default\"] = (scrollLock);\n\n/***/ })\n/******/ ])[\"default\"];\n});","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","\"use strict\"\n\nmodule.exports = twoProduct\n\nvar SPLITTER = +(Math.pow(2, 27) + 1.0)\n\nfunction twoProduct(a, b, result) {\n  var x = a * b\n\n  var c = SPLITTER * a\n  var abig = c - a\n  var ahi = c - abig\n  var alo = a - ahi\n\n  var d = SPLITTER * b\n  var bbig = d - b\n  var bhi = d - bbig\n  var blo = b - bhi\n\n  var err1 = x - (ahi * bhi)\n  var err2 = err1 - (alo * bhi)\n  var err3 = err2 - (ahi * blo)\n\n  var y = alo * blo - err3\n\n  if(result) {\n    result[0] = y\n    result[1] = x\n    return result\n  }\n\n  return [ y, x ]\n}","\"use strict\"\n\nmodule.exports = fastTwoSum\n\nfunction fastTwoSum(a, b, result) {\n\tvar x = a + b\n\tvar bv = x - a\n\tvar av = x - bv\n\tvar br = b - bv\n\tvar ar = a - av\n\tif(result) {\n\t\tresult[0] = ar + br\n\t\tresult[1] = x\n\t\treturn result\n\t}\n\treturn [ar+br, x]\n}","'use strict';\n\nvar workerTemplate = require('./workerTemplate');\n\nvar CORES = navigator.hardwareConcurrency || 1;\n\nvar noop = Function.prototype;\n\nfunction WorkerManager(func, options) {\n    // Check arguments\n    if (typeof func !== 'string' && typeof func !== 'function')\n        throw new TypeError('func argument must be a function');\n    if (options === undefined)\n        options = {};\n    if (typeof options !== 'object' || options === null)\n        throw new TypeError('options argument must be an object');\n\n    this._workerCode = func.toString();\n\n    // Parse options\n    if (options.maxWorkers === undefined || options.maxWorkers === 'auto') {\n        this._numWorkers = Math.min(CORES - 1, 1);\n    } else if (options.maxWorkers > 0) {\n        this._numWorkers = Math.min(options.maxWorkers, CORES);\n    } else {\n        this._numWorkers = CORES;\n    }\n\n    this._workers = new Map();\n    this._timeout = options.timeout || 0;\n    this._terminateOnError = !!options.terminateOnError;\n\n    var deps = options.deps;\n    if (typeof deps === 'string')\n        deps = [deps];\n    if (!Array.isArray(deps))\n        deps = undefined;\n\n    this._id = 0;\n    this._terminated = false;\n    this._working = 0;\n    this._waiting = [];\n\n    this._init(deps);\n}\n\nWorkerManager.prototype._init = function (deps) {\n    var workerURL = workerTemplate.newWorkerURL(this._workerCode, deps);\n\n    for (var i = 0; i < this._numWorkers; i++) {\n        var worker = new Worker(workerURL);\n        worker.onmessage = this._onmessage.bind(this, worker);\n        worker.onerror = this._onerror.bind(this, worker);\n        worker.running = false;\n        worker.id = i;\n        this._workers.set(worker, null);\n    }\n\n    URL.revokeObjectURL(workerURL);\n};\n\nWorkerManager.prototype._onerror = function (worker, error) {\n    if (this._terminated)\n        return;\n    this._working--;\n    worker.running = false;\n    var callback = this._workers.get(worker);\n    if (callback) {\n        callback[1](error.message);\n    }\n    this._workers.set(worker, null);\n    if (this._terminateOnError) {\n        this.terminate();\n    } else {\n        this._exec();\n    }\n};\n\nWorkerManager.prototype._onmessage = function (worker, event) {\n    if (this._terminated)\n        return;\n    this._working--;\n    worker.running = false;\n    var callback = this._workers.get(worker);\n    if (callback) {\n        callback[0](event.data.data);\n    }\n    this._workers.set(worker, null);\n    this._exec();\n};\n\nWorkerManager.prototype._exec = function () {\n    for (var worker of this._workers.keys()) {\n        if (this._working === this._numWorkers ||\n            this._waiting.length === 0) {\n            return;\n        }\n        if (!worker.running) {\n            for (var i = 0; i < this._waiting.length; i++) {\n                var execInfo = this._waiting[i];\n                if (typeof execInfo[4] === 'number' && execInfo[4] !== worker.id) {\n                    // this message is intended to another worker, let's ignore it\n                    continue;\n                }\n                this._waiting.splice(i, 1);\n                worker.postMessage({\n                    action: 'exec',\n                    event: execInfo[0],\n                    args: execInfo[1]\n                }, execInfo[2]);\n                worker.running = true;\n                worker.time = Date.now();\n                this._workers.set(worker, execInfo[3]);\n                this._working++;\n                break;\n            }\n        }\n    }\n};\n\nWorkerManager.prototype.terminate = function () {\n    if (this._terminated) return;\n    for (var entry of this._workers) {\n        entry[0].terminate();\n        if (entry[1]) {\n            entry[1][1](new Error('Terminated'));\n        }\n    }\n    this._workers.clear();\n    this._waiting = [];\n    this._working = 0;\n    this._terminated = true;\n};\n\nWorkerManager.prototype.postAll = function (event, args) {\n    if (this._terminated)\n        throw new Error('Cannot post (terminated)');\n    var promises = [];\n    for (var worker of this._workers.keys()) {\n        promises.push(this.post(event, args, [], worker.id));\n    }\n    return Promise.all(promises);\n};\n\nWorkerManager.prototype.post = function (event, args, transferable, id) {\n    if (args === undefined) args = [];\n    if (transferable === undefined) transferable = [];\n    if (!Array.isArray(args)) {\n        args = [args];\n    }\n    if (!Array.isArray(transferable)) {\n        transferable = [transferable];\n    }\n\n    var self = this;\n    return new Promise(function (resolve, reject) {\n        if (self._terminated) throw new Error('Cannot post (terminated)');\n        self._waiting.push([event, args, transferable, [resolve, reject], id]);\n        self._exec();\n    });\n};\n\nmodule.exports = WorkerManager;\n","'use strict';\n\nvar worker = function () {\n    var window = self.window = self;\n    function ManagedWorker() {\n        this._listeners = {};\n    }\n    ManagedWorker.prototype.on = function (event, callback) {\n        if (this._listeners[event])\n            throw new RangeError('there is already a listener for ' + event);\n        if (typeof callback !== 'function')\n            throw new TypeError('callback argument must be a function');\n        this._listeners[event] = callback;\n    };\n    ManagedWorker.prototype._send = function (id, data, transferable) {\n        if (transferable === undefined) {\n            transferable = [];\n        } else if (!Array.isArray(transferable)) {\n            transferable = [transferable];\n        }\n        self.postMessage({\n            id: id,\n            data: data\n        }, transferable);\n    };\n    ManagedWorker.prototype._trigger = function (event, args) {\n        if (!this._listeners[event])\n            throw new Error('event ' + event + ' is not defined');\n        this._listeners[event].apply(null, args);\n    };\n    var worker = new ManagedWorker();\n    self.onmessage = function (event) {\n        switch(event.data.action) {\n            case 'exec':\n                event.data.args.unshift(function (data, transferable) {\n                    worker._send(event.data.id, data, transferable);\n                });\n                worker._trigger(event.data.event, event.data.args);\n                break;\n            case 'ping':\n                worker._send(event.data.id, 'pong');\n                break;\n            default:\n                throw new Error('unexpected action: ' + event.data.action);\n        }\n    };\n    \"CODE\";\n};\n\nvar workerStr = worker.toString().split('\"CODE\";');\n\nexports.newWorkerURL = function newWorkerURL(code, deps) {\n    var blob = new Blob(['(', workerStr[0], 'importScripts.apply(self, ' + JSON.stringify(deps) + ');\\n', '(', code, ')();', workerStr[1], ')();'], {type: 'application/javascript'});\n    return URL.createObjectURL(blob);\n};\n","var map = {\n\t\"./attack.png\": 5064,\n\t\"./hope.png\": 9610,\n\t\"./men.png\": 6750,\n\t\"./returns.png\": 1139,\n\t\"./revenge.png\": 9616,\n\t\"./strike.png\": 2162\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 3309;","function _assertClassBrand(e, t, n) {\n  if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n  throw new TypeError(\"Private element is not present on this object\");\n}\nmodule.exports = _assertClassBrand, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\nmodule.exports = _checkPrivateRedeclaration, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var assertClassBrand = require(\"./assertClassBrand.js\");\nfunction _classPrivateFieldGet2(s, a) {\n  return s.get(assertClassBrand(s, a));\n}\nmodule.exports = _classPrivateFieldGet2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var checkPrivateRedeclaration = require(\"./checkPrivateRedeclaration.js\");\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) {\n  checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\nmodule.exports = _classPrivateFieldInitSpec, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var assertClassBrand = require(\"./assertClassBrand.js\");\nfunction _classPrivateFieldSet2(s, a, r) {\n  return s.set(assertClassBrand(s, a), r), r;\n}\nmodule.exports = _classPrivateFieldSet2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var checkPrivateRedeclaration = require(\"./checkPrivateRedeclaration.js\");\nfunction _classPrivateMethodInitSpec(obj, privateSet) {\n  checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\nmodule.exports = _classPrivateMethodInitSpec, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/React-Website/\";","__webpack_require__.nc = undefined;","////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Actions represent the type of change to a location value.\n */\nexport enum Action {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Pop = \"POP\",\n\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Push = \"PUSH\",\n\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Replace = \"REPLACE\",\n}\n\n/**\n * The pathname, search, and hash values of a URL.\n */\nexport interface Path {\n  /**\n   * A URL pathname, beginning with a /.\n   */\n  pathname: string;\n\n  /**\n   * A URL search string, beginning with a ?.\n   */\n  search: string;\n\n  /**\n   * A URL fragment identifier, beginning with a #.\n   */\n  hash: string;\n}\n\n// TODO: (v7) Change the Location generic default from `any` to `unknown` and\n// remove Remix `useLocation` wrapper.\n\n/**\n * An entry in a history stack. A location contains information about the\n * URL path, as well as possibly some arbitrary state and a key.\n */\nexport interface Location<State = any> extends Path {\n  /**\n   * A value of arbitrary data associated with this location.\n   */\n  state: State;\n\n  /**\n   * A unique string associated with this location. May be used to safely store\n   * and retrieve data in some other storage API, like `localStorage`.\n   *\n   * Note: This value is always \"default\" on the initial location.\n   */\n  key: string;\n}\n\n/**\n * A change to the current location.\n */\nexport interface Update {\n  /**\n   * The action that triggered the change.\n   */\n  action: Action;\n\n  /**\n   * The new location.\n   */\n  location: Location;\n\n  /**\n   * The delta between this location and the former location in the history stack\n   */\n  delta: number | null;\n}\n\n/**\n * A function that receives notifications about location changes.\n */\nexport interface Listener {\n  (update: Update): void;\n}\n\n/**\n * Describes a location that is the destination of some navigation, either via\n * `history.push` or `history.replace`. This may be either a URL or the pieces\n * of a URL path.\n */\nexport type To = string | Partial<Path>;\n\n/**\n * A history is an interface to the navigation stack. The history serves as the\n * source of truth for the current location, as well as provides a set of\n * methods that may be used to change it.\n *\n * It is similar to the DOM's `window.history` object, but with a smaller, more\n * focused API.\n */\nexport interface History {\n  /**\n   * The last action that modified the current location. This will always be\n   * Action.Pop when a history instance is first created. This value is mutable.\n   */\n  readonly action: Action;\n\n  /**\n   * The current location. This value is mutable.\n   */\n  readonly location: Location;\n\n  /**\n   * Returns a valid href for the given `to` value that may be used as\n   * the value of an <a href> attribute.\n   *\n   * @param to - The destination URL\n   */\n  createHref(to: To): string;\n\n  /**\n   * Returns a URL for the given `to` value\n   *\n   * @param to - The destination URL\n   */\n  createURL(to: To): URL;\n\n  /**\n   * Encode a location the same way window.history would do (no-op for memory\n   * history) so we ensure our PUSH/REPLACE navigations for data routers\n   * behave the same as POP\n   *\n   * @param to Unencoded path\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * Pushes a new location onto the history stack, increasing its length by one.\n   * If there were any entries in the stack after the current one, they are\n   * lost.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  push(to: To, state?: any): void;\n\n  /**\n   * Replaces the current location in the history stack with a new one.  The\n   * location that was replaced will no longer be available.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  replace(to: To, state?: any): void;\n\n  /**\n   * Navigates `n` entries backward/forward in the history stack relative to the\n   * current index. For example, a \"back\" navigation would use go(-1).\n   *\n   * @param delta - The delta in the stack index\n   */\n  go(delta: number): void;\n\n  /**\n   * Sets up a listener that will be called whenever the current location\n   * changes.\n   *\n   * @param listener - A function that will be called when the location changes\n   * @returns unlisten - A function that may be used to stop listening\n   */\n  listen(listener: Listener): () => void;\n}\n\ntype HistoryState = {\n  usr: any;\n  key?: string;\n  idx: number;\n};\n\nconst PopStateEventType = \"popstate\";\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Memory History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A user-supplied object that describes a location. Used when providing\n * entries to `createMemoryHistory` via its `initialEntries` option.\n */\nexport type InitialEntry = string | Partial<Location>;\n\nexport type MemoryHistoryOptions = {\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  v5Compat?: boolean;\n};\n\n/**\n * A memory history stores locations in memory. This is useful in stateful\n * environments where there is no web browser, such as node tests or React\n * Native.\n */\nexport interface MemoryHistory extends History {\n  /**\n   * The current index in the history stack.\n   */\n  readonly index: number;\n}\n\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nexport function createMemoryHistory(\n  options: MemoryHistoryOptions = {}\n): MemoryHistory {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries: Location[]; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) =>\n    createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index === 0 ? \"default\" : undefined\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  function clampIndex(n: number): number {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation(): Location {\n    return entries[index];\n  }\n  function createMemoryLocation(\n    to: To,\n    state: any = null,\n    key?: string\n  ): Location {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n\n  function createHref(to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  let history: MemoryHistory = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to: To) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\",\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn: Listener) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    },\n  };\n\n  return history;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Browser History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A browser history stores the current location in regular URLs in a web\n * browser environment. This is the standard for most web apps and provides the\n * cleanest URLs the browser's address bar.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#browserhistory\n */\nexport interface BrowserHistory extends UrlHistory {}\n\nexport type BrowserHistoryOptions = UrlHistoryOptions;\n\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nexport function createBrowserHistory(\n  options: BrowserHistoryOptions = {}\n): BrowserHistory {\n  function createBrowserLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let { pathname, search, hash } = window.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createBrowserHref(window: Window, to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hash History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A hash history stores the current location in the fragment identifier portion\n * of the URL in a web browser environment.\n *\n * This is ideal for apps that do not control the server for some reason\n * (because the fragment identifier is never sent to the server), including some\n * shared hosting environments that do not provide fine-grained controls over\n * which pages are served at which URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#hashhistory\n */\nexport interface HashHistory extends UrlHistory {}\n\nexport type HashHistoryOptions = UrlHistoryOptions;\n\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nexport function createHashHistory(\n  options: HashHistoryOptions = {}\n): HashHistory {\n  function createHashLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\",\n    } = parsePath(window.location.hash.substr(1));\n\n    // Hash URL should always have a leading / just like window.location.pathname\n    // does, so if an app ends up at a route like /#something then we add a\n    // leading slash so all of our path-matching behaves the same as if it would\n    // in a browser router.  This is particularly important when there exists a\n    // root splat route (<Route path=\"*\">) since that matches internally against\n    // \"/*\" and we'd expect /#something to 404 in a hash router app.\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createHashHref(window: Window, to: To) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n\n  function validateHashLocation(location: Location, to: To) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region UTILS\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n */\nexport function invariant(value: boolean, message?: string): asserts value;\nexport function invariant<T>(\n  value: T | null | undefined,\n  message?: string\n): asserts value is T;\nexport function invariant(value: any, message?: string) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\nexport function warning(cond: any, message: string) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience, so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location: Location, index: number): HistoryState {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index,\n  };\n}\n\n/**\n * Creates a Location object with a unique key from the given Path\n */\nexport function createLocation(\n  current: string | Location,\n  to: To,\n  state: any = null,\n  key?: string\n): Readonly<Location> {\n  let location: Readonly<Location> = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...(typeof to === \"string\" ? parsePath(to) : to),\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: (to && (to as Location).key) || key || createKey(),\n  };\n  return location;\n}\n\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nexport function createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\",\n}: Partial<Path>) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nexport function parsePath(path: string): Partial<Path> {\n  let parsedPath: Partial<Path> = {};\n\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport interface UrlHistory extends History {}\n\nexport type UrlHistoryOptions = {\n  window?: Window;\n  v5Compat?: boolean;\n};\n\nfunction getUrlBasedHistory(\n  getLocation: (window: Window, globalHistory: Window[\"history\"]) => Location,\n  createHref: (window: Window, to: To) => string,\n  validateLocation: ((location: Location, to: To) => void) | null,\n  options: UrlHistoryOptions = {}\n): UrlHistory {\n  let { window = document.defaultView!, v5Compat = false } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  let index = getIndex()!;\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n\n  function getIndex(): number {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n\n  function push(to: To, state?: any) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n\n  function replace(to: To, state?: any) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n\n  function createURL(to: To): URL {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base =\n      window.location.origin !== \"null\"\n        ? window.location.origin\n        : window.location.href;\n\n    let href = typeof to === \"string\" ? to : createPath(to);\n    // Treating this as a full URL will strip any trailing spaces so we need to\n    // pre-encode them since they might be part of a matching splat param from\n    // an ancestor route\n    href = href.replace(/ $/, \"%20\");\n    invariant(\n      base,\n      `No window.location.(origin|href) available to create URL for href: ${href}`\n    );\n    return new URL(href, base);\n  }\n\n  let history: History = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn: Listener) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash,\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    },\n  };\n\n  return history;\n}\n\n//#endregion\n","import type { Location, Path, To } from \"./history\";\nimport { invariant, parsePath, warning } from \"./history\";\n\n/**\n * Map of routeId -> data returned from a loader/action/error\n */\nexport interface RouteData {\n  [routeId: string]: any;\n}\n\nexport enum ResultType {\n  data = \"data\",\n  deferred = \"deferred\",\n  redirect = \"redirect\",\n  error = \"error\",\n}\n\n/**\n * Successful result from a loader or action\n */\nexport interface SuccessResult {\n  type: ResultType.data;\n  data: unknown;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Successful defer() result from a loader or action\n */\nexport interface DeferredResult {\n  type: ResultType.deferred;\n  deferredData: DeferredData;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Redirect result from a loader or action\n */\nexport interface RedirectResult {\n  type: ResultType.redirect;\n  // We keep the raw Response for redirects so we can return it verbatim\n  response: Response;\n}\n\n/**\n * Unsuccessful result from a loader or action\n */\nexport interface ErrorResult {\n  type: ResultType.error;\n  error: unknown;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Result from a loader or action - potentially successful or unsuccessful\n */\nexport type DataResult =\n  | SuccessResult\n  | DeferredResult\n  | RedirectResult\n  | ErrorResult;\n\n/**\n * Result from a loader or action called via dataStrategy\n */\nexport interface HandlerResult {\n  type: \"data\" | \"error\";\n  result: unknown; // data, Error, Response, DeferredData\n  status?: number;\n}\n\ntype LowerCaseFormMethod = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\ntype UpperCaseFormMethod = Uppercase<LowerCaseFormMethod>;\n\n/**\n * Users can specify either lowercase or uppercase form methods on `<Form>`,\n * useSubmit(), `<fetcher.Form>`, etc.\n */\nexport type HTMLFormMethod = LowerCaseFormMethod | UpperCaseFormMethod;\n\n/**\n * Active navigation/fetcher form methods are exposed in lowercase on the\n * RouterState\n */\nexport type FormMethod = LowerCaseFormMethod;\nexport type MutationFormMethod = Exclude<FormMethod, \"get\">;\n\n/**\n * In v7, active navigation/fetcher form methods are exposed in uppercase on the\n * RouterState.  This is to align with the normalization done via fetch().\n */\nexport type V7_FormMethod = UpperCaseFormMethod;\nexport type V7_MutationFormMethod = Exclude<V7_FormMethod, \"GET\">;\n\nexport type FormEncType =\n  | \"application/x-www-form-urlencoded\"\n  | \"multipart/form-data\"\n  | \"application/json\"\n  | \"text/plain\";\n\n// Thanks https://github.com/sindresorhus/type-fest!\ntype JsonObject = { [Key in string]: JsonValue } & {\n  [Key in string]?: JsonValue | undefined;\n};\ntype JsonArray = JsonValue[] | readonly JsonValue[];\ntype JsonPrimitive = string | number | boolean | null;\ntype JsonValue = JsonPrimitive | JsonObject | JsonArray;\n\n/**\n * @private\n * Internal interface to pass around for action submissions, not intended for\n * external consumption\n */\nexport type Submission =\n  | {\n      formMethod: FormMethod | V7_FormMethod;\n      formAction: string;\n      formEncType: FormEncType;\n      formData: FormData;\n      json: undefined;\n      text: undefined;\n    }\n  | {\n      formMethod: FormMethod | V7_FormMethod;\n      formAction: string;\n      formEncType: FormEncType;\n      formData: undefined;\n      json: JsonValue;\n      text: undefined;\n    }\n  | {\n      formMethod: FormMethod | V7_FormMethod;\n      formAction: string;\n      formEncType: FormEncType;\n      formData: undefined;\n      json: undefined;\n      text: string;\n    };\n\n/**\n * @private\n * Arguments passed to route loader/action functions.  Same for now but we keep\n * this as a private implementation detail in case they diverge in the future.\n */\ninterface DataFunctionArgs<Context> {\n  request: Request;\n  params: Params;\n  context?: Context;\n}\n\n// TODO: (v7) Change the defaults from any to unknown in and remove Remix wrappers:\n//   ActionFunction, ActionFunctionArgs, LoaderFunction, LoaderFunctionArgs\n//   Also, make them a type alias instead of an interface\n\n/**\n * Arguments passed to loader functions\n */\nexport interface LoaderFunctionArgs<Context = any>\n  extends DataFunctionArgs<Context> {}\n\n/**\n * Arguments passed to action functions\n */\nexport interface ActionFunctionArgs<Context = any>\n  extends DataFunctionArgs<Context> {}\n\n/**\n * Loaders and actions can return anything except `undefined` (`null` is a\n * valid return value if there is no data to return).  Responses are preferred\n * and will ease any future migration to Remix\n */\ntype DataFunctionValue = Response | NonNullable<unknown> | null;\n\ntype DataFunctionReturnValue = Promise<DataFunctionValue> | DataFunctionValue;\n\n/**\n * Route loader function signature\n */\nexport type LoaderFunction<Context = any> = {\n  (\n    args: LoaderFunctionArgs<Context>,\n    handlerCtx?: unknown\n  ): DataFunctionReturnValue;\n} & { hydrate?: boolean };\n\n/**\n * Route action function signature\n */\nexport interface ActionFunction<Context = any> {\n  (\n    args: ActionFunctionArgs<Context>,\n    handlerCtx?: unknown\n  ): DataFunctionReturnValue;\n}\n\n/**\n * Arguments passed to shouldRevalidate function\n */\nexport interface ShouldRevalidateFunctionArgs {\n  currentUrl: URL;\n  currentParams: AgnosticDataRouteMatch[\"params\"];\n  nextUrl: URL;\n  nextParams: AgnosticDataRouteMatch[\"params\"];\n  formMethod?: Submission[\"formMethod\"];\n  formAction?: Submission[\"formAction\"];\n  formEncType?: Submission[\"formEncType\"];\n  text?: Submission[\"text\"];\n  formData?: Submission[\"formData\"];\n  json?: Submission[\"json\"];\n  unstable_actionStatus?: number;\n  actionResult?: any;\n  defaultShouldRevalidate: boolean;\n}\n\n/**\n * Route shouldRevalidate function signature.  This runs after any submission\n * (navigation or fetcher), so we flatten the navigation/fetcher submission\n * onto the arguments.  It shouldn't matter whether it came from a navigation\n * or a fetcher, what really matters is the URLs and the formData since loaders\n * have to re-run based on the data models that were potentially mutated.\n */\nexport interface ShouldRevalidateFunction {\n  (args: ShouldRevalidateFunctionArgs): boolean;\n}\n\n/**\n * Function provided by the framework-aware layers to set `hasErrorBoundary`\n * from the framework-aware `errorElement` prop\n *\n * @deprecated Use `mapRouteProperties` instead\n */\nexport interface DetectErrorBoundaryFunction {\n  (route: AgnosticRouteObject): boolean;\n}\n\nexport interface DataStrategyMatch\n  extends AgnosticRouteMatch<string, AgnosticDataRouteObject> {\n  shouldLoad: boolean;\n  resolve: (\n    handlerOverride?: (\n      handler: (ctx?: unknown) => DataFunctionReturnValue\n    ) => Promise<HandlerResult>\n  ) => Promise<HandlerResult>;\n}\n\nexport interface DataStrategyFunctionArgs<Context = any>\n  extends DataFunctionArgs<Context> {\n  matches: DataStrategyMatch[];\n}\n\nexport interface DataStrategyFunction {\n  (args: DataStrategyFunctionArgs): Promise<HandlerResult[]>;\n}\n\n/**\n * Function provided by the framework-aware layers to set any framework-specific\n * properties from framework-agnostic properties\n */\nexport interface MapRoutePropertiesFunction {\n  (route: AgnosticRouteObject): {\n    hasErrorBoundary: boolean;\n  } & Record<string, any>;\n}\n\n/**\n * Keys we cannot change from within a lazy() function. We spread all other keys\n * onto the route. Either they're meaningful to the router, or they'll get\n * ignored.\n */\nexport type ImmutableRouteKey =\n  | \"lazy\"\n  | \"caseSensitive\"\n  | \"path\"\n  | \"id\"\n  | \"index\"\n  | \"children\";\n\nexport const immutableRouteKeys = new Set<ImmutableRouteKey>([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\",\n]);\n\ntype RequireOne<T, Key = keyof T> = Exclude<\n  {\n    [K in keyof T]: K extends Key ? Omit<T, K> & Required<Pick<T, K>> : never;\n  }[keyof T],\n  undefined\n>;\n\n/**\n * lazy() function to load a route definition, which can add non-matching\n * related properties to a route\n */\nexport interface LazyRouteFunction<R extends AgnosticRouteObject> {\n  (): Promise<RequireOne<Omit<R, ImmutableRouteKey>>>;\n}\n\n/**\n * Base RouteObject with common props shared by all types of routes\n */\ntype AgnosticBaseRouteObject = {\n  caseSensitive?: boolean;\n  path?: string;\n  id?: string;\n  loader?: LoaderFunction | boolean;\n  action?: ActionFunction | boolean;\n  hasErrorBoundary?: boolean;\n  shouldRevalidate?: ShouldRevalidateFunction;\n  handle?: any;\n  lazy?: LazyRouteFunction<AgnosticBaseRouteObject>;\n};\n\n/**\n * Index routes must not have children\n */\nexport type AgnosticIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: undefined;\n  index: true;\n};\n\n/**\n * Non-index routes may have children, but cannot have index\n */\nexport type AgnosticNonIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: AgnosticRouteObject[];\n  index?: false;\n};\n\n/**\n * A route object represents a logical route, with (optionally) its child\n * routes organized in a tree-like structure.\n */\nexport type AgnosticRouteObject =\n  | AgnosticIndexRouteObject\n  | AgnosticNonIndexRouteObject;\n\nexport type AgnosticDataIndexRouteObject = AgnosticIndexRouteObject & {\n  id: string;\n};\n\nexport type AgnosticDataNonIndexRouteObject = AgnosticNonIndexRouteObject & {\n  children?: AgnosticDataRouteObject[];\n  id: string;\n};\n\n/**\n * A data route object, which is just a RouteObject with a required unique ID\n */\nexport type AgnosticDataRouteObject =\n  | AgnosticDataIndexRouteObject\n  | AgnosticDataNonIndexRouteObject;\n\nexport type RouteManifest = Record<string, AgnosticDataRouteObject | undefined>;\n\n// Recursive helper for finding path parameters in the absence of wildcards\ntype _PathParam<Path extends string> =\n  // split path into individual path segments\n  Path extends `${infer L}/${infer R}`\n    ? _PathParam<L> | _PathParam<R>\n    : // find params after `:`\n    Path extends `:${infer Param}`\n    ? Param extends `${infer Optional}?`\n      ? Optional\n      : Param\n    : // otherwise, there aren't any params present\n      never;\n\n/**\n * Examples:\n * \"/a/b/*\" -> \"*\"\n * \":a\" -> \"a\"\n * \"/a/:b\" -> \"b\"\n * \"/a/blahblahblah:b\" -> \"b\"\n * \"/:a/:b\" -> \"a\" | \"b\"\n * \"/:a/b/:c/*\" -> \"a\" | \"c\" | \"*\"\n */\nexport type PathParam<Path extends string> =\n  // check if path is just a wildcard\n  Path extends \"*\" | \"/*\"\n    ? \"*\"\n    : // look for wildcard at the end of the path\n    Path extends `${infer Rest}/*`\n    ? \"*\" | _PathParam<Rest>\n    : // look for params in the absence of wildcards\n      _PathParam<Path>;\n\n// Attempt to parse the given string segment. If it fails, then just return the\n// plain string type as a default fallback. Otherwise, return the union of the\n// parsed string literals that were referenced as dynamic segments in the route.\nexport type ParamParseKey<Segment extends string> =\n  // if you could not find path params, fallback to `string`\n  [PathParam<Segment>] extends [never] ? string : PathParam<Segment>;\n\n/**\n * The parameters that were parsed from the URL path.\n */\nexport type Params<Key extends string = string> = {\n  readonly [key in Key]: string | undefined;\n};\n\n/**\n * A RouteMatch contains info about how a route matched a URL.\n */\nexport interface AgnosticRouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The route object that was used to match.\n   */\n  route: RouteObjectType;\n}\n\nexport interface AgnosticDataRouteMatch\n  extends AgnosticRouteMatch<string, AgnosticDataRouteObject> {}\n\nfunction isIndexRoute(\n  route: AgnosticRouteObject\n): route is AgnosticIndexRouteObject {\n  return route.index === true;\n}\n\n// Walk the route tree generating unique IDs where necessary, so we are working\n// solely with AgnosticDataRouteObject's within the Router\nexport function convertRoutesToDataRoutes(\n  routes: AgnosticRouteObject[],\n  mapRouteProperties: MapRoutePropertiesFunction,\n  parentPath: number[] = [],\n  manifest: RouteManifest = {}\n): AgnosticDataRouteObject[] {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route ` +\n        \"id's must be globally unique within Data Router usages\"\n    );\n\n    if (isIndexRoute(route)) {\n      let indexRoute: AgnosticDataIndexRouteObject = {\n        ...route,\n        ...mapRouteProperties(route),\n        id,\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute: AgnosticDataNonIndexRouteObject = {\n        ...route,\n        ...mapRouteProperties(route),\n        id,\n        children: undefined,\n      };\n      manifest[id] = pathOrLayoutRoute;\n\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties,\n          treePath,\n          manifest\n        );\n      }\n\n      return pathOrLayoutRoute;\n    }\n  });\n}\n\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nexport function matchRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  locationArg: Partial<Location> | string,\n  basename = \"/\"\n): AgnosticRouteMatch<string, RouteObjectType>[] | null {\n  let location =\n    typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n\n  if (pathname == null) {\n    return null;\n  }\n\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    // Incoming pathnames are generally encoded from either window.location\n    // or from router.navigate, but we want to match against the unencoded\n    // paths in the route definitions.  Memory router locations won't be\n    // encoded here but there also shouldn't be anything to decode so this\n    // should be a safe operation.  This avoids needing matchRoutes to be\n    // history-aware.\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch<string, RouteObjectType>(branches[i], decoded);\n  }\n\n  return matches;\n}\n\nexport interface UIMatch<Data = unknown, Handle = unknown> {\n  id: string;\n  pathname: string;\n  params: AgnosticRouteMatch[\"params\"];\n  data: Data;\n  handle: Handle;\n}\n\nexport function convertRouteMatchToUiMatch(\n  match: AgnosticDataRouteMatch,\n  loaderData: RouteData\n): UIMatch {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle,\n  };\n}\n\ninterface RouteMeta<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  relativePath: string;\n  caseSensitive: boolean;\n  childrenIndex: number;\n  route: RouteObjectType;\n}\n\ninterface RouteBranch<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  path: string;\n  score: number;\n  routesMeta: RouteMeta<RouteObjectType>[];\n}\n\nfunction flattenRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  branches: RouteBranch<RouteObjectType>[] = [],\n  parentsMeta: RouteMeta<RouteObjectType>[] = [],\n  parentPath = \"\"\n): RouteBranch<RouteObjectType>[] {\n  let flattenRoute = (\n    route: RouteObjectType,\n    index: number,\n    relativePath?: string\n  ) => {\n    let meta: RouteMeta<RouteObjectType> = {\n      relativePath:\n        relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route,\n    };\n\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path ` +\n          `\"${parentPath}\" is not valid. An absolute child route path ` +\n          `must start with the combined path of all its parent routes.`\n      );\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n\n    // Add the children before adding this route to the array, so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove ` +\n          `all child routes from route path \"${path}\".`\n      );\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta,\n    });\n  };\n  routes.forEach((route, index) => {\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n\n  return branches;\n}\n\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path: string): string[] {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n\n  let [first, ...rest] = segments;\n\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n\n  let result: string[] = [];\n\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children, so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explode _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(\n    ...restExploded.map((subpath) =>\n      subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n\n  // Then, if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map((exploded) =>\n    path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\n\nfunction rankRouteBranches(branches: RouteBranch[]): void {\n  branches.sort((a, b) =>\n    a.score !== b.score\n      ? b.score - a.score // Higher score first\n      : compareIndexes(\n          a.routesMeta.map((meta) => meta.childrenIndex),\n          b.routesMeta.map((meta) => meta.childrenIndex)\n        )\n  );\n}\n\nconst paramRe = /^:[\\w-]+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = (s: string) => s === \"*\";\n\nfunction computeScore(path: string, index: boolean | undefined): number {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments\n    .filter((s) => !isSplat(s))\n    .reduce(\n      (score, segment) =>\n        score +\n        (paramRe.test(segment)\n          ? dynamicSegmentValue\n          : segment === \"\"\n          ? emptySegmentValue\n          : staticSegmentValue),\n      initialScore\n    );\n}\n\nfunction compareIndexes(a: number[], b: number[]): number {\n  let siblings =\n    a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n\n  return siblings\n    ? // If two routes are siblings, we should try to match the earlier sibling\n      // first. This allows people to have fine-grained control over the matching\n      // behavior by simply putting routes with identical paths in the order they\n      // want them tried.\n      a[a.length - 1] - b[b.length - 1]\n    : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n      // so they sort equally.\n      0;\n}\n\nfunction matchRouteBranch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  branch: RouteBranch<RouteObjectType>,\n  pathname: string\n): AgnosticRouteMatch<ParamKey, RouteObjectType>[] | null {\n  let { routesMeta } = branch;\n\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches: AgnosticRouteMatch<ParamKey, RouteObjectType>[] = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname =\n      matchedPathname === \"/\"\n        ? pathname\n        : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n\n    if (!match) return null;\n\n    Object.assign(matchedParams, match.params);\n\n    let route = meta.route;\n\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams as Params<ParamKey>,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route,\n    });\n\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n\n  return matches;\n}\n\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nexport function generatePath<Path extends string>(\n  originalPath: Path,\n  params: {\n    [key in PathParam<Path>]: string | null;\n  } = {} as any\n): string {\n  let path: string = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were ` +\n        `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n        `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n        `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\") as Path;\n  }\n\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n\n  const stringify = (p: any) =>\n    p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n\n  const segments = path\n    .split(/\\/+/)\n    .map((segment, index, array) => {\n      const isLastSegment = index === array.length - 1;\n\n      // only apply the splat if it's the last segment\n      if (isLastSegment && segment === \"*\") {\n        const star = \"*\" as PathParam<Path>;\n        // Apply the splat\n        return stringify(params[star]);\n      }\n\n      const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n      if (keyMatch) {\n        const [, key, optional] = keyMatch;\n        let param = params[key as PathParam<Path>];\n        invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n        return stringify(param);\n      }\n\n      // Remove any optional markers from optional static segments\n      return segment.replace(/\\?$/g, \"\");\n    })\n    // Remove empty segments\n    .filter((segment) => !!segment);\n\n  return prefix + segments.join(\"/\");\n}\n\n/**\n * A PathPattern is used to match on some portion of a URL pathname.\n */\nexport interface PathPattern<Path extends string = string> {\n  /**\n   * A string to match against a URL pathname. May contain `:id`-style segments\n   * to indicate placeholders for dynamic parameters. May also end with `/*` to\n   * indicate matching the rest of the URL pathname.\n   */\n  path: Path;\n  /**\n   * Should be `true` if the static portions of the `path` should be matched in\n   * the same case.\n   */\n  caseSensitive?: boolean;\n  /**\n   * Should be `true` if this pattern should match the entire URL pathname.\n   */\n  end?: boolean;\n}\n\n/**\n * A PathMatch contains info about how a PathPattern matched on a URL pathname.\n */\nexport interface PathMatch<ParamKey extends string = string> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The pattern that was used to match.\n   */\n  pattern: PathPattern;\n}\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: T[P];\n};\n\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nexport function matchPath<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(\n  pattern: PathPattern<Path> | Path,\n  pathname: string\n): PathMatch<ParamKey> | null {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n\n  let [matcher, compiledParams] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n\n  let match = pathname.match(matcher);\n  if (!match) return null;\n\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params: Params = compiledParams.reduce<Mutable<Params>>(\n    (memo, { paramName, isOptional }, index) => {\n      // We need to compute the pathnameBase here using the raw splat value\n      // instead of using params[\"*\"] later because it will be decoded then\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname\n          .slice(0, matchedPathname.length - splatValue.length)\n          .replace(/(.)\\/+$/, \"$1\");\n      }\n\n      const value = captureGroups[index];\n      if (isOptional && !value) {\n        memo[paramName] = undefined;\n      } else {\n        memo[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n      }\n      return memo;\n    },\n    {}\n  );\n\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern,\n  };\n}\n\ntype CompiledPathParam = { paramName: string; isOptional?: boolean };\n\nfunction compilePath(\n  path: string,\n  caseSensitive = false,\n  end = true\n): [RegExp, CompiledPathParam[]] {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were ` +\n      `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n      `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n      `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n\n  let params: CompiledPathParam[] = [];\n  let regexpSource =\n    \"^\" +\n    path\n      .replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n      .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n      .replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n      .replace(\n        /\\/:([\\w-]+)(\\?)?/g,\n        (_: string, paramName: string, isOptional) => {\n          params.push({ paramName, isOptional: isOptional != null });\n          return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n        }\n      );\n\n  if (path.endsWith(\"*\")) {\n    params.push({ paramName: \"*\" });\n    regexpSource +=\n      path === \"*\" || path === \"/*\"\n        ? \"(.*)$\" // Already matched the initial /, just match the rest\n        : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex, so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n    // Nothing to match for \"\" or \"/\"\n  }\n\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n\n  return [matcher, params];\n}\n\nfunction decodePath(value: string) {\n  try {\n    return value\n      .split(\"/\")\n      .map((v) => decodeURIComponent(v).replace(/\\//g, \"%2F\"))\n      .join(\"/\");\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is is a ` +\n        `malformed URL segment. This is probably due to a bad percent ` +\n        `encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\n/**\n * @private\n */\nexport function stripBasename(\n  pathname: string,\n  basename: string\n): string | null {\n  if (basename === \"/\") return pathname;\n\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\")\n    ? basename.length - 1\n    : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n\n  return pathname.slice(startIndex) || \"/\";\n}\n\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nexport function resolvePath(to: To, fromPathname = \"/\"): Path {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\",\n  } = typeof to === \"string\" ? parsePath(to) : to;\n\n  let pathname = toPathname\n    ? toPathname.startsWith(\"/\")\n      ? toPathname\n      : resolvePathname(toPathname, fromPathname)\n    : fromPathname;\n\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash),\n  };\n}\n\nfunction resolvePathname(relativePath: string, fromPathname: string): string {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\n\nfunction getInvalidPathError(\n  char: string,\n  field: string,\n  dest: string,\n  path: Partial<Path>\n) {\n  return (\n    `Cannot include a '${char}' character in a manually specified ` +\n    `\\`to.${field}\\` field [${JSON.stringify(\n      path\n    )}].  Please separate it out to the ` +\n    `\\`to.${dest}\\` field. Alternatively you may provide the full path as ` +\n    `a string in <Link to=\"...\"> and the router will parse it for you.`\n  );\n}\n\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nexport function getPathContributingMatches<\n  T extends AgnosticRouteMatch = AgnosticRouteMatch\n>(matches: T[]) {\n  return matches.filter(\n    (match, index) =>\n      index === 0 || (match.route.path && match.route.path.length > 0)\n  );\n}\n\n// Return the array of pathnames for the current route matches - used to\n// generate the routePathnames input for resolveTo()\nexport function getResolveToMatches<\n  T extends AgnosticRouteMatch = AgnosticRouteMatch\n>(matches: T[], v7_relativeSplatPath: boolean) {\n  let pathMatches = getPathContributingMatches(matches);\n\n  // When v7_relativeSplatPath is enabled, use the full pathname for the leaf\n  // match so we include splat values for \".\" links.  See:\n  // https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329\n  if (v7_relativeSplatPath) {\n    return pathMatches.map((match, idx) =>\n      idx === matches.length - 1 ? match.pathname : match.pathnameBase\n    );\n  }\n\n  return pathMatches.map((match) => match.pathnameBase);\n}\n\n/**\n * @private\n */\nexport function resolveTo(\n  toArg: To,\n  routePathnames: string[],\n  locationPathname: string,\n  isPathRelative = false\n): Path {\n  let to: Partial<Path>;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n\n  let from: string;\n\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n\n    // With relative=\"route\" (the default), each leading .. segment means\n    // \"go up one route\" instead of \"go up one URL segment\".  This is a key\n    // difference from how <a href> works and a major reason we call this a\n    // \"to\" value instead of a \"href\".\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n\n      to.pathname = toSegments.join(\"/\");\n    }\n\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n\n  let path = resolvePath(to, from);\n\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash =\n    toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash =\n    (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (\n    !path.pathname.endsWith(\"/\") &&\n    (hasExplicitTrailingSlash || hasCurrentTrailingSlash)\n  ) {\n    path.pathname += \"/\";\n  }\n\n  return path;\n}\n\n/**\n * @private\n */\nexport function getToPathname(to: To): string | undefined {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || (to as Path).pathname === \"\"\n    ? \"/\"\n    : typeof to === \"string\"\n    ? parsePath(to).pathname\n    : to.pathname;\n}\n\n/**\n * @private\n */\nexport const joinPaths = (paths: string[]): string =>\n  paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n\n/**\n * @private\n */\nexport const normalizePathname = (pathname: string): string =>\n  pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n\n/**\n * @private\n */\nexport const normalizeSearch = (search: string): string =>\n  !search || search === \"?\"\n    ? \"\"\n    : search.startsWith(\"?\")\n    ? search\n    : \"?\" + search;\n\n/**\n * @private\n */\nexport const normalizeHash = (hash: string): string =>\n  !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n\nexport type JsonFunction = <Data>(\n  data: Data,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nexport const json: JsonFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n\n  return new Response(JSON.stringify(data), {\n    ...responseInit,\n    headers,\n  });\n};\n\nexport interface TrackedPromise extends Promise<any> {\n  _tracked?: boolean;\n  _data?: any;\n  _error?: any;\n}\n\nexport class AbortedDeferredError extends Error {}\n\nexport class DeferredData {\n  private pendingKeysSet: Set<string> = new Set<string>();\n  private controller: AbortController;\n  private abortPromise: Promise<void>;\n  private unlistenAbortSignal: () => void;\n  private subscribers: Set<(aborted: boolean, settledKey?: string) => void> =\n    new Set();\n  data: Record<string, unknown>;\n  init?: ResponseInit;\n  deferredKeys: string[] = [];\n\n  constructor(data: Record<string, unknown>, responseInit?: ResponseInit) {\n    invariant(\n      data && typeof data === \"object\" && !Array.isArray(data),\n      \"defer() only accepts plain objects\"\n    );\n\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject: (e: AbortedDeferredError) => void;\n    this.abortPromise = new Promise((_, r) => (reject = r));\n    this.controller = new AbortController();\n    let onAbort = () =>\n      reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () =>\n      this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n\n    this.data = Object.entries(data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: this.trackPromise(key, value),\n        }),\n      {}\n    );\n\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n\n    this.init = responseInit;\n  }\n\n  private trackPromise(\n    key: string,\n    value: Promise<unknown> | unknown\n  ): TrackedPromise | unknown {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise: TrackedPromise = Promise.race([value, this.abortPromise]).then(\n      (data) => this.onSettle(promise, key, undefined, data as unknown),\n      (error) => this.onSettle(promise, key, error as unknown)\n    );\n\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n\n    Object.defineProperty(promise, \"_tracked\", { get: () => true });\n    return promise;\n  }\n\n  private onSettle(\n    promise: TrackedPromise,\n    key: string,\n    error: unknown,\n    data?: unknown\n  ): unknown {\n    if (\n      this.controller.signal.aborted &&\n      error instanceof AbortedDeferredError\n    ) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      return Promise.reject(error);\n    }\n\n    this.pendingKeysSet.delete(key);\n\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n\n    // If the promise was resolved/rejected with undefined, we'll throw an error as you\n    // should always resolve with a value or null\n    if (error === undefined && data === undefined) {\n      let undefinedError = new Error(\n        `Deferred data for key \"${key}\" resolved/rejected with \\`undefined\\`, ` +\n          `you must resolve/reject with a value or \\`null\\`.`\n      );\n      Object.defineProperty(promise, \"_error\", { get: () => undefinedError });\n      this.emit(false, key);\n      return Promise.reject(undefinedError);\n    }\n\n    if (data === undefined) {\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n\n    Object.defineProperty(promise, \"_data\", { get: () => data });\n    this.emit(false, key);\n    return data;\n  }\n\n  private emit(aborted: boolean, settledKey?: string) {\n    this.subscribers.forEach((subscriber) => subscriber(aborted, settledKey));\n  }\n\n  subscribe(fn: (aborted: boolean, settledKey?: string) => void) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n\n  async resolveData(signal: AbortSignal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise((resolve) => {\n        this.subscribe((aborted) => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n\n  get unwrappedData() {\n    invariant(\n      this.data !== null && this.done,\n      \"Can only unwrap data on initialized and settled deferreds\"\n    );\n\n    return Object.entries(this.data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: unwrapTrackedPromise(value),\n        }),\n      {}\n    );\n  }\n\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\n\nfunction isTrackedPromise(value: any): value is TrackedPromise {\n  return (\n    value instanceof Promise && (value as TrackedPromise)._tracked === true\n  );\n}\n\nfunction unwrapTrackedPromise(value: any) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\n\nexport type DeferFunction = (\n  data: Record<string, unknown>,\n  init?: number | ResponseInit\n) => DeferredData;\n\nexport const defer: DeferFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  return new DeferredData(data, responseInit);\n};\n\nexport type RedirectFunction = (\n  url: string,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirect: RedirectFunction = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n\n  return new Response(null, {\n    ...responseInit,\n    headers,\n  });\n};\n\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirectDocument: RedirectFunction = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\n\nexport type ErrorResponse = {\n  status: number;\n  statusText: string;\n  data: any;\n};\n\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n *\n * We don't export the class for public use since it's an implementation\n * detail, but we export the interface above so folks can build their own\n * abstractions around instances via isRouteErrorResponse()\n */\nexport class ErrorResponseImpl implements ErrorResponse {\n  status: number;\n  statusText: string;\n  data: any;\n  private error?: Error;\n  private internal: boolean;\n\n  constructor(\n    status: number,\n    statusText: string | undefined,\n    data: any,\n    internal = false\n  ) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nexport function isRouteErrorResponse(error: any): error is ErrorResponse {\n  return (\n    error != null &&\n    typeof error.status === \"number\" &&\n    typeof error.statusText === \"string\" &&\n    typeof error.internal === \"boolean\" &&\n    \"data\" in error\n  );\n}\n","import type { History, Location, Path, To } from \"./history\";\nimport {\n  Action as HistoryAction,\n  createLocation,\n  createPath,\n  invariant,\n  parsePath,\n  warning,\n} from \"./history\";\nimport type {\n  AgnosticDataRouteMatch,\n  AgnosticDataRouteObject,\n  DataStrategyMatch,\n  AgnosticRouteObject,\n  DataResult,\n  DataStrategyFunction,\n  DataStrategyFunctionArgs,\n  DeferredData,\n  DeferredResult,\n  DetectErrorBoundaryFunction,\n  ErrorResult,\n  FormEncType,\n  FormMethod,\n  HTMLFormMethod,\n  HandlerResult,\n  ImmutableRouteKey,\n  MapRoutePropertiesFunction,\n  MutationFormMethod,\n  RedirectResult,\n  RouteData,\n  RouteManifest,\n  ShouldRevalidateFunctionArgs,\n  Submission,\n  SuccessResult,\n  UIMatch,\n  V7_FormMethod,\n  V7_MutationFormMethod,\n} from \"./utils\";\nimport {\n  ErrorResponseImpl,\n  ResultType,\n  convertRouteMatchToUiMatch,\n  convertRoutesToDataRoutes,\n  getPathContributingMatches,\n  getResolveToMatches,\n  immutableRouteKeys,\n  isRouteErrorResponse,\n  joinPaths,\n  matchRoutes,\n  resolveTo,\n  stripBasename,\n} from \"./utils\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A Router instance manages all navigation and data loading/mutations\n */\nexport interface Router {\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the basename for the router\n   */\n  get basename(): RouterInit[\"basename\"];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the future config for the router\n   */\n  get future(): FutureConfig;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the current state of the router\n   */\n  get state(): RouterState;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the routes for this router instance\n   */\n  get routes(): AgnosticDataRouteObject[];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the window associated with the router\n   */\n  get window(): RouterInit[\"window\"];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Initialize the router, including adding history listeners and kicking off\n   * initial data fetches.  Returns a function to cleanup listeners and abort\n   * any in-progress loads\n   */\n  initialize(): Router;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Subscribe to router.state updates\n   *\n   * @param fn function to call with the new state\n   */\n  subscribe(fn: RouterSubscriber): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Enable scroll restoration behavior in the router\n   *\n   * @param savedScrollPositions Object that will manage positions, in case\n   *                             it's being restored from sessionStorage\n   * @param getScrollPosition    Function to get the active Y scroll position\n   * @param getKey               Function to get the key to use for restoration\n   */\n  enableScrollRestoration(\n    savedScrollPositions: Record<string, number>,\n    getScrollPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Navigate forward/backward in the history stack\n   * @param to Delta to move in the history stack\n   */\n  navigate(to: number): Promise<void>;\n\n  /**\n   * Navigate to the given path\n   * @param to Path to navigate to\n   * @param opts Navigation options (method, submission, etc.)\n   */\n  navigate(to: To | null, opts?: RouterNavigateOptions): Promise<void>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a fetcher load/submission\n   *\n   * @param key     Fetcher key\n   * @param routeId Route that owns the fetcher\n   * @param href    href to fetch\n   * @param opts    Fetcher options, (method, submission, etc.)\n   */\n  fetch(\n    key: string,\n    routeId: string,\n    href: string | null,\n    opts?: RouterFetchOptions\n  ): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a revalidation of all current route loaders and fetcher loads\n   */\n  revalidate(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to create an href for the given location\n   * @param location\n   */\n  createHref(location: Location | URL): string;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to URL encode a destination path according to the internal\n   * history implementation\n   * @param to\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get/create a fetcher for the given key\n   * @param key\n   */\n  getFetcher<TData = any>(key: string): Fetcher<TData>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete the fetcher for a given key\n   * @param key\n   */\n  deleteFetcher(key: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Cleanup listeners and abort any in-progress loads\n   */\n  dispose(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get a navigation blocker\n   * @param key The identifier for the blocker\n   * @param fn The blocker function implementation\n   */\n  getBlocker(key: string, fn: BlockerFunction): Blocker;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete a navigation blocker\n   * @param key The identifier for the blocker\n   */\n  deleteBlocker(key: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * HMR needs to pass in-flight route updates to React Router\n   * TODO: Replace this with granular route update APIs (addRoute, updateRoute, deleteRoute)\n   */\n  _internalSetRoutes(routes: AgnosticRouteObject[]): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal fetch AbortControllers accessed by unit tests\n   */\n  _internalFetchControllers: Map<string, AbortController>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal pending DeferredData instances accessed by unit tests\n   */\n  _internalActiveDeferreds: Map<string, DeferredData>;\n}\n\n/**\n * State maintained internally by the router.  During a navigation, all states\n * reflect the the \"old\" location unless otherwise noted.\n */\nexport interface RouterState {\n  /**\n   * The action of the most recent navigation\n   */\n  historyAction: HistoryAction;\n\n  /**\n   * The current location reflected by the router\n   */\n  location: Location;\n\n  /**\n   * The current set of route matches\n   */\n  matches: AgnosticDataRouteMatch[];\n\n  /**\n   * Tracks whether we've completed our initial data load\n   */\n  initialized: boolean;\n\n  /**\n   * Current scroll position we should start at for a new view\n   *  - number -> scroll position to restore to\n   *  - false -> do not restore scroll at all (used during submissions)\n   *  - null -> don't have a saved position, scroll to hash or top of page\n   */\n  restoreScrollPosition: number | false | null;\n\n  /**\n   * Indicate whether this navigation should skip resetting the scroll position\n   * if we are unable to restore the scroll position\n   */\n  preventScrollReset: boolean;\n\n  /**\n   * Tracks the state of the current navigation\n   */\n  navigation: Navigation;\n\n  /**\n   * Tracks any in-progress revalidations\n   */\n  revalidation: RevalidationState;\n\n  /**\n   * Data from the loaders for the current matches\n   */\n  loaderData: RouteData;\n\n  /**\n   * Data from the action for the current matches\n   */\n  actionData: RouteData | null;\n\n  /**\n   * Errors caught from loaders for the current matches\n   */\n  errors: RouteData | null;\n\n  /**\n   * Map of current fetchers\n   */\n  fetchers: Map<string, Fetcher>;\n\n  /**\n   * Map of current blockers\n   */\n  blockers: Map<string, Blocker>;\n}\n\n/**\n * Data that can be passed into hydrate a Router from SSR\n */\nexport type HydrationState = Partial<\n  Pick<RouterState, \"loaderData\" | \"actionData\" | \"errors\">\n>;\n\n/**\n * Future flags to toggle new feature behavior\n */\nexport interface FutureConfig {\n  v7_fetcherPersist: boolean;\n  v7_normalizeFormMethod: boolean;\n  v7_partialHydration: boolean;\n  v7_prependBasename: boolean;\n  v7_relativeSplatPath: boolean;\n  unstable_skipActionErrorRevalidation: boolean;\n}\n\n/**\n * Initialization options for createRouter\n */\nexport interface RouterInit {\n  routes: AgnosticRouteObject[];\n  history: History;\n  basename?: string;\n  /**\n   * @deprecated Use `mapRouteProperties` instead\n   */\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n  mapRouteProperties?: MapRoutePropertiesFunction;\n  future?: Partial<FutureConfig>;\n  hydrationData?: HydrationState;\n  window?: Window;\n  unstable_dataStrategy?: DataStrategyFunction;\n}\n\n/**\n * State returned from a server-side query() call\n */\nexport interface StaticHandlerContext {\n  basename: Router[\"basename\"];\n  location: RouterState[\"location\"];\n  matches: RouterState[\"matches\"];\n  loaderData: RouterState[\"loaderData\"];\n  actionData: RouterState[\"actionData\"];\n  errors: RouterState[\"errors\"];\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n  actionHeaders: Record<string, Headers>;\n  activeDeferreds: Record<string, DeferredData> | null;\n  _deepestRenderedBoundaryId?: string | null;\n}\n\n/**\n * A StaticHandler instance manages a singular SSR navigation/fetch event\n */\nexport interface StaticHandler {\n  dataRoutes: AgnosticDataRouteObject[];\n  query(\n    request: Request,\n    opts?: {\n      requestContext?: unknown;\n      skipLoaderErrorBubbling?: boolean;\n      unstable_dataStrategy?: DataStrategyFunction;\n    }\n  ): Promise<StaticHandlerContext | Response>;\n  queryRoute(\n    request: Request,\n    opts?: {\n      routeId?: string;\n      requestContext?: unknown;\n      unstable_dataStrategy?: DataStrategyFunction;\n    }\n  ): Promise<any>;\n}\n\ntype ViewTransitionOpts = {\n  currentLocation: Location;\n  nextLocation: Location;\n};\n\n/**\n * Subscriber function signature for changes to router state\n */\nexport interface RouterSubscriber {\n  (\n    state: RouterState,\n    opts: {\n      deletedFetchers: string[];\n      unstable_viewTransitionOpts?: ViewTransitionOpts;\n      unstable_flushSync: boolean;\n    }\n  ): void;\n}\n\n/**\n * Function signature for determining the key to be used in scroll restoration\n * for a given location\n */\nexport interface GetScrollRestorationKeyFunction {\n  (location: Location, matches: UIMatch[]): string | null;\n}\n\n/**\n * Function signature for determining the current scroll position\n */\nexport interface GetScrollPositionFunction {\n  (): number;\n}\n\nexport type RelativeRoutingType = \"route\" | \"path\";\n\n// Allowed for any navigation or fetch\ntype BaseNavigateOrFetchOptions = {\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  unstable_flushSync?: boolean;\n};\n\n// Only allowed for navigations\ntype BaseNavigateOptions = BaseNavigateOrFetchOptions & {\n  replace?: boolean;\n  state?: any;\n  fromRouteId?: string;\n  unstable_viewTransition?: boolean;\n};\n\n// Only allowed for submission navigations\ntype BaseSubmissionOptions = {\n  formMethod?: HTMLFormMethod;\n  formEncType?: FormEncType;\n} & (\n  | { formData: FormData; body?: undefined }\n  | { formData?: undefined; body: any }\n);\n\n/**\n * Options for a navigate() call for a normal (non-submission) navigation\n */\ntype LinkNavigateOptions = BaseNavigateOptions;\n\n/**\n * Options for a navigate() call for a submission navigation\n */\ntype SubmissionNavigateOptions = BaseNavigateOptions & BaseSubmissionOptions;\n\n/**\n * Options to pass to navigate() for a navigation\n */\nexport type RouterNavigateOptions =\n  | LinkNavigateOptions\n  | SubmissionNavigateOptions;\n\n/**\n * Options for a fetch() load\n */\ntype LoadFetchOptions = BaseNavigateOrFetchOptions;\n\n/**\n * Options for a fetch() submission\n */\ntype SubmitFetchOptions = BaseNavigateOrFetchOptions & BaseSubmissionOptions;\n\n/**\n * Options to pass to fetch()\n */\nexport type RouterFetchOptions = LoadFetchOptions | SubmitFetchOptions;\n\n/**\n * Potential states for state.navigation\n */\nexport type NavigationStates = {\n  Idle: {\n    state: \"idle\";\n    location: undefined;\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    formData: undefined;\n    json: undefined;\n    text: undefined;\n  };\n  Loading: {\n    state: \"loading\";\n    location: Location;\n    formMethod: Submission[\"formMethod\"] | undefined;\n    formAction: Submission[\"formAction\"] | undefined;\n    formEncType: Submission[\"formEncType\"] | undefined;\n    formData: Submission[\"formData\"] | undefined;\n    json: Submission[\"json\"] | undefined;\n    text: Submission[\"text\"] | undefined;\n  };\n  Submitting: {\n    state: \"submitting\";\n    location: Location;\n    formMethod: Submission[\"formMethod\"];\n    formAction: Submission[\"formAction\"];\n    formEncType: Submission[\"formEncType\"];\n    formData: Submission[\"formData\"];\n    json: Submission[\"json\"];\n    text: Submission[\"text\"];\n  };\n};\n\nexport type Navigation = NavigationStates[keyof NavigationStates];\n\nexport type RevalidationState = \"idle\" | \"loading\";\n\n/**\n * Potential states for fetchers\n */\ntype FetcherStates<TData = any> = {\n  Idle: {\n    state: \"idle\";\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    text: undefined;\n    formData: undefined;\n    json: undefined;\n    data: TData | undefined;\n  };\n  Loading: {\n    state: \"loading\";\n    formMethod: Submission[\"formMethod\"] | undefined;\n    formAction: Submission[\"formAction\"] | undefined;\n    formEncType: Submission[\"formEncType\"] | undefined;\n    text: Submission[\"text\"] | undefined;\n    formData: Submission[\"formData\"] | undefined;\n    json: Submission[\"json\"] | undefined;\n    data: TData | undefined;\n  };\n  Submitting: {\n    state: \"submitting\";\n    formMethod: Submission[\"formMethod\"];\n    formAction: Submission[\"formAction\"];\n    formEncType: Submission[\"formEncType\"];\n    text: Submission[\"text\"];\n    formData: Submission[\"formData\"];\n    json: Submission[\"json\"];\n    data: TData | undefined;\n  };\n};\n\nexport type Fetcher<TData = any> =\n  FetcherStates<TData>[keyof FetcherStates<TData>];\n\ninterface BlockerBlocked {\n  state: \"blocked\";\n  reset(): void;\n  proceed(): void;\n  location: Location;\n}\n\ninterface BlockerUnblocked {\n  state: \"unblocked\";\n  reset: undefined;\n  proceed: undefined;\n  location: undefined;\n}\n\ninterface BlockerProceeding {\n  state: \"proceeding\";\n  reset: undefined;\n  proceed: undefined;\n  location: Location;\n}\n\nexport type Blocker = BlockerUnblocked | BlockerBlocked | BlockerProceeding;\n\nexport type BlockerFunction = (args: {\n  currentLocation: Location;\n  nextLocation: Location;\n  historyAction: HistoryAction;\n}) => boolean;\n\ninterface ShortCircuitable {\n  /**\n   * startNavigation does not need to complete the navigation because we\n   * redirected or got interrupted\n   */\n  shortCircuited?: boolean;\n}\n\ntype PendingActionResult = [string, SuccessResult | ErrorResult];\n\ninterface HandleActionResult extends ShortCircuitable {\n  /**\n   * Tuple for the returned or thrown value from the current action.  The routeId\n   * is the action route for success and the bubbled boundary route for errors.\n   */\n  pendingActionResult?: PendingActionResult;\n}\n\ninterface HandleLoadersResult extends ShortCircuitable {\n  /**\n   * loaderData returned from the current set of loaders\n   */\n  loaderData?: RouterState[\"loaderData\"];\n  /**\n   * errors thrown from the current set of loaders\n   */\n  errors?: RouterState[\"errors\"];\n}\n\n/**\n * Cached info for active fetcher.load() instances so they can participate\n * in revalidation\n */\ninterface FetchLoadMatch {\n  routeId: string;\n  path: string;\n}\n\n/**\n * Identified fetcher.load() calls that need to be revalidated\n */\ninterface RevalidatingFetcher extends FetchLoadMatch {\n  key: string;\n  match: AgnosticDataRouteMatch | null;\n  matches: AgnosticDataRouteMatch[] | null;\n  controller: AbortController | null;\n}\n\nconst validMutationMethodsArr: MutationFormMethod[] = [\n  \"post\",\n  \"put\",\n  \"patch\",\n  \"delete\",\n];\nconst validMutationMethods = new Set<MutationFormMethod>(\n  validMutationMethodsArr\n);\n\nconst validRequestMethodsArr: FormMethod[] = [\n  \"get\",\n  ...validMutationMethodsArr,\n];\nconst validRequestMethods = new Set<FormMethod>(validRequestMethodsArr);\n\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\n\nexport const IDLE_NAVIGATION: NavigationStates[\"Idle\"] = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined,\n};\n\nexport const IDLE_FETCHER: FetcherStates[\"Idle\"] = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined,\n};\n\nexport const IDLE_BLOCKER: BlockerUnblocked = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined,\n};\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\nconst defaultMapRouteProperties: MapRoutePropertiesFunction = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary),\n});\n\nconst TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Create a router and listen to history POP navigations\n */\nexport function createRouter(init: RouterInit): Router {\n  const routerWindow = init.window\n    ? init.window\n    : typeof window !== \"undefined\"\n    ? window\n    : undefined;\n  const isBrowser =\n    typeof routerWindow !== \"undefined\" &&\n    typeof routerWindow.document !== \"undefined\" &&\n    typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n\n  let mapRouteProperties: MapRoutePropertiesFunction;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = (route) => ({\n      hasErrorBoundary: detectErrorBoundary(route),\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n\n  // Routes keyed by ID\n  let manifest: RouteManifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties,\n    undefined,\n    manifest\n  );\n  let inFlightDataRoutes: AgnosticDataRouteObject[] | undefined;\n  let basename = init.basename || \"/\";\n  let dataStrategyImpl = init.unstable_dataStrategy || defaultDataStrategy;\n  // Config driven behavior flags\n  let future: FutureConfig = {\n    v7_fetcherPersist: false,\n    v7_normalizeFormMethod: false,\n    v7_partialHydration: false,\n    v7_prependBasename: false,\n    v7_relativeSplatPath: false,\n    unstable_skipActionErrorRevalidation: false,\n    ...init.future,\n  };\n  // Cleanup function for history\n  let unlistenHistory: (() => void) | null = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set<RouterSubscriber>();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions: Record<string, number> | null = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey: GetScrollRestorationKeyFunction | null = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition: GetScrollPositionFunction | null = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialErrors: RouteData | null = null;\n\n  if (initialMatches == null) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname,\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  }\n\n  let initialized: boolean;\n  let hasLazyRoutes = initialMatches.some((m) => m.route.lazy);\n  let hasLoaders = initialMatches.some((m) => m.route.loader);\n  if (hasLazyRoutes) {\n    // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    initialized = false;\n  } else if (!hasLoaders) {\n    // If we've got no loaders to run, then we're good to go\n    initialized = true;\n  } else if (future.v7_partialHydration) {\n    // If partial hydration is enabled, we're initialized so long as we were\n    // provided with hydrationData for every route with a loader, and no loaders\n    // were marked for explicit hydration\n    let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n    let errors = init.hydrationData ? init.hydrationData.errors : null;\n    let isRouteInitialized = (m: AgnosticDataRouteMatch) => {\n      // No loader, nothing to initialize\n      if (!m.route.loader) {\n        return true;\n      }\n      // Explicitly opting-in to running on hydration\n      if (\n        typeof m.route.loader === \"function\" &&\n        m.route.loader.hydrate === true\n      ) {\n        return false;\n      }\n      // Otherwise, initialized if hydrated with data or an error\n      return (\n        (loaderData && loaderData[m.route.id] !== undefined) ||\n        (errors && errors[m.route.id] !== undefined)\n      );\n    };\n\n    // If errors exist, don't consider routes below the boundary\n    if (errors) {\n      let idx = initialMatches.findIndex(\n        (m) => errors![m.route.id] !== undefined\n      );\n      initialized = initialMatches.slice(0, idx + 1).every(isRouteInitialized);\n    } else {\n      initialized = initialMatches.every(isRouteInitialized);\n    }\n  } else {\n    // Without partial hydration - we're initialized if we were provided any\n    // hydrationData - which is expected to be complete\n    initialized = init.hydrationData != null;\n  }\n\n  let router: Router;\n  let state: RouterState = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: (init.hydrationData && init.hydrationData.loaderData) || {},\n    actionData: (init.hydrationData && init.hydrationData.actionData) || null,\n    errors: (init.hydrationData && init.hydrationData.errors) || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map(),\n  };\n\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction: HistoryAction = HistoryAction.Pop;\n\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n\n  // AbortController for the active navigation\n  let pendingNavigationController: AbortController | null;\n\n  // Should the current navigation enable document.startViewTransition?\n  let pendingViewTransitionEnabled = false;\n\n  // Store applied view transitions so we can apply them on POP\n  let appliedViewTransitions: Map<string, Set<string>> = new Map<\n    string,\n    Set<string>\n  >();\n\n  // Cleanup function for persisting applied transitions to sessionStorage\n  let removePageHideEventListener: (() => void) | null = null;\n\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes: string[] = [];\n\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads: string[] = [];\n\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map<string, AbortController>();\n\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map<string, number>();\n\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set<string>();\n\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map<string, FetchLoadMatch>();\n\n  // Ref-count mounted fetchers so we know when it's ok to clean them up\n  let activeFetchers = new Map<string, number>();\n\n  // Fetchers that have requested a delete when using v7_fetcherPersist,\n  // they'll be officially removed after they return to idle\n  let deletedFetchers = new Set<string>();\n\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map<string, DeferredData>();\n\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map<string, BlockerFunction>();\n\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let ignoreNextHistoryUpdate = false;\n\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        // Ignore this event if it was just us resetting the URL from a\n        // blocked POP navigation\n        if (ignoreNextHistoryUpdate) {\n          ignoreNextHistoryUpdate = false;\n          return;\n        }\n\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location \" +\n            \"that was not created by @remix-run/router. This will fail silently in \" +\n            \"production. This can happen if you are navigating outside the router \" +\n            \"via `window.history.pushState`/`window.location.hash` instead of using \" +\n            \"router navigation APIs.  This can also happen if you are using \" +\n            \"createHashRouter and the user manually changes the URL.\"\n        );\n\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction,\n        });\n\n        if (blockerKey && delta != null) {\n          // Restore the URL to match the current UI, but don't update router state\n          ignoreNextHistoryUpdate = true;\n          init.history.go(delta * -1);\n\n          // Put the blocker into a blocked state\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey!, {\n                state: \"proceeding\",\n                proceed: undefined,\n                reset: undefined,\n                location,\n              });\n              // Re-do the same POP navigation we just blocked\n              init.history.go(delta);\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey!, IDLE_BLOCKER);\n              updateState({ blockers });\n            },\n          });\n          return;\n        }\n\n        return startNavigation(historyAction, location);\n      }\n    );\n\n    if (isBrowser) {\n      // FIXME: This feels gross.  How can we cleanup the lines between\n      // scrollRestoration/appliedTransitions persistance?\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () =>\n        persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () =>\n        routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(HistoryAction.Pop, state.location, {\n        initialHydration: true,\n      });\n    }\n\n    return router;\n  }\n\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n\n  // Subscribe to state updates for the router\n  function subscribe(fn: RouterSubscriber) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n\n  // Update our state and notify the calling context of the change\n  function updateState(\n    newState: Partial<RouterState>,\n    opts: {\n      flushSync?: boolean;\n      viewTransitionOpts?: ViewTransitionOpts;\n    } = {}\n  ): void {\n    state = {\n      ...state,\n      ...newState,\n    };\n\n    // Prep fetcher cleanup so we can tell the UI which fetcher data entries\n    // can be removed\n    let completedFetchers: string[] = [];\n    let deletedFetchersKeys: string[] = [];\n\n    if (future.v7_fetcherPersist) {\n      state.fetchers.forEach((fetcher, key) => {\n        if (fetcher.state === \"idle\") {\n          if (deletedFetchers.has(key)) {\n            // Unmounted from the UI and can be totally removed\n            deletedFetchersKeys.push(key);\n          } else {\n            // Returned to idle but still mounted in the UI, so semi-remains for\n            // revalidations and such\n            completedFetchers.push(key);\n          }\n        }\n      });\n    }\n\n    // Iterate over a local copy so that if flushSync is used and we end up\n    // removing and adding a new subscriber due to the useCallback dependencies,\n    // we don't get ourselves into a loop calling the new subscriber immediately\n    [...subscribers].forEach((subscriber) =>\n      subscriber(state, {\n        deletedFetchers: deletedFetchersKeys,\n        unstable_viewTransitionOpts: opts.viewTransitionOpts,\n        unstable_flushSync: opts.flushSync === true,\n      })\n    );\n\n    // Remove idle fetchers from state since we only care about in-flight fetchers.\n    if (future.v7_fetcherPersist) {\n      completedFetchers.forEach((key) => state.fetchers.delete(key));\n      deletedFetchersKeys.forEach((key) => deleteFetcher(key));\n    }\n  }\n\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(\n    location: Location,\n    newState: Partial<Omit<RouterState, \"action\" | \"location\" | \"navigation\">>,\n    { flushSync }: { flushSync?: boolean } = {}\n  ): void {\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload =\n      state.actionData != null &&\n      state.navigation.formMethod != null &&\n      isMutationMethod(state.navigation.formMethod) &&\n      state.navigation.state === \"loading\" &&\n      location.state?._isRedirect !== true;\n\n    let actionData: RouteData | null;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData\n      ? mergeLoaderData(\n          state.loaderData,\n          newState.loaderData,\n          newState.matches || [],\n          newState.errors\n        )\n      : state.loaderData;\n\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset =\n      pendingPreventScrollReset === true ||\n      (state.navigation.formMethod != null &&\n        isMutationMethod(state.navigation.formMethod) &&\n        location.state?._isRedirect !== true);\n\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n\n    if (isUninterruptedRevalidation) {\n      // If this was an uninterrupted revalidation then do not touch history\n    } else if (pendingAction === HistoryAction.Pop) {\n      // Do nothing for POP - URL has already been updated\n    } else if (pendingAction === HistoryAction.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === HistoryAction.Replace) {\n      init.history.replace(location, location.state);\n    }\n\n    let viewTransitionOpts: ViewTransitionOpts | undefined;\n\n    // On POP, enable transitions if they were enabled on the original navigation\n    if (pendingAction === HistoryAction.Pop) {\n      // Forward takes precedence so they behave like the original navigation\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location,\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        // If we don't have a previous forward nav, assume we're popping back to\n        // the new location and enable if that location previously enabled\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location,\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      // Store the applied transition on PUSH/REPLACE\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = new Set<string>([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location,\n      };\n    }\n\n    updateState(\n      {\n        ...newState, // matches, errors, fetchers go through as-is\n        actionData,\n        loaderData,\n        historyAction: pendingAction,\n        location,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        revalidation: \"idle\",\n        restoreScrollPosition: getSavedScrollPosition(\n          location,\n          newState.matches || state.matches\n        ),\n        preventScrollReset,\n        blockers,\n      },\n      {\n        viewTransitionOpts,\n        flushSync: flushSync === true,\n      }\n    );\n\n    // Reset stateful navigation vars\n    pendingAction = HistoryAction.Pop;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n    cancelledFetcherLoads = [];\n  }\n\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(\n    to: number | To | null,\n    opts?: RouterNavigateOptions\n  ): Promise<void> {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      future.v7_prependBasename,\n      to,\n      future.v7_relativeSplatPath,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      future.v7_normalizeFormMethod,\n      false,\n      normalizedPath,\n      opts\n    );\n\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation),\n    };\n\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n\n    let historyAction = HistoryAction.Push;\n\n    if (userReplace === true) {\n      historyAction = HistoryAction.Replace;\n    } else if (userReplace === false) {\n      // no-op\n    } else if (\n      submission != null &&\n      isMutationMethod(submission.formMethod) &&\n      submission.formAction === state.location.pathname + state.location.search\n    ) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = HistoryAction.Replace;\n    }\n\n    let preventScrollReset =\n      opts && \"preventScrollReset\" in opts\n        ? opts.preventScrollReset === true\n        : undefined;\n\n    let flushSync = (opts && opts.unstable_flushSync) === true;\n\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction,\n    });\n\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey!, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation,\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey!, IDLE_BLOCKER);\n          updateState({ blockers });\n        },\n      });\n      return;\n    }\n\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.unstable_viewTransition,\n      flushSync,\n    });\n  }\n\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true,\n      });\n      return;\n    }\n\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      { overrideNavigation: state.navigation }\n    );\n  }\n\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(\n    historyAction: HistoryAction,\n    location: Location,\n    opts?: {\n      initialHydration?: boolean;\n      submission?: Submission;\n      fetcherSubmission?: Submission;\n      overrideNavigation?: Navigation;\n      pendingError?: ErrorResponseImpl;\n      startUninterruptedRevalidation?: boolean;\n      preventScrollReset?: boolean;\n      replace?: boolean;\n      enableViewTransition?: boolean;\n      flushSync?: boolean;\n    }\n  ): Promise<void> {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation =\n      (opts && opts.startUninterruptedRevalidation) === true;\n\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(routesToUse);\n      // Cancel all pending deferred on 404s since we don't keep any routes\n      cancelActiveDeferreds();\n      completeNavigation(\n        location,\n        {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error,\n          },\n        },\n        { flushSync }\n      );\n      return;\n    }\n\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial load will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (\n      state.initialized &&\n      !isRevalidationRequired &&\n      isHashChangeOnly(state.location, location) &&\n      !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))\n    ) {\n      completeNavigation(location, { matches }, { flushSync });\n      return;\n    }\n\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let pendingActionResult: PendingActionResult | undefined;\n\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingActionResult = [\n        findNearestBoundary(matches).route.id,\n        { type: ResultType.error, error: opts.pendingError },\n      ];\n    } else if (\n      opts &&\n      opts.submission &&\n      isMutationMethod(opts.submission.formMethod)\n    ) {\n      // Call action if we received an action submission\n      let actionResult = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        { replace: opts.replace, flushSync }\n      );\n\n      if (actionResult.shortCircuited) {\n        return;\n      }\n\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n\n      // Create a GET request for the loaders\n      request = createClientSideRequest(\n        init.history,\n        request.url,\n        request.signal\n      );\n    }\n\n    // Call loaders\n    let { shortCircuited, loaderData, errors } = await handleLoaders(\n      request,\n      location,\n      matches,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      opts && opts.initialHydration === true,\n      flushSync,\n      pendingActionResult\n    );\n\n    if (shortCircuited) {\n      return;\n    }\n\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n\n    completeNavigation(location, {\n      matches,\n      ...getActionDataForCommit(pendingActionResult),\n      loaderData,\n      errors,\n    });\n  }\n\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(\n    request: Request,\n    location: Location,\n    submission: Submission,\n    matches: AgnosticDataRouteMatch[],\n    opts: { replace?: boolean; flushSync?: boolean } = {}\n  ): Promise<HandleActionResult> {\n    interruptActiveLoads();\n\n    // Put us in a submitting state\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation }, { flushSync: opts.flushSync === true });\n\n    // Call our action and get the result\n    let result: DataResult;\n    let actionMatch = getTargetMatch(matches, location);\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id,\n        }),\n      };\n    } else {\n      let results = await callDataStrategy(\n        \"action\",\n        request,\n        [actionMatch],\n        matches\n      );\n      result = results[0];\n\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      let replace: boolean;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        let location = normalizeRedirectLocation(\n          result.response.headers.get(\"Location\")!,\n          new URL(request.url),\n          basename\n        );\n        replace = location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, {\n        submission,\n        replace,\n      });\n      return { shortCircuited: true };\n    }\n\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n\n      // By default, all submissions are REPLACE navigations, but if the\n      // action threw an error that'll be rendered in an errorElement, we fall\n      // back to PUSH so that the user can use the back button to get back to\n      // the pre-submission form location to try again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = HistoryAction.Push;\n      }\n\n      return {\n        pendingActionResult: [boundaryMatch.route.id, result],\n      };\n    }\n\n    return {\n      pendingActionResult: [actionMatch.route.id, result],\n    };\n  }\n\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    overrideNavigation?: Navigation,\n    submission?: Submission,\n    fetcherSubmission?: Submission,\n    replace?: boolean,\n    initialHydration?: boolean,\n    flushSync?: boolean,\n    pendingActionResult?: PendingActionResult\n  ): Promise<HandleLoadersResult> {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation =\n      overrideNavigation || getLoadingNavigation(location, submission);\n\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission =\n      submission ||\n      fetcherSubmission ||\n      getSubmissionFromNavigation(loadingNavigation);\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      future.v7_partialHydration && initialHydration === true,\n      future.unstable_skipActionErrorRevalidation,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      deletedFetchers,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      pendingActionResult\n    );\n\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(\n      (routeId) =>\n        !(matches && matches.some((m) => m.route.id === routeId)) ||\n        (matchesToLoad && matchesToLoad.some((m) => m.route.id === routeId))\n    );\n\n    pendingNavigationLoadId = ++incrementingLoadId;\n\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(\n        location,\n        {\n          matches,\n          loaderData: {},\n          // Commit pending error if we're short circuiting\n          errors:\n            pendingActionResult && isErrorResult(pendingActionResult[1])\n              ? { [pendingActionResult[0]]: pendingActionResult[1].error }\n              : null,\n          ...getActionDataForCommit(pendingActionResult),\n          ...(updatedFetchers ? { fetchers: new Map(state.fetchers) } : {}),\n        },\n        { flushSync }\n      );\n      return { shortCircuited: true };\n    }\n\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    // If we have partialHydration enabled, then don't update the state for the\n    // initial data load since it's not a \"navigation\"\n    if (\n      !isUninterruptedRevalidation &&\n      (!future.v7_partialHydration || !initialHydration)\n    ) {\n      revalidatingFetchers.forEach((rf) => {\n        let fetcher = state.fetchers.get(rf.key);\n        let revalidatingFetcher = getLoadingFetcher(\n          undefined,\n          fetcher ? fetcher.data : undefined\n        );\n        state.fetchers.set(rf.key, revalidatingFetcher);\n      });\n\n      let actionData: Record<string, RouteData> | null | undefined;\n      if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n        // This is cast to `any` currently because `RouteData`uses any and it\n        // would be a breaking change to use any.\n        // TODO: v7 - change `RouteData` to use `unknown` instead of `any`\n        actionData = {\n          [pendingActionResult[0]]: pendingActionResult[1].data as any,\n        };\n      } else if (state.actionData) {\n        if (Object.keys(state.actionData).length === 0) {\n          actionData = null;\n        } else {\n          actionData = state.actionData;\n        }\n      }\n\n      updateState(\n        {\n          navigation: loadingNavigation,\n          ...(actionData !== undefined ? { actionData } : {}),\n          ...(revalidatingFetchers.length > 0\n            ? { fetchers: new Map(state.fetchers) }\n            : {}),\n        },\n        {\n          flushSync,\n        }\n      );\n    }\n\n    revalidatingFetchers.forEach((rf) => {\n      if (fetchControllers.has(rf.key)) {\n        abortFetcher(rf.key);\n      }\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () =>\n      revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n\n    let { loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        request\n      );\n\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect([...loaderResults, ...fetcherResults]);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey =\n          revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      await startRedirectNavigation(request, redirect.result, {\n        replace,\n      });\n      return { shortCircuited: true };\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      matchesToLoad,\n      loaderResults,\n      pendingActionResult,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe((aborted) => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n\n    // During partial hydration, preserve SSR errors for routes that don't re-run\n    if (future.v7_partialHydration && initialHydration && state.errors) {\n      Object.entries(state.errors)\n        .filter(([id]) => !matchesToLoad.some((m) => m.route.id === id))\n        .forEach(([routeId, error]) => {\n          errors = Object.assign(errors || {}, { [routeId]: error });\n        });\n    }\n\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers =\n      updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n\n    return {\n      loaderData,\n      errors,\n      ...(shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}),\n    };\n  }\n\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(\n    key: string,\n    routeId: string,\n    href: string | null,\n    opts?: RouterFetchOptions\n  ) {\n    if (isServer) {\n      throw new Error(\n        \"router.fetch() was called during the server render, but it shouldn't be. \" +\n          \"You are likely calling a useFetcher() method in the body of your component. \" +\n          \"Try moving it to a useEffect or a callback.\"\n      );\n    }\n\n    if (fetchControllers.has(key)) abortFetcher(key);\n    let flushSync = (opts && opts.unstable_flushSync) === true;\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      future.v7_prependBasename,\n      href,\n      future.v7_relativeSplatPath,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath }),\n        { flushSync }\n      );\n      return;\n    }\n\n    let { path, submission, error } = normalizeNavigateOptions(\n      future.v7_normalizeFormMethod,\n      true,\n      normalizedPath,\n      opts\n    );\n\n    if (error) {\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n\n    let match = getTargetMatch(matches, path);\n\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(\n        key,\n        routeId,\n        path,\n        match,\n        matches,\n        flushSync,\n        submission\n      );\n      return;\n    }\n\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, { routeId, path });\n    handleFetcherLoader(\n      key,\n      routeId,\n      path,\n      match,\n      matches,\n      flushSync,\n      submission\n    );\n  }\n\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    requestMatches: AgnosticDataRouteMatch[],\n    flushSync: boolean,\n    submission: Submission\n  ) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId: routeId,\n      });\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync,\n    });\n\n    // Call the action for the fetcher\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    fetchControllers.set(key, abortController);\n\n    let originatingLoadId = incrementingLoadId;\n    let actionResults = await callDataStrategy(\n      \"action\",\n      fetchRequest,\n      [match],\n      requestMatches\n    );\n    let actionResult = actionResults[0];\n\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n\n    // When using v7_fetcherPersist, we don't want errors bubbling up to the UI\n    // or redirects processed for unmounted fetchers so we just revert them to\n    // idle\n    if (future.v7_fetcherPersist && deletedFetchers.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(undefined));\n        return;\n      }\n      // Let SuccessResult's fall through for revalidation\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          // A new navigation was kicked off after our action started, so that\n          // should take precedence over this redirect navigation.  We already\n          // set isRevalidationRequired so all loaders for the new route should\n          // fire unless opted out via shouldRevalidate\n          updateFetcherState(key, getDoneFetcher(undefined));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, {\n            fetcherSubmission: submission,\n          });\n        }\n      }\n\n      // Process any non-redirect errors thrown\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches =\n      state.navigation.state !== \"idle\"\n        ? matchRoutes(routesToUse, state.navigation.location, basename)\n        : state.matches;\n\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      false,\n      future.unstable_skipActionErrorRevalidation,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      deletedFetchers,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      [match.route.id, actionResult]\n    );\n\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers\n      .filter((rf) => rf.key !== key)\n      .forEach((rf) => {\n        let staleKey = rf.key;\n        let existingFetcher = state.fetchers.get(staleKey);\n        let revalidatingFetcher = getLoadingFetcher(\n          undefined,\n          existingFetcher ? existingFetcher.data : undefined\n        );\n        state.fetchers.set(staleKey, revalidatingFetcher);\n        if (fetchControllers.has(staleKey)) {\n          abortFetcher(staleKey);\n        }\n        if (rf.controller) {\n          fetchControllers.set(staleKey, rf.controller);\n        }\n      });\n\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    let abortPendingFetchRevalidations = () =>\n      revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n\n    let { loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        revalidationRequest\n      );\n\n    if (abortController.signal.aborted) {\n      return;\n    }\n\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n\n    let redirect = findRedirect([...loaderResults, ...fetcherResults]);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey =\n          revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      return startRedirectNavigation(revalidationRequest, redirect.result);\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      state.matches,\n      matchesToLoad,\n      loaderResults,\n      undefined,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n\n    abortStaleFetchLoads(loadId);\n\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (\n      state.navigation.state === \"loading\" &&\n      loadId > pendingNavigationLoadId\n    ) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers),\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        fetchers: new Map(state.fetchers),\n      });\n      isRevalidationRequired = false;\n    }\n  }\n\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    matches: AgnosticDataRouteMatch[],\n    flushSync: boolean,\n    submission?: Submission\n  ) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(\n      key,\n      getLoadingFetcher(\n        submission,\n        existingFetcher ? existingFetcher.data : undefined\n      ),\n      { flushSync }\n    );\n\n    // Call the loader for this fetcher route match\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    fetchControllers.set(key, abortController);\n\n    let originatingLoadId = incrementingLoadId;\n    let results = await callDataStrategy(\n      \"loader\",\n      fetchRequest,\n      [match],\n      matches\n    );\n    let result = results[0];\n\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result =\n        (await resolveDeferredData(result, fetchRequest.signal, true)) ||\n        result;\n    }\n\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n\n    // We don't want errors bubbling up or redirects followed for unmounted\n    // fetchers, so short circuit here if it was removed from the UI\n    if (deletedFetchers.has(key)) {\n      updateFetcherState(key, getDoneFetcher(undefined));\n      return;\n    }\n\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our loader started, so that\n        // should take precedence over this redirect navigation\n        updateFetcherState(key, getDoneFetcher(undefined));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result);\n        return;\n      }\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n\n    // Put the fetcher back into an idle state\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(\n    request: Request,\n    redirect: RedirectResult,\n    {\n      submission,\n      fetcherSubmission,\n      replace,\n    }: {\n      submission?: Submission;\n      fetcherSubmission?: Submission;\n      replace?: boolean;\n    } = {}\n  ) {\n    if (redirect.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n\n    let location = redirect.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(\n      location,\n      new URL(request.url),\n      basename\n    );\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true,\n    });\n\n    if (isBrowser) {\n      let isDocumentReload = false;\n\n      if (redirect.response.headers.has(\"X-Remix-Reload-Document\")) {\n        // Hard reload if the response contained X-Remix-Reload-Document\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(location)) {\n        const url = init.history.createURL(location);\n        isDocumentReload =\n          // Hard reload if it's an absolute URL to a new origin\n          url.origin !== routerWindow.location.origin ||\n          // Hard reload if it's an absolute URL that does not match our basename\n          stripBasename(url.pathname, basename) == null;\n      }\n\n      if (isDocumentReload) {\n        if (replace) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n\n    let redirectHistoryAction =\n      replace === true ? HistoryAction.Replace : HistoryAction.Push;\n\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let { formMethod, formAction, formEncType } = state.navigation;\n    if (\n      !submission &&\n      !fetcherSubmission &&\n      formMethod &&\n      formAction &&\n      formEncType\n    ) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    let activeSubmission = submission || fetcherSubmission;\n    if (\n      redirectPreserveMethodStatusCodes.has(redirect.response.status) &&\n      activeSubmission &&\n      isMutationMethod(activeSubmission.formMethod)\n    ) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: location,\n        },\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else {\n      // If we have a navigation submission, we will preserve it through the\n      // redirect navigation\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        submission\n      );\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    }\n  }\n\n  // Utility wrapper for calling dataStrategy client-side without having to\n  // pass around the manifest, mapRouteProperties, etc.\n  async function callDataStrategy(\n    type: \"loader\" | \"action\",\n    request: Request,\n    matchesToLoad: AgnosticDataRouteMatch[],\n    matches: AgnosticDataRouteMatch[]\n  ): Promise<DataResult[]> {\n    try {\n      let results = await callDataStrategyImpl(\n        dataStrategyImpl,\n        type,\n        request,\n        matchesToLoad,\n        matches,\n        manifest,\n        mapRouteProperties\n      );\n\n      return await Promise.all(\n        results.map((result, i) => {\n          if (isRedirectHandlerResult(result)) {\n            let response = result.result as Response;\n            return {\n              type: ResultType.redirect,\n              response: normalizeRelativeRoutingRedirectResponse(\n                response,\n                request,\n                matchesToLoad[i].route.id,\n                matches,\n                basename,\n                future.v7_relativeSplatPath\n              ),\n            };\n          }\n\n          return convertHandlerResultToDataResult(result);\n        })\n      );\n    } catch (e) {\n      // If the outer dataStrategy method throws, just return the error for all\n      // matches - and it'll naturally bubble to the root\n      return matchesToLoad.map(() => ({\n        type: ResultType.error,\n        error: e,\n      }));\n    }\n  }\n\n  async function callLoadersAndMaybeResolveData(\n    currentMatches: AgnosticDataRouteMatch[],\n    matches: AgnosticDataRouteMatch[],\n    matchesToLoad: AgnosticDataRouteMatch[],\n    fetchersToLoad: RevalidatingFetcher[],\n    request: Request\n  ) {\n    let [loaderResults, ...fetcherResults] = await Promise.all([\n      matchesToLoad.length\n        ? callDataStrategy(\"loader\", request, matchesToLoad, matches)\n        : [],\n      ...fetchersToLoad.map((f) => {\n        if (f.matches && f.match && f.controller) {\n          let fetcherRequest = createClientSideRequest(\n            init.history,\n            f.path,\n            f.controller.signal\n          );\n          return callDataStrategy(\n            \"loader\",\n            fetcherRequest,\n            [f.match],\n            f.matches\n          ).then((r) => r[0]);\n        } else {\n          return Promise.resolve<DataResult>({\n            type: ResultType.error,\n            error: getInternalRouterError(404, {\n              pathname: f.path,\n            }),\n          });\n        }\n      }),\n    ]);\n\n    await Promise.all([\n      resolveDeferredResults(\n        currentMatches,\n        matchesToLoad,\n        loaderResults,\n        loaderResults.map(() => request.signal),\n        false,\n        state.loaderData\n      ),\n      resolveDeferredResults(\n        currentMatches,\n        fetchersToLoad.map((f) => f.match),\n        fetcherResults,\n        fetchersToLoad.map((f) => (f.controller ? f.controller.signal : null)),\n        true\n      ),\n    ]);\n\n    return {\n      loaderResults,\n      fetcherResults,\n    };\n  }\n\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.push(key);\n        abortFetcher(key);\n      }\n    });\n  }\n\n  function updateFetcherState(\n    key: string,\n    fetcher: Fetcher,\n    opts: { flushSync?: boolean } = {}\n  ) {\n    state.fetchers.set(key, fetcher);\n    updateState(\n      { fetchers: new Map(state.fetchers) },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n\n  function setFetcherError(\n    key: string,\n    routeId: string,\n    error: any,\n    opts: { flushSync?: boolean } = {}\n  ) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState(\n      {\n        errors: {\n          [boundaryMatch.route.id]: error,\n        },\n        fetchers: new Map(state.fetchers),\n      },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n\n  function getFetcher<TData = any>(key: string): Fetcher<TData> {\n    if (future.v7_fetcherPersist) {\n      activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n      // If this fetcher was previously marked for deletion, unmark it since we\n      // have a new instance\n      if (deletedFetchers.has(key)) {\n        deletedFetchers.delete(key);\n      }\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n\n  function deleteFetcher(key: string): void {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (\n      fetchControllers.has(key) &&\n      !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))\n    ) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    deletedFetchers.delete(key);\n    state.fetchers.delete(key);\n  }\n\n  function deleteFetcherAndUpdateState(key: string): void {\n    if (future.v7_fetcherPersist) {\n      let count = (activeFetchers.get(key) || 0) - 1;\n      if (count <= 0) {\n        activeFetchers.delete(key);\n        deletedFetchers.add(key);\n      } else {\n        activeFetchers.set(key, count);\n      }\n    } else {\n      deleteFetcher(key);\n    }\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n\n  function abortFetcher(key: string) {\n    let controller = fetchControllers.get(key);\n    invariant(controller, `Expected fetch controller: ${key}`);\n    controller.abort();\n    fetchControllers.delete(key);\n  }\n\n  function markFetchersDone(keys: string[]) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  function markFetchRedirectsDone(): boolean {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n\n  function abortStaleFetchLoads(landedId: number): boolean {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n\n  function getBlocker(key: string, fn: BlockerFunction) {\n    let blocker: Blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n\n    return blocker;\n  }\n\n  function deleteBlocker(key: string) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key: string, newBlocker: Blocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(\n      (blocker.state === \"unblocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"proceeding\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"unblocked\") ||\n        (blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\"),\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction,\n  }: {\n    currentLocation: Location;\n    nextLocation: Location;\n    historyAction: HistoryAction;\n  }): string | undefined {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n\n  function cancelActiveDeferreds(\n    predicate?: (routeId: string) => boolean\n  ): string[] {\n    let cancelledRouteIds: string[] = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(\n    positions: Record<string, number>,\n    getPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || null;\n\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n\n  function getScrollKey(location: Location, matches: AgnosticDataRouteMatch[]) {\n    if (getScrollRestorationKey) {\n      let key = getScrollRestorationKey(\n        location,\n        matches.map((m) => convertRouteMatchToUiMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n\n  function saveScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): void {\n    if (savedScrollPositions && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n\n  function getSavedScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): number | null {\n    if (savedScrollPositions) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n\n  function _internalSetRoutes(newRoutes: AgnosticDataRouteObject[]) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties,\n      undefined,\n      manifest\n    );\n  }\n\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to: To) => init.history.createHref(to),\n    encodeLocation: (to: To) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher: deleteFetcherAndUpdateState,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes,\n  };\n\n  return router;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\n\nexport const UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\n\n/**\n * Future flags to toggle new feature behavior\n */\nexport interface StaticHandlerFutureConfig {\n  v7_relativeSplatPath: boolean;\n  v7_throwAbortReason: boolean;\n}\n\nexport interface CreateStaticHandlerOptions {\n  basename?: string;\n  /**\n   * @deprecated Use `mapRouteProperties` instead\n   */\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n  mapRouteProperties?: MapRoutePropertiesFunction;\n  future?: Partial<StaticHandlerFutureConfig>;\n}\n\nexport function createStaticHandler(\n  routes: AgnosticRouteObject[],\n  opts?: CreateStaticHandlerOptions\n): StaticHandler {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n\n  let manifest: RouteManifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties: MapRoutePropertiesFunction;\n  if (opts?.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts?.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = (route) => ({\n      hasErrorBoundary: detectErrorBoundary(route),\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Config driven behavior flags\n  let future: StaticHandlerFutureConfig = {\n    v7_relativeSplatPath: false,\n    v7_throwAbortReason: false,\n    ...(opts ? opts.future : null),\n  };\n\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    undefined,\n    manifest\n  );\n\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   *\n   * - `opts.requestContext` is an optional server context that will be passed\n   *   to actions/loaders in the `context` parameter\n   * - `opts.skipLoaderErrorBubbling` is an optional parameter that will prevent\n   *   the bubbling of errors which allows single-fetch-type implementations\n   *   where the client will handle the bubbling and we may need to return data\n   *   for the handling route\n   */\n  async function query(\n    request: Request,\n    {\n      requestContext,\n      skipLoaderErrorBubbling,\n      unstable_dataStrategy,\n    }: {\n      requestContext?: unknown;\n      skipLoaderErrorBubbling?: boolean;\n      unstable_dataStrategy?: DataStrategyFunction;\n    } = {}\n  ): Promise<StaticHandlerContext | Response> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      unstable_dataStrategy || null,\n      skipLoaderErrorBubbling === true,\n      null\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return { location, basename, ...result };\n  }\n\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   *\n   * - `opts.routeId` allows you to specify the specific route handler to call.\n   *   If not provided the handler will determine the proper route by matching\n   *   against `request.url`\n   * - `opts.requestContext` is an optional server context that will be passed\n   *    to actions/loaders in the `context` parameter\n   */\n  async function queryRoute(\n    request: Request,\n    {\n      routeId,\n      requestContext,\n      unstable_dataStrategy,\n    }: {\n      requestContext?: unknown;\n      routeId?: string;\n      unstable_dataStrategy?: DataStrategyFunction;\n    } = {}\n  ): Promise<any> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let match = routeId\n      ? matches.find((m) => m.route.id === routeId)\n      : getTargetMatch(matches, location);\n\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId,\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      unstable_dataStrategy || null,\n      false,\n      match\n    );\n\n    if (isResponse(result)) {\n      return result;\n    }\n\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n\n    if (result.loaderData) {\n      let data = Object.values(result.loaderData)[0];\n      if (result.activeDeferreds?.[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n\n    return undefined;\n  }\n\n  async function queryImpl(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    unstable_dataStrategy: DataStrategyFunction | null,\n    skipLoaderErrorBubbling: boolean,\n    routeMatch: AgnosticDataRouteMatch | null\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          unstable_dataStrategy,\n          skipLoaderErrorBubbling,\n          routeMatch != null\n        );\n        return result;\n      }\n\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        unstable_dataStrategy,\n        skipLoaderErrorBubbling,\n        routeMatch\n      );\n      return isResponse(result)\n        ? result\n        : {\n            ...result,\n            actionData: null,\n            actionHeaders: {},\n          };\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction for a\n      // `queryRoute` call, we throw the `HandlerResult` to bail out early\n      // and then return or throw the raw Response here accordingly\n      if (isHandlerResult(e) && isResponse(e.result)) {\n        if (e.type === ResultType.error) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n\n  async function submit(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    actionMatch: AgnosticDataRouteMatch,\n    requestContext: unknown,\n    unstable_dataStrategy: DataStrategyFunction | null,\n    skipLoaderErrorBubbling: boolean,\n    isRouteRequest: boolean\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    let result: DataResult;\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id,\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    } else {\n      let results = await callDataStrategy(\n        \"action\",\n        request,\n        [actionMatch],\n        matches,\n        isRouteRequest,\n        requestContext,\n        unstable_dataStrategy\n      );\n      result = results[0];\n\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest, future);\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")!,\n        },\n      });\n    }\n\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, { type: \"defer-action\" });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    }\n\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal,\n    });\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = skipLoaderErrorBubbling\n        ? actionMatch\n        : findNearestBoundary(matches, actionMatch.route.id);\n\n      let context = await loadRouteData(\n        loaderRequest,\n        matches,\n        requestContext,\n        unstable_dataStrategy,\n        skipLoaderErrorBubbling,\n        null,\n        [boundaryMatch.route.id, result]\n      );\n\n      // action status codes take precedence over loader status codes\n      return {\n        ...context,\n        statusCode: isRouteErrorResponse(result.error)\n          ? result.error.status\n          : result.statusCode != null\n          ? result.statusCode\n          : 500,\n        actionData: null,\n        actionHeaders: {\n          ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n        },\n      };\n    }\n\n    let context = await loadRouteData(\n      loaderRequest,\n      matches,\n      requestContext,\n      unstable_dataStrategy,\n      skipLoaderErrorBubbling,\n      null\n    );\n\n    return {\n      ...context,\n      actionData: {\n        [actionMatch.route.id]: result.data,\n      },\n      // action status codes take precedence over loader status codes\n      ...(result.statusCode ? { statusCode: result.statusCode } : {}),\n      actionHeaders: result.headers\n        ? { [actionMatch.route.id]: result.headers }\n        : {},\n    };\n  }\n\n  async function loadRouteData(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    unstable_dataStrategy: DataStrategyFunction | null,\n    skipLoaderErrorBubbling: boolean,\n    routeMatch: AgnosticDataRouteMatch | null,\n    pendingActionResult?: PendingActionResult\n  ): Promise<\n    | Omit<\n        StaticHandlerContext,\n        \"location\" | \"basename\" | \"actionData\" | \"actionHeaders\"\n      >\n    | Response\n  > {\n    let isRouteRequest = routeMatch != null;\n\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (\n      isRouteRequest &&\n      !routeMatch?.route.loader &&\n      !routeMatch?.route.lazy\n    ) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id,\n      });\n    }\n\n    let requestMatches = routeMatch\n      ? [routeMatch]\n      : pendingActionResult && isErrorResult(pendingActionResult[1])\n      ? getLoaderMatchesUntilBoundary(matches, pendingActionResult[0])\n      : matches;\n    let matchesToLoad = requestMatches.filter(\n      (m) => m.route.loader || m.route.lazy\n    );\n\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce(\n          (acc, m) => Object.assign(acc, { [m.route.id]: null }),\n          {}\n        ),\n        errors:\n          pendingActionResult && isErrorResult(pendingActionResult[1])\n            ? {\n                [pendingActionResult[0]]: pendingActionResult[1].error,\n              }\n            : null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let results = await callDataStrategy(\n      \"loader\",\n      request,\n      matchesToLoad,\n      matches,\n      isRouteRequest,\n      requestContext,\n      unstable_dataStrategy\n    );\n\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest, future);\n    }\n\n    // Process and commit output from loaders\n    let activeDeferreds = new Map<string, DeferredData>();\n    let context = processRouteLoaderData(\n      matches,\n      matchesToLoad,\n      results,\n      pendingActionResult,\n      activeDeferreds,\n      skipLoaderErrorBubbling\n    );\n\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set<string>(\n      matchesToLoad.map((match) => match.route.id)\n    );\n    matches.forEach((match) => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n\n    return {\n      ...context,\n      matches,\n      activeDeferreds:\n        activeDeferreds.size > 0\n          ? Object.fromEntries(activeDeferreds.entries())\n          : null,\n    };\n  }\n\n  // Utility wrapper for calling dataStrategy server-side without having to\n  // pass around the manifest, mapRouteProperties, etc.\n  async function callDataStrategy(\n    type: \"loader\" | \"action\",\n    request: Request,\n    matchesToLoad: AgnosticDataRouteMatch[],\n    matches: AgnosticDataRouteMatch[],\n    isRouteRequest: boolean,\n    requestContext: unknown,\n    unstable_dataStrategy: DataStrategyFunction | null\n  ): Promise<DataResult[]> {\n    let results = await callDataStrategyImpl(\n      unstable_dataStrategy || defaultDataStrategy,\n      type,\n      request,\n      matchesToLoad,\n      matches,\n      manifest,\n      mapRouteProperties,\n      requestContext\n    );\n\n    return await Promise.all(\n      results.map((result, i) => {\n        if (isRedirectHandlerResult(result)) {\n          let response = result.result as Response;\n          // Throw redirects and let the server handle them with an HTTP redirect\n          throw normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            matchesToLoad[i].route.id,\n            matches,\n            basename,\n            future.v7_relativeSplatPath\n          );\n        }\n        if (isResponse(result.result) && isRouteRequest) {\n          // For SSR single-route requests, we want to hand Responses back\n          // directly without unwrapping\n          throw result;\n        }\n\n        return convertHandlerResultToDataResult(result);\n      })\n    );\n  }\n\n  return {\n    dataRoutes,\n    query,\n    queryRoute,\n  };\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nexport function getStaticContextFromError(\n  routes: AgnosticDataRouteObject[],\n  context: StaticHandlerContext,\n  error: any\n) {\n  let newContext: StaticHandlerContext = {\n    ...context,\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error,\n    },\n  };\n  return newContext;\n}\n\nfunction throwStaticHandlerAbortedError(\n  request: Request,\n  isRouteRequest: boolean,\n  future: StaticHandlerFutureConfig\n) {\n  if (future.v7_throwAbortReason && request.signal.reason !== undefined) {\n    throw request.signal.reason;\n  }\n\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(`${method}() call aborted: ${request.method} ${request.url}`);\n}\n\nfunction isSubmissionNavigation(\n  opts: BaseNavigateOrFetchOptions\n): opts is SubmissionNavigateOptions {\n  return (\n    opts != null &&\n    ((\"formData\" in opts && opts.formData != null) ||\n      (\"body\" in opts && opts.body !== undefined))\n  );\n}\n\nfunction normalizeTo(\n  location: Path,\n  matches: AgnosticDataRouteMatch[],\n  basename: string,\n  prependBasename: boolean,\n  to: To | null,\n  v7_relativeSplatPath: boolean,\n  fromRouteId?: string,\n  relative?: RelativeRoutingType\n) {\n  let contextualMatches: AgnosticDataRouteMatch[];\n  let activeRouteMatch: AgnosticDataRouteMatch | undefined;\n  if (fromRouteId) {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n\n  // Resolve the relative path\n  let path = resolveTo(\n    to ? to : \".\",\n    getResolveToMatches(contextualMatches, v7_relativeSplatPath),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n\n  // Add an ?index param for matched index routes if we don't already have one\n  if (\n    (to == null || to === \"\" || to === \".\") &&\n    activeRouteMatch &&\n    activeRouteMatch.route.index &&\n    !hasNakedIndexQuery(path.search)\n  ) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(\n  normalizeFormMethod: boolean,\n  isFetcher: boolean,\n  path: string,\n  opts?: BaseNavigateOrFetchOptions\n): {\n  path: string;\n  submission?: Submission;\n  error?: ErrorResponseImpl;\n} {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod }),\n    };\n  }\n\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" }),\n  });\n\n  // Create a Submission on non-GET navigations\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = normalizeFormMethod\n    ? (rawFormMethod.toUpperCase() as V7_FormMethod)\n    : (rawFormMethod.toLowerCase() as FormMethod);\n  let formAction = stripHashFromPath(path);\n\n  if (opts.body !== undefined) {\n    if (opts.formEncType === \"text/plain\") {\n      // text only support POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n\n      let text =\n        typeof opts.body === \"string\"\n          ? opts.body\n          : opts.body instanceof FormData ||\n            opts.body instanceof URLSearchParams\n          ? // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n            Array.from(opts.body.entries()).reduce(\n              (acc, [name, value]) => `${acc}${name}=${value}\\n`,\n              \"\"\n            )\n          : String(opts.body);\n\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: undefined,\n          json: undefined,\n          text,\n        },\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      // json only supports POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n\n      try {\n        let json =\n          typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: undefined,\n            json,\n            text: undefined,\n          },\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n\n  let searchParams: URLSearchParams;\n  let formData: FormData;\n\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n\n  let submission: Submission = {\n    formMethod,\n    formAction,\n    formEncType:\n      (opts && opts.formEncType) || \"application/x-www-form-urlencoded\",\n    formData,\n    json: undefined,\n    text: undefined,\n  };\n\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n\n  return { path: createPath(parsedPath), submission };\n}\n\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(\n  matches: AgnosticDataRouteMatch[],\n  boundaryId: string\n) {\n  let boundaryMatches = matches;\n  if (boundaryId) {\n    let index = matches.findIndex((m) => m.route.id === boundaryId);\n    if (index >= 0) {\n      boundaryMatches = matches.slice(0, index);\n    }\n  }\n  return boundaryMatches;\n}\n\nfunction getMatchesToLoad(\n  history: History,\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  submission: Submission | undefined,\n  location: Location,\n  isInitialLoad: boolean,\n  skipActionErrorRevalidation: boolean,\n  isRevalidationRequired: boolean,\n  cancelledDeferredRoutes: string[],\n  cancelledFetcherLoads: string[],\n  deletedFetchers: Set<string>,\n  fetchLoadMatches: Map<string, FetchLoadMatch>,\n  fetchRedirectIds: Set<string>,\n  routesToUse: AgnosticDataRouteObject[],\n  basename: string | undefined,\n  pendingActionResult?: PendingActionResult\n): [AgnosticDataRouteMatch[], RevalidatingFetcher[]] {\n  let actionResult = pendingActionResult\n    ? isErrorResult(pendingActionResult[1])\n      ? pendingActionResult[1].error\n      : pendingActionResult[1].data\n    : undefined;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryId =\n    pendingActionResult && isErrorResult(pendingActionResult[1])\n      ? pendingActionResult[0]\n      : undefined;\n  let boundaryMatches = boundaryId\n    ? getLoaderMatchesUntilBoundary(matches, boundaryId)\n    : matches;\n\n  // Don't revalidate loaders by default after action 4xx/5xx responses\n  // when the flag is enabled.  They can still opt-into revalidation via\n  // `shouldRevalidate` via `actionResult`\n  let actionStatus = pendingActionResult\n    ? pendingActionResult[1].statusCode\n    : undefined;\n  let shouldSkipRevalidation =\n    skipActionErrorRevalidation && actionStatus && actionStatus >= 400;\n\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    let { route } = match;\n    if (route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n\n    if (route.loader == null) {\n      return false;\n    }\n\n    if (isInitialLoad) {\n      if (typeof route.loader !== \"function\" || route.loader.hydrate) {\n        return true;\n      }\n      return (\n        state.loaderData[route.id] === undefined &&\n        // Don't re-run if the loader ran and threw an error\n        (!state.errors || state.errors[route.id] === undefined)\n      );\n    }\n\n    // Always call the loader on new route instances and pending defer cancellations\n    if (\n      isNewLoader(state.loaderData, state.matches[index], match) ||\n      cancelledDeferredRoutes.some((id) => id === match.route.id)\n    ) {\n      return true;\n    }\n\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n\n    return shouldRevalidateLoader(match, {\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params,\n      ...submission,\n      actionResult,\n      unstable_actionStatus: actionStatus,\n      defaultShouldRevalidate: shouldSkipRevalidation\n        ? false\n        : // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n          isRevalidationRequired ||\n          currentUrl.pathname + currentUrl.search ===\n            nextUrl.pathname + nextUrl.search ||\n          // Search params affect all loaders\n          currentUrl.search !== nextUrl.search ||\n          isNewRouteInstance(currentRouteMatch, nextRouteMatch),\n    });\n  });\n\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers: RevalidatingFetcher[] = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate:\n    //  - on initial load (shouldn't be any fetchers then anyway)\n    //  - if fetcher won't be present in the subsequent render\n    //    - no longer matches the URL (v7_fetcherPersist=false)\n    //    - was unmounted but persisted due to v7_fetcherPersist=true\n    if (\n      isInitialLoad ||\n      !matches.some((m) => m.route.id === f.routeId) ||\n      deletedFetchers.has(key)\n    ) {\n      return;\n    }\n\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n    // currently only a use-case for Remix HMR where the route tree can change\n    // at runtime and remove a route previously loaded via a fetcher\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null,\n      });\n      return;\n    }\n\n    // Revalidating fetchers are decoupled from the route matches since they\n    // load from a static href.  They revalidate based on explicit revalidation\n    // (submission, useRevalidator, or X-Remix-Revalidate)\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      // Never trigger a revalidation of an actively redirecting fetcher\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.includes(key)) {\n      // Always revalidate if the fetcher was cancelled\n      shouldRevalidate = true;\n    } else if (\n      fetcher &&\n      fetcher.state !== \"idle\" &&\n      fetcher.data === undefined\n    ) {\n      // If the fetcher hasn't ever completed loading yet, then this isn't a\n      // revalidation, it would just be a brand new load if an explicit\n      // revalidation is required\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n      // to explicit revalidations only\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, {\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params,\n        ...submission,\n        actionResult,\n        unstable_actionStatus: actionStatus,\n        defaultShouldRevalidate: shouldSkipRevalidation\n          ? false\n          : isRevalidationRequired,\n      });\n    }\n\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController(),\n      });\n    }\n  });\n\n  return [navigationMatches, revalidatingFetchers];\n}\n\nfunction isNewLoader(\n  currentLoaderData: RouteData,\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let isNew =\n    // [a] -> [a, b]\n    !currentMatch ||\n    // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id;\n\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\n\nfunction isNewRouteInstance(\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    (currentPath != null &&\n      currentPath.endsWith(\"*\") &&\n      currentMatch.params[\"*\"] !== match.params[\"*\"])\n  );\n}\n\nfunction shouldRevalidateLoader(\n  loaderMatch: AgnosticDataRouteMatch,\n  arg: ShouldRevalidateFunctionArgs\n) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n\n  return arg.defaultShouldRevalidate;\n}\n\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(\n  route: AgnosticDataRouteObject,\n  mapRouteProperties: MapRoutePropertiesFunction,\n  manifest: RouteManifest\n) {\n  if (!route.lazy) {\n    return;\n  }\n\n  let lazyRoute = await route.lazy();\n\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates: Record<string, any> = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue =\n      routeToUpdate[lazyRouteProperty as keyof typeof routeToUpdate];\n\n    let isPropertyStaticallyDefined =\n      staticRouteValue !== undefined &&\n      // This property isn't static since it should always be updated based\n      // on the route updates\n      lazyRouteProperty !== \"hasErrorBoundary\";\n\n    warning(\n      !isPropertyStaticallyDefined,\n      `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" ` +\n        `defined but its lazy function is also returning a value for this property. ` +\n        `The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n    );\n\n    if (\n      !isPropertyStaticallyDefined &&\n      !immutableRouteKeys.has(lazyRouteProperty as ImmutableRouteKey)\n    ) {\n      routeUpdates[lazyRouteProperty] =\n        lazyRoute[lazyRouteProperty as keyof typeof lazyRoute];\n    }\n  }\n\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, {\n    // To keep things framework agnostic, we use the provided\n    // `mapRouteProperties` (or wrapped `detectErrorBoundary`) function to\n    // set the framework-aware properties (`element`/`hasErrorBoundary`) since\n    // the logic will differ between frameworks.\n    ...mapRouteProperties(routeToUpdate),\n    lazy: undefined,\n  });\n}\n\n// Default implementation of `dataStrategy` which fetches all loaders in parallel\nfunction defaultDataStrategy(\n  opts: DataStrategyFunctionArgs\n): ReturnType<DataStrategyFunction> {\n  return Promise.all(opts.matches.map((m) => m.resolve()));\n}\n\nasync function callDataStrategyImpl(\n  dataStrategyImpl: DataStrategyFunction,\n  type: \"loader\" | \"action\",\n  request: Request,\n  matchesToLoad: AgnosticDataRouteMatch[],\n  matches: AgnosticDataRouteMatch[],\n  manifest: RouteManifest,\n  mapRouteProperties: MapRoutePropertiesFunction,\n  requestContext?: unknown\n): Promise<HandlerResult[]> {\n  let routeIdsToLoad = matchesToLoad.reduce(\n    (acc, m) => acc.add(m.route.id),\n    new Set<string>()\n  );\n  let loadedMatches = new Set<string>();\n\n  // Send all matches here to allow for a middleware-type implementation.\n  // handler will be a no-op for unneeded routes and we filter those results\n  // back out below.\n  let results = await dataStrategyImpl({\n    matches: matches.map((match) => {\n      let shouldLoad = routeIdsToLoad.has(match.route.id);\n      // `resolve` encapsulates the route.lazy, executing the\n      // loader/action, and mapping return values/thrown errors to a\n      // HandlerResult.  Users can pass a callback to take fine-grained control\n      // over the execution of the loader/action\n      let resolve: DataStrategyMatch[\"resolve\"] = (handlerOverride) => {\n        loadedMatches.add(match.route.id);\n        return shouldLoad\n          ? callLoaderOrAction(\n              type,\n              request,\n              match,\n              manifest,\n              mapRouteProperties,\n              handlerOverride,\n              requestContext\n            )\n          : Promise.resolve({ type: ResultType.data, result: undefined });\n      };\n\n      return {\n        ...match,\n        shouldLoad,\n        resolve,\n      };\n    }),\n    request,\n    params: matches[0].params,\n    context: requestContext,\n  });\n\n  // Throw if any loadRoute implementations not called since they are what\n  // ensures a route is fully loaded\n  matches.forEach((m) =>\n    invariant(\n      loadedMatches.has(m.route.id),\n      `\\`match.resolve()\\` was not called for route id \"${m.route.id}\". ` +\n        \"You must call `match.resolve()` on every match passed to \" +\n        \"`dataStrategy` to ensure all routes are properly loaded.\"\n    )\n  );\n\n  // Filter out any middleware-only matches for which we didn't need to run handlers\n  return results.filter((_, i) => routeIdsToLoad.has(matches[i].route.id));\n}\n\n// Default logic for calling a loader/action is the user has no specified a dataStrategy\nasync function callLoaderOrAction(\n  type: \"loader\" | \"action\",\n  request: Request,\n  match: AgnosticDataRouteMatch,\n  manifest: RouteManifest,\n  mapRouteProperties: MapRoutePropertiesFunction,\n  handlerOverride: Parameters<DataStrategyMatch[\"resolve\"]>[0],\n  staticContext?: unknown\n): Promise<HandlerResult> {\n  let result: HandlerResult;\n  let onReject: (() => void) | undefined;\n\n  let runHandler = (\n    handler: AgnosticRouteObject[\"loader\"] | AgnosticRouteObject[\"action\"]\n  ): Promise<HandlerResult> => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject: () => void;\n    // This will never resolve so safe to type it as Promise<HandlerResult> to\n    // satisfy the function return value\n    let abortPromise = new Promise<HandlerResult>((_, r) => (reject = r));\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n\n    let actualHandler = (ctx?: unknown) => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(\n          new Error(\n            `You cannot call the handler for a route which defines a boolean ` +\n              `\"${type}\" [routeId: ${match.route.id}]`\n          )\n        );\n      }\n      return handler(\n        {\n          request,\n          params: match.params,\n          context: staticContext,\n        },\n        ...(ctx !== undefined ? [ctx] : [])\n      );\n    };\n\n    let handlerPromise: Promise<HandlerResult>;\n    if (handlerOverride) {\n      handlerPromise = handlerOverride((ctx: unknown) => actualHandler(ctx));\n    } else {\n      handlerPromise = (async () => {\n        try {\n          let val = await actualHandler();\n          return { type: \"data\", result: val };\n        } catch (e) {\n          return { type: \"error\", result: e };\n        }\n      })();\n    }\n\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n\n  try {\n    let handler = match.route[type];\n\n    if (match.route.lazy) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let handlerError;\n        let [value] = await Promise.all([\n          // If the handler throws, don't let it immediately bubble out,\n          // since we need to let the lazy() execution finish so we know if this\n          // route has a boundary that can handle the error\n          runHandler(handler).catch((e) => {\n            handlerError = e;\n          }),\n          loadLazyRouteModule(match.route, mapRouteProperties, manifest),\n        ]);\n        if (handlerError !== undefined) {\n          throw handlerError;\n        }\n        result = value!;\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadLazyRouteModule(match.route, mapRouteProperties, manifest);\n\n        handler = match.route[type];\n        if (handler) {\n          // Handler still runs even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id,\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return { type: ResultType.data, result: undefined };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname,\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n\n    invariant(\n      result.result !== undefined,\n      `You defined ${type === \"action\" ? \"an action\" : \"a loader\"} for route ` +\n        `\"${match.route.id}\" but didn't return anything from your \\`${type}\\` ` +\n        `function. Please return a value or \\`null\\`.`\n    );\n  } catch (e) {\n    // We should already be catching and converting normal handler executions to\n    // HandlerResults and returning them, so anything that throws here is an\n    // unexpected error we still need to wrap\n    return { type: ResultType.error, result: e };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n\n  return result;\n}\n\nasync function convertHandlerResultToDataResult(\n  handlerResult: HandlerResult\n): Promise<DataResult> {\n  let { result, type, status } = handlerResult;\n\n  if (isResponse(result)) {\n    let data: any;\n\n    try {\n      let contentType = result.headers.get(\"Content-Type\");\n      // Check between word boundaries instead of startsWith() due to the last\n      // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n      if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n        if (result.body == null) {\n          data = null;\n        } else {\n          data = await result.json();\n        }\n      } else {\n        data = await result.text();\n      }\n    } catch (e) {\n      return { type: ResultType.error, error: e };\n    }\n\n    if (type === ResultType.error) {\n      return {\n        type: ResultType.error,\n        error: new ErrorResponseImpl(result.status, result.statusText, data),\n        statusCode: result.status,\n        headers: result.headers,\n      };\n    }\n\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers,\n    };\n  }\n\n  if (type === ResultType.error) {\n    return {\n      type: ResultType.error,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : status,\n    };\n  }\n\n  if (isDeferredData(result)) {\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: result.init?.status,\n      headers: result.init?.headers && new Headers(result.init.headers),\n    };\n  }\n\n  return { type: ResultType.data, data: result, statusCode: status };\n}\n\n// Support relative routing in internal redirects\nfunction normalizeRelativeRoutingRedirectResponse(\n  response: Response,\n  request: Request,\n  routeId: string,\n  matches: AgnosticDataRouteMatch[],\n  basename: string,\n  v7_relativeSplatPath: boolean\n) {\n  let location = response.headers.get(\"Location\");\n  invariant(\n    location,\n    \"Redirects returned/thrown from loaders/actions must have a Location header\"\n  );\n\n  if (!ABSOLUTE_URL_REGEX.test(location)) {\n    let trimmedMatches = matches.slice(\n      0,\n      matches.findIndex((m) => m.route.id === routeId) + 1\n    );\n    location = normalizeTo(\n      new URL(request.url),\n      trimmedMatches,\n      basename,\n      true,\n      location,\n      v7_relativeSplatPath\n    );\n    response.headers.set(\"Location\", location);\n  }\n\n  return response;\n}\n\nfunction normalizeRedirectLocation(\n  location: string,\n  currentUrl: URL,\n  basename: string\n): string {\n  if (ABSOLUTE_URL_REGEX.test(location)) {\n    // Strip off the protocol+origin for same-origin + same-basename absolute redirects\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\")\n      ? new URL(currentUrl.protocol + normalizedLocation)\n      : new URL(normalizedLocation);\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  return location;\n}\n\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(\n  history: History,\n  location: string | Location,\n  signal: AbortSignal,\n  submission?: Submission\n): Request {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init: RequestInit = { signal };\n\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.text;\n    } else if (\n      formEncType === \"application/x-www-form-urlencoded\" &&\n      submission.formData\n    ) {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.formData;\n    }\n  }\n\n  return new Request(url, init);\n}\n\nfunction convertFormDataToSearchParams(formData: FormData): URLSearchParams {\n  let searchParams = new URLSearchParams();\n\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n\n  return searchParams;\n}\n\nfunction convertSearchParamsToFormData(\n  searchParams: URLSearchParams\n): FormData {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\n\nfunction processRouteLoaderData(\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingActionResult: PendingActionResult | undefined,\n  activeDeferreds: Map<string, DeferredData>,\n  skipLoaderErrorBubbling: boolean\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors: RouterState[\"errors\"] | null;\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n} {\n  // Fill in loaderData/errors from our loaders\n  let loaderData: RouterState[\"loaderData\"] = {};\n  let errors: RouterState[\"errors\"] | null = null;\n  let statusCode: number | undefined;\n  let foundError = false;\n  let loaderHeaders: Record<string, Headers> = {};\n  let pendingError =\n    pendingActionResult && isErrorResult(pendingActionResult[1])\n      ? pendingActionResult[1].error\n      : undefined;\n\n  // Process loader results into state.loaderData/state.errors\n  results.forEach((result, index) => {\n    let id = matchesToLoad[index].route.id;\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError !== undefined) {\n        error = pendingError;\n        pendingError = undefined;\n      }\n\n      errors = errors || {};\n\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        // Look upwards from the matched route for the closest ancestor error\n        // boundary, defaulting to the root match.  Prefer higher error values\n        // if lower errors bubble to the same boundary\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n        // Error status codes always override success status codes, but if all\n        // loaders are successful we take the deepest status code.\n        if (\n          result.statusCode != null &&\n          result.statusCode !== 200 &&\n          !foundError\n        ) {\n          statusCode = result.statusCode;\n        }\n        if (result.headers) {\n          loaderHeaders[id] = result.headers;\n        }\n      } else {\n        loaderData[id] = result.data;\n        // Error status codes always override success status codes, but if all\n        // loaders are successful we take the deepest status code.\n        if (result.statusCode && result.statusCode !== 200 && !foundError) {\n          statusCode = result.statusCode;\n        }\n        if (result.headers) {\n          loaderHeaders[id] = result.headers;\n        }\n      }\n    }\n  });\n\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError !== undefined && pendingActionResult) {\n    errors = { [pendingActionResult[0]]: pendingError };\n    loaderData[pendingActionResult[0]] = undefined;\n  }\n\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders,\n  };\n}\n\nfunction processLoaderData(\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingActionResult: PendingActionResult | undefined,\n  revalidatingFetchers: RevalidatingFetcher[],\n  fetcherResults: DataResult[],\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors?: RouterState[\"errors\"];\n} {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    matchesToLoad,\n    results,\n    pendingActionResult,\n    activeDeferreds,\n    false // This method is only called client side so we always want to bubble\n  );\n\n  // Process results from our revalidating fetchers\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let { key, match, controller } = revalidatingFetchers[index];\n    invariant(\n      fetcherResults !== undefined && fetcherResults[index] !== undefined,\n      \"Did not find corresponding fetcher result\"\n    );\n    let result = fetcherResults[index];\n\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      continue;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error,\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  return { loaderData, errors };\n}\n\nfunction mergeLoaderData(\n  loaderData: RouteData,\n  newLoaderData: RouteData,\n  matches: AgnosticDataRouteMatch[],\n  errors: RouteData | null | undefined\n): RouteData {\n  let mergedLoaderData = { ...newLoaderData };\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      } else {\n        // No-op - this is so we ignore existing data if we have a key in the\n        // incoming object with an undefined value, which is how we unset a prior\n        // loaderData if we encounter a loader error\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\n\nfunction getActionDataForCommit(\n  pendingActionResult: PendingActionResult | undefined\n) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1])\n    ? {\n        // Clear out prior actionData on errors\n        actionData: {},\n      }\n    : {\n        actionData: {\n          [pendingActionResult[0]]: pendingActionResult[1].data,\n        },\n      };\n}\n\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(\n  matches: AgnosticDataRouteMatch[],\n  routeId?: string\n): AgnosticDataRouteMatch {\n  let eligibleMatches = routeId\n    ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1)\n    : [...matches];\n  return (\n    eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) ||\n    matches[0]\n  );\n}\n\nfunction getShortCircuitMatches(routes: AgnosticDataRouteObject[]): {\n  matches: AgnosticDataRouteMatch[];\n  route: AgnosticDataRouteObject;\n} {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route =\n    routes.length === 1\n      ? routes[0]\n      : routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n          id: `__shim-error-route__`,\n        };\n\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route,\n      },\n    ],\n    route,\n  };\n}\n\nfunction getInternalRouterError(\n  status: number,\n  {\n    pathname,\n    routeId,\n    method,\n    type,\n  }: {\n    pathname?: string;\n    routeId?: string;\n    method?: string;\n    type?: \"defer-action\" | \"invalid-body\";\n  } = {}\n) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method} request to \"${pathname}\" but ` +\n        `did not provide a \\`loader\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method.toUpperCase()} request to \"${pathname}\" but ` +\n        `did not provide an \\`action\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n\n  return new ErrorResponseImpl(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\n\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(\n  results: DataResult[]\n): { result: RedirectResult; idx: number } | undefined {\n  for (let i = results.length - 1; i >= 0; i--) {\n    let result = results[i];\n    if (isRedirectResult(result)) {\n      return { result, idx: i };\n    }\n  }\n}\n\nfunction stripHashFromPath(path: To) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\n\nfunction isHashChangeOnly(a: Location, b: Location): boolean {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\n\nfunction isHandlerResult(result: unknown): result is HandlerResult {\n  return (\n    result != null &&\n    typeof result === \"object\" &&\n    \"type\" in result &&\n    \"result\" in result &&\n    (result.type === ResultType.data || result.type === ResultType.error)\n  );\n}\n\nfunction isRedirectHandlerResult(result: HandlerResult) {\n  return (\n    isResponse(result.result) && redirectStatusCodes.has(result.result.status)\n  );\n}\n\nfunction isDeferredResult(result: DataResult): result is DeferredResult {\n  return result.type === ResultType.deferred;\n}\n\nfunction isErrorResult(result: DataResult): result is ErrorResult {\n  return result.type === ResultType.error;\n}\n\nfunction isRedirectResult(result?: DataResult): result is RedirectResult {\n  return (result && result.type) === ResultType.redirect;\n}\n\nexport function isDeferredData(value: any): value is DeferredData {\n  let deferred: DeferredData = value;\n  return (\n    deferred &&\n    typeof deferred === \"object\" &&\n    typeof deferred.data === \"object\" &&\n    typeof deferred.subscribe === \"function\" &&\n    typeof deferred.cancel === \"function\" &&\n    typeof deferred.resolveData === \"function\"\n  );\n}\n\nfunction isResponse(value: any): value is Response {\n  return (\n    value != null &&\n    typeof value.status === \"number\" &&\n    typeof value.statusText === \"string\" &&\n    typeof value.headers === \"object\" &&\n    typeof value.body !== \"undefined\"\n  );\n}\n\nfunction isRedirectResponse(result: any): result is Response {\n  if (!isResponse(result)) {\n    return false;\n  }\n\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\n\nfunction isValidMethod(method: string): method is FormMethod | V7_FormMethod {\n  return validRequestMethods.has(method.toLowerCase() as FormMethod);\n}\n\nfunction isMutationMethod(\n  method: string\n): method is MutationFormMethod | V7_MutationFormMethod {\n  return validMutationMethods.has(method.toLowerCase() as MutationFormMethod);\n}\n\nasync function resolveDeferredResults(\n  currentMatches: AgnosticDataRouteMatch[],\n  matchesToLoad: (AgnosticDataRouteMatch | null)[],\n  results: DataResult[],\n  signals: (AbortSignal | null)[],\n  isFetcher: boolean,\n  currentLoaderData?: RouteData\n) {\n  for (let index = 0; index < results.length; index++) {\n    let result = results[index];\n    let match = matchesToLoad[index];\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n\n    let currentMatch = currentMatches.find(\n      (m) => m.route.id === match!.route.id\n    );\n    let isRevalidatingLoader =\n      currentMatch != null &&\n      !isNewRouteInstance(currentMatch, match) &&\n      (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n\n    if (isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      let signal = signals[index];\n      invariant(\n        signal,\n        \"Expected an AbortSignal for revalidating fetcher deferred result\"\n      );\n      await resolveDeferredData(result, signal, isFetcher).then((result) => {\n        if (result) {\n          results[index] = result || results[index];\n        }\n      });\n    }\n  }\n}\n\nasync function resolveDeferredData(\n  result: DeferredResult,\n  signal: AbortSignal,\n  unwrap = false\n): Promise<SuccessResult | ErrorResult | undefined> {\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData,\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e,\n      };\n    }\n  }\n\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data,\n  };\n}\n\nfunction hasNakedIndexQuery(search: string): boolean {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\n\nfunction getTargetMatch(\n  matches: AgnosticDataRouteMatch[],\n  location: Location | string\n) {\n  let search =\n    typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (\n    matches[matches.length - 1].route.index &&\n    hasNakedIndexQuery(search || \"\")\n  ) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\n\nfunction getSubmissionFromNavigation(\n  navigation: Navigation\n): Submission | undefined {\n  let { formMethod, formAction, formEncType, text, formData, json } =\n    navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json: undefined,\n      text,\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: undefined,\n      text: undefined,\n    };\n  } else if (json !== undefined) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json,\n      text: undefined,\n    };\n  }\n}\n\nfunction getLoadingNavigation(\n  location: Location,\n  submission?: Submission\n): NavigationStates[\"Loading\"] {\n  if (submission) {\n    let navigation: NavigationStates[\"Loading\"] = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n    };\n    return navigation;\n  } else {\n    let navigation: NavigationStates[\"Loading\"] = {\n      state: \"loading\",\n      location,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n    };\n    return navigation;\n  }\n}\n\nfunction getSubmittingNavigation(\n  location: Location,\n  submission: Submission\n): NavigationStates[\"Submitting\"] {\n  let navigation: NavigationStates[\"Submitting\"] = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n  };\n  return navigation;\n}\n\nfunction getLoadingFetcher(\n  submission?: Submission,\n  data?: Fetcher[\"data\"]\n): FetcherStates[\"Loading\"] {\n  if (submission) {\n    let fetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data,\n    };\n    return fetcher;\n  } else {\n    let fetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n      data,\n    };\n    return fetcher;\n  }\n}\n\nfunction getSubmittingFetcher(\n  submission: Submission,\n  existingFetcher?: Fetcher\n): FetcherStates[\"Submitting\"] {\n  let fetcher: FetcherStates[\"Submitting\"] = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : undefined,\n  };\n  return fetcher;\n}\n\nfunction getDoneFetcher(data: Fetcher[\"data\"]): FetcherStates[\"Idle\"] {\n  let fetcher: FetcherStates[\"Idle\"] = {\n    state: \"idle\",\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined,\n    data,\n  };\n  return fetcher;\n}\n\nfunction restoreAppliedTransitions(\n  _window: Window,\n  transitions: Map<string, Set<string>>\n) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(\n      TRANSITIONS_STORAGE_KEY\n    );\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n    // no-op, use default empty object\n  }\n}\n\nfunction persistAppliedTransitions(\n  _window: Window,\n  transitions: Map<string, Set<string>>\n) {\n  if (transitions.size > 0) {\n    let json: Record<string, string[]> = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(\n        TRANSITIONS_STORAGE_KEY,\n        JSON.stringify(json)\n      );\n    } catch (error) {\n      warning(\n        false,\n        `Failed to save applied view transitions in sessionStorage (${error}).`\n      );\n    }\n  }\n}\n\n//#endregion\n","import * as React from \"react\";\nimport type {\n  AgnosticIndexRouteObject,\n  AgnosticNonIndexRouteObject,\n  AgnosticRouteMatch,\n  History,\n  LazyRouteFunction,\n  Location,\n  Action as NavigationType,\n  RelativeRoutingType,\n  Router,\n  StaticHandlerContext,\n  To,\n  TrackedPromise,\n} from \"@remix-run/router\";\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nexport interface IndexRouteObject {\n  caseSensitive?: AgnosticIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticIndexRouteObject[\"path\"];\n  id?: AgnosticIndexRouteObject[\"id\"];\n  loader?: AgnosticIndexRouteObject[\"loader\"];\n  action?: AgnosticIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticIndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  hydrateFallbackElement?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  HydrateFallback?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<RouteObject>;\n}\n\nexport interface NonIndexRouteObject {\n  caseSensitive?: AgnosticNonIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticNonIndexRouteObject[\"path\"];\n  id?: AgnosticNonIndexRouteObject[\"id\"];\n  loader?: AgnosticNonIndexRouteObject[\"loader\"];\n  action?: AgnosticNonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticNonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticNonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticNonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: RouteObject[];\n  element?: React.ReactNode | null;\n  hydrateFallbackElement?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  HydrateFallback?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<RouteObject>;\n}\n\nexport type RouteObject = IndexRouteObject | NonIndexRouteObject;\n\nexport type DataRouteObject = RouteObject & {\n  children?: DataRouteObject[];\n  id: string;\n};\n\nexport interface RouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends RouteObject = RouteObject\n> extends AgnosticRouteMatch<ParamKey, RouteObjectType> {}\n\nexport interface DataRouteMatch extends RouteMatch<string, DataRouteObject> {}\n\nexport interface DataRouterContextObject\n  // Omit `future` since those can be pulled from the `router`\n  // `NavigationContext` needs future since it doesn't have a `router` in all cases\n  extends Omit<NavigationContextObject, \"future\"> {\n  router: Router;\n  staticContext?: StaticHandlerContext;\n}\n\nexport const DataRouterContext =\n  React.createContext<DataRouterContextObject | null>(null);\nif (__DEV__) {\n  DataRouterContext.displayName = \"DataRouter\";\n}\n\nexport const DataRouterStateContext = React.createContext<\n  Router[\"state\"] | null\n>(null);\nif (__DEV__) {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\n\nexport const AwaitContext = React.createContext<TrackedPromise | null>(null);\nif (__DEV__) {\n  AwaitContext.displayName = \"Await\";\n}\n\nexport interface NavigateOptions {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  unstable_flushSync?: boolean;\n  unstable_viewTransition?: boolean;\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level `<Router>` API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\nexport interface Navigator {\n  createHref: History[\"createHref\"];\n  // Optional for backwards-compat with Router/HistoryRouter usage (edge case)\n  encodeLocation?: History[\"encodeLocation\"];\n  go: History[\"go\"];\n  push(to: To, state?: any, opts?: NavigateOptions): void;\n  replace(to: To, state?: any, opts?: NavigateOptions): void;\n}\n\ninterface NavigationContextObject {\n  basename: string;\n  navigator: Navigator;\n  static: boolean;\n  future: {\n    v7_relativeSplatPath: boolean;\n  };\n}\n\nexport const NavigationContext = React.createContext<NavigationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  NavigationContext.displayName = \"Navigation\";\n}\n\ninterface LocationContextObject {\n  location: Location;\n  navigationType: NavigationType;\n}\n\nexport const LocationContext = React.createContext<LocationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  LocationContext.displayName = \"Location\";\n}\n\nexport interface RouteContextObject {\n  outlet: React.ReactElement | null;\n  matches: RouteMatch[];\n  isDataRoute: boolean;\n}\n\nexport const RouteContext = React.createContext<RouteContextObject>({\n  outlet: null,\n  matches: [],\n  isDataRoute: false,\n});\n\nif (__DEV__) {\n  RouteContext.displayName = \"Route\";\n}\n\nexport const RouteErrorContext = React.createContext<any>(null);\n\nif (__DEV__) {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n","import * as React from \"react\";\nimport type {\n  Blocker,\n  BlockerFunction,\n  Location,\n  ParamParseKey,\n  Params,\n  Path,\n  PathMatch,\n  PathPattern,\n  RelativeRoutingType,\n  Router as RemixRouter,\n  RevalidationState,\n  To,\n  UIMatch,\n} from \"@remix-run/router\";\nimport {\n  IDLE_BLOCKER,\n  Action as NavigationType,\n  UNSAFE_convertRouteMatchToUiMatch as convertRouteMatchToUiMatch,\n  UNSAFE_getResolveToMatches as getResolveToMatches,\n  UNSAFE_invariant as invariant,\n  isRouteErrorResponse,\n  joinPaths,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  resolveTo,\n  stripBasename,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  DataRouteMatch,\n  NavigateOptions,\n  RouteContextObject,\n  RouteMatch,\n  RouteObject,\n} from \"./context\";\nimport {\n  AwaitContext,\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n  RouteErrorContext,\n} from \"./context\";\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */\nexport function useHref(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname =\n      pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\n\n/**\n * Returns true if this component is a descendant of a `<Router>`.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */\nexport function useInRouterContext(): boolean {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */\nexport function useLocation(): Location {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */\nexport function useNavigationType(): NavigationType {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * `<NavLink>`.\n *\n * @see https://reactrouter.com/hooks/use-match\n */\nexport function useMatch<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(pattern: PathPattern<Path> | Path): PathMatch<ParamKey> | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n\n  let { pathname } = useLocation();\n  return React.useMemo(\n    () => matchPath<ParamKey, Path>(pattern, pathname),\n    [pathname, pattern]\n  );\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\nexport interface NavigateFunction {\n  (to: To, options?: NavigateOptions): void;\n  (delta: number): void;\n}\n\nconst navigateEffectWarning =\n  `You should call navigate() in a React.useEffect(), not when ` +\n  `your component is first rendered.`;\n\n// Mute warnings for calls to useNavigate in SSR environments\nfunction useIsomorphicLayoutEffect(\n  cb: Parameters<typeof React.useLayoutEffect>[0]\n) {\n  let isStatic = React.useContext(NavigationContext).static;\n  if (!isStatic) {\n    // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(cb);\n  }\n}\n\n/**\n * Returns an imperative method for changing the location. Used by `<Link>`s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */\nexport function useNavigate(): NavigateFunction {\n  let { isDataRoute } = React.useContext(RouteContext);\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\n\nfunction useNavigateUnstable(): NavigateFunction {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n\n  let dataRouterContext = React.useContext(DataRouterContext);\n  let { basename, future, navigator } = React.useContext(NavigationContext);\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getResolveToMatches(matches, future.v7_relativeSplatPath)\n  );\n\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n\n      // Short circuit here since if this happens on first render the navigate\n      // is useless because we haven't wired up our history listener yet\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n\n      // If we're operating within a basename, prepend it to the pathname prior\n      // to handing off to history (but only if we're not in a data router,\n      // otherwise it'll prepend the basename inside of the router).\n      // If this is a root navigation, then we navigate to the raw basename\n      // which allows the basename to have full control over the presence of a\n      // trailing slash on root links\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname =\n          path.pathname === \"/\"\n            ? basename\n            : joinPaths([basename, path.pathname]);\n      }\n\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext,\n    ]\n  );\n\n  return navigate;\n}\n\nconst OutletContext = React.createContext<unknown>(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */\nexport function useOutletContext<Context = unknown>(): Context {\n  return React.useContext(OutletContext) as Context;\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by `<Outlet>` to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */\nexport function useOutlet(context?: unknown): React.ReactElement | null {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return (\n      <OutletContext.Provider value={context}>{outlet}</OutletContext.Provider>\n    );\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */\nexport function useParams<\n  ParamsOrKey extends string | Record<string, string | undefined> = string\n>(): Readonly<\n  [ParamsOrKey] extends [string] ? Params<ParamsOrKey> : Partial<ParamsOrKey>\n> {\n  let { matches } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? (routeMatch.params as any) : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */\nexport function useResolvedPath(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): Path {\n  let { future } = React.useContext(NavigationContext);\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(\n    getResolveToMatches(matches, future.v7_relativeSplatPath)\n  );\n\n  return React.useMemo(\n    () =>\n      resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        relative === \"path\"\n      ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an `<Outlet>` to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */\nexport function useRoutes(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string\n): React.ReactElement | null {\n  return useRoutesImpl(routes, locationArg);\n}\n\n// Internal implementation with accept optional param for RouterProvider usage\nexport function useRoutesImpl(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string,\n  dataRouterState?: RemixRouter[\"state\"],\n  future?: RemixRouter[\"future\"]\n): React.ReactElement | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n\n  let { navigator } = React.useContext(NavigationContext);\n  let { matches: parentMatches } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n\n  if (__DEV__) {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = (parentRoute && parentRoute.path) || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at ` +\n        `\"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the ` +\n        `parent route path has no trailing \"*\". This means if you navigate ` +\n        `deeper, the parent won't match anymore and therefore the child ` +\n        `routes will never render.\\n\\n` +\n        `Please change the parent <Route path=\"${parentPath}\"> to <Route ` +\n        `path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n\n  let locationFromContext = useLocation();\n\n  let location;\n  if (locationArg) {\n    let parsedLocationArg =\n      typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n    invariant(\n      parentPathnameBase === \"/\" ||\n        parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, ` +\n        `the location pathname must begin with the portion of the URL pathname that was ` +\n        `matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" ` +\n        `but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n\n  let pathname = location.pathname || \"/\";\n\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    // Determine the remaining pathname by removing the # of URL segments the\n    // parentPathnameBase has, instead of removing based on character count.\n    // This is because we can't guarantee that incoming/outgoing encodings/\n    // decodings will match exactly.\n    // We decode paths before matching on a per-segment basis with\n    // decodeURIComponent(), but we re-encode pathnames via `new URL()` so they\n    // match what `window.location.pathname` would reflect.  Those don't 100%\n    // align when it comes to encoded URI characters such as % and &.\n    //\n    // So we may end up with:\n    //   pathname:           \"/descendant/a%25b/match\"\n    //   parentPathnameBase: \"/descendant/a%b\"\n    //\n    // And the direct substring removal approach won't work :/\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n\n  if (__DEV__) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n\n    warning(\n      matches == null ||\n        matches[matches.length - 1].route.element !== undefined ||\n        matches[matches.length - 1].route.Component !== undefined ||\n        matches[matches.length - 1].route.lazy !== undefined,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" ` +\n        `does not have an element or Component. This means it will render an <Outlet /> with a ` +\n        `null value by default resulting in an \"empty\" page.`\n    );\n  }\n\n  let renderedMatches = _renderMatches(\n    matches &&\n      matches.map((match) =>\n        Object.assign({}, match, {\n          params: Object.assign({}, parentParams, match.params),\n          pathname: joinPaths([\n            parentPathnameBase,\n            // Re-encode pathnames that were decoded inside matchRoutes\n            navigator.encodeLocation\n              ? navigator.encodeLocation(match.pathname).pathname\n              : match.pathname,\n          ]),\n          pathnameBase:\n            match.pathnameBase === \"/\"\n              ? parentPathnameBase\n              : joinPaths([\n                  parentPathnameBase,\n                  // Re-encode pathnames that were decoded inside matchRoutes\n                  navigator.encodeLocation\n                    ? navigator.encodeLocation(match.pathnameBase).pathname\n                    : match.pathnameBase,\n                ]),\n        })\n      ),\n    parentMatches,\n    dataRouterState,\n    future\n  );\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return (\n      <LocationContext.Provider\n        value={{\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location,\n          },\n          navigationType: NavigationType.Pop,\n        }}\n      >\n        {renderedMatches}\n      </LocationContext.Provider>\n    );\n  }\n\n  return renderedMatches;\n}\n\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error)\n    ? `${error.status} ${error.statusText}`\n    : error instanceof Error\n    ? error.message\n    : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n\n  let devInfo = null;\n  if (__DEV__) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n\n    devInfo = (\n      <>\n        <p>💿 Hey developer 👋</p>\n        <p>\n          You can provide a way better UX than this when your app throws errors\n          by providing your own <code style={codeStyles}>ErrorBoundary</code> or{\" \"}\n          <code style={codeStyles}>errorElement</code> prop on your route.\n        </p>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <h2>Unexpected Application Error!</h2>\n      <h3 style={{ fontStyle: \"italic\" }}>{message}</h3>\n      {stack ? <pre style={preStyles}>{stack}</pre> : null}\n      {devInfo}\n    </>\n  );\n}\n\nconst defaultErrorElement = <DefaultErrorComponent />;\n\ntype RenderErrorBoundaryProps = React.PropsWithChildren<{\n  location: Location;\n  revalidation: RevalidationState;\n  error: any;\n  component: React.ReactNode;\n  routeContext: RouteContextObject;\n}>;\n\ntype RenderErrorBoundaryState = {\n  location: Location;\n  revalidation: RevalidationState;\n  error: any;\n};\n\nexport class RenderErrorBoundary extends React.Component<\n  RenderErrorBoundaryProps,\n  RenderErrorBoundaryState\n> {\n  constructor(props: RenderErrorBoundaryProps) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error,\n    };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error: error };\n  }\n\n  static getDerivedStateFromProps(\n    props: RenderErrorBoundaryProps,\n    state: RenderErrorBoundaryState\n  ) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (\n      state.location !== props.location ||\n      (state.revalidation !== \"idle\" && props.revalidation === \"idle\")\n    ) {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation,\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error !== undefined ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation,\n    };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    return this.state.error !== undefined ? (\n      <RouteContext.Provider value={this.props.routeContext}>\n        <RouteErrorContext.Provider\n          value={this.state.error}\n          children={this.props.component}\n        />\n      </RouteContext.Provider>\n    ) : (\n      this.props.children\n    );\n  }\n}\n\ninterface RenderedRouteProps {\n  routeContext: RouteContextObject;\n  match: RouteMatch<string, RouteObject>;\n  children: React.ReactNode | null;\n}\n\nfunction RenderedRoute({ routeContext, match, children }: RenderedRouteProps) {\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (\n    dataRouterContext &&\n    dataRouterContext.static &&\n    dataRouterContext.staticContext &&\n    (match.route.errorElement || match.route.ErrorBoundary)\n  ) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n\n  return (\n    <RouteContext.Provider value={routeContext}>\n      {children}\n    </RouteContext.Provider>\n  );\n}\n\nexport function _renderMatches(\n  matches: RouteMatch[] | null,\n  parentMatches: RouteMatch[] = [],\n  dataRouterState: RemixRouter[\"state\"] | null = null,\n  future: RemixRouter[\"future\"] | null = null\n): React.ReactElement | null {\n  if (matches == null) {\n    if (dataRouterState?.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches as DataRouteMatch[];\n    } else {\n      return null;\n    }\n  }\n\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id] !== undefined\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n\n  // If we're in a partial hydration mode, detect if we need to render down to\n  // a given HydrateFallback while we load the rest of the hydration data\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState && future && future.v7_partialHydration) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      // Track the deepest fallback up until the first route without data\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n\n      if (match.route.id) {\n        let { loaderData, errors } = dataRouterState;\n        let needsToRunLoader =\n          match.route.loader &&\n          loaderData[match.route.id] === undefined &&\n          (!errors || errors[match.route.id] === undefined);\n        if (match.route.lazy || needsToRunLoader) {\n          // We found the first route that's not ready to render (waiting on\n          // lazy, or has a loader that hasn't run yet).  Flag that we need to\n          // render a fallback and render up until the appropriate fallback\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    // Only data routers handle errors/fallbacks\n    let error: any;\n    let shouldRenderHydrateFallback = false;\n    let errorElement: React.ReactNode | null = null;\n    let hydrateFallbackElement: React.ReactNode | null = null;\n    if (dataRouterState) {\n      error = errors && match.route.id ? errors[match.route.id] : undefined;\n      errorElement = match.route.errorElement || defaultErrorElement;\n\n      if (renderFallback) {\n        if (fallbackIndex < 0 && index === 0) {\n          warningOnce(\n            \"route-fallback\",\n            false,\n            \"No `HydrateFallback` element provided to render during initial hydration\"\n          );\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = null;\n        } else if (fallbackIndex === index) {\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n        }\n      }\n    }\n\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children: React.ReactNode;\n      if (error) {\n        children = errorElement;\n      } else if (shouldRenderHydrateFallback) {\n        children = hydrateFallbackElement;\n      } else if (match.route.Component) {\n        // Note: This is a de-optimized path since React won't re-use the\n        // ReactElement since it's identity changes with each new\n        // React.createElement call.  We keep this so folks can use\n        // `<Route Component={...}>` in `<Routes>` but generally `Component`\n        // usage is only advised in `RouterProvider` when we can convert it to\n        // `element` ahead of time.\n        children = <match.route.Component />;\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return (\n        <RenderedRoute\n          match={match}\n          routeContext={{\n            outlet,\n            matches,\n            isDataRoute: dataRouterState != null,\n          }}\n          children={children}\n        />\n      );\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState &&\n      (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? (\n      <RenderErrorBoundary\n        location={dataRouterState.location}\n        revalidation={dataRouterState.revalidation}\n        component={errorElement}\n        error={error}\n        children={getChildren()}\n        routeContext={{ outlet: null, matches, isDataRoute: true }}\n      />\n    ) : (\n      getChildren()\n    );\n  }, null as React.ReactElement | null);\n}\n\nenum DataRouterHook {\n  UseBlocker = \"useBlocker\",\n  UseRevalidator = \"useRevalidator\",\n  UseNavigateStable = \"useNavigate\",\n}\n\nenum DataRouterStateHook {\n  UseBlocker = \"useBlocker\",\n  UseLoaderData = \"useLoaderData\",\n  UseActionData = \"useActionData\",\n  UseRouteError = \"useRouteError\",\n  UseNavigation = \"useNavigation\",\n  UseRouteLoaderData = \"useRouteLoaderData\",\n  UseMatches = \"useMatches\",\n  UseRevalidator = \"useRevalidator\",\n  UseNavigateStable = \"useNavigate\",\n  UseRouteId = \"useRouteId\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\nfunction useRouteContext(hookName: DataRouterStateHook) {\n  let route = React.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\n\n// Internal version with hookName-aware debugging\nfunction useCurrentRouteId(hookName: DataRouterStateHook) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the ID for the nearest contextual route\n */\nexport function useRouteId() {\n  return useCurrentRouteId(DataRouterStateHook.UseRouteId);\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nexport function useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nexport function useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return React.useMemo(\n    () => ({\n      revalidate: dataRouterContext.router.revalidate,\n      state: state.revalidation,\n    }),\n    [dataRouterContext.router.revalidate, state.revalidation]\n  );\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nexport function useMatches(): UIMatch[] {\n  let { matches, loaderData } = useDataRouterState(\n    DataRouterStateHook.UseMatches\n  );\n  return React.useMemo(\n    () => matches.map((m) => convertRouteMatchToUiMatch(m, loaderData)),\n    [matches, loaderData]\n  );\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nexport function useLoaderData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\n      `You cannot \\`useLoaderData\\` in an errorElement (routeId: ${routeId})`\n    );\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nexport function useRouteLoaderData(routeId: string): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nexport function useActionData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n  return state.actionData ? state.actionData[routeId] : undefined;\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nexport function useRouteError(): unknown {\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error !== undefined) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return state.errors?.[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor `<Await />` value\n */\nexport function useAsyncValue(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._data;\n}\n\n/**\n * Returns the error from the nearest ancestor `<Await />` value\n */\nexport function useAsyncError(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._error;\n}\n\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nexport function useBlocker(shouldBlock: boolean | BlockerFunction): Blocker {\n  let { router, basename } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n\n  let [blockerKey, setBlockerKey] = React.useState(\"\");\n  let blockerFunction = React.useCallback<BlockerFunction>(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n\n      // If they provided us a function and we've got an active basename, strip\n      // it from the locations we expose to the user to match the behavior of\n      // useLocation\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname:\n            stripBasename(currentLocation.pathname, basename) ||\n            currentLocation.pathname,\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname:\n            stripBasename(nextLocation.pathname, basename) ||\n            nextLocation.pathname,\n        },\n        historyAction,\n      });\n    },\n    [basename, shouldBlock]\n  );\n\n  // This effect is in charge of blocker key assignment and deletion (which is\n  // tightly coupled to the key)\n  React.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n\n  // This effect handles assigning the blockerFunction.  This is to handle\n  // unstable blocker function identities, and happens only after the prior\n  // effect so we don't get an orphaned blockerFunction in the router with a\n  // key of \"\".  Until then we just have the IDLE_BLOCKER.\n  React.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n\n  // Prefer the blocker from `state` not `router.state` since DataRouterContext\n  // is memoized so this ensures we update on blocker state updates\n  return blockerKey && state.blockers.has(blockerKey)\n    ? state.blockers.get(blockerKey)!\n    : IDLE_BLOCKER;\n}\n\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */\nfunction useNavigateStable(): NavigateFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseNavigateStable);\n  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);\n\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n\n      // Short circuit here since if this happens on first render the navigate\n      // is useless because we haven't wired up our router subscriber yet\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        router.navigate(to);\n      } else {\n        router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n\n  return navigate;\n}\n\nconst alreadyWarned: Record<string, boolean> = {};\n\nfunction warningOnce(key: string, cond: boolean, message: string) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n","import type {\n  InitialEntry,\n  LazyRouteFunction,\n  Location,\n  MemoryHistory,\n  RelativeRoutingType,\n  Router as RemixRouter,\n  RouterState,\n  RouterSubscriber,\n  To,\n  TrackedPromise,\n} from \"@remix-run/router\";\nimport {\n  AbortedDeferredError,\n  Action as NavigationType,\n  createMemoryHistory,\n  UNSAFE_getResolveToMatches as getResolveToMatches,\n  UNSAFE_invariant as invariant,\n  parsePath,\n  resolveTo,\n  stripBasename,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\nimport * as React from \"react\";\n\nimport type {\n  DataRouteObject,\n  IndexRouteObject,\n  Navigator,\n  NonIndexRouteObject,\n  RouteMatch,\n  RouteObject,\n} from \"./context\";\nimport {\n  AwaitContext,\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n} from \"./context\";\nimport {\n  _renderMatches,\n  useAsyncValue,\n  useInRouterContext,\n  useLocation,\n  useNavigate,\n  useOutlet,\n  useRoutes,\n  useRoutesImpl,\n} from \"./hooks\";\n\nexport interface FutureConfig {\n  v7_relativeSplatPath: boolean;\n  v7_startTransition: boolean;\n}\n\nexport interface RouterProviderProps {\n  fallbackElement?: React.ReactNode;\n  router: RemixRouter;\n  // Only accept future flags relevant to rendering behavior\n  // routing flags should be accessed via router.future\n  future?: Partial<Pick<FutureConfig, \"v7_startTransition\">>;\n}\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nexport function RouterProvider({\n  fallbackElement,\n  router,\n  future,\n}: RouterProviderProps): React.ReactElement {\n  let [state, setStateImpl] = React.useState(router.state);\n  let { v7_startTransition } = future || {};\n\n  let setState = React.useCallback<RouterSubscriber>(\n    (newState: RouterState) => {\n      if (v7_startTransition && startTransitionImpl) {\n        startTransitionImpl(() => setStateImpl(newState));\n      } else {\n        setStateImpl(newState);\n      }\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n\n  React.useEffect(() => {\n    warning(\n      fallbackElement == null || !router.future.v7_partialHydration,\n      \"`<RouterProvider fallbackElement>` is deprecated when using \" +\n        \"`v7_partialHydration`, use a `HydrateFallback` component instead\"\n    );\n    // Only log this once on initial mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  let navigator = React.useMemo((): Navigator => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state, opts) =>\n        router.navigate(to, {\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n      replace: (to, state, opts) =>\n        router.navigate(to, {\n          replace: true,\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n    };\n  }, [router]);\n\n  let basename = router.basename || \"/\";\n\n  let dataRouterContext = React.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename,\n    }),\n    [router, navigator, basename]\n  );\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return (\n    <>\n      <DataRouterContext.Provider value={dataRouterContext}>\n        <DataRouterStateContext.Provider value={state}>\n          <Router\n            basename={basename}\n            location={state.location}\n            navigationType={state.historyAction}\n            navigator={navigator}\n            future={{\n              v7_relativeSplatPath: router.future.v7_relativeSplatPath,\n            }}\n          >\n            {state.initialized || router.future.v7_partialHydration ? (\n              <DataRoutes\n                routes={router.routes}\n                future={router.future}\n                state={state}\n              />\n            ) : (\n              fallbackElement\n            )}\n          </Router>\n        </DataRouterStateContext.Provider>\n      </DataRouterContext.Provider>\n      {null}\n    </>\n  );\n}\n\nfunction DataRoutes({\n  routes,\n  future,\n  state,\n}: {\n  routes: DataRouteObject[];\n  future: RemixRouter[\"future\"];\n  state: RouterState;\n}): React.ReactElement | null {\n  return useRoutesImpl(routes, undefined, state, future);\n}\n\nexport interface MemoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  future?: Partial<FutureConfig>;\n}\n\n/**\n * A `<Router>` that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */\nexport function MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex,\n  future,\n}: MemoryRouterProps): React.ReactElement {\n  let historyRef = React.useRef<MemoryHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true,\n    });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n      future={future}\n    />\n  );\n}\n\nexport interface NavigateProps {\n  to: To;\n  replace?: boolean;\n  state?: any;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */\nexport function Navigate({\n  to,\n  replace,\n  state,\n  relative,\n}: NavigateProps): null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n\n  let { future, static: isStatic } = React.useContext(NavigationContext);\n\n  warning(\n    !isStatic,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. ` +\n      `This is a no-op, but you should modify your code so the <Navigate> is ` +\n      `only ever rendered in response to some user interaction or state change.`\n  );\n\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n\n  // Resolve the path outside of the effect so that when effects run twice in\n  // StrictMode they navigate to the same place\n  let path = resolveTo(\n    to,\n    getResolveToMatches(matches, future.v7_relativeSplatPath),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n\n  React.useEffect(\n    () => navigate(JSON.parse(jsonPath), { replace, state, relative }),\n    [navigate, jsonPath, relative, replace, state]\n  );\n\n  return null;\n}\n\nexport interface OutletProps {\n  context?: unknown;\n}\n\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */\nexport function Outlet(props: OutletProps): React.ReactElement | null {\n  return useOutlet(props.context);\n}\n\nexport interface PathRouteProps {\n  caseSensitive?: NonIndexRouteObject[\"caseSensitive\"];\n  path?: NonIndexRouteObject[\"path\"];\n  id?: NonIndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<NonIndexRouteObject>;\n  loader?: NonIndexRouteObject[\"loader\"];\n  action?: NonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: NonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: NonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: NonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: React.ReactNode;\n  element?: React.ReactNode | null;\n  hydrateFallbackElement?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  HydrateFallback?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport interface LayoutRouteProps extends PathRouteProps {}\n\nexport interface IndexRouteProps {\n  caseSensitive?: IndexRouteObject[\"caseSensitive\"];\n  path?: IndexRouteObject[\"path\"];\n  id?: IndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<IndexRouteObject>;\n  loader?: IndexRouteObject[\"loader\"];\n  action?: IndexRouteObject[\"action\"];\n  hasErrorBoundary?: IndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: IndexRouteObject[\"shouldRevalidate\"];\n  handle?: IndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  hydrateFallbackElement?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  HydrateFallback?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport type RouteProps = PathRouteProps | LayoutRouteProps | IndexRouteProps;\n\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */\nexport function Route(_props: RouteProps): React.ReactElement | null {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, ` +\n      `never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\n\nexport interface RouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  location: Partial<Location> | string;\n  navigationType?: NavigationType;\n  navigator: Navigator;\n  static?: boolean;\n  future?: Partial<Pick<FutureConfig, \"v7_relativeSplatPath\">>;\n}\n\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a `<Router>` directly. Instead, you'll render a\n * router that is more specific to your environment such as a `<BrowserRouter>`\n * in web browsers or a `<StaticRouter>` for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */\nexport function Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = NavigationType.Pop,\n  navigator,\n  static: staticProp = false,\n  future,\n}: RouterProps): React.ReactElement | null {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>.` +\n      ` You should never have more than one in your app.`\n  );\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(\n    () => ({\n      basename,\n      navigator,\n      static: staticProp,\n      future: {\n        v7_relativeSplatPath: false,\n        ...future,\n      },\n    }),\n    [basename, future, navigator, staticProp]\n  );\n\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\",\n  } = locationProp;\n\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n\n    if (trailingPathname == null) {\n      return null;\n    }\n\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key,\n      },\n      navigationType,\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL ` +\n      `\"${pathname}${search}${hash}\" because it does not start with the ` +\n      `basename, so the <Router> won't render anything.`\n  );\n\n  if (locationContext == null) {\n    return null;\n  }\n\n  return (\n    <NavigationContext.Provider value={navigationContext}>\n      <LocationContext.Provider children={children} value={locationContext} />\n    </NavigationContext.Provider>\n  );\n}\n\nexport interface RoutesProps {\n  children?: React.ReactNode;\n  location?: Partial<Location> | string;\n}\n\n/**\n * A container for a nested tree of `<Route>` elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */\nexport function Routes({\n  children,\n  location,\n}: RoutesProps): React.ReactElement | null {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\n\nexport interface AwaitResolveRenderFunction {\n  (data: Awaited<any>): React.ReactNode;\n}\n\nexport interface AwaitProps {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}\n\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nexport function Await({ children, errorElement, resolve }: AwaitProps) {\n  return (\n    <AwaitErrorBoundary resolve={resolve} errorElement={errorElement}>\n      <ResolveAwait>{children}</ResolveAwait>\n    </AwaitErrorBoundary>\n  );\n}\n\ntype AwaitErrorBoundaryProps = React.PropsWithChildren<{\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}>;\n\ntype AwaitErrorBoundaryState = {\n  error: any;\n};\n\nenum AwaitRenderStatus {\n  pending,\n  success,\n  error,\n}\n\nconst neverSettledPromise = new Promise(() => {});\n\nclass AwaitErrorBoundary extends React.Component<\n  AwaitErrorBoundaryProps,\n  AwaitErrorBoundaryState\n> {\n  constructor(props: AwaitErrorBoundaryProps) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    let { children, errorElement, resolve } = this.props;\n\n    let promise: TrackedPromise | null = null;\n    let status: AwaitRenderStatus = AwaitRenderStatus.pending;\n\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if ((resolve as TrackedPromise)._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status =\n        \"_error\" in promise\n          ? AwaitRenderStatus.error\n          : \"_data\" in promise\n          ? AwaitRenderStatus.success\n          : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data: any) =>\n          Object.defineProperty(resolve, \"_data\", { get: () => data }),\n        (error: any) =>\n          Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n\n    if (\n      status === AwaitRenderStatus.error &&\n      promise._error instanceof AbortedDeferredError\n    ) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return <AwaitContext.Provider value={promise} children={errorElement} />;\n    }\n\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return <AwaitContext.Provider value={promise} children={children} />;\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on `<Await>`\n */\nfunction ResolveAwait({\n  children,\n}: {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n}) {\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return <>{toRender}</>;\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */\nexport function createRoutesFromChildren(\n  children: React.ReactNode,\n  parentPath: number[] = []\n): RouteObject[] {\n  let routes: RouteObject[] = [];\n\n  React.Children.forEach(children, (element, index) => {\n    if (!React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n\n    let treePath = [...parentPath, index];\n\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n\n    invariant(\n      element.type === Route,\n      `[${\n        typeof element.type === \"string\" ? element.type : element.type.name\n      }] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n\n    let route: RouteObject = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary:\n        element.props.ErrorBoundary != null ||\n        element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy,\n    };\n\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n\n    routes.push(route);\n  });\n\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nexport function renderMatches(\n  matches: RouteMatch[] | null\n): React.ReactElement | null {\n  return _renderMatches(matches);\n}\n","const ButtonGradient = () => {\n  return (\n    <svg className=\"block\" width={0} height={0}>\n      <defs>\n        <linearGradient id=\"btn-left\" x1=\"50%\" x2=\"50%\" y1=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"#89F9E8\" />\n          <stop offset=\"100%\" stopColor=\"#FACB7B\" />\n        </linearGradient>\n        <linearGradient id=\"btn-top\" x1=\"100%\" x2=\"0%\" y1=\"50%\" y2=\"50%\">\n          <stop offset=\"0%\" stopColor=\"#D87CEE\" />\n          <stop offset=\"100%\" stopColor=\"#FACB7B\" />\n        </linearGradient>\n        <linearGradient id=\"btn-bottom\" x1=\"100%\" x2=\"0%\" y1=\"50%\" y2=\"50%\">\n          <stop offset=\"0%\" stopColor=\"#9099FC\" />\n          <stop offset=\"100%\" stopColor=\"#89F9E8\" />\n        </linearGradient>\n        <linearGradient\n          id=\"btn-right\"\n          x1=\"14.635%\"\n          x2=\"14.635%\"\n          y1=\"0%\"\n          y2=\"100%\"\n        >\n          <stop offset=\"0%\" stopColor=\"#9099FC\" />\n          <stop offset=\"100%\" stopColor=\"#D87CEE\" />\n        </linearGradient>\n      </defs>\n    </svg>\n  );\n};\n\nexport default ButtonGradient;\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst useScrollToSection = () => {\r\n  // Get the current location using useLocation hook\r\n  const location = useLocation();\r\n\r\n  // Effect to scroll to the section when location changes\r\n  useEffect(() => {\r\n    // Check if the location hash exists\r\n    if (location.hash) {\r\n      // Select the element with the specified hash\r\n      const element = document.querySelector(location.hash);\r\n      // If the element exists, scroll to it smoothly\r\n      if (element) {\r\n        element.scrollIntoView({ behavior: \"smooth\" });\r\n      }\r\n    }\r\n  }, [location]); // Trigger the effect whenever the location changes\r\n};\r\n\r\nexport default useScrollToSection;\r\n","var _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgBrainwave(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 190,\n    height: 40,\n    viewBox: \"0 0 190 40\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    fillRule: \"nonzero\",\n    d: \"M56 30.7038 56 10.3402 64.4915 10.3402C66.0161 10.3402 67.2921 10.5556 68.3196 10.9865 69.3537 11.4174 70.1293 12.0206 70.6463 12.7962 71.17 13.5717 71.4318 14.4699 71.4318 15.4908 71.4318 16.2663 71.2694 16.959 70.9446 17.5689 70.6198 18.1721 70.1723 18.6726 69.6023 19.0703 69.0322 19.468 68.3726 19.7464 67.6236 19.9055L67.6236 20.1044C68.4455 20.1442 69.2045 20.3662 69.9006 20.7706 70.6032 21.175 71.1667 21.7384 71.5909 22.4609 72.0152 23.1768 72.2273 24.0253 72.2273 25.0064 72.2273 26.1001 71.9489 27.0779 71.392 27.9396 70.8352 28.7947 70.0298 29.4709 68.9759 29.968 67.9219 30.4586 66.6425 30.7038 65.1378 30.7038L56 30.7038ZM60.9219 26.7365 63.9645 26.7365C65.0317 26.7365 65.8172 26.5343 66.321 26.13 66.8314 25.7256 67.0866 25.1622 67.0866 24.4396 67.0866 23.916 66.964 23.4652 66.7188 23.0874 66.4735 22.7029 66.1255 22.4079 65.6747 22.2024 65.224 21.9903 64.6837 21.8842 64.054 21.8842L60.9219 21.8842 60.9219 26.7365ZM60.9219 18.7124 63.6463 18.7124C64.1832 18.7124 64.6605 18.6229 65.0781 18.4439 65.4957 18.2649 65.8205 18.0064 66.0526 17.6683 66.2912 17.3303 66.4105 16.9226 66.4105 16.4453 66.4105 15.7625 66.1686 15.2256 65.6847 14.8345 65.2008 14.4434 64.5478 14.2479 63.7259 14.2479L60.9219 14.2479 60.9219 18.7124ZM73.4737 30.7038 73.4737 15.4311 78.1968 15.4311 78.1968 18.2152 78.3559 18.2152C78.6343 17.2076 79.0883 16.4586 79.7181 15.968 80.3478 15.4709 81.0803 15.2223 81.9155 15.2223 82.1409 15.2223 82.3729 15.2389 82.6115 15.272 82.8502 15.2985 83.0722 15.3416 83.2777 15.4013L83.2777 19.6271C83.0457 19.5476 82.7408 19.4846 82.363 19.4382 81.9917 19.3918 81.6603 19.3686 81.3686 19.3686 80.7919 19.3686 80.2716 19.4979 79.8076 19.7564 79.3502 20.0083 78.9889 20.3629 78.7237 20.8203 78.4652 21.2711 78.336 21.8014 78.336 22.4112L78.336 30.7038 73.4737 30.7038ZM87.8701 30.9624C86.8957 30.9624 86.0306 30.8 85.2749 30.4751 84.5259 30.1437 83.9326 29.6465 83.4951 28.9837 83.0642 28.3142 82.8488 27.4756 82.8488 26.468 82.8488 25.6196 82.9979 24.9036 83.2962 24.3203 83.5945 23.737 84.0055 23.263 84.5292 22.8984 85.0529 22.5339 85.6561 22.2588 86.3388 22.0732 87.0216 21.8809 87.7508 21.7517 88.5263 21.6854 89.3947 21.6058 90.094 21.523 90.6243 21.4368 91.1546 21.344 91.5391 21.2147 91.7778 21.049 92.023 20.8767 92.1457 20.6347 92.1457 20.3232L92.1457 20.2734C92.1457 19.763 91.97 19.3686 91.6187 19.0902 91.2673 18.8118 90.7934 18.6726 90.1968 18.6726 89.5538 18.6726 89.0368 18.8118 88.6457 19.0902 88.2546 19.3686 88.006 19.7531 87.8999 20.2436L83.4155 20.0845C83.5481 19.1565 83.8895 18.3279 84.4397 17.5987 84.9965 16.8629 85.7588 16.2862 86.7266 15.8686 87.7011 15.4444 88.871 15.2322 90.2366 15.2322 91.211 15.2322 92.1092 15.3482 92.9312 15.5803 93.7531 15.8056 94.469 16.1371 95.0789 16.5746 95.6887 17.0054 96.159 17.5357 96.491 18.1655 96.829 18.7952 96.998 19.5144 96.998 20.3232L96.998 30.7038 92.4241 30.7038 92.4241 28.576 92.3047 28.576C92.033 29.093 91.685 29.5305 91.2607 29.8885 90.8431 30.2465 90.3493 30.5149 89.7792 30.6939 89.2157 30.8729 88.5794 30.9624 87.8701 30.9624ZM89.3715 27.7805C89.8952 27.7805 90.3658 27.6745 90.7834 27.4624 91.2077 27.2502 91.5457 26.9586 91.7976 26.5874 92.0495 26.2095 92.1755 25.772 92.1755 25.2749L92.1755 23.8232C92.0363 23.8961 91.8672 23.9624 91.6684 24.022 91.4761 24.0817 91.264 24.138 91.032 24.1911 90.8 24.2441 90.5614 24.2905 90.3161 24.3303 90.0708 24.37 89.8355 24.4065 89.6101 24.4396 89.1528 24.5125 88.7617 24.6252 88.4368 24.7777 88.1187 24.9302 87.8734 25.129 87.7011 25.3743 87.5353 25.6129 87.4525 25.898 87.4525 26.2294 87.4525 26.7332 87.6315 27.1177 87.9894 27.3828 88.354 27.648 88.8147 27.7805 89.3715 27.7805ZM98.851 30.7038 98.851 15.4311 103.713 15.4311 103.713 30.7038 98.851 30.7038ZM101.287 13.6513C100.604 13.6513 100.018 13.4259 99.527 12.9751 99.037 12.5178 98.791 11.9676 98.791 11.3246 98.791 10.6882 99.037 10.1447 99.527 9.6939 100.018 9.2365 100.604 9.0078 101.287 9.0078 101.976 9.0078 102.563 9.2365 103.047 9.6939 103.537 10.1447 103.783 10.6882 103.783 11.3246 103.783 11.9676 103.537 12.5178 103.047 12.9751 102.563 13.4259 101.976 13.6513 101.287 13.6513ZM110.55 21.9936 110.55 30.7038 105.688 30.7038 105.688 15.4311 110.312 15.4311 110.312 18.2351 110.481 18.2351C110.819 17.3004 111.395 16.5679 112.211 16.0376 113.026 15.5007 113.997 15.2322 115.124 15.2322 116.198 15.2322 117.129 15.4742 117.918 15.9581 118.714 16.4354 119.33 17.1049 119.768 17.9666 120.212 18.8217 120.43 19.8227 120.424121 20.9695L120.424121 30.7038 115.562 30.7038 115.562 21.924C115.568 21.0755 115.353 20.4126 114.915 19.9354 114.484 19.4581 113.884 19.2195 113.116 19.2195 112.605 19.2195 112.154 19.3322 111.763 19.5575 111.379 19.7763 111.08 20.0911 110.868 20.5021 110.663 20.9131 110.557 21.4103 110.55 21.9936Z\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#FFF\",\n    fillRule: \"nonzero\",\n    points: \"125.168 30.704 121.19 15.431 126.073 15.431 128.131 25.215 128.26 25.215 130.467 15.431 135.23 15.431 137.497 25.146 137.627 25.146 139.625 15.431 144.507 15.431 140.52 30.704 135.32 30.704 132.933 21.805 132.764 21.805 130.378 30.704\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    fillRule: \"nonzero\",\n    d: \"M149.644,30.9624 C148.67,30.9624 147.805,30.8 147.049,30.4751 C146.3,30.1437 145.706,29.6465 145.269,28.9837 C144.838,28.3142 144.623,27.4756 144.623,26.468 C144.623,25.6196 144.772,24.9036 145.07,24.3203 C145.368,23.737 145.779,23.263 146.303,22.8984 C146.827,22.5339 147.43,22.2588 148.113,22.0732 C148.796,21.8809 149.525,21.7517 150.3,21.6854 C151.169,21.6058 151.868,21.523 152.398,21.4368 C152.929,21.344 153.313,21.2147 153.552,21.049 C153.797,20.8767 153.92,20.6347 153.92,20.3232 L153.92,20.2734 C153.92,19.763 153.744,19.3686 153.393,19.0902 C153.041,18.8118 152.567,18.6726 151.971,18.6726 C151.328,18.6726 150.811,18.8118 150.42,19.0902 C150.028,19.3686 149.78,19.7531 149.674,20.2436 L145.189,20.0845 C145.322,19.1565 145.663,18.3279 146.214,17.5987 C146.77,16.8629 147.533,16.2862 148.501,15.8686 C149.475,15.4444 150.645,15.2322 152.01,15.2322 C152.985,15.2322 153.883,15.3482 154.705,15.5803 C155.527,15.8056 156.243,16.1371 156.853,16.5746 C157.463,17.0054 157.933,17.5357 158.265,18.1655 C158.603,18.7952 158.772,19.5144 158.772,20.3232 L158.772,30.7038 L154.198,30.7038 L154.198,28.576 L154.079,28.576 C153.807,29.093 153.459,29.5305 153.035,29.8885 C152.617,30.2465 152.123,30.5149 151.553,30.6939 C150.99,30.8729 150.353,30.9624 149.644,30.9624 Z M151.145,27.7805 C151.669,27.7805 152.14,27.6745 152.557,27.4624 C152.982,27.2502 153.32,26.9586 153.572,26.5874 C153.823,26.2095 153.949,25.772 153.949,25.2749 L153.949,23.8232 C153.81,23.8961 153.641,23.9624 153.442,24.022 C153.25,24.0817 153.038,24.138 152.806,24.1911 C152.574,24.2441 152.335,24.2905 152.09,24.3303 C151.845,24.37 151.609,24.4065 151.384,24.4396 C150.927,24.5125 150.536,24.6252 150.211,24.7777 C149.893,24.9302 149.647,25.129 149.475,25.3743 C149.309,25.6129 149.226,25.898 149.226,26.2294 C149.226,26.7332 149.405,27.1177 149.763,27.3828 C150.128,27.648 150.589,27.7805 151.145,27.7805 Z\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#FFF\",\n    fillRule: \"nonzero\",\n    points: \"174.893 15.431 169.653 30.704 164.085 30.704 158.855 15.431 163.976 15.431 166.79 25.951 166.949 25.951 169.773 15.431\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    fillRule: \"nonzero\",\n    d: \"M182.285,30.9922 C180.687,30.9922 179.308,30.6773 178.148,30.0476 C176.995,29.4112 176.107,28.5064 175.484,27.3331 C174.867,26.1532 174.559,24.7512 174.559,23.1271 C174.559,21.5495 174.87,20.1707 175.493,18.9908 C176.117,17.8042 176.995,16.8828 178.128,16.2266 C179.262,15.5637 180.598,15.2322 182.136,15.2322 C183.223,15.2322 184.217,15.4013 185.118,15.7393 C186.02,16.0774 186.799,16.5779 187.455,17.2408 C188.111,17.9036 188.622,18.7223 188.986,19.6967 C189.351,20.6645 189.533,21.7749 189.533,23.0277 L189.533,24.2408 L176.259,24.2408 L176.259,21.4169 L185.009,21.4169 C185.002,20.8999 184.88,20.4392 184.641,20.0348 C184.403,19.6304 184.074,19.3156 183.657,19.0902 C183.246,18.8582 182.772,18.7422 182.235,18.7422 C181.691,18.7422 181.204,18.8648 180.773,19.1101 C180.342,19.3487 180.001,19.6768 179.749,20.0945 C179.497,20.5054 179.365,20.9728 179.351,21.4965 L179.351,24.37 C179.351,24.9931 179.474,25.54 179.719,26.0107 C179.965,26.4747 180.313,26.8359 180.763,27.0945 C181.214,27.353 181.751,27.4822 182.374,27.4822 C182.805,27.4822 183.196,27.4226 183.547,27.3033 C183.899,27.184 184.2,27.0083 184.452,26.7763 C184.704,26.5443 184.893,26.2592 185.019,25.9212 L189.484,26.0504 C189.298,27.0514 188.89,27.9231 188.261,28.6655 C187.637,29.4013 186.819,29.9747 185.805,30.3857 C184.79,30.79 183.617,30.9922 182.285,30.9922 Z\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#AC6AFF\",\n    fillRule: \"nonzero\",\n    points: \"35.213 11.501 35.206 6.288 25.586 0 25.586 4.022 31.931 8.2 31.936 11.402 28.988 13.398 26.977 11.931 26.977 9.446 23.7 7.204 23.7 11.727 18.505 14.915 18.495 23.335 14.822 25.403 12.937 23.926 12.937 21.488 15.169 19.959 15.169 19.939 15.169 16.166 11.152 18.854 8.081 16.856 5.276 18.693 9.659 21.694 9.659 23.536 6.5 25.674 3.277 23.492 3.277 16.23 8.062 12.991 8.066 9.875 14.203 13.827 19.361 10.394 16.216 8.559 14.159 9.947 9.677 6.983 14.731 4.036 19.11 6.603 19.11 2.775 14.736 .211 4.794 6.008 4.787 11.223 0 14.465 0 25.257 4.787 28.499 4.794 33.714 14.414 40 14.414 35.981 8.069 31.803 8.064 28.601 11.012 26.605 13.023 28.072 13.023 30.557 16.3 32.798 16.3 28.275 21.569 25.088 21.628 16.667 25.178 14.599 27.063 16.076 27.063 18.514 24.831 20.043 24.831 20.063 24.831 23.837 28.848 21.148 31.919 23.146 34.724 21.309 30.34 18.306 30.34 16.466 33.5 14.329 36.723 16.511 36.723 23.772 31.939 27.012 31.934 30.127 25.797 26.173 20.639 29.584 23.784 31.416 25.841 30.055 30.323 33.019 25.269 35.966 20.89 33.399 20.89 37.225 25.264 39.789 35.206 33.995 35.213 28.779 40 25.537 40 14.743\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgBrainwave);\nexport default __webpack_public_path__ + \"static/media/brainwave.ab3a05d0c9c167168c5e45bf24d1ab36.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCheck(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24,\n    rx: 12,\n    fill: \"#AC6AFF\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M17.8047 7.52925C18.0651 7.7896 18.0651 8.21171 17.8047 8.47206L10.4714 15.8054C10.2111 16.0657 9.78894 16.0657 9.5286 15.8054L6.19526 12.4721C5.93491 12.2117 5.93491 11.7896 6.19526 11.5292C6.45561 11.2689 6.87772 11.2689 7.13807 11.5292L10 14.3912L16.8619 7.52925C17.1223 7.2689 17.5444 7.2689 17.8047 7.52925Z\",\n    fill: \"#0E0C15\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.33e7b06e4e39166447db44185b29e00f.svg\";\nexport { ForwardRef as ReactComponent };","var _polygon;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgBrainwaveSymbol(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _polygon || (_polygon = /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#AC6AFF\",\n    points: \"38.831 15.118 38.823 9.905 29.203 3.617 29.203 7.639 35.548 11.817 35.553 15.019 32.605 17.015 30.594 15.548 30.594 13.063 27.317 10.821 27.317 15.344 22.122 18.532 22.113 26.952 18.44 29.02 16.554 27.543 16.554 25.105 18.786 23.576 18.786 23.556 18.786 19.783 14.769 22.471 11.698 20.473 8.893 22.31 13.277 25.311 13.277 27.154 10.117 29.291 6.894 27.109 6.894 19.848 11.679 16.608 11.684 13.492 17.82 17.445 22.978 14.011 19.834 12.177 17.776 13.564 13.294 10.6 18.349 7.654 22.727 10.22 22.727 6.393 18.354 3.828 8.411 9.625 8.404 14.84 3.617 18.082 3.617 28.874 8.404 32.116 8.411 37.332 18.032 43.617 18.032 39.598 11.686 35.42 11.681 32.218 14.629 30.222 16.64 31.689 16.64 34.174 19.917 36.416 19.917 31.892 25.186 28.705 25.245 20.285 28.795 18.217 30.68 19.694 30.68 22.131 28.448 23.661 28.448 23.68 28.448 27.454 32.465 24.765 35.536 26.764 38.341 24.927 33.958 21.923 33.958 20.083 37.117 17.946 40.34 20.128 40.34 27.389 35.556 30.629 35.551 33.744 29.414 29.79 24.256 33.201 27.401 35.033 29.459 33.672 33.941 36.636 28.886 39.583 24.507 37.016 24.507 40.842 28.881 43.406 38.823 37.612 38.831 32.396 43.617 29.154 43.617 18.361\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgBrainwaveSymbol);\nexport default __webpack_public_path__ + \"static/media/brainwave-symbol.0d1a1dcaea77b7c5dc34b758835280e6.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCheck02(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M14.0215 3.52925C14.2819 3.7896 14.2819 4.21171 14.0215 4.47206L6.6882 11.8054C6.42785 12.0657 6.00574 12.0657 5.74539 11.8054L2.41206 8.47206C2.15171 8.21171 2.15171 7.7896 2.41206 7.52925C2.67241 7.2689 3.09452 7.2689 3.35487 7.52925L6.2168 10.3912L13.0787 3.52925C13.3391 3.2689 13.7612 3.2689 14.0215 3.52925Z\",\n    fill: \"#0E0C15\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck02);\nexport default __webpack_public_path__ + \"static/media/check-02.792a92d6013520b7971ec390b7c4779f.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgLoading01(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8.21745 0.833984C8.58564 0.833984 8.88411 1.13246 8.88411 1.50065V3.16732C8.88411 3.53551 8.58564 3.83398 8.21745 3.83398C7.84926 3.83398 7.55078 3.53551 7.55078 3.16732V1.50065C7.55078 1.13246 7.84926 0.833984 8.21745 0.833984Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8.21745 11.334C8.58564 11.334 8.88411 11.6325 8.88411 12.0007V14.6673C8.88411 15.0355 8.58564 15.334 8.21745 15.334C7.84926 15.334 7.55078 15.0355 7.55078 14.6673V12.0007C7.55078 11.6325 7.84926 11.334 8.21745 11.334Z\",\n    fill: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M1.05078 8.00065C1.05078 7.63246 1.34926 7.33398 1.71745 7.33398H4.05078C4.41897 7.33398 4.71745 7.63246 4.71745 8.00065C4.71745 8.36884 4.41897 8.66732 4.05078 8.66732H1.71745C1.34926 8.66732 1.05078 8.36884 1.05078 8.00065Z\",\n    fill: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12.7174 8.00065C12.7174 7.63246 13.0159 7.33398 13.3841 7.33398H14.3841C14.7523 7.33398 15.0508 7.63246 15.0508 8.00065C15.0508 8.36884 14.7523 8.66732 14.3841 8.66732H13.3841C13.0159 8.66732 12.7174 8.36884 12.7174 8.00065Z\",\n    fill: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M11.5794 11.3626C11.8397 11.1022 12.2618 11.1022 12.5222 11.3626L12.9936 11.834C13.2539 12.0943 13.2539 12.5164 12.9936 12.7768C12.7332 13.0371 12.3111 13.0371 12.0508 12.7768L11.5794 12.3054C11.319 12.045 11.319 11.6229 11.5794 11.3626Z\",\n    fill: \"black\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M13.1317 3.13977C13.392 3.40012 13.392 3.82223 13.1317 4.08258L12.1889 5.02539C11.9285 5.28574 11.5064 5.28574 11.246 5.02539C10.9857 4.76504 10.9857 4.34293 11.246 4.08258L12.1889 3.13977C12.4492 2.87942 12.8713 2.87942 13.1317 3.13977Z\",\n    fill: \"black\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M5.85552 10.3626C6.11587 10.6229 6.11587 11.045 5.85552 11.3054L3.9699 13.191C3.70955 13.4514 3.28744 13.4514 3.02709 13.191C2.76674 12.9307 2.76674 12.5085 3.02709 12.2482L4.91271 10.3626C5.17306 10.1022 5.59517 10.1022 5.85552 10.3626Z\",\n    fill: \"black\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M3.16516 3.0017C3.42551 2.74135 3.84762 2.74135 4.10797 3.0017L5.52219 4.41591C5.78254 4.67626 5.78254 5.09837 5.52219 5.35872C5.26184 5.61907 4.83973 5.61907 4.57938 5.35872L3.16516 3.94451C2.90481 3.68416 2.90481 3.26205 3.16516 3.0017Z\",\n    fill: \"black\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoading01);\nexport default __webpack_public_path__ + \"static/media/loading-01.7f6e3356f5e1fbabe35f0b38ba05c3d0.svg\";\nexport { ForwardRef as ReactComponent };","var _desc, _defs, _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgRebel(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"-0.5 0 20 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"star_wars [#134]\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Page-1\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Dribbble-Light-Preview\",\n    transform: \"translate(-60.000000, -7599.000000)\",\n    fill: \"#000000\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"icons\",\n    transform: \"translate(56.000000, 160.000000)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.8939465,7441.658 C21.3719927,7443.378 23,7446.246 23,7449.483 C23,7454.725 18.7320343,7459 13.5004936,7459 C8.26796571,7459 4,7454.725 4,7449.483 C4,7446.118 5.75931411,7443.152 8.40420889,7441.459 C7.5255391,7443.868 6.08708756,7445.396 6.7376981,7447.96 C7.2866199,7450.124 9.0074305,7451.558 10.5663289,7451.152 C11.9060535,7450.803 12.7017927,7449.205 12.5507405,7447.39 C12.4016628,7445.601 11.3294882,7444.619 9.99568719,7443.376 L10.9681476,7442.082 L12.8646921,7444.059 L12.0294622,7441.362 L13.6071187,7439 L15.0544557,7441.323 L14.1767732,7444.2 L16.0723305,7442.12 L16.9638348,7443.315 C15.9479345,7444.588 14.6605352,7445.369 14.6338789,7447.162 C14.6131463,7448.567 15.2282151,7450.809 16.543258,7451.152 C18.1021564,7451.558 19.8219797,7450.124 20.3718888,7447.96 C20.9464796,7445.696 19.5949078,7443.702 18.8939465,7441.658\",\n    id: \"star_wars-[#134]\"\n  }))))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgRebel);\nexport default __webpack_public_path__ + \"static/media/rebel.c1668cb66c34b6f668e7910b1f1e494a.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgSith(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 0 14 14\",\n    role: \"img\",\n    focusable: \"false\",\n    \"aria-hidden\": \"true\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 1,1 2.8672321,4.1808 1.290625,3.87223 3.1613393,6.31054 a 3.9305625,3.9305625 0 0 0 0,1.37812 L 1.290625,10.12696 2.8672321,9.81839 1,13 4.1808036,11.13277 3.8722321,12.70938 6.3105357,10.83866 c 0.4558929,0.0814 0.9233036,0.0814 1.3789286,0 L 10.127768,12.70938 9.8191964,11.13277 13,13 11.132768,9.81839 l 1.576607,0.30857 -1.870714,-2.4383 c 0.08116,-0.45562 0.08143,-0.9225 0,-1.37812 L 12.709375,3.87223 11.132768,4.1808 13,1 9.8191964,2.86723 10.127768,1.28955 7.6886607,3.16107 C 7.4609821,3.12036 7.230625,3.09973 7,3.09973 c -0.230625,0 -0.4609821,0.0209 -0.6886607,0.0613 L 3.8722321,1.28955 4.1808036,2.86723 1,1 Z m 6,2.67268 c 0.8517857,0 1.7035714,0.32464 2.353125,0.9742 1.299107,1.2991 1.298839,3.40741 0,4.70625 -1.2988393,1.29883 -3.4071429,1.29803 -4.70625,-8.1e-4 -1.2991071,-1.29911 -1.2988393,-3.40741 0,-4.70625 C 5.2961607,3.99652 6.1482143,3.67268 7,3.67268 Z m 0,0.98196 c -0.6005357,0 -1.2008036,0.22822 -1.6585714,0.68599 -0.9155357,0.91553 -0.9158036,2.40214 0,3.31794 0.9158035,0.91581 2.4013393,0.91554 3.3171428,0 0.9155357,-0.91553 0.9158036,-2.40214 0,-3.31794 C 8.2008036,4.88286 7.6005357,4.65464 7,4.65464 Z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSith);\nexport default __webpack_public_path__ + \"static/media/sith.4ac5f938e9eb97eb49f20767baf6b4d8.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgSabers(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 0 512 512\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#000000\",\n    d: \"M478.89 21.842c-6.434-.113-15.047 3.628-24.242 12.822L328.912 160.4c0-.007.003-.015.004-.023l-60.228 60.228.01.01-12.727 12.727-.01-.01-22.657 22.658.01.01-12.44 12.44-.01-.01-30.884 30.884c0 .005.002.01.004.014l-55.656 55.656 22.627 22.627 320.32-320.32c18.827-18.825 14.79-35.217 1.616-35.448zm-445.84.06c-13.176.232-17.213 16.623 1.614 35.45l185.912 185.912 22.658-22.66-44.164-44.16c0 .02 0 .038-.002.058L57.29 34.725C48.098 25.53 39.484 21.79 33.05 21.902zm234.538 36.39c-9.308 42.14-12.624 79.314-27.922 121.454-21.636-16.89-30.623-41.47-43.836-63.414.586 10.88 1.66 22.256 2.42 33.838l57.71 57.71 78.485-78.485a2474.362 2474.362 0 0 1 4.078-21.237c-21.27 28.796-42.452 44.68-71.396 73.475-6.752-45.418.278-77.923.46-123.34zM87.873 170.623c-.052.003-.08.017-.082.044-.258 5.25 104.427 78.357 96.222 83.578-13.465 8.55-57.975 31.11-83.508 44.914 19.72-3.345 53.538-7.933 72.18-8.002l35.453-35.453-63.655-63.652c-27.027-10.216-54.915-21.568-56.61-21.43zm245.143 56.144l-29.086 29.086 56.174 56.17c10.848.735 21.692 1.416 32.5 1.218-24.518-15.9-71.99-43.734-71.64-50.568.353-6.887 63.447-21.216 95.518-31.606-27.787-2.137-55.973 3.846-83.466-4.3zm-41.813 41.812l-22.656 22.656 86.437 86.438 22.627-22.627-44.473-44.475h.06l-41.994-41.992zm-35.098 35.098l-57.703 57.703c.408 14.207.21 28.454-.52 40.38 11.322-26.84 17.846-51.86 45.827-74.473 14.444 11.985 24.816 40.267 37.224 60.4-.91-19.042-6.873-52.002-5.03-64.214l-19.8-19.797zM111.7 354.984L98.974 367.71l45.256 45.257 12.725-12.73-45.252-45.253h-.002zm288.538.06l-45.254 45.253v.002l12.727 12.727 45.257-45.256-12.73-12.725zM94.023 385.39l-9.9 9.9 32.527 32.526 9.9-9.9-32.527-32.527zm323.893.06l-32.527 32.527 9.9 9.9 32.526-32.527-9.9-9.9zm-346.52 22.568L21.9 457.512l32.528 32.527 10.603-10.604 10.73 10.726 17.847-17.848-10.728-10.726 21.042-21.043-9.9-9.9-38.89 38.89-12.728-12.728 38.89-38.89-9.9-9.9zm369.15.06l-9.9 9.9 38.89 38.89-12.73 12.728-38.89-38.89-9.898 9.9 49.494 49.494 32.527-32.528-10.604-10.603 10.726-10.73-17.848-17.847-10.726 10.728-21.043-21.042z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSabers);\nexport default __webpack_public_path__ + \"static/media/sabers.bde51f84a62e1ed30bd6a069f96ca2ef.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgJedi(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 -32 576 576\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M535.95308,352c-42.64069,94.17188-137.64086,160-247.9848,160q-6.39844,0-12.84377-.29688C171.15558,506.9375,81.26481,442.23438,40.01474,352H79.93668L21.3272,293.40625a264.82522,264.82522,0,0,1-5.10938-39.42187,273.6653,273.6653,0,0,1,.5-29.98438H63.93665L22.546,182.625A269.79782,269.79782,0,0,1,130.51489,20.54688a16.06393,16.06393,0,0,1,9.28127-3,16.36332,16.36332,0,0,1,13.5,7.25,16.02739,16.02739,0,0,1,1.625,15.09374,138.387,138.387,0,0,0-9.84376,51.26563c0,45.10937,21.04691,86.57813,57.71884,113.73437a16.29989,16.29989,0,0,1,1.20313,25.39063c-26.54692,23.98437-41.17194,56.5-41.17194,91.57813,0,60.03124,42.95319,110.28124,99.89079,121.92187l2.5-65.26563L238.062,397a8.33911,8.33911,0,0,1-10-.75,8.025,8.025,0,0,1-1.39063-9.9375l20.125-33.76562-42.06257-8.73438a7.9898,7.9898,0,0,1,0-15.65625l42.06257-8.71875-20.10941-33.73438a7.99122,7.99122,0,0,1,11.35939-10.71874L268.437,295.64062,279.95265,7.67188a7.97138,7.97138,0,0,1,8-7.67188h.04687a8.02064,8.02064,0,0,1,7.95314,7.70312L307.48394,295.625l30.39068-20.67188a8.08327,8.08327,0,0,1,10,.8125,7.99866,7.99866,0,0,1,1.39062,9.90626L329.12461,319.4375l42.07819,8.73438a7.99373,7.99373,0,0,1,0,15.65624l-42.07819,8.71876,20.1094,33.73437a7.97791,7.97791,0,0,1-1.32812,9.92187A8.25739,8.25739,0,0,1,337.87462,397L310.7027,378.53125l2.5,65.34375c48.48446-9.40625,87.57828-48.15625,97.31267-96.5A123.52652,123.52652,0,0,0,371.9528,230.29688a16.30634,16.30634,0,0,1,1.20313-25.42188c36.65631-27.17188,57.6876-68.60938,57.6876-113.73438a138.01689,138.01689,0,0,0-9.85939-51.3125,15.98132,15.98132,0,0,1,1.60937-15.09374,16.36914,16.36914,0,0,1,13.5-7.23438,16.02453,16.02453,0,0,1,9.25,2.98438A271.26947,271.26947,0,0,1,553.25,182.76562L511.99992,224h46.9532C559.3125,229.76562,560,235.45312,560,241.26562a270.092,270.092,0,0,1-5.125,51.85938L495.98427,352Z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgJedi);\nexport default __webpack_public_path__ + \"static/media/jedi.4357b36bd263d4a0e15c25fae634f1f9.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCurve1(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 522,\n    height: 182,\n    viewBox: \"0 0 522 182\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.333333 179C0.333333 180.473 1.52724 181.667 3 181.667C4.47276 181.667 5.66667 180.473 5.66667 179C5.66667 177.527 4.47276 176.333 3 176.333C1.52724 176.333 0.333333 177.527 0.333333 179ZM517 3.5L522 5.88675V0.113249L517 2.5V3.5ZM3 179.5H131.782V178.5H3V179.5ZM212.282 99V83H211.282V99H212.282ZM291.782 3.5H517.5V2.5H291.782V3.5ZM212.282 83C212.282 39.0934 247.875 3.5 291.782 3.5V2.5C247.323 2.5 211.282 38.5411 211.282 83H212.282ZM131.782 179.5C176.241 179.5 212.282 143.459 212.282 99H211.282C211.282 142.907 175.688 178.5 131.782 178.5V179.5Z\",\n    fill: \"#252134\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCurve1);\nexport default __webpack_public_path__ + \"static/media/curve-1.77eff2f9cf465bc2a916e5c604d0e124.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCurve2(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 162,\n    height: 76,\n    viewBox: \"0 0 162 76\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.333333 3C0.333333 1.52724 1.52724 0.333336 3 0.333336C4.47276 0.333336 5.66667 1.52724 5.66667 3C5.66667 4.47276 4.47276 5.66666 3 5.66666C1.52724 5.66666 0.333333 4.47276 0.333333 3ZM157 72.5L162 70.1132V75.8868L157 73.5V72.5ZM84.5606 38C84.5606 36.5272 85.7545 35.3333 87.2272 35.3333C88.7 35.3333 89.8939 36.5272 89.8939 38C89.8939 39.4728 88.7 40.6667 87.2272 40.6667C85.7545 40.6667 84.5606 39.4728 84.5606 38ZM3 2.5H52.2273V3.5H3V2.5ZM122.227 72.5H157.5V73.5H122.227V72.5ZM87.7272 38C87.7272 57.0538 103.173 72.5 122.227 72.5V73.5C102.621 73.5 86.7272 57.6061 86.7272 38H87.7272ZM52.2273 2.5C71.8334 2.5 87.7272 18.3939 87.7272 38H86.7272C86.7272 18.9462 71.2811 3.5 52.2273 3.5V2.5Z\",\n    fill: \"#252134\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCurve2);\nexport default __webpack_public_path__ + \"static/media/curve-2.f338349c3909d19e1fd2a3d4dc0820e3.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgLines(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 1480,\n    height: 177,\n    viewBox: \"0 0 1480 177\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#FFF\",\n    strokeOpacity: 0.1,\n    d: \"M1480 0 1439.40086 0C1426.1468 0 1415.40266 10.7452 1415.40266 24L1415.40266 62C1415.40266 75.2548 1404.65831 86 1391.40435 86L0 86M1480 175 1439.40086 175C1426.1468 175 1415.40266 164.255 1415.40266 151L1415.40266 113C1415.40266 99.745 1404.65831 89 1391.40435 89L0 89\",\n    transform: \"translate(0 1)\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLines);\nexport default __webpack_public_path__ + \"static/media/lines.17a95aa1765601a217ea3799d9cd0001.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _path, _path2, _path3, _path4, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgStars(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 952,\n    height: 396,\n    viewBox: \"0 0 952 396\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    opacity: 0.35\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 417,\n    cy: 161,\n    r: 4,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    opacity: 0.5,\n    cx: 515,\n    cy: 116,\n    r: 2,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    opacity: 0.5,\n    cx: 423,\n    cy: 279,\n    r: 4,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    opacity: 0.3,\n    cx: 366,\n    cy: 394,\n    r: 2,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 265,\n    cy: 327,\n    r: 2,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    opacity: 0.2,\n    cx: 362,\n    cy: 209,\n    r: 2,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    opacity: 0.3,\n    cx: 548,\n    cy: 211,\n    r: 2,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    opacity: 0.2,\n    cx: 607,\n    cy: 281,\n    r: 2,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    opacity: 0.21,\n    cx: 789,\n    cy: 281,\n    r: 2,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 362,\n    cy: 65,\n    r: 2,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    opacity: 0.3,\n    cx: 192,\n    cy: 132,\n    r: 2,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 743,\n    cy: 2,\n    r: 2,\n    fill: \"white\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M834 150C827.373 150 822 144.627 822 138C822 131.373 827.373 126 834 126C840.627 126 846 131.373 846 138C846 144.627 840.627 150 834 150Z\",\n    fill: \"url(#paint0_linear_701_17365)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 206C1.79086 206 4.76837e-07 204.209 4.76837e-07 202C4.76837e-07 199.791 1.79086 198 4 198C6.20914 198 8 199.791 8 202C8 204.209 6.20914 206 4 206Z\",\n    fill: \"url(#paint1_linear_701_17365)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M948 206C945.791 206 944 204.209 944 202C944 199.791 945.791 198 948 198C950.209 198 952 199.791 952 202C952 204.209 950.209 206 948 206Z\",\n    fill: \"url(#paint2_linear_701_17365)\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M154 326C149.582 326 146 322.418 146 318C146 313.582 149.582 310 154 310C158.418 310 162 313.582 162 318C162 322.418 158.418 326 154 326Z\",\n    fill: \"url(#paint3_linear_701_17365)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_701_17365\",\n    x1: 834,\n    y1: 126,\n    x2: 834,\n    y2: 150,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#88E5BE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#1A1A32\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear_701_17365\",\n    x1: 4,\n    y1: 198,\n    x2: 4,\n    y2: 206,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#DD734F\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#1A1A32\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear_701_17365\",\n    x1: 948,\n    y1: 198,\n    x2: 948,\n    y2: 206,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#DD734F\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#1A1A32\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint3_linear_701_17365\",\n    x1: 154,\n    y1: 310,\n    x2: 154,\n    y2: 326,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#B9AEDF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#1A1A32\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgStars);\nexport default __webpack_public_path__ + \"static/media/stars.16862618d871f4871a012e1655dc16dc.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2, _path, _rect3, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgDone(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 56,\n    height: 56,\n    viewBox: \"0 0 56 56\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 56,\n    height: 56,\n    rx: 28,\n    fill: \"black\",\n    fillOpacity: 0.48\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 4,\n    y: 4,\n    width: 48,\n    height: 48,\n    rx: 24,\n    fill: \"#AC6AFF\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M36.7071 21.2929C37.0976 21.6834 37.0976 22.3166 36.7071 22.7071L25.7071 33.7071C25.3166 34.0976 24.6834 34.0976 24.2929 33.7071L19.2929 28.7071C18.9024 28.3166 18.9024 27.6834 19.2929 27.2929C19.6834 26.9024 20.3166 26.9024 20.7071 27.2929L25 31.5858L35.2929 21.2929C35.6834 20.9024 36.3166 20.9024 36.7071 21.2929Z\",\n    fill: \"#0E0C15\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 4.5,\n    y: 4.5,\n    width: 47,\n    height: 47,\n    rx: 23.5,\n    stroke: \"url(#paint0_linear_701_30432)\",\n    strokeOpacity: 0.15\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_701_30432\",\n    x1: 28,\n    y1: 4,\n    x2: 28,\n    y2: 52,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"white\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.560128,\n    stopColor: \"white\",\n    stopOpacity: 0\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgDone);\nexport default __webpack_public_path__ + \"static/media/done.14cb479671135b189a59599d796eaffd.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2, _path, _path2, _rect3, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgUndone(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 56,\n    height: 56,\n    viewBox: \"0 0 56 56\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 56,\n    height: 56,\n    rx: 28,\n    fill: \"black\",\n    fillOpacity: 0.48\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 4,\n    y: 4,\n    width: 48,\n    height: 48,\n    rx: 24,\n    fill: \"#15131D\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M19 25L30.126 25C30.5701 26.7252 32.1362 28 34 28C36.2091 28 38 26.2091 38 24C38 21.7909 36.2091 20 34 20C32.1362 20 30.5701 21.2748 30.126 23L19 23C18.4477 23 18 23.4477 18 24C18 24.5523 18.4477 25 19 25Z\",\n    fill: \"#CAC6DD\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M37 31L25.874 31C25.4299 29.2748 23.8638 28 22 28C19.7909 28 18 29.7909 18 32C18 34.2091 19.7909 36 22 36C23.8638 36 25.4299 34.7252 25.874 33L37 33C37.5523 33 38 32.5523 38 32C38 31.4477 37.5523 31 37 31Z\",\n    fill: \"#CAC6DD\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 4.5,\n    y: 4.5,\n    width: 47,\n    height: 47,\n    rx: 23.5,\n    stroke: \"url(#paint0_linear_701_30570)\",\n    strokeOpacity: 0.15\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_701_30570\",\n    x1: 28,\n    y1: 4,\n    x2: 28,\n    y2: 52,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"white\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.560128,\n    stopColor: \"white\",\n    stopOpacity: 0\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgUndone);\nexport default __webpack_public_path__ + \"static/media/undone.c6dc914dfe6c57207f65821bb56174ea.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCard1(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    preserveAspectRatio: \"none\",\n    width: 384,\n    height: 366,\n    viewBox: \"0 0 384 366\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"white\",\n    strokeOpacity: 0.15,\n    strokeWidth: 2\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"url(#paint0_linear_333_9188)\",\n    strokeOpacity: 0.85,\n    strokeWidth: 2\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_333_9188\",\n    x1: 192,\n    y1: 0,\n    x2: 192,\n    y2: 366,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#33CEFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.562842,\n    stopColor: \"#D633FF\",\n    stopOpacity: 0\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCard1);\nexport default __webpack_public_path__ + \"static/media/card-1.c381956c57e37516faf266f8d0be3f9c.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCard2(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    preserveAspectRatio: \"none\",\n    width: 384,\n    height: 366,\n    viewBox: \"0 0 384 366\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"white\",\n    strokeOpacity: 0.15,\n    strokeWidth: 2\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"url(#paint0_linear_333_9186)\",\n    strokeOpacity: 0.85,\n    strokeWidth: 2\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_333_9186\",\n    x1: 192,\n    y1: 0,\n    x2: 192,\n    y2: 366,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#FFC876\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.562842,\n    stopColor: \"#D633FF\",\n    stopOpacity: 0\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCard2);\nexport default __webpack_public_path__ + \"static/media/card-2.0bd75280e2a2e045c00942334df53929.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCard3(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    preserveAspectRatio: \"none\",\n    width: 384,\n    height: 366,\n    viewBox: \"0 0 384 366\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"white\",\n    strokeOpacity: 0.15,\n    strokeWidth: 2\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"url(#paint0_linear_333_9185)\",\n    strokeOpacity: 0.85,\n    strokeWidth: 2\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_333_9185\",\n    x1: 192,\n    y1: 0,\n    x2: 192,\n    y2: 366,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#D77DEE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.562842,\n    stopColor: \"#D633FF\",\n    stopOpacity: 0\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCard3);\nexport default __webpack_public_path__ + \"static/media/card-3.a1a9c560c5d2969c5aa745820364f636.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCard4(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    preserveAspectRatio: \"none\",\n    width: 384,\n    height: 366,\n    viewBox: \"0 0 384 366\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"white\",\n    strokeOpacity: 0.15,\n    strokeWidth: 2\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"url(#paint0_linear_333_9187)\",\n    strokeOpacity: 0.85,\n    strokeWidth: 2\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_333_9187\",\n    x1: 192,\n    y1: 0,\n    x2: 192,\n    y2: 366,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#B6EE7D\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.562842,\n    stopColor: \"#FF3F33\",\n    stopOpacity: 0\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCard4);\nexport default __webpack_public_path__ + \"static/media/card-4.946e8170952c923839920ed5d370ead7.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCard5(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    preserveAspectRatio: \"none\",\n    width: 384,\n    height: 366,\n    viewBox: \"0 0 384 366\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"white\",\n    strokeOpacity: 0.15,\n    strokeWidth: 2\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"url(#paint0_linear_333_9184)\",\n    strokeOpacity: 0.85,\n    strokeWidth: 2\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_333_9184\",\n    x1: 192,\n    y1: 0,\n    x2: 192,\n    y2: 366,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#EE917D\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.562842,\n    stopColor: \"#FF3333\",\n    stopOpacity: 0\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCard5);\nexport default __webpack_public_path__ + \"static/media/card-5.8ce8fdd1ec6910a9c80367a96e96d3f8.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCard6(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    preserveAspectRatio: \"none\",\n    width: 384,\n    height: 366,\n    viewBox: \"0 0 384 366\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"white\",\n    strokeOpacity: 0.15,\n    strokeWidth: 2\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    vectorEffect: \"non-scaling-stroke\",\n    d: \"M32 1H319.453C328.037 1 336.238 4.5601 342.1 10.832L374.648 45.6545C380.015 51.3966 383 58.9629 383 66.8225V334C383 351.121 369.121 365 352 365H32C14.8792 365 1 351.121 1 334V32C1 14.8792 14.8792 1 32 1Z\",\n    stroke: \"url(#paint0_linear_333_9183)\",\n    strokeOpacity: 0.85,\n    strokeWidth: 2\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_333_9183\",\n    x1: 192,\n    y1: 0,\n    x2: 192,\n    y2: 366,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#7D96EE\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.562842,\n    stopColor: \"#FF33EB\",\n    stopOpacity: 0\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCard6);\nexport default __webpack_public_path__ + \"static/media/card-6.73c201737366e651db2241c8efa5d733.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgGithub(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 -0.5 24 24\",\n    id: \"meteor-icon-kit__regular-github\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12.2047 0.00001C6.56031 -0.005731 1.74628 4.08615 0.842541 9.6577C-0.061195 15.2293 3.2126 20.6331 8.56941 22.4118C9.14823 22.5177 9.35294 22.1577 9.35294 21.8541C9.35294 21.5506 9.35294 20.8588 9.35294 19.8988C6.14117 20.5977 5.46353 18.3529 5.46353 18.3529C5.25046 17.6572 4.79779 17.0595 4.18588 16.6659C3.14823 15.96 4.27059 15.96 4.27059 15.96C5.00761 16.0641 5.65578 16.5014 6.02823 17.1459C6.34368 17.7179 6.87393 18.1406 7.50179 18.3208C8.12965 18.5009 8.8034 18.4236 9.37411 18.1059C9.41842 17.5252 9.66876 16.9794 10.08 16.5671C7.5247 16.2777 4.84235 15.2894 4.84235 10.92C4.82481 9.7786 5.24688 8.67412 6.02117 7.8353C5.67632 6.84285 5.71662 5.7571 6.13412 4.79295C6.13412 4.79295 7.10117 4.48236 9.29647 5.97177C11.1816 5.45419 13.1713 5.45419 15.0565 5.97177C17.2518 4.48236 18.2118 4.79295 18.2118 4.79295C18.6351 5.74689 18.6854 6.82486 18.3529 7.81412C19.1272 8.65294 19.5493 9.7574 19.5318 10.8988C19.5318 15.3177 16.8424 16.2847 14.28 16.5459C14.8359 17.1047 15.1218 17.8774 15.0635 18.6635C15.0635 20.2024 15.0635 21.4447 15.0635 21.8188C15.0635 22.1929 15.2682 22.4824 15.8541 22.3694C21.1473 20.5447 24.3569 15.1728 23.4554 9.6469C22.5539 4.1211 17.8034 0.04779 12.2047 0.00001z\",\n    fill: \"#758CA3\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithub);\nexport default __webpack_public_path__ + \"static/media/github.3e36072905872015cb2788c3e6dae314.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgArrow(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 512 512\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#78B9EB\"\n    },\n    d: \"M280,360V24c0-13.254-10.746-24-24-24s-24,10.746-24,24v336H280z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 232,\n    y: 424,\n    style: {\n      fill: \"#5A8BB0\"\n    },\n    width: 48,\n    height: 88\n  }), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 368,\n    y: 184,\n    style: {\n      fill: \"#93C7EF\"\n    },\n    width: 96,\n    height: 48\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 356.134,\n    y: 59.019,\n    transform: \"matrix(-0.6311 -0.7757 0.7757 -0.6311 537.0215 469.429)\",\n    style: {\n      fill: \"#93C7EF\"\n    },\n    width: 47.998,\n    height: 96\n  })), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 48,\n    y: 184,\n    style: {\n      fill: \"#BFE4F8\"\n    },\n    width: 96,\n    height: 48\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 83.885,\n    y: 83.021,\n    transform: \"matrix(-0.7757 -0.6311 0.6311 -0.7757 166.6473 273.2688)\",\n    style: {\n      fill: \"#BFE4F8\"\n    },\n    width: 96,\n    height: 47.998\n  })), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 208,\n    y: 320,\n    style: {\n      fill: \"#3C5D76\"\n    },\n    width: 96,\n    height: 160\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 256,\n    y: 320,\n    style: {\n      fill: \"#1E2E3B\"\n    },\n    width: 48,\n    height: 160\n  }));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/arrow.6b491886147d7821d18d0ea1335cfab7.svg\";\nexport { ForwardRef as ReactComponent };","const PlusSvg = ({ className = \"\" }) => {\n  return (\n    <svg className={`${className} || \"\"`} width=\"11\" height=\"11\" fill=\"none\">\n      <path\n        d=\"M7 1a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1H1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h2a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V8a1 1 0 0 1 1-1h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H8a1 1 0 0 1-1-1V1z\"\n        fill=\"#ada8c4\"\n      />\n    </svg>\n  );\n};\n\nexport default PlusSvg;\n","import PlusSvg from \"./PlusSvg\";\n\nconst SectionSvg = ({ crossesOffset }) => {\n  return (\n    <>\n      <PlusSvg\n        className={`hidden absolute -top-[0.3125rem] left-[1.5625rem] ${\n          crossesOffset && crossesOffset\n        } pointer-events-none lg:block xl:left-[2.1875rem]`}\n      />\n\n      <PlusSvg\n        className={`hidden absolute  -top-[0.3125rem] right-[1.5625rem] ${\n          crossesOffset && crossesOffset\n        } pointer-events-none lg:block xl:right-[2.1875rem]`}\n      />\n    </>\n  );\n};\n\nexport default SectionSvg;\n","import SectionSvg from \"../assets/svg/SectionSvg\";\r\n\r\n// Define the Section functional component\r\nconst Section = ({\r\n  className,\r\n  id,\r\n  crosses,\r\n  crossesOffset,\r\n  customPaddings,\r\n  children,\r\n}) => {\r\n  return (\r\n    // Render the section element with provided props\r\n    <section\r\n      id={id}\r\n      className={`\r\n      relative \r\n      ${\r\n        customPaddings ||\r\n        `py-10 lg:py-16 xl:py-20 ${crosses ? \"lg:py-32 xl:py-40\" : \"\"}`\r\n      } \r\n      ${className || \"\"}`}\r\n    >\r\n      {children}\r\n\r\n      {/* Horizontal stroke lines */}\r\n      <section className=\"hidden absolute top-0 left-5 w-0.25 h-full bg-stroke-1 pointer-events-none md:block lg:left-7.5 xl:left-10\" />\r\n      <section className=\"hidden absolute top-0 right-5 w-0.25 h-full bg-stroke-1 pointer-events-none md:block lg:right-7.5 xl:right-10\" />\r\n\r\n      {/* Crosses */}\r\n      {crosses && (\r\n        <>\r\n          <section\r\n            className={`hidden absolute top-0 left-7.5 right-7.5 h-0.25 bg-stroke-1 ${\r\n              crossesOffset && crossesOffset\r\n            } pointer-events-none lg:block xl:left-10 right-10`}\r\n          />\r\n          <SectionSvg crossesOffset={crossesOffset} />\r\n        </>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Section;\r\n","const defaultTimestep = (1 / 60) * 1000;\nconst getCurrentTime = typeof performance !== \"undefined\"\n    ? () => performance.now()\n    : () => Date.now();\nconst onNextFrame = typeof window !== \"undefined\"\n    ? (callback) => window.requestAnimationFrame(callback)\n    : (callback) => setTimeout(() => callback(getCurrentTime()), defaultTimestep);\n\nexport { defaultTimestep, onNextFrame };\n","import { onNextFrame, defaultTimestep } from './on-next-frame.mjs';\nimport { createRenderStep } from './create-render-step.mjs';\n\nconst maxElapsed = 40;\nlet useDefaultElapsed = true;\nlet runNextFrame = false;\nlet isProcessing = false;\nconst frame = {\n    delta: 0,\n    timestamp: 0,\n};\nconst stepsOrder = [\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nconst steps = stepsOrder.reduce((acc, key) => {\n    acc[key] = createRenderStep(() => (runNextFrame = true));\n    return acc;\n}, {});\nconst sync = stepsOrder.reduce((acc, key) => {\n    const step = steps[key];\n    acc[key] = (process, keepAlive = false, immediate = false) => {\n        if (!runNextFrame)\n            startLoop();\n        return step.schedule(process, keepAlive, immediate);\n    };\n    return acc;\n}, {});\nconst cancelSync = stepsOrder.reduce((acc, key) => {\n    acc[key] = steps[key].cancel;\n    return acc;\n}, {});\nconst flushSync = stepsOrder.reduce((acc, key) => {\n    acc[key] = () => steps[key].process(frame);\n    return acc;\n}, {});\nconst processStep = (stepId) => steps[stepId].process(frame);\nconst processFrame = (timestamp) => {\n    runNextFrame = false;\n    frame.delta = useDefaultElapsed\n        ? defaultTimestep\n        : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n    frame.timestamp = timestamp;\n    isProcessing = true;\n    stepsOrder.forEach(processStep);\n    isProcessing = false;\n    if (runNextFrame) {\n        useDefaultElapsed = false;\n        onNextFrame(processFrame);\n    }\n};\nconst startLoop = () => {\n    runNextFrame = true;\n    useDefaultElapsed = true;\n    if (!isProcessing)\n        onNextFrame(processFrame);\n};\nconst getFrameData = () => frame;\n\nexport default sync;\nexport { cancelSync, flushSync, getFrameData };\n","function createRenderStep(runNextFrame) {\n    let toRun = [];\n    let toRunNextFrame = [];\n    let numToRun = 0;\n    let isProcessing = false;\n    let flushNextFrame = false;\n    const toKeepAlive = new WeakSet();\n    const step = {\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (buffer.indexOf(callback) === -1) {\n                buffer.push(callback);\n                if (addToCurrentFrame && isProcessing)\n                    numToRun = toRun.length;\n            }\n            return callback;\n        },\n        cancel: (callback) => {\n            const index = toRunNextFrame.indexOf(callback);\n            if (index !== -1)\n                toRunNextFrame.splice(index, 1);\n            toKeepAlive.delete(callback);\n        },\n        process: (frameData) => {\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [toRun, toRunNextFrame] = [toRunNextFrame, toRun];\n            toRunNextFrame.length = 0;\n            numToRun = toRun.length;\n            if (numToRun) {\n                for (let i = 0; i < numToRun; i++) {\n                    const callback = toRun[i];\n                    callback(frameData);\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                }\n            }\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","// check document first so it doesn't error in node.js\nvar style = typeof document != 'undefined'\n  ? document.createElement('p').style\n  : {}\n\nvar prefixes = ['O', 'ms', 'Moz', 'Webkit']\nvar upper = /([A-Z])/g\nvar memo = {}\n\n/**\n * prefix `key`\n *\n *   prefix('transform') // => WebkitTransform\n *\n * @param {String} key\n * @return {String}\n * @api public\n */\nfunction prefix(key){\n  // Camel case\n  key = key.replace(/-([a-z])/g, function(_, char){\n    return char.toUpperCase()\n  })\n\n  // Without prefix\n  if (style[key] !== undefined) return key\n\n  // With prefix\n  var Key = key.charAt(0).toUpperCase() + key.slice(1)\n  var i = prefixes.length\n  while (i--) {\n    var name = prefixes[i] + Key\n    if (style[name] !== undefined) return name\n  }\n\n  return key\n}\n\n/**\n * Memoized version of `prefix`\n *\n * @param {String} key\n * @return {String}\n * @api public\n */\nfunction prefixMemozied(key){\n  return key in memo\n    ? memo[key]\n    : memo[key] = prefix(key)\n}\n\n/**\n * Create a dashed prefix\n *\n * @param {String} key\n * @return {String}\n * @api public\n */\nfunction prefixDashed(key){\n  key = prefix(key)\n  if (upper.test(key)) {\n    key = '-' + key.replace(upper, '-$1')\n    upper.lastIndex = 0\n  }\n  return key.toLowerCase()\n}\n\nmodule.exports = prefixMemozied\nmodule.exports.dash = prefixDashed\n",null,null,null,"/**\r\n * https://github.com/mrdoob/eventdispatcher.js/\r\n */\r\n\r\nclass EventDispatcher {\r\n  addEventListener(type, listener) {\r\n    if (this._listeners === undefined) this._listeners = {};\r\n\r\n    const listeners = this._listeners;\r\n\r\n    if (listeners[type] === undefined) {\r\n      listeners[type] = [];\r\n    }\r\n\r\n    if (listeners[type].indexOf(listener) === -1) {\r\n      listeners[type].push(listener);\r\n    }\r\n  }\r\n\r\n  hasEventListener(type, listener) {\r\n    if (this._listeners === undefined) return false;\r\n\r\n    const listeners = this._listeners;\r\n\r\n    return (\r\n      listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1\r\n    );\r\n  }\r\n\r\n  removeEventListener(type, listener) {\r\n    if (this._listeners === undefined) return;\r\n\r\n    const listeners = this._listeners;\r\n    const listenerArray = listeners[type];\r\n\r\n    if (listenerArray !== undefined) {\r\n      const index = listenerArray.indexOf(listener);\r\n\r\n      if (index !== -1) {\r\n        listenerArray.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  dispatchEvent(event) {\r\n    if (this._listeners === undefined) return;\r\n\r\n    const listeners = this._listeners;\r\n    const listenerArray = listeners[event.type];\r\n\r\n    if (listenerArray !== undefined) {\r\n      event.target = this;\r\n\r\n      // Make a copy, in case listeners are removed while iterating.\r\n      const array = listenerArray.slice(0);\r\n\r\n      for (let i = 0, l = array.length; i < l; i++) {\r\n        array[i].call(this, event);\r\n      }\r\n\r\n      event.target = null;\r\n    }\r\n  }\r\n}\r\n\r\nexport { EventDispatcher };\r\n",null,null,null,null,"import { useEffect, useState } from \"react\";\r\nimport { MouseParallax } from \"react-just-parallax\";\r\n\r\nimport PlusSvg from \"../assets/svg/PlusSvg\";\r\n\r\nexport const Gradient = () => {\r\n  return (\r\n    <>\r\n      <section className=\"relative z-1 h-6 mx-2.5 bg-n-11 shadow-xl rounded-b-[1.25rem] lg:h-6 lg:mx-8\" />\r\n      <section className=\"relative z-1 h-6 mx-6 bg-n-11/70 shadow-xl rounded-b-[1.25rem] lg:h-6 lg:mx-20\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport const BottomLine = () => {\r\n  return (\r\n    <>\r\n      <aside className=\"hidden absolute top-[55.25rem] left-10 right-10 h-0.25 bg-n-6 pointer-events-none xl:block\" />\r\n\r\n      <PlusSvg className=\"hidden absolute top-[54.9375rem] left-[2.1875rem] z-2 pointer-events-none xl:block\" />\r\n\r\n      <PlusSvg className=\"hidden absolute top-[54.9375rem] right-[2.1875rem] z-2 pointer-events-none xl:block\" />\r\n    </>\r\n  );\r\n};\r\n\r\nconst Rings = () => {\r\n  return (\r\n    <>\r\n      <article className=\"absolute top-1/2 left-1/2 w-[65.875rem] aspect-square border border-n-2/10 rounded-full -translate-x-1/2 -translate-y-1/2\" />\r\n      <article className=\"absolute top-1/2 left-1/2 w-[51.375rem] aspect-square border border-n-2/10 rounded-full -translate-x-1/2 -translate-y-1/2\" />\r\n      <article className=\"absolute top-1/2 left-1/2 w-[36.125rem] aspect-square border border-n-2/10 rounded-full -translate-x-1/2 -translate-y-1/2\" />\r\n      <article className=\"absolute top-1/2 left-1/2 w-[23.125rem] aspect-square border border-n-2/10 rounded-full -translate-x-1/2 -translate-y-1/2\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport const BackgroundCircles = ({ parallaxRef }) => {\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"absolute -top-[42.375rem] left-1/2 w-[78rem] aspect-square border border-n-2/5 rounded-full -translate-x-1/2 md:-top-[38.5rem] xl:-top-[32rem]\">\r\n      <Rings />\r\n\r\n      {/* Moving background colored circle balls */}\r\n      <MouseParallax strength={0.07} parallaxContainerRef={parallaxRef}>\r\n        <article className=\"absolute bottom-1/2 left-1/2 w-0.25 h-1/2 origin-bottom rotate-[46deg]\">\r\n          <section\r\n            className={`w-2 h-2 -ml-1 -mt-36 bg-gradient-to-b from-[#DD734F] to-[#1A1A32] rounded-full transition-transform duration-500 ease-out ${\r\n              mounted ? \"translate-y-0 opacity-100\" : \"translate-y-10 opacity-0\"\r\n            }`}\r\n          />\r\n        </article>\r\n\r\n        <article className=\"absolute bottom-1/2 left-1/2 w-0.25 h-1/2 origin-bottom -rotate-[56deg]\">\r\n          <section\r\n            className={`w-4 h-4 -ml-1 -mt-32 bg-gradient-to-b from-[#DD734F] to-[#1A1A32] rounded-full transition-transform duration-500 ease-out ${\r\n              mounted ? \"translate-y-0 opacity-100\" : \"translate-y-10 opacity-0\"\r\n            }`}\r\n          />\r\n        </article>\r\n\r\n        <article className=\"absolute bottom-1/2 left-1/2 w-0.25 h-1/2 origin-bottom rotate-[54deg]\">\r\n          <section\r\n            className={`hidden w-4 h-4 -ml-1 mt-[12.9rem] bg-gradient-to-b from-[#B9AEDF] to-[#1A1A32] rounded-full xl:block transit transition-transform duration-500 ease-out ${\r\n              mounted ? \"translate-y-0 opacity-100\" : \"translate-y-10 opacity-0\"\r\n            }`}\r\n          />\r\n        </article>\r\n\r\n        <article className=\"absolute bottom-1/2 left-1/2 w-0.25 h-1/2 origin-bottom -rotate-[65deg]\">\r\n          <section\r\n            className={`w-3 h-3 -ml-1.5 mt-52 bg-gradient-to-b from-[#B9AEDF] to-[#1A1A32] rounded-full transition-transform duration-500 ease-out ${\r\n              mounted ? \"translate-y-0 opacity-100\" : \"translate-y-10 opacity-0\"\r\n            }`}\r\n          />\r\n        </article>\r\n\r\n        <article className=\"absolute bottom-1/2 left-1/2 w-0.25 h-1/2 origin-bottom -rotate-[85deg]\">\r\n          <section\r\n            className={`w-6 h-6 -ml-3 -mt-3 bg-gradient-to-b from-[#88E5BE] to-[#1A1A32] rounded-full transition-transform duration-500 ease-out ${\r\n              mounted ? \"translate-y-0 opacity-100\" : \"translate-y-10 opacity-0\"\r\n            }`}\r\n          />\r\n        </article>\r\n\r\n        <article className=\"absolute bottom-1/2 left-1/2 w-0.25 h-1/2 origin-bottom rotate-[70deg]\">\r\n          <section\r\n            className={`w-6 h-6 -ml-3 -mt-3 bg-gradient-to-b from-[#88E5BE] to-[#1A1A32] rounded-full transition-transform duration-500 ease-out ${\r\n              mounted ? \"translate-y-0 opacity-100\" : \"translate-y-10 opacity-0\"\r\n            }`}\r\n          />\r\n        </article>\r\n      </MouseParallax>\r\n    </section>\r\n  );\r\n};\r\n","import {\r\n  hope,\r\n  attack,\r\n  menace,\r\n  returns,\r\n  revenge,\r\n  strike,\r\n  jedi,\r\n  rebel,\r\n  notification2,\r\n  notification3,\r\n  notification4,\r\n  sith,\r\n  roadmap1,\r\n  roadmap2,\r\n  roadmap3,\r\n  roadmap4,\r\n  saber,\r\n  github,\r\n  arrow,\r\n  css,\r\n  light,\r\n  java,\r\n  githubs,\r\n  reacts,\r\n  order,\r\n  sLogo,\r\n  rebelLogo,\r\n} from \"../assets\";\r\n\r\nexport const navigation = [\r\n  {\r\n    id: \"0\",\r\n    title: \"Home\",\r\n    url: \"/#hero\",\r\n  },\r\n  {\r\n    id: \"1\",\r\n    title: \"About\",\r\n    url: \"/#about\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"Roadmap\",\r\n    url: \"/#roadmap\",\r\n  },\r\n  {\r\n    id: \"3\",\r\n    title: \"Films\",\r\n    url: \"/#films\",\r\n  },\r\n  {\r\n    id: \"4\",\r\n    title: \"Theory\",\r\n    url: \"/#theory\",\r\n  },\r\n  {\r\n    id: \"5\",\r\n    title: \"Art\",\r\n    url: \"/#art\",\r\n  },\r\n];\r\n\r\nexport const heroIcons = [rebel, sith, jedi, saber];\r\n\r\nexport const notificationImages = [notification4, notification3, notification2];\r\n\r\nexport const artcheck = [\"Star Wars\", \"Internet Art\", \"Planning\"];\r\n\r\nexport const roadmap = [\r\n  {\r\n    id: \"0\",\r\n    title: \"Wireframes\",\r\n    text: \"The creation of this website began with a different approach compared to traditional methods. Instead of starting with...\",\r\n    date: \"May 2024\",\r\n    status: \"done\",\r\n    imageUrl: roadmap1,\r\n    colorful: true,\r\n    url: \"#wireframes\",\r\n  },\r\n  {\r\n    id: \"1\",\r\n    title: \"Style Guide\",\r\n    text: \"When creating a compelling and user-friendly website, there must be a detailed consideration of various design elements...\",\r\n    date: \"May 2024\",\r\n    status: \"progress\",\r\n    imageUrl: roadmap3,\r\n    url: \"#style\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"UI & UX\",\r\n    text: \"Creating an intuitive and engaging user interface (UI) and user experience (UX) for a website involves planning and...\",\r\n    date: \"May 2024\",\r\n    status: \"progress\",\r\n    imageUrl: roadmap2,\r\n    url: \"#ui\",\r\n  },\r\n  {\r\n    id: \"3\",\r\n    title: \"Why Star Wars?\",\r\n    text: \"The Star Wars franchise, with its rich lore, iconic characters, and visually stunning universe, provides a stepping stone for...\",\r\n    date: \"May 2024\",\r\n    status: \"done\",\r\n    imageUrl: roadmap4,\r\n    url: \"#whystar\",\r\n  },\r\n];\r\n\r\nexport const aboutText =\r\n  \"Once you start down the dark path, forever will it dominate your destiny. Consume you, it will.\";\r\n\r\nexport const aboutContent = [\r\n  {\r\n    id: \"0\",\r\n    title: \"Star Wars\",\r\n  },\r\n  {\r\n    id: \"1\",\r\n    title: \"React\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"Web Development\",\r\n  },\r\n];\r\n\r\nexport const aboutApps = [\r\n  {\r\n    id: \"0\",\r\n    title: \"CSS\",\r\n    icon: css,\r\n    width: 26,\r\n    height: 36,\r\n  },\r\n  {\r\n    id: \"1\",\r\n    title: \"JavaScript\",\r\n    icon: java,\r\n    width: 34,\r\n    height: 36,\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"Github\",\r\n    icon: githubs,\r\n    width: 36,\r\n    height: 28,\r\n  },\r\n  {\r\n    id: \"3\",\r\n    title: \"Sabers\",\r\n    icon: light,\r\n    width: 34,\r\n    height: 35,\r\n  },\r\n  {\r\n    id: \"4\",\r\n    title: \"React\",\r\n    icon: reacts,\r\n    width: 34,\r\n    height: 34,\r\n  },\r\n  {\r\n    id: \"5\",\r\n    title: \"Jedi Order\",\r\n    icon: order,\r\n    width: 34,\r\n    height: 34,\r\n  },\r\n  {\r\n    id: \"6\",\r\n    title: \"Sith Order\",\r\n    icon: sLogo,\r\n    width: 26,\r\n    height: 34,\r\n  },\r\n  {\r\n    id: \"7\",\r\n    title: \"Rebel\",\r\n    icon: rebelLogo,\r\n    width: 38,\r\n    height: 32,\r\n  },\r\n];\r\n\r\nexport const theorys = [\r\n  {\r\n    id: \"0\",\r\n    title: \"Analysis Of Net.Art\",\r\n    description:\r\n      \"Twitch Plays Pokémon (TPP) stands as an innovative example of net/web art, showing the relationship between technology, interactivity, and collective creativity. This project started in 2014 where it redefined the boundaries of traditional gaming by using the power of the internet to allow thousands of users to simultaneously control a single game of Pokémon. Through its unique approach, TPP expands the meaning of gaming and evolved into a net/web art form that engages with people on conceptual, aesthetic, and technical levels. This essay aims to examine Twitch Plays Pokémon within the context of net/web art, exploring its innovative use of...\",\r\n    link: \"#essay\",\r\n  },\r\n  {\r\n    id: \"1\",\r\n    title: \"Artwork Theory\",\r\n    description:\r\n      \"In the realm of digital art, the merging of technology and creativity offers unique opportunities to create immersive and interactive experiences. One compelling concept that is drawn to me is to create an interactive, dynamic artwork that visualizes the iconic image of Darth Vader or the Star Wars logo using binary numbers. This artwork will progressively reveal the image on a black screen as the binary numbers appear, forming the image in real time. This section outlines the development process in theory, strengths and weaknesses, and the theoretical groundwork necessary for creating this piece using React. Which should evoke a sense of digital...\",\r\n    link: \"#artresearch\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"Exam Research\",\r\n    description:\r\n      \"This week marked my return to work after the holiday break. During my time off, I took the opportunity to build my portfolio website using React. This experience gave me a head start in creating a React website for our exercises. While I found the process straightforward due to my prior experience, I encountered some challenges, particularly with pushing my project to GitHub Pages. This obstacle provided a valuable learning opportunity and highlighted areas for improvement in my workflow.A significant portion of this week was dedicated to understanding the concept of internet art, guided by the insightful reading, 'The Work...\",\r\n    link: \"#exam\",\r\n  },\r\n];\r\n\r\nexport const movies = [\r\n  {\r\n    id: \"0\",\r\n    backgroundUrl: \"./src/assets/films/card-1.svg\",\r\n    imageUrl: hope,\r\n  },\r\n  {\r\n    id: \"1\",\r\n    backgroundUrl: \"./src/assets/films/card-2.svg\",\r\n    imageUrl: strike,\r\n    light: true,\r\n  },\r\n  {\r\n    id: \"2\",\r\n    backgroundUrl: \"./src/assets/films/card-3.svg\",\r\n    imageUrl: returns,\r\n  },\r\n  {\r\n    id: \"3\",\r\n    backgroundUrl: \"./src/assets/films/card-4.svg\",\r\n    imageUrl: menace,\r\n    light: true,\r\n  },\r\n  {\r\n    id: \"4\",\r\n    backgroundUrl: \"./src/assets/films/card-5.svg\",\r\n    imageUrl: attack,\r\n  },\r\n  {\r\n    id: \"5\",\r\n    backgroundUrl: \"./src/assets/films/card-6.svg\",\r\n    imageUrl: revenge,\r\n  },\r\n];\r\n\r\nexport const socials = [\r\n  {\r\n    id: \"0\",\r\n    title: \"Github\",\r\n    iconUrl: github,\r\n    url: \"https://github.com/Anand-Ramnarain/React-Website\",\r\n  },\r\n  {\r\n    id: \"1\",\r\n    title: \"Website\",\r\n    iconUrl: arrow,\r\n    url: \"https://anand-ramnarain.github.io/React-Website/\",\r\n  },\r\n];\r\n","import { loading } from \"../assets\";\r\n\r\nconst Generating = ({ className }) => {\r\n  return (\r\n    // Render the loading indicator section\r\n    <section\r\n      className={`flex items-center h-[3.5rem] px-6 bg-n-8/80 rounded-[1.7rem] ${\r\n        className || \"\"\r\n      } text-base`}\r\n    >\r\n      {/* Loading icon */}\r\n      <img className=\"w-5 h-5 mr-4\" src={loading} alt=\"Loading\" />\r\n      {/* Loading message */}\r\n      The Force Is Within You\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Generating;\r\n","import { notification1 } from \"../assets\";\r\nimport { notificationImages } from \"../constants\";\r\n\r\nconst Notification = ({ className, title }) => {\r\n  return (\r\n    <article\r\n      className={`${\r\n        className || \"\"\r\n      } flex items-center p-4 pr-6 bg-n-9/40 backdrop-blur border border-n-1/10 rounded-2xl gap-5`}\r\n    >\r\n      {/* Profile image */}\r\n      <img\r\n        src={notification1}\r\n        width={62}\r\n        height={62}\r\n        alt=\"profile\"\r\n        className=\"rounded-xl\"\r\n      />\r\n\r\n      {/* Notification details */}\r\n      <section className=\"flex-1\">\r\n        {/* Title */}\r\n        <h6 className=\"mb-1 font-semibold text-base\">{title}</h6>\r\n\r\n        {/* Icons and timestamp */}\r\n        <section className=\"flex items-center justify-between\">\r\n          {/* Icons */}\r\n          <ul className=\"flex -m-0.5\">\r\n            {notificationImages.map((item, index) => (\r\n              <li\r\n                key={index}\r\n                className=\"flex w-6 h-6 border-2 border-n-12 rounded-full overflow-hidden\"\r\n              >\r\n                <img\r\n                  src={item}\r\n                  className=\"w-full\"\r\n                  width={20}\r\n                  height={20}\r\n                  alt={item}\r\n                />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          {/* Timestamp */}\r\n          <div className=\"body-2 text-n-13\">1m ago</div>\r\n        </section>\r\n      </section>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import { curve, heroBackground, screen } from \"../assets\";\r\nimport Section from \"./Section\";\r\nimport { BackgroundCircles, BottomLine, Gradient } from \"../design/Hero\";\r\nimport { heroIcons } from \"../constants\";\r\nimport { ScrollParallax } from \"react-just-parallax\";\r\nimport { useRef } from \"react\";\r\nimport Generating from \"./Generating\";\r\nimport Notification from \"./Notification\";\r\n\r\nconst Hero = () => {\r\n  // Ref to access the parallax effect\r\n  const parallaxRef = useRef(null);\r\n\r\n  return (\r\n    <Section\r\n      className=\"pt-[12rem] -mt-[5.25rem]\"\r\n      crosses\r\n      crossesOffset=\"lg:translate-y-[5.25rem]\"\r\n      customPaddings\r\n      id=\"hero\"\r\n    >\r\n      <article className=\"container relative\" ref={parallaxRef}>\r\n        {/* Hero header */}\r\n        <header className=\"relative z-1 max-w-[62rem] mx-auto text-center mb-[3.875rem] md:mb-20 lg:mb-[6.25rem]\">\r\n          <h1 className=\"h1 mb-6\">\r\n            Jedi Mind Tricks: &nbsp;Explore&nbsp;the Galaxy with this{\" \"}\r\n            <span className=\"inline-block relative\">\r\n              Website{\" \"}\r\n              <img\r\n                src={curve}\r\n                className=\"absolute top-full left-0 w-full xl:-mt-2\"\r\n                width={624}\r\n                height={28}\r\n                alt=\"Curve\"\r\n              />\r\n            </span>\r\n          </h1>\r\n          <p className=\"body-1 max-w-3xl mx-auto mb-6 text-n-2 lg:mb-8\">\r\n            Awaken the Force. Become the Chosen One on Your Journey through the\r\n            Galaxy.\r\n          </p>\r\n        </header>\r\n\r\n        {/* Hero content */}\r\n        <section className=\"relative max-w-[23rem] mx-auto md:max-w-5xl xl:mb-24\">\r\n          <div className=\"relative z-1 p-0.5 rounded-2xl bg-conic-gradient\">\r\n            <article className=\"relative bg-n-8 rounded-[1rem]\">\r\n              <header className=\"h-[1.4rem] bg-n-10 rounded-t-[0.9rem]\" />\r\n\r\n              <figure className=\"aspect-[33/40] rounded-b-[0.9rem] overflow-hidden md:aspect-[688/490] lg:aspect-[1024/490]\">\r\n                {/* Image */}\r\n                <img\r\n                  src={screen}\r\n                  className=\"w-full scale-[1.7] translate-y-[8%] md:scale-[1] md:-translate-y-[10%] lg:-translate-y-[23%]\"\r\n                  width={1024}\r\n                  height={490}\r\n                  alt=\"AI\"\r\n                />\r\n\r\n                {/* Generating component */}\r\n                <Generating className=\"absolute left-4 right-4 bottom-5 md:left-1/2 md:right-auto md:bottom-8 md:w-[31rem] md:-translate-x-1/2\" />\r\n\r\n                {/* Icons */}\r\n                <ScrollParallax isAbsolutelyPositioned>\r\n                  <ul className=\"hidden absolute -left-[5.5rem] bottom-[7.5rem] px-1 py-1 bg-n-9/40 backdrop-blur border border-n-1/10 rounded-2xl xl:flex\">\r\n                    {heroIcons.map((icon, index) => (\r\n                      <li className=\"p-5\" key={index}>\r\n                        <img src={icon} width={24} height={25} alt={icon} />\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </ScrollParallax>\r\n\r\n                {/* Notification */}\r\n                <ScrollParallax isAbsolutelyPositioned>\r\n                  <Notification\r\n                    className=\"hidden absolute -right-[5.5rem] bottom-[11rem] w-[18rem] xl:flex\"\r\n                    title=\"The Chosen One\"\r\n                  />\r\n                </ScrollParallax>\r\n              </figure>\r\n            </article>\r\n\r\n            {/* Gradient overlay */}\r\n            <Gradient />\r\n          </div>\r\n\r\n          {/* Hero background */}\r\n          <figure className=\"absolute -top-[54%] left-1/2 w-[234%] -translate-x-1/2 md:-top-[46%] md:w-[138%] lg:-top-[104%]\">\r\n            <img\r\n              src={heroBackground}\r\n              className=\"w-full\"\r\n              width={1440}\r\n              height={1800}\r\n              alt=\"hero\"\r\n            />\r\n          </figure>\r\n\r\n          <BackgroundCircles />\r\n        </section>\r\n      </article>\r\n\r\n      <BottomLine />\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default Hero;\r\n","const brackets = (position) =>\n  position === \"left\" ? (\n    <svg\n      width=\"5\"\n      height=\"14\"\n      viewBox=\"0 0 5 14\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M5 0.822266H1V12.8223H5\" stroke=\"url(#brackets-left)\" />\n      <defs>\n        <linearGradient id=\"brackets-left\" x1=\"50%\" x2=\"50%\" y1=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"#89F9E8\" />\n          <stop offset=\"100%\" stopColor=\"#FACB7B\" />\n        </linearGradient>\n      </defs>\n    </svg>\n  ) : (\n    <svg\n      width=\"5\"\n      height=\"14\"\n      viewBox=\"0 0 5 14\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M-2.98023e-08 0.822266H4V12.8223H-2.98023e-08\"\n        stroke=\"url(#brackets-right)\"\n      />\n      <defs>\n        <linearGradient\n          id=\"brackets-right\"\n          x1=\"14.635%\"\n          x2=\"14.635%\"\n          y1=\"0%\"\n          y2=\"100%\"\n        >\n          <stop offset=\"0%\" stopColor=\"#9099FC\" />\n          <stop offset=\"100%\" stopColor=\"#D87CEE\" />\n        </linearGradient>\n      </defs>\n    </svg>\n  );\n\nexport default brackets;\n","import brackets from \"../assets/svg/Brackets\";\r\n\r\nconst TagLine = ({ className, children }) => {\r\n  return (\r\n    // Render the tagline with brackets and children\r\n    <section className={`tagline flex items-center ${className || \"\"}`}>\r\n      {brackets(\"left\")} {/* Left bracket */}\r\n      <div className=\"mx-3 text-n-3\">{children}</div> {/* Children */}\r\n      {brackets(\"right\")} {/* Right bracket */}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default TagLine;\r\n","import TagLine from \"./TagLine\";\r\n\r\nconst Heading = ({ className, title, text, tag }) => {\r\n  return (\r\n    <section\r\n      className={`${className} max-w-[50rem] mx-auto mb-12 lg:mb-20 md:text-center`}\r\n    >\r\n      {/* Render the tagline if provided */}\r\n      {tag && <TagLine className=\"mb-4 md:justify-center\">{tag}</TagLine>}\r\n      {/* Render the title if provided */}\r\n      {title && <h2 className=\"h2\">{title}</h2>}\r\n      {/* Render the text if provided */}\r\n      {text && <p className=\"body-2 mt-4 text-n-4\">{text}</p>}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Heading;\r\n","export const GradientLight = () => {\r\n  return (\r\n    <section className=\"absolute top-0 left-1/4 w-full aspect-square bg-radial-gradient from-[#28206C] to-[#28206C]/0 to-70% pointer-events-none\" />\r\n  );\r\n};\r\n\r\nexport const CardBorder = () => {\r\n  return <section className=\"absolute inset-0 border-gradient-blue-red\" />;\r\n};\r\n","const ClipPath = () => {\n  return (\n    <svg className=\"block\" width={0} height={0}>\n      <clipPath id=\"benefits\" clipPathUnits=\"objectBoundingBox\">\n        <path d=\"M0.079,0 h0.756 a0.079,0.083,0,0,1,0.058,0.026 l0.086,0.096 A0.079,0.083,0,0,1,1,0.179 V0.917 c0,0.046,-0.035,0.083,-0.079,0.083 H0.079 c-0.044,0,-0.079,-0.037,-0.079,-0.083 V0.083 C0,0.037,0.035,0,0.079,0\" />\n      </clipPath>\n    </svg>\n  );\n};\n\nexport default ClipPath;\n","import { useEffect, useState } from \"react\";\r\nimport { movies } from \"../constants\";\r\nimport Heading from \"./Heading\";\r\nimport Section from \"./Section\";\r\nimport { GradientLight, CardBorder } from \"../design/Films\";\r\nimport ClipPath from \"../assets/svg/ClipPath\";\r\n\r\nconst Films = () => {\r\n  // State to store the fetched films data\r\n  const [films, setFilms] = useState([]);\r\n\r\n  // Fetch films data from the SWAPI API when the component mounts\r\n  useEffect(() => {\r\n    const fetchFilms = async () => {\r\n      try {\r\n        const response = await fetch(\"https://swapi.dev/api/films/\");\r\n        const data = await response.json();\r\n        setFilms(data.results);\r\n      } catch (error) {\r\n        console.error(\"Error fetching films:\", error);\r\n      }\r\n    };\r\n\r\n    fetchFilms();\r\n  }, []);\r\n\r\n  return (\r\n    <Section id=\"films\">\r\n      <article className=\"container relative z-2\">\r\n        <Heading\r\n          className=\"md:max-w-md lg:max-w-2xl\"\r\n          title=\"Feel The Force, Through The Films\"\r\n        />\r\n\r\n        <section className=\"flex flex-wrap gap-10 mb-10\">\r\n          {/* Iterate over each film and render its card */}\r\n          {films.map((film, index) => (\r\n            <article\r\n              className=\"block relative p-0.5 bg-no-repeat bg-[length:100%_100%] md:max-w-[24rem]\"\r\n              style={{\r\n                backgroundImage: `url(${\r\n                  movies[index % movies.length].backgroundUrl\r\n                })`,\r\n              }}\r\n              key={film.episode_id}\r\n            >\r\n              {/* Film card content */}\r\n              <section className=\"relative z-2 flex flex-col min-h-[22rem] p-[2.4rem] pointer-events-none\">\r\n                <h5 className=\"h5 mb-5\">{film.title}</h5>\r\n                <p className=\"body-2 mb-6 text-n-3\">\r\n                  Episode {film.episode_id}\r\n                </p>\r\n                <p className=\"body-2 mb-6 text-n-3\">{film.opening_crawl}</p>\r\n                <p className=\"body-2 mb-6 text-n-3\">\r\n                  Release Date: {film.release_date}\r\n                </p>\r\n              </section>\r\n\r\n              <GradientLight />\r\n\r\n              {/* Background clip path */}\r\n              <section\r\n                className=\"absolute inset-0.5 bg-n-8\"\r\n                style={{ clipPath: \"url(#benefits)\" }}\r\n              >\r\n                {/* Card border */}\r\n                <CardBorder />\r\n                {/* Hoverable film image */}\r\n                <section className=\"absolute inset-0 opacity-0 transition-opacity hover:opacity-10\">\r\n                  {movies[index % movies.length].imageUrl && (\r\n                    <img\r\n                      src={movies[index % movies.length].imageUrl}\r\n                      width={380}\r\n                      height={362}\r\n                      alt={film.title}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  )}\r\n                </section>\r\n              </section>\r\n\r\n              <ClipPath />\r\n            </article>\r\n          ))}\r\n        </section>\r\n      </article>\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default Films;\r\n","import type {\n  FormEncType,\n  HTMLFormMethod,\n  RelativeRoutingType,\n} from \"@remix-run/router\";\nimport { stripBasename, UNSAFE_warning as warning } from \"@remix-run/router\";\n\nexport const defaultMethod: HTMLFormMethod = \"get\";\nconst defaultEncType: FormEncType = \"application/x-www-form-urlencoded\";\n\nexport function isHtmlElement(object: any): object is HTMLElement {\n  return object != null && typeof object.tagName === \"string\";\n}\n\nexport function isButtonElement(object: any): object is HTMLButtonElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\n\nexport function isFormElement(object: any): object is HTMLFormElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\n\nexport function isInputElement(object: any): object is HTMLInputElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\n\ntype LimitedMouseEvent = Pick<\n  MouseEvent,\n  \"button\" | \"metaKey\" | \"altKey\" | \"ctrlKey\" | \"shiftKey\"\n>;\n\nfunction isModifiedEvent(event: LimitedMouseEvent) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport function shouldProcessLinkClick(\n  event: LimitedMouseEvent,\n  target?: string\n) {\n  return (\n    event.button === 0 && // Ignore everything but left clicks\n    (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n    !isModifiedEvent(event) // Ignore clicks with modifier keys\n  );\n}\n\nexport type ParamKeyValuePair = [string, string];\n\nexport type URLSearchParamsInit =\n  | string\n  | ParamKeyValuePair[]\n  | Record<string, string | string[]>\n  | URLSearchParams;\n\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nexport function createSearchParams(\n  init: URLSearchParamsInit = \"\"\n): URLSearchParams {\n  return new URLSearchParams(\n    typeof init === \"string\" ||\n    Array.isArray(init) ||\n    init instanceof URLSearchParams\n      ? init\n      : Object.keys(init).reduce((memo, key) => {\n          let value = init[key];\n          return memo.concat(\n            Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n          );\n        }, [] as ParamKeyValuePair[])\n  );\n}\n\nexport function getSearchParamsForLocation(\n  locationSearch: string,\n  defaultSearchParams: URLSearchParams | null\n) {\n  let searchParams = createSearchParams(locationSearch);\n\n  if (defaultSearchParams) {\n    // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n\n  return searchParams;\n}\n\n// Thanks https://github.com/sindresorhus/type-fest!\ntype JsonObject = { [Key in string]: JsonValue } & {\n  [Key in string]?: JsonValue | undefined;\n};\ntype JsonArray = JsonValue[] | readonly JsonValue[];\ntype JsonPrimitive = string | number | boolean | null;\ntype JsonValue = JsonPrimitive | JsonObject | JsonArray;\n\nexport type SubmitTarget =\n  | HTMLFormElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | FormData\n  | URLSearchParams\n  | JsonValue\n  | null;\n\n// One-time check for submitter support\nlet _formDataSupportsSubmitter: boolean | null = null;\n\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\n\nexport interface SubmitOptions {\n  /**\n   * The HTTP method used to submit the form. Overrides `<form method>`.\n   * Defaults to \"GET\".\n   */\n  method?: HTMLFormMethod;\n\n  /**\n   * The action URL path used to submit the form. Overrides `<form action>`.\n   * Defaults to the path of the current route.\n   */\n  action?: string;\n\n  /**\n   * The encoding used to submit the form. Overrides `<form encType>`.\n   * Defaults to \"application/x-www-form-urlencoded\".\n   */\n  encType?: FormEncType;\n\n  /**\n   * Indicate a specific fetcherKey to use when using navigate=false\n   */\n  fetcherKey?: string;\n\n  /**\n   * navigate=false will use a fetcher instead of a navigation\n   */\n  navigate?: boolean;\n\n  /**\n   * Set `true` to replace the current entry in the browser's history stack\n   * instead of creating a new one (i.e. stay on \"the same page\"). Defaults\n   * to `false`.\n   */\n  replace?: boolean;\n\n  /**\n   * State object to add to the history stack entry for this navigation\n   */\n  state?: any;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * In browser-based environments, prevent resetting scroll after this\n   * navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n\n  /**\n   * Enable flushSync for this navigation's state updates\n   */\n  unstable_flushSync?: boolean;\n\n  /**\n   * Enable view transitions on this submission navigation\n   */\n  unstable_viewTransition?: boolean;\n}\n\nconst supportedFormEncTypes: Set<FormEncType> = new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\",\n]);\n\nfunction getFormEncType(encType: string | null) {\n  if (encType != null && !supportedFormEncTypes.has(encType as FormEncType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` ` +\n        `and will default to \"${defaultEncType}\"`\n    );\n\n    return null;\n  }\n  return encType;\n}\n\nexport function getFormSubmissionInfo(\n  target: SubmitTarget,\n  basename: string\n): {\n  action: string | null;\n  method: string;\n  encType: string;\n  formData: FormData | undefined;\n  body: any;\n} {\n  let method: string;\n  let action: string | null;\n  let encType: string;\n  let formData: FormData | undefined;\n  let body: any;\n\n  if (isFormElement(target)) {\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n\n    formData = new FormData(target);\n  } else if (\n    isButtonElement(target) ||\n    (isInputElement(target) &&\n      (target.type === \"submit\" || target.type === \"image\"))\n  ) {\n    let form = target.form;\n\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n\n    method =\n      target.getAttribute(\"formmethod\") ||\n      form.getAttribute(\"method\") ||\n      defaultMethod;\n    encType =\n      getFormEncType(target.getAttribute(\"formenctype\")) ||\n      getFormEncType(form.getAttribute(\"enctype\")) ||\n      defaultEncType;\n\n    // Build a FormData object populated from a form and submitter\n    formData = new FormData(form, target);\n\n    // If this browser doesn't support the `FormData(el, submitter)` format,\n    // then tack on the submitter value at the end.  This is a lightweight\n    // solution that is not 100% spec compliant.  For complete support in older\n    // browsers, consider using the `formdata-submitter-polyfill` package\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or ` +\n        `<input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n\n  // Send body for <Form encType=\"text/plain\" so we encode it into text\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = undefined;\n  }\n\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n","/**\n * NOTE: If you refactor this to split up the modules into separate files,\n * you'll need to update the rollup config for react-router-dom-v5-compat.\n */\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport type {\n  DataRouteObject,\n  FutureConfig,\n  Location,\n  NavigateOptions,\n  NavigationType,\n  Navigator,\n  RelativeRoutingType,\n  RouteObject,\n  RouterProviderProps,\n  To,\n} from \"react-router\";\nimport {\n  Router,\n  createPath,\n  useHref,\n  useLocation,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useResolvedPath,\n  useBlocker,\n  UNSAFE_DataRouterContext as DataRouterContext,\n  UNSAFE_DataRouterStateContext as DataRouterStateContext,\n  UNSAFE_NavigationContext as NavigationContext,\n  UNSAFE_RouteContext as RouteContext,\n  UNSAFE_mapRouteProperties as mapRouteProperties,\n  UNSAFE_useRouteId as useRouteId,\n  UNSAFE_useRoutesImpl as useRoutesImpl,\n} from \"react-router\";\nimport type {\n  BrowserHistory,\n  unstable_DataStrategyFunction,\n  unstable_DataStrategyFunctionArgs,\n  unstable_DataStrategyMatch,\n  Fetcher,\n  FormEncType,\n  FormMethod,\n  FutureConfig as RouterFutureConfig,\n  GetScrollRestorationKeyFunction,\n  HashHistory,\n  History,\n  HTMLFormMethod,\n  HydrationState,\n  Router as RemixRouter,\n  V7_FormMethod,\n  RouterState,\n  RouterSubscriber,\n  BlockerFunction,\n} from \"@remix-run/router\";\nimport {\n  createRouter,\n  createBrowserHistory,\n  createHashHistory,\n  joinPaths,\n  stripBasename,\n  UNSAFE_ErrorResponseImpl as ErrorResponseImpl,\n  UNSAFE_invariant as invariant,\n  UNSAFE_warning as warning,\n  matchPath,\n  IDLE_FETCHER,\n} from \"@remix-run/router\";\n\nimport type {\n  SubmitOptions,\n  ParamKeyValuePair,\n  URLSearchParamsInit,\n  SubmitTarget,\n} from \"./dom\";\nimport {\n  createSearchParams,\n  defaultMethod,\n  getFormSubmissionInfo,\n  getSearchParamsForLocation,\n  shouldProcessLinkClick,\n} from \"./dom\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Re-exports\n////////////////////////////////////////////////////////////////////////////////\n\nexport type {\n  unstable_DataStrategyFunction,\n  unstable_DataStrategyFunctionArgs,\n  unstable_DataStrategyMatch,\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  ParamKeyValuePair,\n  SubmitOptions,\n  URLSearchParamsInit,\n  V7_FormMethod,\n};\nexport { createSearchParams, ErrorResponseImpl as UNSAFE_ErrorResponseImpl };\n\n// Note: Keep in sync with react-router exports!\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  Blocker,\n  BlockerFunction,\n  DataRouteMatch,\n  DataRouteObject,\n  ErrorResponse,\n  Fetcher,\n  FutureConfig,\n  Hash,\n  IndexRouteObject,\n  IndexRouteProps,\n  JsonFunction,\n  LazyRouteFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  NonIndexRouteObject,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathParam,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  ShouldRevalidateFunctionArgs,\n  To,\n  UIMatch,\n  unstable_HandlerResult,\n} from \"react-router\";\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  Routes,\n  createMemoryRouter,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  redirectDocument,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  useBlocker,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n} from \"react-router\";\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  UNSAFE_DataRouterContext,\n  UNSAFE_DataRouterStateContext,\n  UNSAFE_NavigationContext,\n  UNSAFE_LocationContext,\n  UNSAFE_RouteContext,\n  UNSAFE_useRouteId,\n} from \"react-router\";\n//#endregion\n\ndeclare global {\n  var __staticRouterHydrationData: HydrationState | undefined;\n  var __reactRouterVersion: string;\n  interface Document {\n    startViewTransition(cb: () => Promise<void> | void): ViewTransition;\n  }\n}\n\n// HEY YOU! DON'T TOUCH THIS VARIABLE!\n//\n// It is replaced with the proper version at build time via a babel plugin in\n// the rollup config.\n//\n// Export a global property onto the window for React Router detection by the\n// Core Web Vitals Technology Report.  This way they can configure the `wappalyzer`\n// to detect and properly classify live websites as being built with React Router:\n// https://github.com/HTTPArchive/wappalyzer/blob/main/src/technologies/r.json\nconst REACT_ROUTER_VERSION = \"0\";\ntry {\n  window.__reactRouterVersion = REACT_ROUTER_VERSION;\n} catch (e) {\n  // no-op\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Routers\n////////////////////////////////////////////////////////////////////////////////\n\ninterface DOMRouterOpts {\n  basename?: string;\n  future?: Partial<Omit<RouterFutureConfig, \"v7_prependBasename\">>;\n  hydrationData?: HydrationState;\n  unstable_dataStrategy?: unstable_DataStrategyFunction;\n  window?: Window;\n}\n\nexport function createBrowserRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    unstable_dataStrategy: opts?.unstable_dataStrategy,\n    window: opts?.window,\n  }).initialize();\n}\n\nexport function createHashRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    unstable_dataStrategy: opts?.unstable_dataStrategy,\n    window: opts?.window,\n  }).initialize();\n}\n\nfunction parseHydrationData(): HydrationState | undefined {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors),\n    };\n  }\n  return state;\n}\n\nfunction deserializeErrors(\n  errors: RemixRouter[\"state\"][\"errors\"]\n): RemixRouter[\"state\"][\"errors\"] {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized: RemixRouter[\"state\"][\"errors\"] = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            // @ts-expect-error\n            let error = new ErrorConstructor(val.message);\n            // Wipe away the client-side stack trace.  Nothing to fill it in with\n            // because we don't serialize SSR stack traces for security reasons\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n            // no-op - fall through and create a normal Error\n          }\n        }\n      }\n\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        // Wipe away the client-side stack trace.  Nothing to fill it in with\n        // because we don't serialize SSR stack traces for security reasons\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Contexts\n////////////////////////////////////////////////////////////////////////////////\n\ntype ViewTransitionContextObject =\n  | {\n      isTransitioning: false;\n    }\n  | {\n      isTransitioning: true;\n      flushSync: boolean;\n      currentLocation: Location;\n      nextLocation: Location;\n    };\n\nconst ViewTransitionContext = React.createContext<ViewTransitionContextObject>({\n  isTransitioning: false,\n});\nif (__DEV__) {\n  ViewTransitionContext.displayName = \"ViewTransition\";\n}\n\nexport { ViewTransitionContext as UNSAFE_ViewTransitionContext };\n\n// TODO: (v7) Change the useFetcher data from `any` to `unknown`\ntype FetchersContextObject = Map<string, any>;\n\nconst FetchersContext = React.createContext<FetchersContextObject>(new Map());\nif (__DEV__) {\n  FetchersContext.displayName = \"Fetchers\";\n}\n\nexport { FetchersContext as UNSAFE_FetchersContext };\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\nconst FLUSH_SYNC = \"flushSync\";\nconst flushSyncImpl = ReactDOM[FLUSH_SYNC];\nconst USE_ID = \"useId\";\nconst useIdImpl = React[USE_ID];\n\nfunction startTransitionSafe(cb: () => void) {\n  if (startTransitionImpl) {\n    startTransitionImpl(cb);\n  } else {\n    cb();\n  }\n}\n\nfunction flushSyncSafe(cb: () => void) {\n  if (flushSyncImpl) {\n    flushSyncImpl(cb);\n  } else {\n    cb();\n  }\n}\n\ninterface ViewTransition {\n  finished: Promise<void>;\n  ready: Promise<void>;\n  updateCallbackDone: Promise<void>;\n  skipTransition(): void;\n}\n\nclass Deferred<T> {\n  status: \"pending\" | \"resolved\" | \"rejected\" = \"pending\";\n  promise: Promise<T>;\n  // @ts-expect-error - no initializer\n  resolve: (value: T) => void;\n  // @ts-expect-error - no initializer\n  reject: (reason?: unknown) => void;\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = (value) => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = (reason) => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n}\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nexport function RouterProvider({\n  fallbackElement,\n  router,\n  future,\n}: RouterProviderProps): React.ReactElement {\n  let [state, setStateImpl] = React.useState(router.state);\n  let [pendingState, setPendingState] = React.useState<RouterState>();\n  let [vtContext, setVtContext] = React.useState<ViewTransitionContextObject>({\n    isTransitioning: false,\n  });\n  let [renderDfd, setRenderDfd] = React.useState<Deferred<void>>();\n  let [transition, setTransition] = React.useState<ViewTransition>();\n  let [interruption, setInterruption] = React.useState<{\n    state: RouterState;\n    currentLocation: Location;\n    nextLocation: Location;\n  }>();\n  let fetcherData = React.useRef<Map<string, any>>(new Map());\n  let { v7_startTransition } = future || {};\n\n  let optInStartTransition = React.useCallback(\n    (cb: () => void) => {\n      if (v7_startTransition) {\n        startTransitionSafe(cb);\n      } else {\n        cb();\n      }\n    },\n    [v7_startTransition]\n  );\n\n  let setState = React.useCallback<RouterSubscriber>(\n    (\n      newState: RouterState,\n      {\n        deletedFetchers,\n        unstable_flushSync: flushSync,\n        unstable_viewTransitionOpts: viewTransitionOpts,\n      }\n    ) => {\n      deletedFetchers.forEach((key) => fetcherData.current.delete(key));\n      newState.fetchers.forEach((fetcher, key) => {\n        if (fetcher.data !== undefined) {\n          fetcherData.current.set(key, fetcher.data);\n        }\n      });\n\n      let isViewTransitionUnavailable =\n        router.window == null ||\n        router.window.document == null ||\n        typeof router.window.document.startViewTransition !== \"function\";\n\n      // If this isn't a view transition or it's not available in this browser,\n      // just update and be done with it\n      if (!viewTransitionOpts || isViewTransitionUnavailable) {\n        if (flushSync) {\n          flushSyncSafe(() => setStateImpl(newState));\n        } else {\n          optInStartTransition(() => setStateImpl(newState));\n        }\n        return;\n      }\n\n      // flushSync + startViewTransition\n      if (flushSync) {\n        // Flush through the context to mark DOM elements as transition=ing\n        flushSyncSafe(() => {\n          // Cancel any pending transitions\n          if (transition) {\n            renderDfd && renderDfd.resolve();\n            transition.skipTransition();\n          }\n          setVtContext({\n            isTransitioning: true,\n            flushSync: true,\n            currentLocation: viewTransitionOpts.currentLocation,\n            nextLocation: viewTransitionOpts.nextLocation,\n          });\n        });\n\n        // Update the DOM\n        let t = router.window!.document.startViewTransition(() => {\n          flushSyncSafe(() => setStateImpl(newState));\n        });\n\n        // Clean up after the animation completes\n        t.finished.finally(() => {\n          flushSyncSafe(() => {\n            setRenderDfd(undefined);\n            setTransition(undefined);\n            setPendingState(undefined);\n            setVtContext({ isTransitioning: false });\n          });\n        });\n\n        flushSyncSafe(() => setTransition(t));\n        return;\n      }\n\n      // startTransition + startViewTransition\n      if (transition) {\n        // Interrupting an in-progress transition, cancel and let everything flush\n        // out, and then kick off a new transition from the interruption state\n        renderDfd && renderDfd.resolve();\n        transition.skipTransition();\n        setInterruption({\n          state: newState,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation,\n        });\n      } else {\n        // Completed navigation update with opted-in view transitions, let 'er rip\n        setPendingState(newState);\n        setVtContext({\n          isTransitioning: true,\n          flushSync: false,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation,\n        });\n      }\n    },\n    [router.window, transition, renderDfd, fetcherData, optInStartTransition]\n  );\n\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n\n  // When we start a view transition, create a Deferred we can use for the\n  // eventual \"completed\" render\n  React.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred<void>());\n    }\n  }, [vtContext]);\n\n  // Once the deferred is created, kick off startViewTransition() to update the\n  // DOM and then wait on the Deferred to resolve (indicating the DOM update has\n  // happened)\n  React.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition = router.window.document.startViewTransition(async () => {\n        optInStartTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition.finished.finally(() => {\n        setRenderDfd(undefined);\n        setTransition(undefined);\n        setPendingState(undefined);\n        setVtContext({ isTransitioning: false });\n      });\n      setTransition(transition);\n    }\n  }, [optInStartTransition, pendingState, renderDfd, router.window]);\n\n  // When the new location finally renders and is committed to the DOM, this\n  // effect will run to resolve the transition\n  React.useEffect(() => {\n    if (\n      renderDfd &&\n      pendingState &&\n      state.location.key === pendingState.location.key\n    ) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n\n  // If we get interrupted with a new navigation during a transition, we skip\n  // the active transition, let it cleanup, then kick it off again here\n  React.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation,\n      });\n      setInterruption(undefined);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n\n  React.useEffect(() => {\n    warning(\n      fallbackElement == null || !router.future.v7_partialHydration,\n      \"`<RouterProvider fallbackElement>` is deprecated when using \" +\n        \"`v7_partialHydration`, use a `HydrateFallback` component instead\"\n    );\n    // Only log this once on initial mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  let navigator = React.useMemo((): Navigator => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state, opts) =>\n        router.navigate(to, {\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n      replace: (to, state, opts) =>\n        router.navigate(to, {\n          replace: true,\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n    };\n  }, [router]);\n\n  let basename = router.basename || \"/\";\n\n  let dataRouterContext = React.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename,\n    }),\n    [router, navigator, basename]\n  );\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return (\n    <>\n      <DataRouterContext.Provider value={dataRouterContext}>\n        <DataRouterStateContext.Provider value={state}>\n          <FetchersContext.Provider value={fetcherData.current}>\n            <ViewTransitionContext.Provider value={vtContext}>\n              <Router\n                basename={basename}\n                location={state.location}\n                navigationType={state.historyAction}\n                navigator={navigator}\n                future={{\n                  v7_relativeSplatPath: router.future.v7_relativeSplatPath,\n                }}\n              >\n                {state.initialized || router.future.v7_partialHydration ? (\n                  <DataRoutes\n                    routes={router.routes}\n                    future={router.future}\n                    state={state}\n                  />\n                ) : (\n                  fallbackElement\n                )}\n              </Router>\n            </ViewTransitionContext.Provider>\n          </FetchersContext.Provider>\n        </DataRouterStateContext.Provider>\n      </DataRouterContext.Provider>\n      {null}\n    </>\n  );\n}\n\nfunction DataRoutes({\n  routes,\n  future,\n  state,\n}: {\n  routes: DataRouteObject[];\n  future: RemixRouter[\"future\"];\n  state: RouterState;\n}): React.ReactElement | null {\n  return useRoutesImpl(routes, undefined, state, future);\n}\n\nexport interface BrowserRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: Partial<FutureConfig>;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nexport function BrowserRouter({\n  basename,\n  children,\n  future,\n  window,\n}: BrowserRouterProps) {\n  let historyRef = React.useRef<BrowserHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n      future={future}\n    />\n  );\n}\n\nexport interface HashRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: Partial<FutureConfig>;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nexport function HashRouter({\n  basename,\n  children,\n  future,\n  window,\n}: HashRouterProps) {\n  let historyRef = React.useRef<HashHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n      future={future}\n    />\n  );\n}\n\nexport interface HistoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  history: History;\n}\n\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter({\n  basename,\n  children,\n  future,\n  history,\n}: HistoryRouterProps) {\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n      future={future}\n    />\n  );\n}\n\nif (__DEV__) {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\n\nexport { HistoryRouter as unstable_HistoryRouter };\n\nexport interface LinkProps\n  extends Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> {\n  reloadDocument?: boolean;\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  to: To;\n  unstable_viewTransition?: boolean;\n}\n\nconst isBrowser =\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\";\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\n/**\n * The public API for rendering a history-aware `<a>`.\n */\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  function LinkWithRef(\n    {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      unstable_viewTransition,\n      ...rest\n    },\n    ref\n  ) {\n    let { basename } = React.useContext(NavigationContext);\n\n    // Rendered into <a href> for absolute URLs\n    let absoluteHref;\n    let isExternal = false;\n\n    if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n      // Render the absolute href server- and client-side\n      absoluteHref = to;\n\n      // Only check for external origins client-side\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\")\n            ? new URL(currentUrl.protocol + to)\n            : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            // Strip the protocol/origin/basename for same-origin absolute URLs\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          // We can't do external URL detection without a valid URL\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break ` +\n              `when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n\n    // Rendered into <a href> for relative URLs\n    let href = useHref(to, { relative });\n\n    let internalOnClick = useLinkClickHandler(to, {\n      replace,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n      unstable_viewTransition,\n    });\n    function handleClick(\n      event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n    ) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n\n    return (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      <a\n        {...rest}\n        href={absoluteHref || href}\n        onClick={isExternal || reloadDocument ? onClick : handleClick}\n        ref={ref}\n        target={target}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Link.displayName = \"Link\";\n}\n\ntype NavLinkRenderProps = {\n  isActive: boolean;\n  isPending: boolean;\n  isTransitioning: boolean;\n};\n\nexport interface NavLinkProps\n  extends Omit<LinkProps, \"className\" | \"style\" | \"children\"> {\n  children?: React.ReactNode | ((props: NavLinkRenderProps) => React.ReactNode);\n  caseSensitive?: boolean;\n  className?: string | ((props: NavLinkRenderProps) => string | undefined);\n  end?: boolean;\n  style?:\n    | React.CSSProperties\n    | ((props: NavLinkRenderProps) => React.CSSProperties | undefined);\n}\n\n/**\n * A `<Link>` wrapper that knows if it's \"active\" or not.\n */\nexport const NavLink = React.forwardRef<HTMLAnchorElement, NavLinkProps>(\n  function NavLinkWithRef(\n    {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      unstable_viewTransition,\n      children,\n      ...rest\n    },\n    ref\n  ) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React.useContext(DataRouterStateContext);\n    let { navigator, basename } = React.useContext(NavigationContext);\n    let isTransitioning =\n      routerState != null &&\n      // Conditional usage is OK here because the usage of a data router is static\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useViewTransitionState(path) &&\n      unstable_viewTransition === true;\n\n    let toPathname = navigator.encodeLocation\n      ? navigator.encodeLocation(path).pathname\n      : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname =\n      routerState && routerState.navigation && routerState.navigation.location\n        ? routerState.navigation.location.pathname\n        : null;\n\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname\n        ? nextLocationPathname.toLowerCase()\n        : null;\n      toPathname = toPathname.toLowerCase();\n    }\n\n    if (nextLocationPathname && basename) {\n      nextLocationPathname =\n        stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n    }\n\n    // If the `to` has a trailing slash, look at that exact spot.  Otherwise,\n    // we're looking for a slash _after_ what's in `to`.  For example:\n    //\n    // <NavLink to=\"/users\"> and <NavLink to=\"/users/\">\n    // both want to look for a / at index 6 to match URL `/users/matt`\n    const endSlashPosition =\n      toPathname !== \"/\" && toPathname.endsWith(\"/\")\n        ? toPathname.length - 1\n        : toPathname.length;\n    let isActive =\n      locationPathname === toPathname ||\n      (!end &&\n        locationPathname.startsWith(toPathname) &&\n        locationPathname.charAt(endSlashPosition) === \"/\");\n\n    let isPending =\n      nextLocationPathname != null &&\n      (nextLocationPathname === toPathname ||\n        (!end &&\n          nextLocationPathname.startsWith(toPathname) &&\n          nextLocationPathname.charAt(toPathname.length) === \"/\"));\n\n    let renderProps = {\n      isActive,\n      isPending,\n      isTransitioning,\n    };\n\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n\n    let className: string | undefined;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp(renderProps);\n    } else {\n      // If the className prop is not a function, we use a default `active`\n      // class for <NavLink />s that are active. In v5 `active` was the default\n      // value for `activeClassName`, but we are removing that API and can still\n      // use the old default behavior for a cleaner upgrade path and keep the\n      // simple styling rules working as they currently do.\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n        isTransitioning ? \"transitioning\" : null,\n      ]\n        .filter(Boolean)\n        .join(\" \");\n    }\n\n    let style =\n      typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n\n    return (\n      <Link\n        {...rest}\n        aria-current={ariaCurrent}\n        className={className}\n        ref={ref}\n        style={style}\n        to={to}\n        unstable_viewTransition={unstable_viewTransition}\n      >\n        {typeof children === \"function\" ? children(renderProps) : children}\n      </Link>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n}\n\nexport interface FetcherFormProps\n  extends React.FormHTMLAttributes<HTMLFormElement> {\n  /**\n   * The HTTP verb to use when the form is submit. Supports \"get\", \"post\",\n   * \"put\", \"delete\", \"patch\".\n   */\n  method?: HTMLFormMethod;\n\n  /**\n   * `<form encType>` - enhancing beyond the normal string type and limiting\n   * to the built-in browser supported values\n   */\n  encType?:\n    | \"application/x-www-form-urlencoded\"\n    | \"multipart/form-data\"\n    | \"text/plain\";\n\n  /**\n   * Normal `<form action>` but supports React Router's relative paths.\n   */\n  action?: string;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * Prevent the scroll position from resetting to the top of the viewport on\n   * completion of the navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n\n  /**\n   * A function to call when the form is submitted. If you call\n   * `event.preventDefault()` then this form will not do anything.\n   */\n  onSubmit?: React.FormEventHandler<HTMLFormElement>;\n}\n\nexport interface FormProps extends FetcherFormProps {\n  /**\n   * Indicate a specific fetcherKey to use when using navigate=false\n   */\n  fetcherKey?: string;\n\n  /**\n   * navigate=false will use a fetcher instead of a navigation\n   */\n  navigate?: boolean;\n\n  /**\n   * Forces a full document navigation instead of a fetch.\n   */\n  reloadDocument?: boolean;\n\n  /**\n   * Replaces the current entry in the browser history stack when the form\n   * navigates. Use this if you don't want the user to be able to click \"back\"\n   * to the page with the form on it.\n   */\n  replace?: boolean;\n\n  /**\n   * State object to add to the history stack entry for this navigation\n   */\n  state?: any;\n\n  /**\n   * Enable view transitions on this Form navigation\n   */\n  unstable_viewTransition?: boolean;\n}\n\ntype HTMLSubmitEvent = React.BaseSyntheticEvent<\n  SubmitEvent,\n  Event,\n  HTMLFormElement\n>;\n\ntype HTMLFormSubmitter = HTMLButtonElement | HTMLInputElement;\n\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nexport const Form = React.forwardRef<HTMLFormElement, FormProps>(\n  (\n    {\n      fetcherKey,\n      navigate,\n      reloadDocument,\n      replace,\n      state,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      relative,\n      preventScrollReset,\n      unstable_viewTransition,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    let submit = useSubmit();\n    let formAction = useFormAction(action, { relative });\n    let formMethod: HTMLFormMethod =\n      method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n\n    let submitHandler: React.FormEventHandler<HTMLFormElement> = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n\n      let submitter = (event as unknown as HTMLSubmitEvent).nativeEvent\n        .submitter as HTMLFormSubmitter | null;\n\n      let submitMethod =\n        (submitter?.getAttribute(\"formmethod\") as HTMLFormMethod | undefined) ||\n        method;\n\n      submit(submitter || event.currentTarget, {\n        fetcherKey,\n        method: submitMethod,\n        navigate,\n        replace,\n        state,\n        relative,\n        preventScrollReset,\n        unstable_viewTransition,\n      });\n    };\n\n    return (\n      <form\n        ref={forwardedRef}\n        method={formMethod}\n        action={formAction}\n        onSubmit={reloadDocument ? onSubmit : submitHandler}\n        {...props}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Form.displayName = \"Form\";\n}\n\nexport interface ScrollRestorationProps {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n}\n\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nexport function ScrollRestoration({\n  getKey,\n  storageKey,\n}: ScrollRestorationProps) {\n  useScrollRestoration({ getKey, storageKey });\n  return null;\n}\n\nif (__DEV__) {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\n\nenum DataRouterHook {\n  UseScrollRestoration = \"useScrollRestoration\",\n  UseSubmit = \"useSubmit\",\n  UseSubmitFetcher = \"useSubmitFetcher\",\n  UseFetcher = \"useFetcher\",\n  useViewTransitionState = \"useViewTransitionState\",\n}\n\nenum DataRouterStateHook {\n  UseFetcher = \"useFetcher\",\n  UseFetchers = \"useFetchers\",\n  UseScrollRestoration = \"useScrollRestoration\",\n}\n\n// Internal hooks\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\n// External hooks\n\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nexport function useLinkClickHandler<E extends Element = HTMLAnchorElement>(\n  to: To,\n  {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n    unstable_viewTransition,\n  }: {\n    target?: React.HTMLAttributeAnchorTarget;\n    replace?: boolean;\n    state?: any;\n    preventScrollReset?: boolean;\n    relative?: RelativeRoutingType;\n    unstable_viewTransition?: boolean;\n  } = {}\n): (event: React.MouseEvent<E, MouseEvent>) => void {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n\n  return React.useCallback(\n    (event: React.MouseEvent<E, MouseEvent>) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n\n        // If the URL hasn't changed, a regular <a> will do a replace instead of\n        // a push, so do the same here unless the replace prop is explicitly set\n        let replace =\n          replaceProp !== undefined\n            ? replaceProp\n            : createPath(location) === createPath(path);\n\n        navigate(to, {\n          replace,\n          state,\n          preventScrollReset,\n          relative,\n          unstable_viewTransition,\n        });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n      unstable_viewTransition,\n    ]\n  );\n}\n\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nexport function useSearchParams(\n  defaultInit?: URLSearchParamsInit\n): [URLSearchParams, SetURLSearchParams] {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not ` +\n      `support the URLSearchParams API. If you need to support Internet ` +\n      `Explorer 11, we recommend you load a polyfill such as ` +\n      `https://github.com/ungap/url-search-params\\n\\n` +\n      `If you're unsure how to load polyfills, we recommend you check out ` +\n      `https://polyfill.io/v3/ which provides some recommendations about how ` +\n      `to load polyfills only for users that need them, instead of for every ` +\n      `user.`\n  );\n\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n\n  let location = useLocation();\n  let searchParams = React.useMemo(\n    () =>\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      ),\n    [location.search]\n  );\n\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback<SetURLSearchParams>(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n\n  return [searchParams, setSearchParams];\n}\n\nexport type SetURLSearchParams = (\n  nextInit?:\n    | URLSearchParamsInit\n    | ((prev: URLSearchParams) => URLSearchParamsInit),\n  navigateOpts?: NavigateOptions\n) => void;\n\n/**\n * Submits a HTML `<form>` to the server without reloading the page.\n */\nexport interface SubmitFunction {\n  (\n    /**\n     * Specifies the `<form>` to be submitted to the server, a specific\n     * `<button>` or `<input type=\"submit\">` to use to submit the form, or some\n     * arbitrary data to submit.\n     *\n     * Note: When using a `<button>` its `name` and `value` will also be\n     * included in the form data that is submitted.\n     */\n    target: SubmitTarget,\n\n    /**\n     * Options that override the `<form>`'s own attributes. Required when\n     * submitting arbitrary data without a backing `<form>`.\n     */\n    options?: SubmitOptions\n  ): void;\n}\n\n/**\n * Submits a fetcher `<form>` to the server without reloading the page.\n */\nexport interface FetcherSubmitFunction {\n  (\n    target: SubmitTarget,\n    // Fetchers cannot replace or set state because they are not navigation events\n    options?: Omit<SubmitOptions, \"replace\" | \"state\">\n  ): void;\n}\n\nfunction validateClientSideSubmission() {\n  if (typeof document === \"undefined\") {\n    throw new Error(\n      \"You are calling submit during the server render. \" +\n        \"Try calling submit within a `useEffect` or callback instead.\"\n    );\n  }\n}\n\nlet fetcherId = 0;\nlet getUniqueFetcherId = () => `__${String(++fetcherId)}__`;\n\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nexport function useSubmit(): SubmitFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseSubmit);\n  let { basename } = React.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n\n  return React.useCallback<SubmitFunction>(\n    (target, options = {}) => {\n      validateClientSideSubmission();\n\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n\n      if (options.navigate === false) {\n        let key = options.fetcherKey || getUniqueFetcherId();\n        router.fetch(key, currentRouteId, options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || (method as HTMLFormMethod),\n          formEncType: options.encType || (encType as FormEncType),\n          unstable_flushSync: options.unstable_flushSync,\n        });\n      } else {\n        router.navigate(options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || (method as HTMLFormMethod),\n          formEncType: options.encType || (encType as FormEncType),\n          replace: options.replace,\n          state: options.state,\n          fromRouteId: currentRouteId,\n          unstable_flushSync: options.unstable_flushSync,\n          unstable_viewTransition: options.unstable_viewTransition,\n        });\n      }\n    },\n    [router, basename, currentRouteId]\n  );\n}\n\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nexport function useFormAction(\n  action?: string,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  let { basename } = React.useContext(NavigationContext);\n  let routeContext = React.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n\n  // If no action was specified, browsers will persist current search params\n  // when determining the path, so match that behavior\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to this directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    path.search = location.search;\n\n    // When grabbing search params from the URL, remove any included ?index param\n    // since it might not apply to our contextual route.  We add it back based\n    // on match.route.index below\n    let params = new URLSearchParams(path.search);\n    if (params.has(\"index\") && params.get(\"index\") === \"\") {\n      params.delete(\"index\");\n      path.search = params.toString() ? `?${params.toString()}` : \"\";\n    }\n  }\n\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\nexport type FetcherWithComponents<TData> = Fetcher<TData> & {\n  Form: React.ForwardRefExoticComponent<\n    FetcherFormProps & React.RefAttributes<HTMLFormElement>\n  >;\n  submit: FetcherSubmitFunction;\n  load: (href: string, opts?: { unstable_flushSync?: boolean }) => void;\n};\n\n// TODO: (v7) Change the useFetcher generic default from `any` to `unknown`\n\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nexport function useFetcher<TData = any>({\n  key,\n}: { key?: string } = {}): FetcherWithComponents<TData> {\n  let { router } = useDataRouterContext(DataRouterHook.UseFetcher);\n  let state = useDataRouterState(DataRouterStateHook.UseFetcher);\n  let fetcherData = React.useContext(FetchersContext);\n  let route = React.useContext(RouteContext);\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n\n  invariant(fetcherData, `useFetcher must be used inside a FetchersContext`);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n\n  // Fetcher key handling\n  // OK to call conditionally to feature detect `useId`\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  let defaultKey = useIdImpl ? useIdImpl() : \"\";\n  let [fetcherKey, setFetcherKey] = React.useState<string>(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  } else if (!fetcherKey) {\n    // We will only fall through here when `useId` is not available\n    setFetcherKey(getUniqueFetcherId());\n  }\n\n  // Registration/cleanup\n  React.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => {\n      // Tell the router we've unmounted - if v7_fetcherPersist is enabled this\n      // will not delete immediately but instead queue up a delete after the\n      // fetcher returns to an `idle` state\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n\n  // Fetcher additions\n  let load = React.useCallback(\n    (href: string, opts?: { unstable_flushSync?: boolean }) => {\n      invariant(routeId, \"No routeId available for fetcher.load()\");\n      router.fetch(fetcherKey, routeId, href, opts);\n    },\n    [fetcherKey, routeId, router]\n  );\n\n  let submitImpl = useSubmit();\n  let submit = React.useCallback<FetcherSubmitFunction>(\n    (target, opts) => {\n      submitImpl(target, {\n        ...opts,\n        navigate: false,\n        fetcherKey,\n      });\n    },\n    [fetcherKey, submitImpl]\n  );\n\n  let FetcherForm = React.useMemo(() => {\n    let FetcherForm = React.forwardRef<HTMLFormElement, FetcherFormProps>(\n      (props, ref) => {\n        return (\n          <Form {...props} navigate={false} fetcherKey={fetcherKey} ref={ref} />\n        );\n      }\n    );\n    if (__DEV__) {\n      FetcherForm.displayName = \"fetcher.Form\";\n    }\n    return FetcherForm;\n  }, [fetcherKey]);\n\n  // Exposed FetcherWithComponents\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React.useMemo(\n    () => ({\n      Form: FetcherForm,\n      submit,\n      load,\n      ...fetcher,\n      data,\n    }),\n    [FetcherForm, submit, load, fetcher, data]\n  );\n\n  return fetcherWithComponents;\n}\n\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nexport function useFetchers(): (Fetcher & { key: string })[] {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return Array.from(state.fetchers.entries()).map(([key, fetcher]) => ({\n    ...fetcher,\n    key,\n  }));\n}\n\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions: Record<string, number> = {};\n\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration({\n  getKey,\n  storageKey,\n}: {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n} = {}) {\n  let { router } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState(\n    DataRouterStateHook.UseScrollRestoration\n  );\n  let { basename } = React.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n\n  // Save positions on pagehide\n  usePageHide(\n    React.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = (getKey ? getKey(location, matches) : null) || location.key;\n        savedScrollPositions[key] = window.scrollY;\n      }\n      try {\n        sessionStorage.setItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n          JSON.stringify(savedScrollPositions)\n        );\n      } catch (error) {\n        warning(\n          false,\n          `Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${error}).`\n        );\n      }\n      window.history.scrollRestoration = \"auto\";\n    }, [storageKey, getKey, navigation.state, location, matches])\n  );\n\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let getKeyWithoutBasename: GetScrollRestorationKeyFunction | undefined =\n        getKey && basename !== \"/\"\n          ? (location, matches) =>\n              getKey(\n                // Strip the basename to match useLocation()\n                {\n                  ...location,\n                  pathname:\n                    stripBasename(location.pathname, basename) ||\n                    location.pathname,\n                },\n                matches\n              )\n          : getKey;\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKeyWithoutBasename\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(\n          decodeURIComponent(location.hash.slice(1))\n        );\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n\nexport { useScrollRestoration as UNSAFE_useScrollRestoration };\n\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nexport function useBeforeUnload(\n  callback: (event: BeforeUnloadEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(\n  callback: (event: PageTransitionEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt({\n  when,\n  message,\n}: {\n  when: boolean | BlockerFunction;\n  message: string;\n}) {\n  let blocker = useBlocker(when);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        // This timeout is needed to avoid a weird \"race\" on POP navigations\n        // between the `window.history` revert navigation and the result of\n        // `window.confirm`\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\n\nexport { usePrompt as unstable_usePrompt };\n\n/**\n * Return a boolean indicating if there is an active view transition to the\n * given href.  You can use this value to render CSS classes or viewTransitionName\n * styles onto your elements\n *\n * @param href The destination href\n * @param [opts.relative] Relative routing type (\"route\" | \"path\")\n */\nfunction useViewTransitionState(\n  to: To,\n  opts: { relative?: RelativeRoutingType } = {}\n) {\n  let vtContext = React.useContext(ViewTransitionContext);\n\n  invariant(\n    vtContext != null,\n    \"`unstable_useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  \" +\n      \"Did you accidentally import `RouterProvider` from `react-router`?\"\n  );\n\n  let { basename } = useDataRouterContext(\n    DataRouterHook.useViewTransitionState\n  );\n  let path = useResolvedPath(to, { relative: opts.relative });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n\n  let currentPath =\n    stripBasename(vtContext.currentLocation.pathname, basename) ||\n    vtContext.currentLocation.pathname;\n  let nextPath =\n    stripBasename(vtContext.nextLocation.pathname, basename) ||\n    vtContext.nextLocation.pathname;\n\n  // Transition is active if we're going to or coming from the indicated\n  // destination.  This ensures that other PUSH navigations that reverse\n  // an indicated transition apply.  I.e., on the list view you have:\n  //\n  //   <NavLink to=\"/details/1\" unstable_viewTransition>\n  //\n  // If you click the breadcrumb back to the list view:\n  //\n  //   <NavLink to=\"/list\" unstable_viewTransition>\n  //\n  // We should apply the transition because it's indicated as active going\n  // from /list -> /details/1 and therefore should be active on the reverse\n  // (even though this isn't strictly a POP reverse)\n  return (\n    matchPath(path.pathname, nextPath) != null ||\n    matchPath(path.pathname, currentPath) != null\n  );\n}\n\nexport { useViewTransitionState as unstable_useViewTransitionState };\n\n//#endregion\n","const ButtonSvg = (white) => (\r\n  <>\r\n    <svg\r\n      className=\"absolute top-0 left-0\"\r\n      width=\"21\"\r\n      height=\"44\"\r\n      viewBox=\"0 0 21 44\"\r\n    >\r\n      <path\r\n        fill={white ? \"white\" : \"none\"}\r\n        stroke={white ? \"white\" : \"url(#btn-left)\"} // mentioned in ButtonGradient.jsx\r\n        strokeWidth=\"2\"\r\n        d=\"M21,43.00005 L8.11111,43.00005 C4.18375,43.00005 1,39.58105 1,35.36365 L1,8.63637 C1,4.41892 4.18375,1 8.11111,1 L21,1\"\r\n      />\r\n    </svg>\r\n    <svg\r\n      className=\"absolute top-0 left-[1.3125rem] w-[calc(100%-2.625rem)]\"\r\n      height=\"44\"\r\n      viewBox=\"0 0 100 44\"\r\n      preserveAspectRatio=\"none\"\r\n      fill={white ? \"white\" : \"none\"}\r\n    >\r\n      {white ? (\r\n        <polygon\r\n          fill=\"white\"\r\n          fillRule=\"nonzero\"\r\n          points=\"100 0 100 44 0 44 0 0\"\r\n        />\r\n      ) : (\r\n        <>\r\n          <polygon\r\n            fill=\"url(#btn-top)\" // mentioned in ButtonGradient.jsx\r\n            fillRule=\"nonzero\"\r\n            points=\"100 42 100 44 0 44 0 42\"\r\n          />\r\n          <polygon\r\n            fill=\"url(#btn-bottom)\" // mentioned in ButtonGradient.jsx\r\n            fillRule=\"nonzero\"\r\n            points=\"100 0 100 2 0 2 0 0\"\r\n          />\r\n        </>\r\n      )}\r\n    </svg>\r\n    <svg\r\n      className=\"absolute top-0 right-0\"\r\n      width=\"21\"\r\n      height=\"44\"\r\n      viewBox=\"0 0 21 44\"\r\n    >\r\n      <path\r\n        fill={white ? \"white\" : \"none\"}\r\n        stroke={white ? \"white\" : \"url(#btn-right)\"} // mentioned in ButtonGradient.jsx\r\n        strokeWidth=\"2\"\r\n        d=\"M0,43.00005 L5.028,43.00005 L12.24,43.00005 C16.526,43.00005 20,39.58105 20,35.36365 L20,16.85855 C20,14.59295 18.978,12.44425 17.209,10.99335 L7.187,2.77111 C5.792,1.62675 4.034,1 2.217,1 L0,1\"\r\n      />\r\n    </svg>\r\n  </>\r\n);\r\n\r\nexport default ButtonSvg;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ButtonSvg from \"../assets/svg/ButtonSvg\";\r\n\r\nconst Button = ({ className, href, to, onClick, children, px, white }) => {\r\n  // Construct the class string for the button\r\n  const classes = `button relative inline-flex items-center justify-center h-11 transition-colors hover:text-color-1 ${\r\n    px || \"px-7\"\r\n  } ${white ? \"text-n-8\" : \"text-n-1\"} ${className || \"\"}`;\r\n  // Class string for the span element\r\n  const spanClasses = \"relative z-10\";\r\n\r\n  // Render the button element\r\n  const renderButton = () => (\r\n    <button className={classes} onClick={onClick}>\r\n      <span className={spanClasses}>{children}</span>\r\n      {ButtonSvg(white)}\r\n    </button>\r\n  );\r\n\r\n  // Render the link element\r\n  const renderLink = () => (\r\n    <Link to={to} className={classes}>\r\n      <span className={spanClasses}>{children}</span>\r\n      {ButtonSvg(white)}\r\n    </Link>\r\n  );\r\n\r\n  // Conditionally render either a link or a button based on the 'to' prop\r\n  return to ? renderLink() : renderButton();\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport { curve1, curve2 } from \"../assets\";\r\n\r\n// Define the RightCurve component\r\nexport const RightCurve = () => {\r\n  return (\r\n    <section className=\"hidden absolute top-1/2 left-full w-[10.125rem] -mt-1 ml-10 pointer-events-none xl:block\">\r\n      <img src={curve2} width={162} height={76} alt=\"Curve 2\" />\r\n    </section>\r\n  );\r\n};\r\n\r\n/*\r\n  Component: LeftCurve\r\n  Purpose: Display a curve image on the left side of the page.\r\n*/\r\n\r\n// Define the LeftCurve component\r\nexport const LeftCurve = () => {\r\n  return (\r\n    <section className=\"hidden absolute top-1/2 right-full w-[32.625rem] -mt-1 mr-10 pointer-events-none xl:block\">\r\n      <img src={curve1} width={522} height={182} alt=\"Curve 1\" />\r\n    </section>\r\n  );\r\n};\r\n","import { brainwaveSymbol, check } from \"../assets\";\r\nimport { aboutApps, aboutContent, aboutText } from \"../constants\";\r\nimport Button from \"./Button\";\r\nimport Section from \"./Section\";\r\nimport { LeftCurve, RightCurve } from \"../design/About\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst About = () => {\r\n  return (\r\n    <Section crosses id=\"about\">\r\n      <section className=\"container lg:flex\">\r\n        {/* Left column containing textual content */}\r\n        <article className=\"max-w-[25rem]\">\r\n          <h2 className=\"h2 mb-4 md:mb-8\">A Look Into What This Is About</h2>\r\n\r\n          {/* List of about content items */}\r\n          <ul className=\"max-w-[22rem] mb-10 md:mb-14\">\r\n            {aboutContent.map((item) => (\r\n              <li className=\"mb-3 py-3\" key={item.id}>\r\n                <header className=\"flex items-center\">\r\n                  <img src={check} width={24} height={24} alt=\"check\" />\r\n                  <h6 className=\"body-2 ml-5\">{item.title}</h6>\r\n                </header>\r\n                {item.text && (\r\n                  <p className=\"body-2 mt-3 text-n-4\">{item.text}</p>\r\n                )}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n\r\n          {/* Button to learn more, linked to the about page */}\r\n          <Button as={Link} to={`/about/0`}>\r\n            Learn More\r\n          </Button>\r\n        </article>\r\n\r\n        {/* Right column containing an illustration */}\r\n        <article className=\"lg:ml-auto xl:w-[38rem] mt-4\">\r\n          {/* Text describing the app */}\r\n          <p className=\"body-2 mb-8 text-n-4 md:mb-16 lg:mb-32 lg:w-[22rem] lg:mx-auto\">\r\n            {aboutText}\r\n          </p>\r\n\r\n          <figure className=\"relative left-1/2 flex w-[22rem] aspect-square border border-n-6 rounded-full -translate-x-1/2 scale:75 md:scale-100\">\r\n            <section className=\"flex w-60 aspect-square m-auto border border-n-6 rounded-full\">\r\n              <section className=\"w-[6rem] aspect-square m-auto p-[0.2rem] bg-conic-gradient rounded-full\">\r\n                <section className=\"flex items-center justify-center w-full h-full bg-n-8 rounded-full\">\r\n                  <img\r\n                    src={brainwaveSymbol}\r\n                    width={48}\r\n                    height={48}\r\n                    alt=\"brainwave\"\r\n                  />\r\n                </section>\r\n              </section>\r\n            </section>\r\n\r\n            {/* Render rotating app icons */}\r\n            <ul>\r\n              {aboutApps.map((app, index) => (\r\n                <li\r\n                  key={app.id}\r\n                  className={`absolute top-0 left-1/2 h-1/2 -ml-[1.6rem] origin-bottom rotate-${\r\n                    index * 45\r\n                  }`}\r\n                >\r\n                  <section\r\n                    className={`relative -top-[1.6rem] flex w-[3.2rem] h-[3.2rem] bg-n-7 border border-n-1/15 rounded-xl -rotate-${\r\n                      index * 45\r\n                    }`}\r\n                  >\r\n                    <img\r\n                      className=\"m-auto\"\r\n                      width={app.width}\r\n                      height={app.height}\r\n                      alt={app.title}\r\n                      src={app.icon}\r\n                    />\r\n                  </section>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n\r\n            {/* Render left and right curve designs */}\r\n            <LeftCurve />\r\n            <RightCurve />\r\n          </figure>\r\n        </article>\r\n      </section>\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import { gradient } from \"../assets\";\r\n\r\nexport const Gradient = () => {\r\n  return (\r\n    <section className=\"absolute top-0 -left-[10rem] w-[56.625rem] h-[56.625rem] opacity-50 mix-blend-color-dodge pointer-events-none\">\r\n      <img\r\n        className=\"absolute top-1/2 left-1/2 w-[79.5625rem] max-w-[79.5625rem] h-[88.5625rem] -translate-x-1/2 -translate-y-1/2\"\r\n        src={gradient}\r\n        width={1417}\r\n        height={1417}\r\n        alt=\"Gradient\"\r\n      />\r\n    </section>\r\n  );\r\n};\r\n","import Section from \"./Section\";\r\nimport Heading from \"./Heading\";\r\nimport Button from \"../components/Button\";\r\nimport { service1, check } from \"../assets\";\r\nimport { artcheck } from \"../constants\";\r\nimport { Gradient } from \"../design/Art\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Generating from \"./Generating\";\r\n\r\nconst Art = () => {\r\n  return (\r\n    <Section id=\"art\">\r\n      <article className=\"container\">\r\n        <Heading\r\n          title=\"See The Force In The Art\"\r\n          text=\"Unlock the potential of art\"\r\n        />\r\n\r\n        <section className=\"relative\">\r\n          {/* Main content and image */}\r\n          <figure className=\"relative z-1 flex items-center h-[39rem] mb-5 p-8 border border-n-1/10 rounded-3xl overflow-hidden lg:p-20 xl:h-[46rem]\">\r\n            {/* Display the art image */}\r\n            <aside className=\"absolute top-0 left-0 w-full h-full pointer-events-none md:w-3/5 xl:w-auto\">\r\n              <img\r\n                className=\"w-full h-full object-cover md:object-right\"\r\n                width={800}\r\n                alt=\"art\"\r\n                height={730}\r\n                src={service1}\r\n              />\r\n            </aside>\r\n\r\n            {/* Information about Internet Art */}\r\n            <section className=\"relative z-1 max-w-[17rem] ml-auto\">\r\n              <h4 className=\"h4 mb-4\">Internet Art</h4>\r\n              <p className=\"body-2 mb-[3rem] text-n-3\">Art within the Galaxy</p>\r\n              {/* List of art features */}\r\n              <ul className=\"body-2\">\r\n                {artcheck.map((item, index) => (\r\n                  <li\r\n                    key={index}\r\n                    className=\"flex items-start py-4 border-t border-n-6\"\r\n                  >\r\n                    <img width={24} height={24} src={check} alt=\"check\" />\r\n                    {/* Display each art feature */}\r\n                    <p className=\"ml-4\">{item}</p>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              {/* Button to view more art */}\r\n              <Button as={Link} to={`/art/0`}>\r\n                View Art\r\n              </Button>\r\n            </section>\r\n\r\n            <Generating className=\"absolute left-4 right-4 bottom-4 border-n-1/10 border lg:left-1/2 lg-right-auto lg:bottom-8 lg:-translate-x-1/2\" />\r\n          </figure>\r\n\r\n          <Gradient />\r\n        </section>\r\n      </article>\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default Art;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { theorys } from \"../constants\";\r\nimport Button from \"../components/Button\";\r\n\r\nconst TheoryList = () => {\r\n  return (\r\n    <section className=\"flex gap-[1rem] max-lg:flex-wrap\">\r\n      {/* Map through the theories data */}\r\n      {theorys.map((item) => (\r\n        // Render each theory item\r\n        <section\r\n          key={item.id}\r\n          className=\"w-[19rem] max-lg:w-full h-full px-6 bg-n-8 border border-n-6 rounded-[2rem] lg:w-auto even:py-14 odd:py-8 odd:my-4 [&>h4]:first:text-color-2 [&>h4]:even:text-color-1 [&>h4]:last:text-color-3\"\r\n        >\r\n          {/* Render the title of the theory */}\r\n          <h4 className=\"h4 mb-4\">{item.title}</h4>\r\n\r\n          {/* Render the description of the theory */}\r\n          <p className=\"body-2 min-h-[4rem] mb-3 text-n-1/50\">\r\n            {item.description}\r\n          </p>\r\n\r\n          {/* Use Link component to get to the pages*/}\r\n          <Link to={`/essay/${item.id}`}>\r\n            <Button className=\"w-full mb-6\">\r\n              {item.link === \"#\" ? \"Read more\" : \"Read more\"}\r\n            </Button>\r\n          </Link>\r\n        </section>\r\n      ))}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default TheoryList;\r\n","import { lines } from \"../assets\";\r\n\r\nexport const LeftLine = () => {\r\n  return (\r\n    <section className=\"hidden lg:block absolute top-1/2 right-full w-[92.5rem] h-[11.0625rem] -translate-y-1/2 pointer-events-none\">\r\n      <img\r\n        className=\"w-full\"\r\n        src={lines}\r\n        width={1480}\r\n        height={177}\r\n        alt=\"Lines\"\r\n      />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport const RightLine = () => {\r\n  return (\r\n    <section className=\"hidden lg:block absolute top-1/2 left-full w-[92.5rem] h-[11.0625rem] -translate-y-1/2 -scale-x-100 pointer-events-none\">\r\n      <img\r\n        className=\"w-full\"\r\n        src={lines}\r\n        width={1480}\r\n        height={177}\r\n        alt=\"Lines\"\r\n      />\r\n    </section>\r\n  );\r\n};\r\n","import Section from \"./Section\";\r\nimport { smallSphere, stars } from \"../assets\";\r\nimport Heading from \"./Heading\";\r\nimport TheoryList from \"./TheoryList\";\r\nimport { LeftLine, RightLine } from \"../design/Theory\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Theory = () => {\r\n  return (\r\n    <Section className=\"overflow-hidden\" id=\"theory\">\r\n      <article className=\"container relative z-2\">\r\n        {/* Hidden section for stars */}\r\n        <section className=\"hidden relative justify-center mb-[6.5rem] lg:flex\">\r\n          <img\r\n            src={smallSphere}\r\n            className=\"relative z-1\"\r\n            width={255}\r\n            height={255}\r\n            alt=\"Sphere\"\r\n          />\r\n          <section className=\"absolute top-1/2 left-1/2 w-[60rem] -translate-x-1/2 -translate-y-1/2 pointer-events-none\">\r\n            <img\r\n              src={stars}\r\n              className=\"w-full\"\r\n              width={950}\r\n              height={400}\r\n              alt=\"Stars\"\r\n            />\r\n          </section>\r\n        </section>\r\n\r\n        {/* Render the heading for the theory section */}\r\n        <Heading tag=\"BECOME ONE WITH THE FORCE\" title=\"The Theory Of It All\" />\r\n\r\n        {/* Render the list of theories */}\r\n        <section className=\"relative\">\r\n          <TheoryList />\r\n          <LeftLine />\r\n          <RightLine />\r\n        </section>\r\n\r\n        {/* Link to view all theories */}\r\n        <section className=\"flex justify-center mt-10\">\r\n          <Link\r\n            to=\"/theoryworks\" // Specify the path to the TheoryWorks page\r\n            className=\"text-xs font-code font-bold tracking-wider uppercase border-b\"\r\n          >\r\n            See All Theories\r\n          </Link>\r\n        </section>\r\n      </article>\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default Theory;\r\n","import { gradient } from \"../assets\";\r\n\r\nexport const Gradient = () => {\r\n  return (\r\n    <section className=\"absolute top-[18.25rem] -left-[30.375rem] w-[56.625rem] opacity-60 mix-blend-color-dodge pointer-events-none\">\r\n      <section className=\"absolute top-1/2 left-1/2 w-[58.85rem] h-[58.85rem] -translate-x-3/4 -translate-y-1/2\">\r\n        <img\r\n          className=\"w-full\"\r\n          src={gradient}\r\n          width={942}\r\n          height={942}\r\n          alt=\"Gradient\"\r\n        />\r\n      </section>\r\n    </section>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"./Button\";\r\nimport Heading from \"./Heading\";\r\nimport Section from \"./Section\";\r\nimport Tagline from \"./TagLine\";\r\nimport { roadmap } from \"../constants\";\r\nimport { check2, grid, loading1 } from \"../assets\";\r\nimport { Gradient } from \"../design/Roadmap\";\r\n\r\nconst Roadmap = () => (\r\n  <Section className=\"overflow-hidden\" id=\"roadmap\">\r\n    <article className=\"container md:pb-10\">\r\n      {/* Heading */}\r\n      <Heading tag=\"AWAKEN THE FORCE\" title=\"My design thinking\" />\r\n\r\n      {/* Roadmap items */}\r\n      <section className=\"relative grid gap-6 md:grid-cols-2 md:gap-4 md:pb-[7rem]\">\r\n        {/* Maps each roadmap item so i i display it*/}\r\n        {roadmap.map((item) => {\r\n          const status = item.status === \"done\" ? \"Done\" : \"In progress\";\r\n\r\n          return (\r\n            <article\r\n              className={`md:flex even:md:translate-y-[7rem] p-0.25 rounded-[2.5rem] ${\r\n                item.colorful ? \"bg-conic-gradient\" : \"bg-n-6\"\r\n              }`}\r\n              key={item.id}\r\n            >\r\n              {/* Roadmap item details */}\r\n              <section className=\"relative p-8 bg-n-8 rounded-[2.4375rem] overflow-hidden xl:p-15\">\r\n                <figure className=\"absolute top-0 left-0 max-w-full\">\r\n                  <img\r\n                    className=\"w-full\"\r\n                    src={grid}\r\n                    width={550}\r\n                    height={550}\r\n                    alt=\"Grid\"\r\n                  />\r\n                </figure>\r\n                <div className=\"relative z-1\">\r\n                  {/* Date and status */}\r\n                  <header className=\"flex items-center justify-between max-w-[27rem] mb-8 md:mb-20\">\r\n                    <Tagline>{item.date}</Tagline>\r\n\r\n                    <div className=\"flex items-center px-4 py-1 bg-n-1 rounded text-n-8\">\r\n                      <img\r\n                        className=\"mr-2.5\"\r\n                        src={item.status === \"done\" ? check2 : loading1}\r\n                        width={16}\r\n                        height={16}\r\n                        alt={status}\r\n                      />\r\n                      <div className=\"tagline\">{status}</div>\r\n                    </div>\r\n                  </header>\r\n\r\n                  <figure className=\"mb-10 -my-10 -mx-15\">\r\n                    <img\r\n                      className=\"w-full\"\r\n                      src={item.imageUrl}\r\n                      width={628}\r\n                      height={426}\r\n                      alt={item.title}\r\n                    />\r\n                  </figure>\r\n                  <h4 className=\"h4 mb-4\">{item.title}</h4>\r\n                  <p className=\"body-2 text-n-4\">{item.text}</p>\r\n                </div>\r\n                <section className=\"mt-12\">\r\n                  <Button as={Link} to={`/design/${item.id}`}>\r\n                    Read More\r\n                  </Button>\r\n                </section>\r\n              </section>\r\n            </article>\r\n          );\r\n        })}\r\n\r\n        <Gradient />\r\n      </section>\r\n\r\n      {/* Button to view entire roadmap */}\r\n      <section className=\"flex justify-center mt-12 md:mt-15 xl:mt-20\">\r\n        <Button as={Link} to=\"/design\">\r\n          Our roadmap\r\n        </Button>\r\n      </section>\r\n    </article>\r\n  </Section>\r\n);\r\n\r\nexport default Roadmap;\r\n","import ButtonGradient from \"../assets/svg/ButtonGradient\";\r\nimport useScrollToSection from \"../components/useScrollToSection\";\r\nimport Hero from \"../components/Hero\";\r\nimport Films from \"../components/Films\";\r\nimport About from \"../components/About\";\r\nimport Art from \"../components/Art\";\r\nimport Theory from \"../components/Theory\";\r\nimport Roadmap from \"../components/Roadmap\";\r\n\r\nconst Homepage = () => {\r\n  // Use custom hook for scrolling functionality\r\n  useScrollToSection();\r\n  return (\r\n    <>\r\n      <section className=\"pt-[4.75rem] lg:pt-[5.25rem] overflow-hidden\">\r\n        <Hero />\r\n        <section id=\"about\">\r\n          <About />\r\n        </section>\r\n        <Roadmap />\r\n        <section id=\"films\">\r\n          <Films />\r\n        </section>\r\n        <Theory />\r\n        <section id=\"art\">\r\n          <Art />\r\n        </section>\r\n      </section>\r\n      <ButtonGradient />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React from \"react\";\r\nimport Section from \"./Section\";\r\nimport { socials } from \"../constants\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Section crosses className=\"!px-0 !py-10\">\r\n      <footer className=\"container flex sm:justify-between justify-center items-center gap-10 max-sm:flex-col\">\r\n        <p className=\"caption text-n-4 lg:block\">\r\n          © {new Date().getFullYear()}. My Website.\r\n        </p>\r\n\r\n        {/* Social media links */}\r\n        <ul className=\"flex gap-5 flex-wrap\">\r\n          {socials.map((item) => (\r\n            <a\r\n              key={item.id}\r\n              href={item.url}\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n              className=\"flex items-center justify-center w-10 h-10 bg-n-7 rounded-full transition-colors hover:bg-n-6\"\r\n            >\r\n              {/* Social media icon */}\r\n              <img src={item.iconUrl} width={16} height={16} alt={item.title} />\r\n            </a>\r\n          ))}\r\n        </ul>\r\n      </footer>\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","const MenuSvg = ({ openNavigation }) => {\n  return (\n    <svg\n      className=\"overflow-visible\"\n      width=\"20\"\n      height=\"12\"\n      viewBox=\"0 0 20 12\"\n    >\n      <rect\n        className=\"transition-all origin-center\"\n        y={openNavigation ? \"5\" : \"0\"}\n        width=\"20\"\n        height=\"2\"\n        rx=\"1\"\n        fill=\"white\"\n        transform={`rotate(${openNavigation ? \"45\" : \"0\"})`}\n      />\n      <rect\n        className=\"transition-all origin-center\"\n        y={openNavigation ? \"5\" : \"10\"}\n        width=\"20\"\n        height=\"2\"\n        rx=\"1\"\n        fill=\"white\"\n        transform={`rotate(${openNavigation ? \"-45\" : \"0\"})`}\n      />\n    </svg>\n  );\n};\n\nexport default MenuSvg;\n","import { heroBackground } from \"../assets\";\r\n\r\nexport const Rings = () => {\r\n  return (\r\n    <section className=\"absolute top-1/2 left-1/2 w-[51.375rem] aspect-square border border-n-2/10 rounded-full -translate-x-1/2 -translate-y-1/2\">\r\n      <article className=\"absolute top-1/2 left-1/2 w-[36.125rem] aspect-square border border-n-2/10 rounded-full -translate-x-1/2 -translate-y-1/2\"></article>\r\n      <article className=\"absolute top-1/2 left-1/2 w-[23.125rem] aspect-square border border-n-2/10 rounded-full -translate-x-1/2 -translate-y-1/2\"></article>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport const SideLines = () => {\r\n  return (\r\n    <>\r\n      <aside className=\"absolute top-0 left-5 w-0.25 h-full bg-n-6\"></aside>\r\n      <aside className=\"absolute top-0 right-5 w-0.25 h-full bg-n-6\"></aside>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const BackgroundCircles = () => {\r\n  return (\r\n    <>\r\n      <section className=\"absolute top-[4.4rem] left-16 w-3 h-3 bg-gradient-to-b from-[#DD734F] to-[#1A1A32] rounded-full\"></section>\r\n      <section className=\"absolute top-[12.6rem] right-16 w-3 h-3 bg-gradient-to-b from-[#B9AEDF] to-[#1A1A32] rounded-full\"></section>\r\n      <section className=\"absolute top-[26.8rem] left-12 w-6 h-6 bg-gradient-to-b from-[#88E5BE] to-[#1A1A32] rounded-full\"></section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const HamburgerMenu = () => {\r\n  return (\r\n    <section className=\"absolute inset-0 pointer-events-none lg:hidden\">\r\n      <section className=\"absolute inset-0 opacity-[.03]\">\r\n        <img\r\n          className=\"w-full h-full object-cover\"\r\n          src={heroBackground}\r\n          width={688}\r\n          height={953}\r\n          alt=\"Background\"\r\n        />\r\n      </section>\r\n\r\n      <Rings />\r\n\r\n      <SideLines />\r\n\r\n      <BackgroundCircles />\r\n    </section>\r\n  );\r\n};\r\n","import { useLocation, Link } from \"react-router-dom\";\r\nimport { disablePageScroll, enablePageScroll } from \"scroll-lock\";\r\nimport { brainwave } from \"../assets\";\r\nimport { navigation } from \"../constants\";\r\nimport Button from \"./Button\";\r\nimport MenuSvg from \"../assets/svg/MenuSvg\";\r\nimport { HamburgerMenu } from \"../design/Header\";\r\nimport { useState } from \"react\";\r\n\r\nconst Header = () => {\r\n  // State to track whether the navigation menu is open or closed\r\n  const [openNavigation, setOpenNavigation] = useState(false);\r\n  // Hook to access the current location\r\n  const location = useLocation();\r\n\r\n  // Function to toggle the navigation menu and enable/disable page scroll\r\n  const toggleNavigation = () => {\r\n    if (openNavigation) {\r\n      setOpenNavigation(false);\r\n      enablePageScroll();\r\n    } else {\r\n      setOpenNavigation(true);\r\n      disablePageScroll();\r\n    }\r\n  };\r\n\r\n  // Function to handle click events and close the navigation menu\r\n  const handleClick = () => {\r\n    if (!openNavigation) return;\r\n\r\n    enablePageScroll();\r\n    setOpenNavigation(false);\r\n  };\r\n\r\n  // Function to determine if a navigation item is active\r\n  const isActive = (url) => {\r\n    return location.hash === url || location.pathname + location.hash === url;\r\n  };\r\n\r\n  return (\r\n    <header\r\n      className={`fixed top-0 left-0 w-full z-50 border-b border-n-6 lg:bg-n-8/90 lg:backdrop-blur-sm ${\r\n        openNavigation ? \"bg-n-8\" : \"bg-n-8/90 backdrop-blur-sm\"\r\n      }`}\r\n    >\r\n      <div className=\"flex items-center px-5 lg:px-7.5 xl:px-10 max-lg:py-4\">\r\n        {/* Logo linking to the home page */}\r\n        <Link to=\"/#hero\" className=\"block w-[12rem] xl:mr-8\">\r\n          <img src={brainwave} width={190} height={40} alt=\"Website\" />\r\n        </Link>\r\n\r\n        {/* Navigation menu */}\r\n        <nav\r\n          className={`${\r\n            openNavigation ? \"flex\" : \"hidden\"\r\n          } fixed top-[5rem] left-0 right-0 bottom-0 bg-n-8 lg:static lg:flex lg:justify-end lg:mx-auto lg:bg-transparent lg:mr-4`}\r\n        >\r\n          <ul className=\"relative z-2 flex flex-col items-center justify-center m-auto lg:flex-row\">\r\n            {/* Render each navigation item */}\r\n            {navigation.map((item) => (\r\n              <li key={item.id}>\r\n                <Link\r\n                  to={item.url}\r\n                  onClick={handleClick}\r\n                  className={`block relative font-code text-2xl uppercase transition-colors hover:text-color-1 ${\r\n                    item.onlyMobile ? \"lg:hidden\" : \"\"\r\n                  } px-6 py-6 md:py-8 lg:text-xs lg:font-semibold ${\r\n                    isActive(item.url)\r\n                      ? \"text-white\"\r\n                      : \"text-n-3 lg:text-n-1/50\"\r\n                  } lg:leading-5 lg:hover:text-n-1 xl:px-12`}\r\n                >\r\n                  {item.title}\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n\r\n          {/* Hamburger menu icon */}\r\n          <HamburgerMenu />\r\n        </nav>\r\n\r\n        {/* Hamburger menu button for mobile */}\r\n        <Button\r\n          className=\"ml-auto lg:hidden\"\r\n          px=\"px-3\"\r\n          onClick={toggleNavigation}\r\n        >\r\n          <MenuSvg openNavigation={openNavigation} />\r\n        </Button>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Footer from \"./Footer\";\r\nimport Header from \"./Header\";\r\n\r\nconst Layout = ({ children }) => {\r\n  return (\r\n    // Render the layout structure\r\n    <>\r\n      {/* Header component */}\r\n      <Header />\r\n      {/* Main content area with padding */}\r\n      <div style={{ padding: \"20px\" }}>{children}</div>\r\n      {/* Footer component */}\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { gradient } from \"../assets\";\r\nimport { lines } from \"../assets\";\r\n\r\nexport const GradientLight = () => {\r\n  return (\r\n    <section className=\"absolute top-0 left-1/4 w-full aspect-square bg-radial-gradient from-[#28206C] to-[#28206C]/0 to-70% pointer-events-none\" />\r\n  );\r\n};\r\n\r\nexport const CardBorder = () => {\r\n  return <section className=\"absolute inset-0 border-gradient-blue-red\" />;\r\n};\r\n\r\nexport const Gradient = () => {\r\n  return (\r\n    <section className=\"absolute top-[18.25rem] -left-[30.375rem] w-[56.625rem] opacity-60 mix-blend-color-dodge pointer-events-none\">\r\n      <section className=\"absolute top-1/2 left-1/2 w-[58.85rem] h-[58.85rem] -translate-x-3/4 -translate-y-1/2\">\r\n        <img\r\n          className=\"w-full\"\r\n          src={gradient}\r\n          width={942}\r\n          height={942}\r\n          alt=\"Gradient\"\r\n        />\r\n      </section>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport const LeftLine = () => {\r\n  return (\r\n    <section className=\"hidden lg:block absolute top-1/2 right-full w-[92.5rem] h-[11.0625rem] -translate-y-1/2 pointer-events-none\">\r\n      <img\r\n        className=\"w-full\"\r\n        src={lines}\r\n        width={1480}\r\n        height={177}\r\n        alt=\"Lines\"\r\n      />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport const RightLine = () => {\r\n  return (\r\n    <section className=\"hidden lg:block absolute top-1/2 left-full w-[92.5rem] h-[11.0625rem] -translate-y-1/2 -scale-x-100 pointer-events-none\">\r\n      <img\r\n        className=\"w-full\"\r\n        src={lines}\r\n        width={1480}\r\n        height={177}\r\n        alt=\"Lines\"\r\n      />\r\n    </section>\r\n  );\r\n};\r\n","import {\r\n  aboutpage,\r\n  artpage,\r\n  cardpage,\r\n  contentWire,\r\n  contentHigh,\r\n  designPage,\r\n  cardhigh,\r\n  heroPage,\r\n  wireframe,\r\n  sora,\r\n  source,\r\n  space,\r\n  gif1,\r\n  gif2,\r\n  red,\r\n  blue,\r\n  yellow,\r\n  purple,\r\n  theoryImage1,\r\n  theoryImage2,\r\n  theoryImage3,\r\n  theoryImage4,\r\n  theoryImage5,\r\n} from \"../assets\";\r\n\r\nexport const theorywork = [\r\n  {\r\n    id: \"0\",\r\n    title: \"Critical Analysis Essay on Net/Web Art: Twitch Plays Pokémon\",\r\n    date: \"May 2024\",\r\n    picture: null,\r\n    paragraphs: [\r\n      \"Twitch Plays Pokémon (TPP) stands as an innovative example of net/web art, showing the relationship between technology, interactivity, and collective creativity. This project started in 2014 where it redefined the boundaries of traditional gaming by using the power of the internet to allow thousands of users to simultaneously control a single game of Pokémon. Through its unique approach, TPP expands the meaning of gaming and evolved into a net/web art form that engages with people on conceptual, aesthetic, and technical levels. This essay aims to examine Twitch Plays Pokémon within the context of net/web art, exploring its innovative use of the internet as a medium for artistic expression.\",\r\n      \"First, we need to know what Twitch Plays Pokémon is. Twitch Plays Pokémon was when viewers could type commands in a chat box on the Twitch streaming service to control the game Pokémon. Each command was like a vote, and the game would do whatever command got the most votes. It was crazy and chaotic because there were so many people typing commands, the game became a chaotic but fascinating experience. Twitch Plays Pokémon began as an experiment by an anonymous programmer who combined a special program with a Pokémon game emulator. They did this because they wanted to see if they could make a game that thousands of people could play together at the same time.\",\r\n      \"Now we need to we why Twitch Plays Pokémon is a net/web art. Twitch Plays Pokémon represents net art through its innovative and collaborative approach to gameplay. The project, which allowed thousands of Twitch users to collectively control a single game of Pokémon through chat commands, is an indication of net art as NetSpecific describes 'Net art is an elusive and sometimes anarchic art form which uses the Internet as its primary material' (NetSpecific 2024)this applies to the chaotic yet captivating nature of the Twitch experiment, as it is harnessing the power of the internet and allowing for unpredictable nature of online interactions, Twitch Plays Pokémon uses the internet and Twitch as a canvas for communal expression. Furthermore, NetSpecific discusses how early net artists addressed the best ideals of the internet, which represents Twitch Plays Pokémon as it is used for the collective nostalgia and shared experiences of a generation that knows the Pokémon industry. Additionally, the concept of hacking, cloning, and copying (NetSpecific 2024) in net art highlights the unconventional gameplay mechanics of Twitch Plays Pokémon, where users change the game's mechanics in different ways, challenging traditional gaming conventions. Showing us that Twitch Plays Pokémon is a form of net art by uses the internet as a platform for collective creativity, social interaction, and exploration of digital culture.\",\r\n      \"Now that we know what it is we can start to analyse it. At its core, Twitch Plays Pokémon challenges the traditional relationship between player and game, as it is changing the dynamics of artistic creation and interactive experience. This is seen as it allows viewers to input commands through Twitch chat to control the game, which therefore also blurs the lines between player and spectator, taking apart the known concepts of authorship and control. This approach to gameplay encourages reflection on agency and the nature of interactive art within digital environments. This is because of what Mailloux explores in 'Convention and Context,' conventions not only shape artistic practices but also reflect shared understandings within communities. (Mailloux 1983) This means that our conventions and standards guide and mirror artistic expression and how people work. This form of collaborative gameplay experience of Twitch Plays Pokémon changes what we know, which highlights the connection between individual thinking and collective consciousness. Just as our conventions establish expectations, Twitch Plays Pokémon goes into an uncharted area of digital collaboration, as it is challenging conventional frameworks and making people reconsider their roles within artistic creation, though is an unconventional approach in its interaction.\",\r\n      \"Through its use of technology and interactivity, Twitch Plays Pokémon led us to the exploration of the concept of interactive art, offering insights into the evolving relationship between creators, participants, and digital mediums. As it is changing the relationship between artistic creation and engagement. This is seen as before creators had authorship and control over their works, with audiences just being a viewer. However, Twitch Plays Pokémon challenges these changes in our standard by empowering users to actively shape the outcome of the gaming experience through their collective inputs. This shift in agency blurs the distinction between creators and viewers, allowing for a collaborative and different approach to artistic expression.\",\r\n      \"Moreover, we can see how the project uses digital mediums, particularly Twitch, to allow for real-time interaction and collaboration on a scale. This shows us the transformative power of digital technology in changing artistic processes and making for greater inclusivity within creative communities. As users engage with the project through the digital interface, they not only contribute to the creation of art but also become an important part of the artistic experience. In this way, Twitch Plays Pokémon highlights the evolving role of digital mediums in shaping collaborative artistic works and changing the relationship between creators and users. By using the power of technology to allow collective creativity and interaction, we can see how it offers insights into the potential of digital platforms to change what we know about artistic expression and allow for meaningful engagement.\",\r\n      \"Another aspect we can investigate is from an aesthetic standpoint. This is because Twitch Plays Pokémon presents a dynamic visual through its unpredictability. This is seen as there were a lot of commands from the comment which resulted in unreliable gameplay, which led to chaos, frustration, and unexpected wins. This chaotic yet fascinating gameplay of the project is seen by Nathalie Lawhead's reflection on Flash's impact on digital aesthetics: 'Flash let us dream what we wanted the internet to look like.'( McNamara 2020) This highlights the transformative potential of technology to shape artistic expression, showing us how the aesthetic controlled by randomness not only challenges the standard we have for game design but also evokes some emotion in the art’s work.\",\r\n      \"Furthermore, through its chaotic and unpredictable gameplay, we can see how the use of users’ comments not only forms a narrative but also creates a digital collage, a piece of artwork created by the use of digital tools expressing the artist's style and intention, (McNamara 2020) which aligns with Lawhead's work as it is highlighting how different inputs can form a narrative, challenging our know standards of game design. Through its visuals, emotional gameplay, and elements of controlled randomness, Twitch Plays Pokémon passes traditional gaming aesthetics, offering viewers a unique immersive and emotional artistic experience. We can also analyse it from a technical perspective, as Twitch Plays Pokémon represents the use of technology to allow for collective interaction and collaboration, like the open-source tools discussed in Rea McNamara's article on Flash's legacy. (McNamara 2020) The project's integration of Twitch's chat with an emulator of the game interface represents a groundbreaking feature, which allowed for real-time communication and coordination among thousands of participants to control the game. The insight into preserving Flash-based works highlights the technical requirement for this project, as it emphasises the importance of open-source tools like Conifer in digital preservation. (McNamara 2020) This is seen in how Twitch Plays Pokémon shows the development of custom scripts and algorithms to interpret user commands to allow for real-time gameplay, showing its technical strengths. Through its use of Twitch and software tools, while also allowing it to transform the internet into an interactive artistic medium, changing the possibilities of digital collaboration and expression.\",\r\n      \"Furthermore, we can investigate how broader implications Twitch Plays Pokemon has on net/web art and digital culture.  Since it is one of the earliest net/web arts which uses large-scale, crowd-sourced gameplay, Twitch Plays Pokémon has inspired many projects and experiments just like, Twitch Plays Street Fighter or Twitch Plays Dark Souls, that explores the intersection of gaming, technology, and collective creativity. This project's approach to collaborative gameplay has sparked conversations and explorations across artistic communities, which is pushing the boundaries of what is possible in the digital realm of digital. This was highlighted in Mailloux's exploration of conventions and context, where he discusses how conventions not only shape artistic practices but also reflect shared understandings within communities. The unconventional approach of Twitch Plays Pokémon challenges known frameworks and makes people want to reconsider their roles within artistic creation, and the changing power of the internet to allow for more creative collaborations.\",\r\n      \"Furthermore, we can see how Twitch Plays Pokémon wants to change the potential of the internet, as we can see how online communities can collaborate to create art in different ways. As it allowed thousands of users from around the world to control the game, it highlights the transformative power of digital platforms by allowing for immersive and collaborative artistic experiences. This again highlights Lawhead's reflection on Flash's impact on digital aesthetics, where Flash was seen as a tool that allowed users to shape their own digital experiences. (McNamara 2020) This is the same as Twitch Plays Pokémon as it empowers users to actively contribute to the creation of art, blurring the lines between creators and viewers, while allowing for a sense of shared ownership over the artistic process. Showing how this project has the potential to change artistic expression and shape new boundaries of creative collaboration in the digital realm.\",\r\n      \"Moreover, we can see how Twitch Plays Pokémon show the importance of being net/web art, as it uses Twitch challenges and changes artistic expression. As the project continues to inspire new generations of artists, and gamers. It serves as a reminder of the endless possibilities of collective imagination and the power of technology has people around the world. Just as Twitch Plays Pokémon has left a mark on what net/web art is, it also means to me, that Pokémon was one of the first games that got me interested in gaming and wanting to develop my games and applications. Just seeing the collaborative and creative projects of Twitch Plays Pokémon inspired me to create interactive experiences that not only entertain but also bring people together, this just shows the power it has. We can now see how Twitch Plays Pokémon serves as both a tribute to gaming and to create meaningful and immersive digital experiences, showing how it has changed our idea for using the internet as a medium for artistic expression and experiences.\",\r\n      \"In conclusion, our examination of Twitch Plays Pokémon reveals its impact as an example of net/web art, fundamentally reshaping what we know of interactive digital experiences. By harnessing the collective creativity of thousands of users through real-time interaction on platforms like Twitch, the project challenges conventional standards of authorship and control, blurring the boundaries between creators and spectators. As we've explored its conceptual, aesthetic, and technical dimensions, it becomes evident that Twitch Plays Pokémon not only serves as a reflection of the transformative power of technology but also as a spark for changing the possibilities of collaborative artistic expression in the digital age. Twitch Plays Pokémon stands as a testament to the impact of innovative projects on shaping the future of artistic expression in the digital realm.\",\r\n    ],\r\n    Bibliography: [\r\n      \"• Stonksmaster. 2023. Medium. Unveiling the Art in Technical Analysis: More Than Just Lines on Charts. Online. https://medium.com/coinmonks/unveiling-the-art-in-technical-analysis-more-than-just-lines-on-charts-e7556dcea976. 2024-04-25\",\r\n      \"• Coyte, E. 2014. Memetic Drift. The Power of the Stream: An (over? )analysis of TwitchPlaysPokemon. Online. https://memeticdrifting.wordpress.com/2014/02/22/overanalysis-of-twitchplayspokemon/. 2024-04-25\",\r\n      \"• Araújo, S. 2010. Mute. Net art: operative tech in the art world. Online. https://www.metamute.org/community/your-posts/net-art-operative-tech-art-world. 2024-04-25\",\r\n      \"• NetSpecific. 2024. NetSpecific. What is net art? Online. https://netspecific.net/en/netspecific/what-is-net-art. 2024-04-25\",\r\n      \"• McNamara, R. 2020. Hyperallergic. RIP Adobe Flash: Five Takeaways About the Plug-in's Legacy in Net Art. Online. https://hyperallergic.com/609682/rip-adobe-flash-five-takeaways-about-the-plug-ins-legacy-in-net-art/. 2024-04-25\",\r\n      \"• Gintere, I. 2019. Society. Integration. Education. A new digital art game: the art of the future. Proceedings of the International Scientific Conference. Volume IV. Pp: 346-360.\",\r\n      \"• Mailloux, S. 1983. New Literary History. Convention and Context. Vol. 14. Pp: 399-407.\",\r\n      \"• Carrier, D. 2020. Hyperallergic. The Work of Art in the Age of the Internet. Online. https://hyperallergic.com/563938/the-work-of-art-in-the-age-of-the-internet/. 2024-04-25\",\r\n      \"• Danae. 2019. Medium. Net Art, Post-internet Art, New Aesthetics: The Fundamentals of Art on the Internet. Online. https://medium.com/danae/net-art-post-internet-art-new-aesthetics-the-fundamentals-of-art-on-the-internet-55dcbd9d6a5. 2024-04-25\",\r\n    ],\r\n    url: \"#essay\",\r\n  },\r\n  {\r\n    id: \"1\",\r\n    title: \"Art Research\",\r\n    date: \"May 2024\",\r\n    picture: [\r\n      theoryImage1,\r\n      theoryImage2,\r\n      theoryImage3,\r\n      theoryImage4,\r\n      theoryImage5,\r\n    ],\r\n    paragraphs: [\r\n      \"In the realm of digital art, the merging of technology and creativity offers unique opportunities to create immersive and interactive experiences. One compelling concept that is drawn to me is to create an interactive, dynamic artwork that visualizes the iconic image of Darth Vader or the Star Wars logo using binary numbers. This artwork will progressively reveal the image on a black screen as the binary numbers appear, forming the image in real time. This section outlines the development process in theory, strengths and weaknesses, and the theoretical groundwork necessary for creating this piece using React. Which should evoke a sense of digital transformation and homage to the classic sci-fi saga.\",\r\n      \"Description of Proposed Internet Artwork\",\r\n      \"My proposed Internet Artwork involves generating an image composed entirely of binary numbers. As the user opens the webpage, a black screen will be displayed. Gradually, binary numbers (0s and 1s) will appear in a sequence, forming the recognizable shape of Darth Vader or the Star Wars logo. The dynamic nature of this artwork aims to create an engaging experience by combining the aesthetic appeal of digital art with the interactive elements of web development. This effect will simulate the process of coding or digital creation, aligning with the futuristic and technological themes of Star Wars.\",\r\n      \"Furthermore, the animation will use React for its component-based architecture(), which is ideal for managing the dynamic updates and rendering required for the binary transformation effect. CSS animations and JavaScript will be employed to control the timing and appearance of the binary digits, creating a smooth and captivating visual experience.\",\r\n      \"How is this Internet/Web Art\",\r\n      \"My proposed project exemplifies Internet/Web Art by harnessing the unique capabilities of web technologies to create an interactive and immersive digital experience. (NetSpecific 2024) Unlike traditional art forms, this work leverages the dynamic nature of the internet and the interactivity of web applications, allowing users to engage directly with the artwork. The use of binary numbers to gradually reveal an image of Darth Vader or the Star Wars logo underscores the digital essence of the medium, (NetSpecific. 2024) emphasizing the transformation of data into visual art, while aligning with the theme of the website. This project not only showcases technical skills through the use of React for real-time rendering and state management but also creates a compelling narrative as the image comes to life, highlighting the merging of technology and art in the digital age. This web-based artwork will provide an inclusive platform for experiencing and interacting with the art.\",\r\n      \"Reference Material and Sources of Inspiration\",\r\n      \"1. Binary art involves creating images using only binary numbers (Os and 1s), reflecting the fundamental nature of digital data. This method emphasizes the digital essence of modern technology, aligning perfectly with the concept of Internet Art. (Yessios 2024) By using binary numbers, I can create intricate and meaningful visuals that highlight the underlying structure of digital information.\",\r\n      \"Artists like Casey Reas and Ben Fry have significantly influenced this field by exploring the intersection of art and code. (Ben 2024)  Their work provides a conceptual framework for creating dynamic visualizations using programming. Reas and Fry, co-creators of the Processing programming language, have pioneered methods for generating art through algorithms, which has opened up new possibilities for digital creativity. Their projects often involve transforming data into visual forms, creating a bridge between abstract code and tangible art.\",\r\n      \"In my project, the transformation of an image of Darth Vader or the Star Wars logo into a binary matrix involves converting each pixel into a binary value based on its grayscale intensity. This approach not only highlights the digital essence of the medium but also creates a visually striking effect as the image gradually appears from seemingly random sequences of binary digits.\",\r\n      \"2. Star Wars Imagery: The iconic images of Darth Vader and the Star Wars logo serve as the primary inspiration for the artwork. These symbols are universally recognized and evoke a strong emotional response from audiences.\",\r\n      \"3. Dynamic art installations involve artworks that evolve, often in response to user interaction or pre-defined algorithms. Joshua Davis, an artist in this field, creates algorithmic art that evolves, demonstrating how digital art can be both interactive and aesthetically pleasing. (Davis 2024) His works, which often involve complex patterns and evolving visuals, provide a conceptual foundation for my project.\",\r\n      \"Davis's approach to art emphasizes the potential of algorithms to generate intricate and ever-changing patterns. My project draws inspiration from his methodology by using React to manage the state and rendering of binary numbers dynamically. As the binary digits appear in sequence, they gradually form a coherent image, engaging the viewer and creating a sense of anticipation and discovery.\",\r\n      \"Collation of Materials and Sources of Inspiration\",\r\n      \"To begin, I have gathered various images of Darth Vader and the Star Wars logo to serve as templates for the binary transformation. Additionally, I have explored numerous examples of binary art to understand different techniques and styles. Studying dynamic art installations has provided insights into how to create an engaging user experience.\",\r\n      \"- Images: High-resolution images of Darth Vader and the Star Wars logo will be used as references for creating the binary representations.\",\r\n      \"- Binary Conversion Tools: Online tools and algorithms for converting images to binary data will be explored to automate the creation of the binary matrix that represents the image. There are a large amount of them but I will have to explore different ones to find one that best helps my process. \",\r\n      \"- React Components and Libraries: React libraries like React Spring (for animations) and Styled Components (for CSS-in-JS styling) will be considered to streamline the development process.\",\r\n      \"Technical Concerns and Algorithmic Solutions\",\r\n      \"1. Image Conversion to Binary\",\r\n      \"The process of converting an image of Darth Vader or the Star Wars logo into binary form is multifaceted and requires intricate handling of pixel data. At its core, this transformation involves mapping each pixel's grayscale intensity to a binary value. Here we will break down the steps involved in the process of creating my artwork:\",\r\n      \"- Image Loading: Initially, my chosen image needs to be loaded into the application. This is done by using JavaScript's `Image` object. Once it is loaded, the image is ready for processing.\",\r\n      \"- Grayscale Conversion: Before converting to binary, the image is converted to grayscale. Grayscale images simplify the binary conversion process by reducing the colour complexity to a single intensity value per pixel. This simplification aids in maintaining the integrity of the original image while aiding in the binary conversion.\",\r\n      \"- Binary Mapping: Each pixel in the grayscale image is then mapped to a binary value based on its intensity. This mapping typically involves setting a threshold intensity value. Pixels with intensity values above the threshold are assigned a binary value of 1, while those below are assigned a value of 0. This process effectively converts the grayscale image into a binary matrix, where each element represents a binary digit (0 or 1).\",\r\n      \"- Data Representation: The resulting binary matrix serves as the foundational data structure for rendering the image dynamically. Each binary digit corresponds to a pixel in the original image, forming the basis for the gradual reveal mechanism in the artwork.\",\r\n      \"2. Rendering Binary Numbers\",\r\n      \"Rendering the binary numbers in a manner that gradually reveals the image requires a combination of careful planning and rendering techniques, particularly as it is going to be implemented in a React environment.\",\r\n      \"- State Management: React's state management play a pivotal role in controlling the appearance of each binary digit dynamically. A component's state can be used to track the progression of the binary reveal process, ensuring that each digit is displayed at the appropriate time.\",\r\n      \"- Conditional Rendering: Leveraging conditional rendering techniques, binary digits are displayed based on the current state of the reveal process. As the reveal progresses, additional binary digits are rendered, gradually unveiling the underlying image.\",\r\n      \"- Animation Effects: To enhance the visual appeal and user experience, animation effects will be applied to the binary reveal process. So there will be smooth transitions between binary digits, such as fade-ins or sliding effects, creating a captivating viewing experience.\",\r\n      \"- Performance Optimization: This does have a lot of a large number of binary digits to render, so optimizing performance is important. So I did research and found that techniques such as memoization, batching updates, and asynchronous rendering can help minimize rendering overhead, ensuring smooth and efficient operation even on devices with limited resources.\",\r\n      \"- Responsive Design: The rendering process should be adaptable to various screen sizes and resolutions, ensuring a consistent experience across different devices. Responsive design principles can be applied to accommodate a wide range of viewing contexts, from desktop monitors to mobile devices.\",\r\n      \"Strengths and Weaknesses\",\r\n      \"Strengths:\",\r\n      \"1. Engagement\",\r\n      \"The interactive nature of this artwork significantly enhances audience engagement. As it is gradually revealing an image through the appearance of binary numbers, viewers are drawn into a dynamic process that unfolds over time. This method creates anticipation and curiosity, as the viewer actively waits for the discovery of the final image. The gradual reveal gets the viewer’s attention, maintaining their attention and making the experience memorable. The use of interaction transforms viewers from passive observers into active participants, deepening their connection to the artwork.\",\r\n      \"2. Innovation\",\r\n      \"Combining binary art with dynamic rendering techniques highlights the innovative potential of Internet Art. Binary art, which inherently reflects the digital nature of modern technology, becomes even more compelling when paired with real-time, interactive elements. This project shows how traditional concepts like pixel art can be reimagined through contemporary digital frameworks. By using React to manage the dynamic rendering process, the artwork not only displays technical skill but also pushes the boundaries of how digital art can be experienced and appreciated.\",\r\n      \"Weaknesses:\",\r\n      \"1. Complexity\",\r\n      \"This artwork involves complex image processing and state management, which can pose significant challenges during implementation. Converting an image to a binary matrix requires a thorough understanding of image processing techniques, including grayscale conversion and thresholding. Additionally, managing the dynamic rendering of binary digits in React demands careful handling of the state to ensure smooth updates and transitions.\",\r\n      \"2. Performance Issues\",\r\n      \"Ensuring smooth performance across different devices and browsers is crucial for providing a seamless user experience. The dynamic nature of the artwork, which involves rendering thousands of binary digits in real time, can strain computational resources, especially on lower-end devices. Performance optimization techniques, such as efficient state management, memoization, and minimizing DOM manipulations, are essential but challenging. Any lag or stutter during the reveal process can detract from the immersive experience, highlighting the importance of rigorous performance testing and optimization.\",\r\n      \"Creating an Internet Artwork that visualizes Darth Vader or the Star Wars logo using binary numbers is an ambitious and innovative project, but it challenges me to further my skills while learning to do something new. I want to create a dynamic, engaging user experience that blends digital art with interactive web development. My research has helped form a solid foundation for this artwork. While the project presents challenges, its potential to captivate and inspire makes it worthwhile.\",\r\n    ],\r\n    Bibliography: [\r\n      \"• How to display binary data as an image in React?- Luke Chaffey 2023. Youtube. 8 Jul 2023. viewed 20 May 2024. < https://www.youtube.com/watch?v=m0XakdubiGk>. \",\r\n      \"• How to upload images as binary – CoderDmitri 2022. Youtube. 15 Dec 2022. Viewed 20 May 2024. < https://www.youtube.com/watch?v=mbcofpC08Ug>\",\r\n      \"• Arigbanla, O. 2021. Medium. How to store an image in a database with React using Base 64. Online. https://medium.com/nerd-for-tech/how-to-store-an-image-to-a-database-with-react-using-base-64-9d53147f6c4f.\",\r\n      \"• Davis, J. 2024. SKILLShare. Teachings. Online. https://www.skillshare.com/en/user/joshuadavis. \",\r\n      \"• Processing Foundation. 2018. Medium. A Modern Prometheus. Online. https://medium.com/processing-foundation/a-modern-prometheus-59aed94abe85. \",\r\n      \"• Reas, C. 2024. His Website. Online. https://reas.com. \",\r\n      \"• MIT. 2024. Arts Center For Art, Science & Technology At MIT. Online. https://arts.mit.edu/cast/symposia/being-material/participants/casey-reas/. \",\r\n      \"• Araújo, S. 2010. Mute. Net art: operative tech in the art world. Online. https://www.metamute.org/community/your-posts/net-art-operative-tech-art-world. \",\r\n      \"• NetSpecific. 2024. NetSpecific. What is net art? Online. https://netspecific.net/en/netspecific/what-is-net-art. \",\r\n      \"• Yessios, Y. 2024. Yianni Yessios: Creative Technologist. Binary Art. Online. https://yessios.com/binary-art/#:~:text=Binary%20Art%20is%20an%20exploration,simulation%20of%20the%20physical%20world.\",\r\n    ],\r\n    url: \"#artresearch\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"Dev Blog\",\r\n    date: \"June 2024\",\r\n    paragraphs: [\r\n      \"Reconnecting and Reflecting on Internet Art\",\r\n      \"Getting Back to Work and Exploring React\",\r\n      \"This week marked my return to work after the holiday break. During my time off, I took the opportunity to build my portfolio website using React. This experience gave me a head start in creating a React website for our exercises. While I found the process straightforward due to my prior experience, I encountered some challenges, particularly with pushing my project to GitHub Pages. This obstacle provided a valuable learning opportunity and highlighted areas for improvement in my workflow.\",\r\n      \"Understanding Internet Art Through 'The Work of Art in the Age of the Internet'\",\r\n      \"A significant portion of this week was dedicated to understanding the concept of internet art, guided by the insightful reading, 'The Work of Art in the Age of the Internet.' This draws parallels between Walter Benjamin's 'The Work of Art in the Age of Mechanical Reproduction' and the digital landscape, offering an analysis of how technology influences art today.\",\r\n      \"Key Points and Their Significance\",\r\n      \"Transformation of Art’s Aura and Value\",\r\n      \"- Benjamin's Concept: Walter Benjamin argued that mechanical reproduction diminishes the unique 'aura' of an artwork, this shows us how it is making it more about the copy than the original.\",\r\n      \"2. New Visual Art Forms\",\r\n      \"- Film as a New Medium: Just as cinema introduced dynamic techniques that change art, the internet has birthed new interactive, digital art forms, fostering accessibility and innovation.\",\r\n      \"3. Changes in Art Display and Criticism\",\r\n      \"- Traditional Galleries: Despite centuries of change, galleries now face the challenge of staying relevant in an increasingly digital world. This is because of online exhibitions, as the pandemic has accelerated the shift to virtual galleries, enhancing accessibility but also exposing us to more art without needing to go and see it.\",\r\n      \"'The Work of Art in the Age of the Internet' offers a compelling exploration of how technological advancements continue to reshape art creation. it underscores the ongoing transformation of arts and its impact on the world. This week has deepened my understanding of internet art, providing a foundation for further exploration and creation in the digital realm\",\r\n    ],\r\n    picture: null,\r\n    Bibliography: [\r\n      \"•\tD, Carrier. 2020. The Work of Art in the Age of the Internet. Online. https://ulwazi.wits.ac.za/courses/56653/files/6136702?wrap=1. \",\r\n    ],\r\n    url: \"#devblog1\",\r\n  },\r\n  {\r\n    id: \"3\",\r\n    title: \"Dev Blog\",\r\n    date: \"June 2024\",\r\n    paragraphs: [\r\n      \"Overview\",\r\n      \"This week, our exercises focused on building foundational skills in React, including state management with hooks, data fetching and clean-up, and dynamic routing. Each exercise provided practical insights into how these concepts can be applied in real-world scenarios, preparing us for more complex projects.\",\r\n      \"Exercise 1: To-Do List App\",\r\n      \"Objective: Create a To-Do List application that allows users to add items, mark them as completed, and visually differentiate completed items.\",\r\n      \"Key Learnings from Exercise 1:\",\r\n      \"1. State Management with useState: This exercise reinforced the importance of state management in React. By using the `state` hook, I learned how to manage and update the state of the to-do list dynamically.\",\r\n      \"2. Event Handling: Implementing functions to handle the submission of new to-dos and the marking of items as completed helped me understand event handling in React.\",\r\n      \"3. Conditional Rendering: Applying conditional rendering to visually indicate completed items taught me how to dynamically change the appearance of components based on their state.\",\r\n      \"Exercise 2: Fetching Data on Component Mount and Clean-Up\",\r\n      \"Objective: Implement a component that fetches data from an API when mounted and cleans up properly if unmounted before the data loads.\",\r\n      \"Key Learnings From Exercise 2:\",\r\n      \"1. Data Fetching with useEffect: Using the `useEffect` hook to perform side effects like data fetching when a component mounts was crucial. This exercise highlighted the lifecycle of React components and how to handle side effects.\",\r\n      \"2. AbortController for Clean-Up: Understanding how to use `AbortController` to cancel an ongoing fetch request if the component unmounts were vital.\",\r\n      \"3. Error Handling: Incorporating error handling in the fetch logic taught me the importance of making applications resilient to failures.\",\r\n      \"Exercise 3: Nested Routing and URL Parameters\",\r\n      \"Objective: Create a React application for a blog that uses nested routes and URL parameters to display individual blog posts.\",\r\n      \"Key Learnings from Exercise 3:\",\r\n      \"1. Dynamic Routing with React Router: Implementing dynamic routing and nested routes using React Router was a major takeaway. Understanding how to create routes that depend on URL parameters allows for more dynamic and user-friendly web applications.\",\r\n      \"2. useParams Hook: Using the `useParams` hook to extract parameters from the URL demonstrated how to access and use dynamic values in route components, which is essential for developing applications that require detailed page views based on user interaction.\",\r\n      \"3. Component Composition: Learning how to compose components to create nested routes emphasized the modular nature of React and the importance of component reuse and organization.\",\r\n      \"This week's exercises were instrumental in deepening my understanding of key React concepts such as state management, side effects with hooks, and dynamic routing. Each exercise provided practical, hands-on experience that will directly apply to future assignments and projects. In particular, the knowledge gained from Exercise 3 about routing and URL parameters will benefit upcoming tasks involving creating detailed, interactive web pages.\",\r\n    ],\r\n    picture: null,\r\n    Bibliography: null,\r\n    url: \"#devblog2\",\r\n  },\r\n  {\r\n    id: \"4\",\r\n    title: \"Dev Blog\",\r\n    date: \"June 2024\",\r\n    paragraphs: [\r\n      \"This week, I embarked on the journey of creating my website. Initially, I was uncertain about the theme, but I had a clear vision for the layout thanks to the wireframes I designed earlier in the semester. With these wireframes as my guide, I began building the basic structure of my website without committing to a specific theme. This approach allowed me to focus on the essential elements first, such as creating a blank hero section and defining areas for content.\",\r\n      \"As I progressed, I knew it was time to decide on a theme. My first thought was to use a Pokémon theme, inspired by my previous essay on Twitch Plays Pokémon. However, despite my fondness for Pokémon, the theme didn't excite me as much as I hoped. I needed something more captivating. \",\r\n      \"I then considered a Star Wars theme, which piqued my interest significantly more. I discovered a robust API that provides extensive information about Star Wars, which fuelled my enthusiasm for the theme. With renewed energy, I started integrating the Star Wars theme into my wireframes, bringing my website to life. The basic structure was already in place, so adapting the colour scheme and overall design to fit the Star Wars theme was straightforward.\",\r\n      \"Utilizing the API, I decided to feature Star Wars films on my website. Although the API didn't include images, I resolved to display the synopsis of each film alongside images I sourced myself. This approach allowed me to maintain a visually appealing and informative presentation. By the end of the week, I had nearly completed the website, with only the hero section left to finalize.\",\r\n      \"Art Concept:\",\r\n      \"For my art project, I aim to create a game inspired by the concept of Twitch Plays Pokémon. My goal is to design a simple game where website visitors can control a character collaboratively. This project will combine my interests in gaming and interactive web design, offering a unique and engaging experience for users.\",\r\n      \"Thoughts on the Reading\",\r\n      \"Art, Creativity, and the Potential of Artificial Intelligence: GANs and Beyond\",\r\n      \"The reading delves into the fascinating intersection of art and artificial intelligence (AI), with a particular focus on Generative Adversarial Networks (GANs) and Creative Adversarial Networks (CANs). It explores how AI can serve both as a generative and creative tool in the art-making process, showcasing significant projects and experiments in this field.\",\r\n      \"1. Generative Adversarial Networks (GANs):\",\r\n      \"- GANs represent an advancement in AI art, as it is enabling machines to learn aesthetic principles from a dataset of images and generate new, surprising outputs. The creative process with GANs involves pre-curation (selecting input images), algorithmic generation, and post-curation (selecting the best outputs), highlighting the collaborative nature of AI art. This shows us how AI with art is progressing as it can produce something which we want just based on the image or data set we provide it.\",\r\n      \"2. Creative Adversarial Networks (CANs):\",\r\n      \"- CANs push the boundaries of machine creativity beyond our imagination. As it balances adherence to aesthetic norms from our known styles, CANs shows us innovation, as it draws from psychological theories of creativity, which allows for a way for artists to evolve their styles by breaking away from previous artistic conventions.\",\r\n      \"3. Conceptual Art and the Role of the Artist:\",\r\n      \"- The comparison with conceptual art emphasizes that the creativity in AI art resides not just in the final output but in the conceptual and algorithmic framework designed by the artist. This aligns AI art with conceptual art principles, where the idea and process take precedence over the physical artefact.\",\r\n      \"4. AI as a Creative Partner:\",\r\n      \"- The reading advocates for viewing AI as a creative partner rather than merely a tool, enabling new forms of artistic expression and challenging traditional notions of authorship and creativity. AI's role in art creation is likened to a medium with its own set of tools, limitations, and possibilities, much like painting or photography.\",\r\n      \"The Importance of Understanding Internet Art\",\r\n      \"1. Expanding the Definition of Art:\",\r\n      \"- AI art, particularly through GANs and CANs, challenges and expands my definition of art, as it makes you reevaluation creativity and artistic intention in the digital age. This is crucial for understanding internet art, as it blurs the lines between human and machine-generated content and embraces new technologies in creation and dissemination.\",\r\n      \"2. Innovative Artistic Practices:\",\r\n      \"- As we can see now the use of AI in art introduces innovative practices unique to the digital realm, as the potential of the internet as a platform for creative experimentation and distribution. Artists working with AI explore new aesthetic territories, generating works that might be impossible to conceive through traditional methods alone.\",\r\n      \"In summary, from the reading and how I viewed it the overview of AI's potential in art creation, emphasizing its conceptual and aesthetic, shows us how understanding AI art is crucial for grasping the broader landscape of internet art, as it exemplifies the integration of technology and creativity in the digital age.\",\r\n    ],\r\n    picture: null,\r\n    Bibliography: [\r\n      \"•\tM, Mazzone & A, Elgammal. 2024. Art, Creativity, and the Potential of Artificial Intelligence. Online. https://ulwazi.wits.ac.za/courses/56653/pages/ai-and-art?module_item_id=631036. \",\r\n    ],\r\n    url: \"#devblog3\",\r\n  },\r\n  {\r\n    id: \"5\",\r\n    title: \"Exam Art Research\",\r\n    date: \"June 2024\",\r\n    paragraphs: [\r\n      \"After some more research my proposed internet artwork is an interactive web-based project that translates a greyscale image into a binary string representation and then displays this binary data as a dynamic visual experience. The essence of the project is to explore the conversion of visual data into binary form, emphasizing the foundational digital nature of computer imagery. This transformation not only reveals the underlying structure of digital images but also provides a canvas for creating visually engaging patterns through binary representation.\",\r\n      \"How is this Internet/Web Art?\",\r\n      \"My Art work would be  classified as internet/web art because:\",\r\n      \"1. Digital Nature: The artwork leverages digital data representation, as the binary code represent technology as and presentation through this manner forms art.\",\r\n      \"2. Interactivity: The users will be able to interact with the artwork through their web browsers, initiating the transformation and animation processes, which creates a dynamic and engaging experience.\",\r\n      \"Reference Material and Sources of Inspiration\",\r\n      \"Image Processing Techniques\",\r\n      \"The transformation from image to binary involves techniques, this was the best one i found for image processing:\",\r\n      \"- Greyscale Conversion: I will be converting an image to greyscale, which simplifies the data by reducing it to a single intensity channel. This step is seen by the image processing concepts covered in resources like the [Matlab Image Processing Toolbox](https://www.geeksforgeeks.org/matlab-converting-a-grayscale-image-to-binary-image-using-thresholding/).\",\r\n      \"- Binarization: The method is used is for converting greyscale images to binary using a threshold value is a classic technique.\",\r\n      \"Library Documentation\",\r\n      \"- image-js Library: The [image-js](https://www.npmjs.com/package/image-js) library was pivotal in my artwork. As it provided utilities for loading images and manipulating pixel data. The library’s documentation and examples were instrumental in understanding how to perform image operations in JavaScript.\",\r\n      \"- React Framework: React's [official documentation](https://reactjs.org/docs/getting-started.html) guided the development of the user interface, particularly in managing state and rendering components dynamically.\",\r\n      \"Web Development and Animation\",\r\n      \"- Responsive Design: I had to make sure  the artwork adapts to different screen sizes involved techniques from responsive web design, as described in resources like the Mozilla Developer Network (MDN).\",\r\n      \"- CSS Animation: Inspiration for animating the display of binary data was drawn from various CSS animation tutorials and examples, demonstrating how to create smooth, visually appealing transitions and effects.\",\r\n      \"Technical Concerns and Algorithmic Solutions\",\r\n      \"Image Conversion to Binary\",\r\n      \"The conversion process:\",\r\n      \"1. Image Loading: The image is loaded from a specified path using the `Image.load` function from `image-js`, which handles various image formats and prepares the data for processing.\",\r\n      \"2. Greyscale Conversion: Using the `.grey()` method, the loaded image is transformed into a greyscale version, reducing complexity by focusing on intensity values.\",\r\n      \"3. Threshold Calculation: A threshold value, typically half the maximum pixel value, is determined to differentiate between black and white pixels.\",\r\n      \"4. Binary String Construction: The image is processed pixel by pixel. For each pixel, its intensity is compared to the threshold to determine if it should be represented as '0' or '1'. These values are concatenated into a string, with each row of pixels ending in a newline character for proper formatting.\",\r\n      \"Dynamic Display and Animation\",\r\n      \"1. State Management: React's `useState` and `useEffect` hooks manage the state of the binary data and control when the animation starts. This is to ensures the data is only processed and displayed when necessary.\",\r\n      \"2. Responsive Scaling: The artwork's dimensions are calculated based on the viewport size. The scale factor is dynamically adjusted to fit the binary data within the space.\",\r\n      \"3. Character Styling: Each character ('0' or '1') in the binary string is styled using inline CSS. Each binary value will then be are coloured differently (e.g., '0' as white and '1' as yellow) to enhance visual contrast and readability.\",\r\n      \"4. Animation Sequence: The binary data is displayed line by line with a delay, creating a scrolling effect that animates the appearance of the binary art. This sequence is managed through CSS transitions and JavaScript timing functions.\",\r\n      \"Strengths and Weaknesses\",\r\n      \"Strengths\",\r\n      \"1. Engaging Interactivity: This is because the users actively participate by triggering the transformation and animation, making the experience more engaging.\",\r\n      \"2. Visual Impact: The binary representation of images creates striking visual patterns that can be both aesthetically pleasing and thought-provoking.\",\r\n      \"Weaknesses\",\r\n      \"1. Performance Limitations: When processing large images it can be resource-intensive, potentially causing delays or crashes on less powerful devices.\",\r\n      \"2. Browser Compatibility: I have to make sure that there is consistent performance and appearance across different browsers and devices, which will requires testing and potential code adjustments.\",\r\n      \"Collation of Materials and Sources of Inspiration\",\r\n      \"1. Technical Documentation: The [image-js](https://www.npmjs.com/package/image-js) library documentation is essential for understanding image loading and processing functions.\",\r\n      \"2. React Framework: The [React documentation](https://reactjs.org/docs/getting-started.html) provides the foundation for building the interactive web application.\",\r\n      \"3. Web Design Principles: These resources on responsive design and CSS animations, such as the MDN Web Docs, guided the creation of a visually adaptable and dynamic user interface.\",\r\n      \"4. Educational Resources: Tutorials and articles on image processing, such as those from GeeksforGeeks and other platforms, helped in refining the algorithmic approach to image conversion and binary representation.\",\r\n      \"My proposed internet artwork merges image processing with interactive web design to create a unique and engaging visual experience. By converting images into binary representations and animating their display, it should highlights the digital nature of visual data. Leveraging modern web technologies, the artwork provides a visually striking piece, showing how the concepts in digital imagery and data representation. My artwork will show the potential of web-based art to explore and visualize the intersection of technology and creativity.\",\r\n    ],\r\n    picture: null,\r\n    Bibliography: [\r\n      \"1. image-js Documentation:\",\r\n      \"- image-js. 'image-js Documentation.' NPM, [https://www.npmjs.com/package/image-js](https://www.npmjs.com/package/image-js).\",\r\n      \"- image-js. 'image-js GitHub Page.' GitHub, [https://image-js.github.io/image-js/](https://image-js.github.io/image-js/).\",\r\n      \"2. React Documentation:\",\r\n      \"- React. 'Getting Started – React.' React, [https://reactjs.org/docs/getting-started.html](https://reactjs.org/docs/getting-started.html).\",\r\n      \"3. Image Processing Techniques:\",\r\n      \"- GeeksforGeeks. 'MATLAB | Converting a Grayscale Image to Binary Image using Thresholding.' GeeksforGeeks, [https://www.geeksforgeeks.org/matlab-converting-a-grayscale-image-to-binary-image-using-thresholding/](https://www.geeksforgeeks.org/matlab-converting-a-grayscale-image-to-binary-image-using-thresholding/).\",\r\n      \"4. Web Design and Animation:\",\r\n      \"- Mozilla Developer Network (MDN). 'Responsive Design.' MDN Web Docs, [https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Responsive_Design](https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Responsive_Design).\",\r\n      \"- Mozilla Developer Network (MDN). 'Using CSS animations.' MDN Web Docs, [https://developer.mozilla.org/enUS/docs/Web/CSS/CSS_Animations/Using_CSS_animations](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations).\",\r\n    ],\r\n    url: \"#examart\",\r\n  },\r\n];\r\n\r\nexport const design = [\r\n  {\r\n    id: \"0\",\r\n    title: \"Wireframes\",\r\n    date: \"May 2024\",\r\n    picture: [\r\n      wireframe,\r\n      cardpage,\r\n      contentWire,\r\n      heroPage,\r\n      aboutpage,\r\n      designPage,\r\n      contentHigh,\r\n      cardhigh,\r\n      artpage,\r\n    ],\r\n\r\n    content: [\r\n      \"The creation of this website began with a different approach compared to traditional methods. Instead of starting with sketches and selecting the most appealing ones, I explored various websites for inspiration, including notable ones like Apple's. This research phase provided a solid foundation of ideas and concepts.\",\r\n      \"With these insights, I moved on to Figma to develop wireframes, focusing on the key ideas that stood out to me. My goal was to reuse components effectively, so I concentrated mainly on the homepage. I was particularly inspired by Netflix's design, where pages smoothly transition with the previous one still visible in the background, creating a seamless and engaging user experience. These wireframes represent a rough draft of this concept.\",\r\n      \"To refine my ideas further, I utilized Visily to create more detailed renderings of each section of the homepage. Although I couldn't implement all the effects I envisioned, this step allowed me to better visualize the overall look and feel of the website. It provided a clearer sense of the design direction and the interactive elements I aim to incorporate.\",\r\n      \"Note: I didn’t put any Header/Footer on them as these components that are easily add and changeable and I want to focus on my concept.\",\r\n    ],\r\n    url: \"#wireframes\",\r\n  },\r\n  {\r\n    id: \"1\",\r\n    title: \"Style Guide\",\r\n    date: \"May 2024\",\r\n    picture: [space, sora, source, red, blue, yellow, purple],\r\n    content: [\r\n      \"When creating a compelling and user-friendly website, there must be a detailed consideration of various design elements, including colour, layout, typography, and other significant design decisions. In my style guide, we will delve deeply into these aspects, defending each choice, evaluating its impact, and reflecting on it to inform the design. It also considers the strengths and weaknesses of these decisions, relating them to relevant theories and research in interactive media design.\",\r\n      \"Colour Scheme\",\r\n      \"Reflection and Defence:\",\r\n      \"My chosen colour palette includes the colours purple, yellow, red, green, and blue. This is a vibrant and diverse palette, which I selected based on colour psychology principles. As each colour has a certain representation of them. Purple is associated with creativity and luxury, making it an excellent choice for creating a sense of sophistication. Yellow evokes feelings of warmth and optimism, essential for engaging users positively. Red captures attention and can create a sense of urgency, useful for call-to-action buttons. Green is calming and symbolizes growth, ideal for content related to progress or success. Blue conveys trust and stability, reinforcing the reliability of the website.\",\r\n      \"Evaluation:\",\r\n      \"These colour choices aim to create an emotional connection with users, which therefore enhances their experience and encourages interaction. The gradient effects add depth and dimension, making the design more engaging. However, balancing these vibrant colours to ensure readability and accessibility is a challenge. Careful attention was given to contrast ratios to ensure the text was legible against the backgrounds.\",\r\n      \"Layout and Structure\",\r\n      \"Reflection and Defence:\",\r\n      \"The layout follows a clean, minimalist design philosophy, with strategically placed visual elements like curves, circles, and lines. This design approach ensures that the content remains the focal point while the decorative elements enhance the overall aesthetic without overwhelming the user. The layout prioritizes ease of navigation, with a clear hierarchy that guides users through my website.\",\r\n      \"Evaluation:\",\r\n      \"The minimalist design is based on the principle of ‘less is more,’ reducing clutter and focusing on essential elements. This approach helps users navigate the site more efficiently, improving the overall user experience. The use of geometric shapes and smooth curves adds a modern touch, making the site feel contemporary and stylish. However, with the minimalist style, there is a risk of the site feeling too empty if the minimalist approach is overdone, which I avoided by adding interactive elements and dynamic content, this is seen through the hero section of the website. As an example seen in the website is how the planets move in the mouse direction.\",\r\n      \"Typography\",\r\n      \"Reflection and Defence:\",\r\n      \"The typography of my website includes Sora for body text, Source Code Pro, and Space Grotesk for headings and highlights. Sora was chosen for its clean, modern appearance and excellent readability, making it suitable for large blocks of text. Source Code Pro, a monospace font, adds a technical feel and is perfect for displaying technical details. Space Grotesk, with its unique and trendy look, is used for headings and highlights to draw attention and add character to the design.\",\r\n      \"Evaluation:\",\r\n      \"The combination of these fonts ensures clarity and readability across different devices and screen sizes. Sans-serif fonts like Sora and Space Grotesk are ideal for digital use, providing a clean and straightforward reading experience. The inclusion of a monospace font like Source Code Pro adds variety and is particularly useful for sections that require precision, for technical documentation. The challenge lies in maintaining consistency and readability across various font sizes and weights, which has been addressed through careful styling and testing.\",\r\n      \"Significant Design Decisions\",\r\n      \"Defending Decisions:\",\r\n      \"Each design decision, from the vibrant colour scheme to the layout and thoughtful typography, is backed by research and design theories. The use of gradients and modern visual elements aligns with contemporary design trends that emphasize depth and interaction, enhancing user engagement. The minimalist layout adheres to user-centred design principles, ensuring that users can easily navigate the site and find the information they need.\",\r\n      \"Analysing and Evaluating:\",\r\n      \"Incorporating all this into the design process was crucial for refining and improving my website as though adjustments to colour intensity, spacing, and font sizes were made to balance aesthetics and functionality. Technical decisions, such as using Tailwind CSS for streamlined styling, demonstrated efficiency in maintaining design consistency and ease of updates.\",\r\n      \"Strengths and Weaknesses\",\r\n      \"Strengths:\",\r\n      \"- Visual Appeal: The vibrant colour palette and modern design elements create an engaging and memorable user experience, making the site stand out.\",\r\n      \"- User-Friendly Layout: The minimalist design and intuitive navigation enhance usability, making it easy for users to find what they are looking for.\",\r\n      \"- Typography: The careful selection of fonts ensures readability and adds a unique character to the site, catering to different content types effectively.\",\r\n      \"Weaknesses:\",\r\n      \"- Colour Harmony: Balancing vibrant colours while maintaining readability can be challenging and requires continuous adjustment based on user feedback.\",\r\n      \"- Minimalism: While effective, there is a risk of the design feeling too empty if not balanced with engaging content and interactive elements.\",\r\n      \"The design decisions for my website reflect a comprehensive approach to creating an aesthetically pleasing, user-friendly, and modern interface. Each choice, from the vibrant colour scheme to the clean layout and thoughtful typography, is grounded in design theories, ensuring a cohesive and effective design. Continuous evaluation and refinement are essential to maintaining and improving the website's effectiveness. By embracing both the strengths and addressing the weaknesses, the design will continue to evolve, offering an optimal user experience and ensuring the site remains engaging and functional.\",\r\n      \"Note: I am still trying to figure out the transparent background, but for now i place an image behind the content that goes with the theme\",\r\n    ],\r\n    url: \"#style\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"UI & UX\",\r\n    date: \"May 2024\",\r\n    picture: null,\r\n    content: [\r\n      \"Creating an intuitive and engaging user interface (UI) and user experience (UX) for a website involves planning and application of design principles. This reflection explores the rationale behind the design decisions for my website's UI and UX, reflecting on the application of human-computer interaction (HCI) principles, the importance of clear communication, and how these elements contribute to the overall effectiveness of my website.\",\r\n      \"Colour Scheme and Visual Appeal:\",\r\n      \"The main colour scheme of my website features a vibrant colour scheme with a combination of purple, yellow, red, green, and blue. Purple is used as the dominant colour, creating a sense of creativity and luxury, which sets a welcoming tone for visitors. The secondary colours (yellow, red, green, and blue) are strategically used for call-to-action buttons and highlights, making important elements stand out without overwhelming the user.\",\r\n      \"Layout and Navigation:\",\r\n      \"The layout is minimalist, with a clear and uncluttered design that directs the user's focus to key areas. The navigation menu is prominently placed at the top, ensuring easy access to different sections of the site. This consistency across pages aids user orientation and reduces cognitive load.\",\r\n      \"Typography:\",\r\n      \"The home page uses Sora for body text, providing clarity and readability. Headings are in Space Grotesk, which adds a modern touch and hierarchy to the content. Source Code Pro, ensuring they are distinct and easily readable.\",\r\n      \"Interactive Elements:\",\r\n      \"Call-to-action buttons are designed with clear affordance, using a consistent style and colour to indicate interactivity. Hover effects such as the call to action buttons change colour, and provide immediate feedback, enhancing the user's understanding of clickable elements.\",\r\n      \"User Orientation and Clarity:\",\r\n      \"The website utilizes breadcrumbs to help users understand their location within the site. Each section is presented in a card layout with clear headings and concise descriptions, allowing users to quickly scan and identify relevant information.\",\r\n      \"Strengths and Weaknesses\",\r\n      \"Strengths:\",\r\n      \"- Engaging Visual Design: The vibrant colour scheme and modern layout attract and retain users' attention.\",\r\n      \"- User-Friendly Navigation: Clear and consistent navigation aids user orientation and reduces friction.\",\r\n      \"Weaknesses\",\r\n      \"- Colour Balance: Ensuring all colour combinations are accessible and readable can be challenging, requiring continuous testing and adjustment.\",\r\n      \"- Minimalism: While effective, it risks making the site feel too sparse if not balanced with engaging content and interactive elements.\",\r\n      \"Applying Principles of Human-Computer Interaction (HCI)\",\r\n      \"Human-Computer Interaction principles are fundamental to designing user-centric interfaces that enhance the user experience. Key HCI principles applied in the design include:\",\r\n      \"Consistency:\",\r\n      \"Consistency in design helps users predict and learn how to interact with the website quickly. This can be seen using uniform styles, colour schemes, and typography throughout my website. Consistent button styles, navigation menus, and feedback mechanisms ensure users can easily understand how to interact with different elements. I tried to keep the style similar throughout all pages so the user easily experiences how the website as there is little change throughout the website in style and use.\",\r\n      \"Feedback:\",\r\n      \"Providing immediate and clear feedback is crucial in HCI. Visual cues such as hover effects, and changes in pages help users understand the results of their actions. For instance, when a user clicks navigation like, it immediately takes them to that section which indicates that the action has been recognized and processed.\",\r\n      \"Affordance:\",\r\n      \"The design elements are crafted to suggest their functionality intuitively. For example, buttons are styled to look clickable, as seen in how each button has a gradient border around them and a hover effect showing it is interactable. This reduces the cognitive load on users, making interactions seamless and intuitive.\",\r\n      \"Visibility:\",\r\n      \"Important elements are made visible to guide users through the site. This includes prominent placement of navigation menus, call-to-action buttons, and important information. High visibility of key elements ensures that users can easily find what they need without unnecessary searching. This is seen in multiple aspects of my website firstly the navigation bar always remains at the top of the top so the user will be able to see and get to anywhere on the website. The next can be seen as each section with its typography making sure each header is clear so that the user knows where they are on the website.\",\r\n      \"The design of my website reflects a deep understanding of UI/UX principles and HCI, aimed at creating an engaging, intuitive, and user-friendly experience. By focusing on consistency, affordance, and visibility, the design ensures users can navigate the site efficiently and confidently. Clear communication about user location, actions, and next steps enhances usability and satisfaction. Continuous evaluation and analysis are important for my website to ensure that there are ongoing improvements so that the design evolves to meet user needs effectively. Balancing visual appeal with functionality, the design successfully creates an engaging and accessible online presence.\",\r\n    ],\r\n    url: \"#ui\",\r\n  },\r\n  {\r\n    id: \"3\",\r\n    title: \"Why Star Wars?\",\r\n    date: \"May 2024\",\r\n    picture: null,\r\n    content: [\r\n      \"The Star Wars franchise, with its rich lore, iconic characters, and visually stunning universe, provides a stepping stone for creating an immersive and engaging website theme. Applying a Star Wars theme to my website offers numerous advantages, from enhancing visual appeal to improving user experience (UX) and user interface (UI) design. This will explore why a Star Wars theme is an ideal fit for your website, examining how stylistic choices, UI elements, and UX principles synergize to create an exceptional online presence.\",\r\n      \"Visual Style and Aesthetics\",\r\n      \"Colour Scheme:\",\r\n      \"A Star Wars-themed website can leverage the large amount of distinctive colour palettes from the Star Wars universe to create a visually captivating environment. Using deep blacks and vibrant purples reminiscent of space and the galaxy, alongside iconic lightsaber hues (blue, green, and red), the website's colour scheme can evoke the grandeur and mystique of the Star Wars universe. The vibrant colours not only capture the essence of Star Wars but also help important elements stand out, ensuring critical actions and information are easily noticeable.\",\r\n      \"Typography:\",\r\n      \"The use of fonts that mimic Star Wars in a way, such as Sora for body text and Space Grotesk for headings, aligns perfectly with the futuristic and adventurous feel of the Star Wars universe. Additionally, Source Code Pro adds a technical and modern touch, which is important in showing the advanced technology in the Star Wars universe. This cohesive typography enhances readability while reinforcing the theme.\",\r\n      \"Imagery and Icons:\",\r\n      \"Incorporating iconic Star Wars imagery, such as symbols, items, and characters, adds a layer of immersion for fans. Custom icons styled to resemble Star Wars elements, such as lightsabres, or the Rebel Alliance and Galactic Empire symbols, can replace standard icons, making the UI more engaging and thematic, this is to further go into the Star Wars theme.\",\r\n      \"Layout and Navigation:\",\r\n      \"A Star Wars-themed layout can guide users through the site as if they are navigating a starship or a futuristic interface. The minimalist layout used can be enhanced with subtle animations and transitions inspired by spaceship control panels or holographic displays. Navigation elements styled like control buttons provide an intuitive and thematic way for users to explore the site.\",\r\n      \"Interactive Elements:\",\r\n      \"Interactive elements such as buttons, links, and hover effects can draw inspiration from Star Wars technology. For example, the hover effect on the buttons as the text changes colour, provides a clear affordance and immediate feedback. This not only makes interactions more enjoyable but also reinforces the theme.\",\r\n      \"Enhancing User Experience\",\r\n      \"Consistent Theme Integration:\",\r\n      \"I made sure that the Star Wars theme is consistently applied across all pages which therefore enhances the overall user experience. The consistent use of colour schemes, typography, imagery, and interactive elements helps users feel immersed in the Star Wars universe, making navigation seamless and intuitive. This consistency reduces cognitive load and enhances satisfaction.\",\r\n      \"Consistency:\",\r\n      \"Maintaining a consistent Star Wars theme throughout the site ensures users can easily learn and predict how to interact with different elements seen in how each button is styled the same way so the user knows they can click on it. This consistent styling of buttons, navigation menus, and feedback mechanisms creates a cohesive experience that aligns with HCI principles.\",\r\n      \"Adopting a Star Wars theme for my website not only enhances its visual appeal but also significantly improves UI and UX design. By leveraging the rich and iconic elements of the Star Wars universe, my website creates an immersive and engaging online experience that captivates users. Thematic consistency, intuitive navigation, and interactive elements inspired by Star Wars not only make my website visually appealing but also ensure it is user-friendly and memorable. Integrating HCI principles within this theme further enhances usability, making the Star Wars-themed website an ideal and effective choice for engaging the audience.\",\r\n    ],\r\n    url: \"#whystar\",\r\n  },\r\n  {\r\n    id: \"4\",\r\n    title: \"Changes\",\r\n    date: \"June 2024\",\r\n    picture: null,\r\n    content: [\r\n      \"Before:\",\r\n      \"- Inconsistent Behaviour: Some navbar links would take users directly to a new page, while others would bring up a modal on the homepage.\",\r\n      \"- User Confusion: Users might be confused or disoriented because clicking different links resulted in varying behaviours. This inconsistency can disrupt the user's mental model of how navigation should work.\",\r\n      \"After:\",\r\n      \"- Consistent Behaviour: All navbar links now lead to sections on the homepage, ensuring uniform navigation behaviour.\",\r\n      \"- Predictability: Users will always know what to expect when they click a link in the navbar, leading to a more predictable and user-friendly experience.\",\r\n      \"Enhanced User Experience (UX)\",\r\n      \"1. Reduced Cognitive Load:\",\r\n      \"- Consistency Reduces Effort: When navigation patterns are consistent, users don't have to remember different behaviours for different links. This reduces cognitive load and makes the site easier to use.\",\r\n      \"- Streamlined Learning Curve: New users can quickly learn how to navigate your site because the rules are always the same.\",\r\n      \"2. Centralized Navigation:\",\r\n      \"- Single Access Point: By consolidating navigation to the homepage, users have a central access point for all content. This can simplify navigation, especially for users returning to the site.\",\r\n      \"- Focal Point for Content: Users can explore different sections from a single location, making it easier to discover related content and reducing the need to switch contexts frequently.\",\r\n      \"3. Enhanced Engagement:\",\r\n      \"- Interactive Exploration: Having users navigate from the homepage can encourage more exploration. Users might discover additional content and features that they might have missed if taken directly to separate pages.\",\r\n      \"- Controlled Environment: The homepage serves as a controlled environment where you can guide user interaction through models and interactive elements.\",\r\n      \"Improved User Interface (UI)\",\r\n      \"1. Visual Consistency:\",\r\n      \"- Unified Design: By keeping users on the homepage, you maintain a consistent visual design and layout. This uniformity can enhance the overall aesthetic appeal of your site.\",\r\n      \"- Consistent Elements: Users will see the same header, footer, and other common elements, which helps in creating a cohesive visual experience.\",\r\n      \"2. Enhanced Modality:\",\r\n      \"- Contextual Modals: Since models appear on the homepage, they are seen in a familiar context. This can make modal interactions feel less intrusive and more integrated into the overall user experience.\",\r\n      \"- Focus Retention: Users remain on the homepage, which can help in maintaining their focus and reducing the disorientation that might come from abrupt page changes.\",\r\n      \"Practical Considerations\",\r\n      \"- Ease of Implementation: With all navigation leading to sections on the homepage, managing and updating your website's navigation structure becomes simpler. Changes can be made in one place rather than across multiple pages.\",\r\n      \"- Performance: Depending on your implementation, keeping users on a single page might improve performance by reducing the number of full page loads and server requests.\",\r\n      \"The changes you’ve made to your website’s navigation system offer numerous benefits in terms of UX and UI. By ensuring consistent navigation behaviour, reducing cognitive load, and enhancing the visual and interactive experience, you create a more user-friendly and engaging site. This approach not only improves usability but also helps in achieving a more polished and cohesive design.\",\r\n    ],\r\n    url: \"#changes\",\r\n  },\r\n  {\r\n    id: \"5\",\r\n    title: \"Style Guide of My Art\",\r\n    date: \"June 2024\",\r\n    picture: null,\r\n    content: [\r\n      \"The binary art representation of the Star Wars logo showcases a thoughtful approach to combining technology and creativity. This style guide will outline the key aspects of the design, execution, and presentation of this project, highlighting the reasons behind my chosen methodologies and the benefits they offer.\",\r\n      \"Firstly, I used the `image-js` library to convert an image to a binary string representation, this is because that library provides a range of image processing utilities, allowing for precise manipulation of the image data. By converting the image to greyscale before binarization, the code ensures that each pixel is brightened so there that each pixel is accurately assessed, simplifying the process of distinguishing between light and dark areas. This technique determines whether a pixel is represented as '0' or '1', which is a standard and effective method in image processing, ensuring clarity and consistency in the binary output.\",\r\n      \"The structure of the binary string, with newline characters separating rows, makes it straightforward to map this data into a visual format. This method not only preserves the integrity of the original image but also allows for easy manipulation and rendering in a web context.\",\r\n      \"I designed the binary art in a different project and placed it on my website, so I had to keep modularity and scalability in mind. So I used hooks such as `state` and `effect`, as these components manage state and side effects efficiently. The `start animation` state triggers the rendering process, ensuring that the art is only displayed when a button is clicked. This approach enhances performance by preventing unnecessary renders, while also allowing for some level of interactivity. \",\r\n      \"Since I did it in a different project/script than my original website I tried to focus on a dynamic scaling feature so I knew it would fit on my website even if I changed the size so the artwork would always fit in the box. This is done by calculating the required dimensions to fit the content within the viewport and adjusting the scale accordingly, This was to ensure that the art maintains its aspect ratio and fits optimally on any screen size. This responsiveness is crucial for web-based art, as it enhances user experience across different devices.\",\r\n      \"Stylistically, the use of colour to distinguish between '0' and '1' values adds a layer of visual appeal. Assigning white to '0' and yellow to '1' not only makes the binary data more readable but also introduces a striking contrast that highlights the intricate patterns formed by the binary code. This choice of colour can be easily modified but I chose these colours so they match the Star Wars theme and so they resemble the original image while still showing its binary art, showcasing the flexibility of the design.\",\r\n      \"The animation effect, which is done using CSS keyframes, adds a dynamic element to the artwork. The `float` animation gradually reveals each line of binary code, creating a sense of movement and anticipation. This effect not only enhances the visual impact but also engages viewers, making the experience of viewing the binary art more immersive. While also mimicking the Star Wars opening scene. As each line floats up it is a new piece of information. Which will all be revealed once it is complete.\",\r\n      \"Additionally, I used a styled components approach, so that the layout and design elements of my code remain clean and maintainable. By putting these style components in elements such as `Container`, `ArtBox`, `ScaleBox`, and `Line`, the design achieves a high level of organization and reusability. This modular approach simplifies the process of making future adjustments or extensions to the design. This also allowed me to view my work and see where things may have been going wrong.\",\r\n      \"My binary art project should show a well-rounded integration of programming, design, and user experience principles. I hoped to achieve a visually compelling and technical representation of the Star Wars logo. The methods used in this project ensure that the art is scalable and adaptable, providing a consistent and engaging experience across various platforms and devices. This approach enhances the aesthetic appeal of binary art and underscores the potential of combining creative and technical skills in digital art projects.\",\r\n    ],\r\n    url: \"#StyleGuideofMyArt\",\r\n  },\r\n];\r\n\r\nexport const about = [\r\n  {\r\n    id: \"0\",\r\n    title: \"Welcome to the Brainwave: Where Artistry Meets the Force\",\r\n    date: \"May 2024\",\r\n    picture: null,\r\n    content: [\r\n      \"Step into our digital world, where the lines between web design and Star Wars lore blur, giving rise to an immersive experience unlike any other. This website is a labour of passion, meticulously crafted to intertwine my passion for web development with the timeless allure of a galaxy far, far away.\",\r\n      \"The website isn't just a destination; it';s a journey. Take a glimpse behind the curtain as we unveil the inner workings of my creative process. From the beginning of my style guides and wireframes to the intricate UI/UX decisions that shape our digital universe, every step is carefully documented for your viewing pleasure.\",\r\n      \"In the vast expanse of the galaxy, art and technology collide in a dazzling display of creativity. Join me as we delve into the realm of internet art, exploring certain works and their, evolution, and impact on the online landscape. From experimental net art installations to web design trends, this website will serve as a beacon for those who dare to push the boundaries of digital expression.\",\r\n      \"Journey into the Star Wars Universe:\",\r\n      \"Prepare to embark on an epic adventure through the Star Wars saga, courtesy of the mystical Star Wars API. Explore profiles of your favourite characters, dive into the rich lore of the films, and uncover hidden gems that breathe new life into George Lucas's iconic creation. Whether you're a seasoned Jedi Master or a wide-eyed youngling, there's always something new to discover in the ever-expanding universe of Star Wars.\",\r\n      \"Immersive Visual Experience:\",\r\n      \"As you navigate my website, prepare to be mesmerized by its captivating visuals. A purple-black hue sets the stage for a journey unlike any other, while familiar Star Wars symbols and logos serve as guideposts in our digital odyssey. Watch in awe as planet icons dance in harmony with your cursor, inviting you to explore the infinite possibilities of our virtual cosmos.\",\r\n      \"Whether you're a seasoned web designer, a die-hard Star Wars fan, or simply a curious explorer of the digital world, there's a place for you on this website. Together, let's forge a future where artistry and technology converge, and the force of imagination propels us to new heights.\",\r\n      \"May the pixels be with you, always.\",\r\n    ],\r\n    url: \"#about\",\r\n  },\r\n];\r\n\r\nexport const art = [\r\n  {\r\n    id: \"0\",\r\n    title: \"Binary Art\",\r\n    picture: [null],\r\n    content: [\r\n      \"The artwork above is an example of net/web art. It leverages the internet as a platform for distribution and interaction, embracing the digital medium to create a unique visual experience. My process involves taking an image and converting it to greyscale. Then, each pixel is assigned a binary value of 0 or 1 based on its brightness. This binary data is then displayed on the screen, creating what is known as binary art.\",\r\n      \"Why It's Binary Art:\",\r\n      \"Binary art is a form of digital art that uses binary code, the fundamental language of computers, to represent images. By converting each pixel to a binary value, the image is transformed into a grid of 0s and 1s. This approach emphasizes the relationship between digital technology and artistic expression, illustrating how simple binary data can produce complex and visually appealing results.\",\r\n      \"Why This Image:\",\r\n      \"I chose this image to complement the Star Wars theme of my website. The simplicity and iconic nature of the image made it ideal for binary conversion. Images with too many colours or varying brightness levels can result in unclear binary representations, but this image translated perfectly into the binary format, ensuring a clear and recognizable result.\",\r\n      \"Animation Inspiration:\",\r\n      \"The animation was designed to mimic the iconic opening scene of Star Wars, where the text crawls up the screen. In my binary art, each line of binary code starts slightly lower and moves upward to its final position. While the lines may not start at the bottom, this motion still captures the essence of the Star Wars opening sequence, maintaining the theme and aspect ratio of the artwork.\",\r\n    ],\r\n  },\r\n];\r\n","import Heading from \"../components/Heading\";\r\nimport Section from \"../components/Section\";\r\nimport Button from \"../components/Button\";\r\nimport { GradientLight, CardBorder } from \"../design/TheoryWorks\";\r\nimport ClipPath from \"../assets/svg/ClipPath\";\r\nimport { theorywork } from \"../constants/information\"; // Import theorywork data\r\nimport ButtonGradient from \"../assets/svg/ButtonGradient\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst TheoryWorks = () => {\r\n  const renderShortenedParagraph = (paragraphs) => {\r\n    // Truncate paragraphs to show only a few lines followed by ...\r\n    const truncatedText = paragraphs.join(\" \").substring(0, 150);\r\n    return `${truncatedText}...`;\r\n  };\r\n\r\n  return (\r\n    <Section id=\"theoryworks\">\r\n      <article className=\"container relative z-2\">\r\n        <Heading\r\n          tag=\"Learn The Theory Of The Force\"\r\n          title=\"Explore Theory Works\"\r\n        />\r\n\r\n        <section className=\"flex flex-wrap gap-10 mb-10\">\r\n          {theorywork.map((item) => (\r\n            <article\r\n              className=\"block relative p-0.5 bg-no-repeat bg-[length:100%_100%] md:w-[24rem] md:h-[28rem]\"\r\n              key={item.id}\r\n            >\r\n              <section className=\"relative z-2 flex flex-col min-h-[22rem] p-[2.4rem]\">\r\n                <h5 className=\"h5 mb-5\">{item.title}</h5>\r\n                <p className=\"body-2 mb-6 text-n-3\">{item.date}</p>\r\n                <p className=\"body-2 mb-6 text-n-3\">\r\n                  {renderShortenedParagraph(item.paragraphs)}\r\n                </p>\r\n                <section>\r\n                  <Button as={Link} to={`/essay/${item.id}`}>\r\n                    Read More\r\n                  </Button>\r\n                </section>\r\n              </section>\r\n\r\n              <GradientLight />\r\n\r\n              <aside\r\n                className=\"absolute inset-0.5 bg-n-8\"\r\n                style={{ clipPath: \"url(#benefits)\" }}\r\n              >\r\n                <CardBorder />\r\n              </aside>\r\n\r\n              <ClipPath />\r\n            </article>\r\n          ))}\r\n          <ButtonGradient />\r\n        </section>\r\n      </article>\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default TheoryWorks;\r\n","import { useEffect, useState } from \"react\";\r\nimport Heading from \"../components/Heading\";\r\nimport Section from \"../components/Section\";\r\nimport Button from \"../components/Button\";\r\nimport { GradientLight, CardBorder } from \"../design/TheoryWorks\";\r\nimport ClipPath from \"../assets/svg/ClipPath\";\r\nimport { design } from \"../constants/information\";\r\nimport ButtonGradient from \"../assets/svg/ButtonGradient\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst DesignWorks = () => {\r\n  // Initialize state for design works\r\n  const [works, setWorks] = useState([]);\r\n\r\n  // Fetch design works data on component mount\r\n  useEffect(() => {\r\n    setWorks(design); // Set design works data to state\r\n  }, []);\r\n\r\n  // Function to render a shortened version of paragraphs\r\n  const renderShortenedParagraph = (paragraphs) => {\r\n    // Truncate paragraphs to show only a few lines followed by ...\r\n    const truncatedText = paragraphs.join(\" \").substring(0, 150);\r\n    return `${truncatedText}...`;\r\n  };\r\n\r\n  return (\r\n    <Section id=\"design\">\r\n      <article className=\"container relative z-2\">\r\n        <Heading tag=\"Design The Force\" title=\"Explore Design Works\" />\r\n\r\n        {/* Display design works */}\r\n        <section className=\"flex flex-wrap gap-10 mb-10\">\r\n          {works.map((work) => (\r\n            <article\r\n              className=\"block relative p-0.5 bg-no-repeat bg-[length:100%_100%] md:w-[24rem] md:h-[28rem]\"\r\n              key={work.id}\r\n            >\r\n              <section className=\"relative z-2 flex flex-col min-h-[22rem] p-[2.4rem]\">\r\n                {/* Display work title */}\r\n                <h5 className=\"h5 mb-5\">{work.title}</h5>\r\n                {/* Display work date */}\r\n                <p className=\"body-2 mb-6 text-n-3\">{work.date}</p>\r\n                {/* Display truncated content */}\r\n                <p className=\"body-2 mb-6 text-n-3\">\r\n                  {renderShortenedParagraph(work.content)}\r\n                </p>\r\n                <section>\r\n                  <Button as={Link} to={`/design/${work.id}`}>\r\n                    Read More\r\n                  </Button>\r\n                </section>\r\n              </section>\r\n\r\n              {/* Display gradient light effect */}\r\n              <GradientLight />\r\n\r\n              {/* Display card border */}\r\n              <aside\r\n                className=\"absolute inset-0.5 bg-n-8\"\r\n                style={{ clipPath: \"url(#benefits)\" }}\r\n              >\r\n                <CardBorder />\r\n              </aside>\r\n\r\n              <ClipPath />\r\n            </article>\r\n          ))}\r\n          <ButtonGradient />\r\n        </section>\r\n      </article>\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default DesignWorks;\r\n","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/*!\n * Splide.js\n * Version  : 4.1.4\n * License  : MIT\n * Copyright: 2022 Naotoshi Fujita\n */\nvar MEDIA_PREFERS_REDUCED_MOTION = \"(prefers-reduced-motion: reduce)\";\nvar CREATED = 1;\nvar MOUNTED = 2;\nvar IDLE = 3;\nvar MOVING = 4;\nvar SCROLLING = 5;\nvar DRAGGING = 6;\nvar DESTROYED = 7;\nvar STATES = {\n  CREATED: CREATED,\n  MOUNTED: MOUNTED,\n  IDLE: IDLE,\n  MOVING: MOVING,\n  SCROLLING: SCROLLING,\n  DRAGGING: DRAGGING,\n  DESTROYED: DESTROYED\n};\n\nfunction empty(array) {\n  array.length = 0;\n}\n\nfunction slice(arrayLike, start, end) {\n  return Array.prototype.slice.call(arrayLike, start, end);\n}\n\nfunction apply(func) {\n  return func.bind.apply(func, [null].concat(slice(arguments, 1)));\n}\n\nvar nextTick = setTimeout;\n\nvar noop = function noop() {};\n\nfunction raf(func) {\n  return requestAnimationFrame(func);\n}\n\nfunction typeOf(type, subject) {\n  return typeof subject === type;\n}\n\nfunction isObject(subject) {\n  return !isNull(subject) && typeOf(\"object\", subject);\n}\n\nvar isArray = Array.isArray;\nvar isFunction = apply(typeOf, \"function\");\nvar isString = apply(typeOf, \"string\");\nvar isUndefined = apply(typeOf, \"undefined\");\n\nfunction isNull(subject) {\n  return subject === null;\n}\n\nfunction isHTMLElement(subject) {\n  try {\n    return subject instanceof (subject.ownerDocument.defaultView || window).HTMLElement;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction toArray(value) {\n  return isArray(value) ? value : [value];\n}\n\nfunction forEach(values, iteratee) {\n  toArray(values).forEach(iteratee);\n}\n\nfunction includes(array, value) {\n  return array.indexOf(value) > -1;\n}\n\nfunction push(array, items) {\n  array.push.apply(array, toArray(items));\n  return array;\n}\n\nfunction toggleClass(elm, classes, add) {\n  if (elm) {\n    forEach(classes, function (name) {\n      if (name) {\n        elm.classList[add ? \"add\" : \"remove\"](name);\n      }\n    });\n  }\n}\n\nfunction addClass(elm, classes) {\n  toggleClass(elm, isString(classes) ? classes.split(\" \") : classes, true);\n}\n\nfunction append(parent, children) {\n  forEach(children, parent.appendChild.bind(parent));\n}\n\nfunction before(nodes, ref) {\n  forEach(nodes, function (node) {\n    var parent = (ref || node).parentNode;\n\n    if (parent) {\n      parent.insertBefore(node, ref);\n    }\n  });\n}\n\nfunction matches(elm, selector) {\n  return isHTMLElement(elm) && (elm[\"msMatchesSelector\"] || elm.matches).call(elm, selector);\n}\n\nfunction children(parent, selector) {\n  var children2 = parent ? slice(parent.children) : [];\n  return selector ? children2.filter(function (child) {\n    return matches(child, selector);\n  }) : children2;\n}\n\nfunction child(parent, selector) {\n  return selector ? children(parent, selector)[0] : parent.firstElementChild;\n}\n\nvar ownKeys = Object.keys;\n\nfunction forOwn(object, iteratee, right) {\n  if (object) {\n    (right ? ownKeys(object).reverse() : ownKeys(object)).forEach(function (key) {\n      key !== \"__proto__\" && iteratee(object[key], key);\n    });\n  }\n\n  return object;\n}\n\nfunction assign(object) {\n  slice(arguments, 1).forEach(function (source) {\n    forOwn(source, function (value, key) {\n      object[key] = source[key];\n    });\n  });\n  return object;\n}\n\nfunction merge(object) {\n  slice(arguments, 1).forEach(function (source) {\n    forOwn(source, function (value, key) {\n      if (isArray(value)) {\n        object[key] = value.slice();\n      } else if (isObject(value)) {\n        object[key] = merge({}, isObject(object[key]) ? object[key] : {}, value);\n      } else {\n        object[key] = value;\n      }\n    });\n  });\n  return object;\n}\n\nfunction omit(object, keys) {\n  forEach(keys || ownKeys(object), function (key) {\n    delete object[key];\n  });\n}\n\nfunction removeAttribute(elms, attrs) {\n  forEach(elms, function (elm) {\n    forEach(attrs, function (attr) {\n      elm && elm.removeAttribute(attr);\n    });\n  });\n}\n\nfunction setAttribute(elms, attrs, value) {\n  if (isObject(attrs)) {\n    forOwn(attrs, function (value2, name) {\n      setAttribute(elms, name, value2);\n    });\n  } else {\n    forEach(elms, function (elm) {\n      isNull(value) || value === \"\" ? removeAttribute(elm, attrs) : elm.setAttribute(attrs, String(value));\n    });\n  }\n}\n\nfunction create(tag, attrs, parent) {\n  var elm = document.createElement(tag);\n\n  if (attrs) {\n    isString(attrs) ? addClass(elm, attrs) : setAttribute(elm, attrs);\n  }\n\n  parent && append(parent, elm);\n  return elm;\n}\n\nfunction style(elm, prop, value) {\n  if (isUndefined(value)) {\n    return getComputedStyle(elm)[prop];\n  }\n\n  if (!isNull(value)) {\n    elm.style[prop] = \"\" + value;\n  }\n}\n\nfunction display(elm, display2) {\n  style(elm, \"display\", display2);\n}\n\nfunction focus(elm) {\n  elm[\"setActive\"] && elm[\"setActive\"]() || elm.focus({\n    preventScroll: true\n  });\n}\n\nfunction getAttribute(elm, attr) {\n  return elm.getAttribute(attr);\n}\n\nfunction hasClass(elm, className) {\n  return elm && elm.classList.contains(className);\n}\n\nfunction rect(target) {\n  return target.getBoundingClientRect();\n}\n\nfunction remove(nodes) {\n  forEach(nodes, function (node) {\n    if (node && node.parentNode) {\n      node.parentNode.removeChild(node);\n    }\n  });\n}\n\nfunction parseHtml(html) {\n  return child(new DOMParser().parseFromString(html, \"text/html\").body);\n}\n\nfunction prevent(e, stopPropagation) {\n  e.preventDefault();\n\n  if (stopPropagation) {\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n  }\n}\n\nfunction query(parent, selector) {\n  return parent && parent.querySelector(selector);\n}\n\nfunction queryAll(parent, selector) {\n  return selector ? slice(parent.querySelectorAll(selector)) : [];\n}\n\nfunction removeClass(elm, classes) {\n  toggleClass(elm, classes, false);\n}\n\nfunction timeOf(e) {\n  return e.timeStamp;\n}\n\nfunction unit(value) {\n  return isString(value) ? value : value ? value + \"px\" : \"\";\n}\n\nvar PROJECT_CODE = \"splide\";\nvar DATA_ATTRIBUTE = \"data-\" + PROJECT_CODE;\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(\"[\" + PROJECT_CODE + \"] \" + (message || \"\"));\n  }\n}\n\nvar min = Math.min,\n    max = Math.max,\n    floor = Math.floor,\n    ceil = Math.ceil,\n    abs = Math.abs;\n\nfunction approximatelyEqual(x, y, epsilon) {\n  return abs(x - y) < epsilon;\n}\n\nfunction between(number, x, y, exclusive) {\n  var minimum = min(x, y);\n  var maximum = max(x, y);\n  return exclusive ? minimum < number && number < maximum : minimum <= number && number <= maximum;\n}\n\nfunction clamp(number, x, y) {\n  var minimum = min(x, y);\n  var maximum = max(x, y);\n  return min(max(minimum, number), maximum);\n}\n\nfunction sign(x) {\n  return +(x > 0) - +(x < 0);\n}\n\nfunction camelToKebab(string) {\n  return string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\n\nfunction format(string, replacements) {\n  forEach(replacements, function (replacement) {\n    string = string.replace(\"%s\", \"\" + replacement);\n  });\n  return string;\n}\n\nfunction pad(number) {\n  return number < 10 ? \"0\" + number : \"\" + number;\n}\n\nvar ids = {};\n\nfunction uniqueId(prefix) {\n  return \"\" + prefix + pad(ids[prefix] = (ids[prefix] || 0) + 1);\n}\n\nfunction EventBinder() {\n  var listeners = [];\n\n  function bind(targets, events, callback, options) {\n    forEachEvent(targets, events, function (target, event, namespace) {\n      var isEventTarget = (\"addEventListener\" in target);\n      var remover = isEventTarget ? target.removeEventListener.bind(target, event, callback, options) : target[\"removeListener\"].bind(target, callback);\n      isEventTarget ? target.addEventListener(event, callback, options) : target[\"addListener\"](callback);\n      listeners.push([target, event, namespace, callback, remover]);\n    });\n  }\n\n  function unbind(targets, events, callback) {\n    forEachEvent(targets, events, function (target, event, namespace) {\n      listeners = listeners.filter(function (listener) {\n        if (listener[0] === target && listener[1] === event && listener[2] === namespace && (!callback || listener[3] === callback)) {\n          listener[4]();\n          return false;\n        }\n\n        return true;\n      });\n    });\n  }\n\n  function dispatch(target, type, detail) {\n    var e;\n    var bubbles = true;\n\n    if (typeof CustomEvent === \"function\") {\n      e = new CustomEvent(type, {\n        bubbles: bubbles,\n        detail: detail\n      });\n    } else {\n      e = document.createEvent(\"CustomEvent\");\n      e.initCustomEvent(type, bubbles, false, detail);\n    }\n\n    target.dispatchEvent(e);\n    return e;\n  }\n\n  function forEachEvent(targets, events, iteratee) {\n    forEach(targets, function (target) {\n      target && forEach(events, function (events2) {\n        events2.split(\" \").forEach(function (eventNS) {\n          var fragment = eventNS.split(\".\");\n          iteratee(target, fragment[0], fragment[1]);\n        });\n      });\n    });\n  }\n\n  function destroy() {\n    listeners.forEach(function (data) {\n      data[4]();\n    });\n    empty(listeners);\n  }\n\n  return {\n    bind: bind,\n    unbind: unbind,\n    dispatch: dispatch,\n    destroy: destroy\n  };\n}\n\nvar EVENT_MOUNTED = \"mounted\";\nvar EVENT_READY = \"ready\";\nvar EVENT_MOVE = \"move\";\nvar EVENT_MOVED = \"moved\";\nvar EVENT_CLICK = \"click\";\nvar EVENT_ACTIVE = \"active\";\nvar EVENT_INACTIVE = \"inactive\";\nvar EVENT_VISIBLE = \"visible\";\nvar EVENT_HIDDEN = \"hidden\";\nvar EVENT_REFRESH = \"refresh\";\nvar EVENT_UPDATED = \"updated\";\nvar EVENT_RESIZE = \"resize\";\nvar EVENT_RESIZED = \"resized\";\nvar EVENT_DRAG = \"drag\";\nvar EVENT_DRAGGING = \"dragging\";\nvar EVENT_DRAGGED = \"dragged\";\nvar EVENT_SCROLL = \"scroll\";\nvar EVENT_SCROLLED = \"scrolled\";\nvar EVENT_OVERFLOW = \"overflow\";\nvar EVENT_DESTROY = \"destroy\";\nvar EVENT_ARROWS_MOUNTED = \"arrows:mounted\";\nvar EVENT_ARROWS_UPDATED = \"arrows:updated\";\nvar EVENT_PAGINATION_MOUNTED = \"pagination:mounted\";\nvar EVENT_PAGINATION_UPDATED = \"pagination:updated\";\nvar EVENT_NAVIGATION_MOUNTED = \"navigation:mounted\";\nvar EVENT_AUTOPLAY_PLAY = \"autoplay:play\";\nvar EVENT_AUTOPLAY_PLAYING = \"autoplay:playing\";\nvar EVENT_AUTOPLAY_PAUSE = \"autoplay:pause\";\nvar EVENT_LAZYLOAD_LOADED = \"lazyload:loaded\";\nvar EVENT_SLIDE_KEYDOWN = \"sk\";\nvar EVENT_SHIFTED = \"sh\";\nvar EVENT_END_INDEX_CHANGED = \"ei\";\n\nfunction EventInterface(Splide2) {\n  var bus = Splide2 ? Splide2.event.bus : document.createDocumentFragment();\n  var binder = EventBinder();\n\n  function on(events, callback) {\n    binder.bind(bus, toArray(events).join(\" \"), function (e) {\n      callback.apply(callback, isArray(e.detail) ? e.detail : []);\n    });\n  }\n\n  function emit(event) {\n    binder.dispatch(bus, event, slice(arguments, 1));\n  }\n\n  if (Splide2) {\n    Splide2.event.on(EVENT_DESTROY, binder.destroy);\n  }\n\n  return assign(binder, {\n    bus: bus,\n    on: on,\n    off: apply(binder.unbind, bus),\n    emit: emit\n  });\n}\n\nfunction RequestInterval(interval, onInterval, onUpdate, limit) {\n  var now = Date.now;\n  var startTime;\n  var rate = 0;\n  var id;\n  var paused = true;\n  var count = 0;\n\n  function update() {\n    if (!paused) {\n      rate = interval ? min((now() - startTime) / interval, 1) : 1;\n      onUpdate && onUpdate(rate);\n\n      if (rate >= 1) {\n        onInterval();\n        startTime = now();\n\n        if (limit && ++count >= limit) {\n          return pause();\n        }\n      }\n\n      id = raf(update);\n    }\n  }\n\n  function start(resume) {\n    resume || cancel();\n    startTime = now() - (resume ? rate * interval : 0);\n    paused = false;\n    id = raf(update);\n  }\n\n  function pause() {\n    paused = true;\n  }\n\n  function rewind() {\n    startTime = now();\n    rate = 0;\n\n    if (onUpdate) {\n      onUpdate(rate);\n    }\n  }\n\n  function cancel() {\n    id && cancelAnimationFrame(id);\n    rate = 0;\n    id = 0;\n    paused = true;\n  }\n\n  function set(time) {\n    interval = time;\n  }\n\n  function isPaused() {\n    return paused;\n  }\n\n  return {\n    start: start,\n    rewind: rewind,\n    pause: pause,\n    cancel: cancel,\n    set: set,\n    isPaused: isPaused\n  };\n}\n\nfunction State(initialState) {\n  var state = initialState;\n\n  function set(value) {\n    state = value;\n  }\n\n  function is(states) {\n    return includes(toArray(states), state);\n  }\n\n  return {\n    set: set,\n    is: is\n  };\n}\n\nfunction Throttle(func, duration) {\n  var interval = RequestInterval(duration || 0, func, null, 1);\n  return function () {\n    interval.isPaused() && interval.start();\n  };\n}\n\nfunction Media(Splide2, Components2, options) {\n  var state = Splide2.state;\n  var breakpoints = options.breakpoints || {};\n  var reducedMotion = options.reducedMotion || {};\n  var binder = EventBinder();\n  var queries = [];\n\n  function setup() {\n    var isMin = options.mediaQuery === \"min\";\n    ownKeys(breakpoints).sort(function (n, m) {\n      return isMin ? +n - +m : +m - +n;\n    }).forEach(function (key) {\n      register(breakpoints[key], \"(\" + (isMin ? \"min\" : \"max\") + \"-width:\" + key + \"px)\");\n    });\n    register(reducedMotion, MEDIA_PREFERS_REDUCED_MOTION);\n    update();\n  }\n\n  function destroy(completely) {\n    if (completely) {\n      binder.destroy();\n    }\n  }\n\n  function register(options2, query) {\n    var queryList = matchMedia(query);\n    binder.bind(queryList, \"change\", update);\n    queries.push([options2, queryList]);\n  }\n\n  function update() {\n    var destroyed = state.is(DESTROYED);\n    var direction = options.direction;\n    var merged = queries.reduce(function (merged2, entry) {\n      return merge(merged2, entry[1].matches ? entry[0] : {});\n    }, {});\n    omit(options);\n    set(merged);\n\n    if (options.destroy) {\n      Splide2.destroy(options.destroy === \"completely\");\n    } else if (destroyed) {\n      destroy(true);\n      Splide2.mount();\n    } else {\n      direction !== options.direction && Splide2.refresh();\n    }\n  }\n\n  function reduce(enable) {\n    if (matchMedia(MEDIA_PREFERS_REDUCED_MOTION).matches) {\n      enable ? merge(options, reducedMotion) : omit(options, ownKeys(reducedMotion));\n    }\n  }\n\n  function set(opts, base, notify) {\n    merge(options, opts);\n    base && merge(Object.getPrototypeOf(options), opts);\n\n    if (notify || !state.is(CREATED)) {\n      Splide2.emit(EVENT_UPDATED, options);\n    }\n  }\n\n  return {\n    setup: setup,\n    destroy: destroy,\n    reduce: reduce,\n    set: set\n  };\n}\n\nvar ARROW = \"Arrow\";\nvar ARROW_LEFT = ARROW + \"Left\";\nvar ARROW_RIGHT = ARROW + \"Right\";\nvar ARROW_UP = ARROW + \"Up\";\nvar ARROW_DOWN = ARROW + \"Down\";\nvar LTR = \"ltr\";\nvar RTL = \"rtl\";\nvar TTB = \"ttb\";\nvar ORIENTATION_MAP = {\n  width: [\"height\"],\n  left: [\"top\", \"right\"],\n  right: [\"bottom\", \"left\"],\n  x: [\"y\"],\n  X: [\"Y\"],\n  Y: [\"X\"],\n  ArrowLeft: [ARROW_UP, ARROW_RIGHT],\n  ArrowRight: [ARROW_DOWN, ARROW_LEFT]\n};\n\nfunction Direction(Splide2, Components2, options) {\n  function resolve(prop, axisOnly, direction) {\n    direction = direction || options.direction;\n    var index = direction === RTL && !axisOnly ? 1 : direction === TTB ? 0 : -1;\n    return ORIENTATION_MAP[prop] && ORIENTATION_MAP[prop][index] || prop.replace(/width|left|right/i, function (match, offset) {\n      var replacement = ORIENTATION_MAP[match.toLowerCase()][index] || match;\n      return offset > 0 ? replacement.charAt(0).toUpperCase() + replacement.slice(1) : replacement;\n    });\n  }\n\n  function orient(value) {\n    return value * (options.direction === RTL ? 1 : -1);\n  }\n\n  return {\n    resolve: resolve,\n    orient: orient\n  };\n}\n\nvar ROLE = \"role\";\nvar TAB_INDEX = \"tabindex\";\nvar DISABLED = \"disabled\";\nvar ARIA_PREFIX = \"aria-\";\nvar ARIA_CONTROLS = ARIA_PREFIX + \"controls\";\nvar ARIA_CURRENT = ARIA_PREFIX + \"current\";\nvar ARIA_SELECTED = ARIA_PREFIX + \"selected\";\nvar ARIA_LABEL = ARIA_PREFIX + \"label\";\nvar ARIA_LABELLEDBY = ARIA_PREFIX + \"labelledby\";\nvar ARIA_HIDDEN = ARIA_PREFIX + \"hidden\";\nvar ARIA_ORIENTATION = ARIA_PREFIX + \"orientation\";\nvar ARIA_ROLEDESCRIPTION = ARIA_PREFIX + \"roledescription\";\nvar ARIA_LIVE = ARIA_PREFIX + \"live\";\nvar ARIA_BUSY = ARIA_PREFIX + \"busy\";\nvar ARIA_ATOMIC = ARIA_PREFIX + \"atomic\";\nvar ALL_ATTRIBUTES = [ROLE, TAB_INDEX, DISABLED, ARIA_CONTROLS, ARIA_CURRENT, ARIA_LABEL, ARIA_LABELLEDBY, ARIA_HIDDEN, ARIA_ORIENTATION, ARIA_ROLEDESCRIPTION];\nvar CLASS_PREFIX = PROJECT_CODE + \"__\";\nvar STATUS_CLASS_PREFIX = \"is-\";\nvar CLASS_ROOT = PROJECT_CODE;\nvar CLASS_TRACK = CLASS_PREFIX + \"track\";\nvar CLASS_LIST = CLASS_PREFIX + \"list\";\nvar CLASS_SLIDE = CLASS_PREFIX + \"slide\";\nvar CLASS_CLONE = CLASS_SLIDE + \"--clone\";\nvar CLASS_CONTAINER = CLASS_SLIDE + \"__container\";\nvar CLASS_ARROWS = CLASS_PREFIX + \"arrows\";\nvar CLASS_ARROW = CLASS_PREFIX + \"arrow\";\nvar CLASS_ARROW_PREV = CLASS_ARROW + \"--prev\";\nvar CLASS_ARROW_NEXT = CLASS_ARROW + \"--next\";\nvar CLASS_PAGINATION = CLASS_PREFIX + \"pagination\";\nvar CLASS_PAGINATION_PAGE = CLASS_PAGINATION + \"__page\";\nvar CLASS_PROGRESS = CLASS_PREFIX + \"progress\";\nvar CLASS_PROGRESS_BAR = CLASS_PROGRESS + \"__bar\";\nvar CLASS_TOGGLE = CLASS_PREFIX + \"toggle\";\nvar CLASS_TOGGLE_PLAY = CLASS_TOGGLE + \"__play\";\nvar CLASS_TOGGLE_PAUSE = CLASS_TOGGLE + \"__pause\";\nvar CLASS_SPINNER = CLASS_PREFIX + \"spinner\";\nvar CLASS_SR = CLASS_PREFIX + \"sr\";\nvar CLASS_INITIALIZED = STATUS_CLASS_PREFIX + \"initialized\";\nvar CLASS_ACTIVE = STATUS_CLASS_PREFIX + \"active\";\nvar CLASS_PREV = STATUS_CLASS_PREFIX + \"prev\";\nvar CLASS_NEXT = STATUS_CLASS_PREFIX + \"next\";\nvar CLASS_VISIBLE = STATUS_CLASS_PREFIX + \"visible\";\nvar CLASS_LOADING = STATUS_CLASS_PREFIX + \"loading\";\nvar CLASS_FOCUS_IN = STATUS_CLASS_PREFIX + \"focus-in\";\nvar CLASS_OVERFLOW = STATUS_CLASS_PREFIX + \"overflow\";\nvar STATUS_CLASSES = [CLASS_ACTIVE, CLASS_VISIBLE, CLASS_PREV, CLASS_NEXT, CLASS_LOADING, CLASS_FOCUS_IN, CLASS_OVERFLOW];\nvar CLASSES = {\n  slide: CLASS_SLIDE,\n  clone: CLASS_CLONE,\n  arrows: CLASS_ARROWS,\n  arrow: CLASS_ARROW,\n  prev: CLASS_ARROW_PREV,\n  next: CLASS_ARROW_NEXT,\n  pagination: CLASS_PAGINATION,\n  page: CLASS_PAGINATION_PAGE,\n  spinner: CLASS_SPINNER\n};\n\nfunction closest(from, selector) {\n  if (isFunction(from.closest)) {\n    return from.closest(selector);\n  }\n\n  var elm = from;\n\n  while (elm && elm.nodeType === 1) {\n    if (matches(elm, selector)) {\n      break;\n    }\n\n    elm = elm.parentElement;\n  }\n\n  return elm;\n}\n\nvar FRICTION = 5;\nvar LOG_INTERVAL = 200;\nvar POINTER_DOWN_EVENTS = \"touchstart mousedown\";\nvar POINTER_MOVE_EVENTS = \"touchmove mousemove\";\nvar POINTER_UP_EVENTS = \"touchend touchcancel mouseup click\";\n\nfunction Elements(Splide2, Components2, options) {\n  var _EventInterface = EventInterface(Splide2),\n      on = _EventInterface.on,\n      bind = _EventInterface.bind;\n\n  var root = Splide2.root;\n  var i18n = options.i18n;\n  var elements = {};\n  var slides = [];\n  var rootClasses = [];\n  var trackClasses = [];\n  var track;\n  var list;\n  var isUsingKey;\n\n  function setup() {\n    collect();\n    init();\n    update();\n  }\n\n  function mount() {\n    on(EVENT_REFRESH, destroy);\n    on(EVENT_REFRESH, setup);\n    on(EVENT_UPDATED, update);\n    bind(document, POINTER_DOWN_EVENTS + \" keydown\", function (e) {\n      isUsingKey = e.type === \"keydown\";\n    }, {\n      capture: true\n    });\n    bind(root, \"focusin\", function () {\n      toggleClass(root, CLASS_FOCUS_IN, !!isUsingKey);\n    });\n  }\n\n  function destroy(completely) {\n    var attrs = ALL_ATTRIBUTES.concat(\"style\");\n    empty(slides);\n    removeClass(root, rootClasses);\n    removeClass(track, trackClasses);\n    removeAttribute([track, list], attrs);\n    removeAttribute(root, completely ? attrs : [\"style\", ARIA_ROLEDESCRIPTION]);\n  }\n\n  function update() {\n    removeClass(root, rootClasses);\n    removeClass(track, trackClasses);\n    rootClasses = getClasses(CLASS_ROOT);\n    trackClasses = getClasses(CLASS_TRACK);\n    addClass(root, rootClasses);\n    addClass(track, trackClasses);\n    setAttribute(root, ARIA_LABEL, options.label);\n    setAttribute(root, ARIA_LABELLEDBY, options.labelledby);\n  }\n\n  function collect() {\n    track = find(\".\" + CLASS_TRACK);\n    list = child(track, \".\" + CLASS_LIST);\n    assert(track && list, \"A track/list element is missing.\");\n    push(slides, children(list, \".\" + CLASS_SLIDE + \":not(.\" + CLASS_CLONE + \")\"));\n    forOwn({\n      arrows: CLASS_ARROWS,\n      pagination: CLASS_PAGINATION,\n      prev: CLASS_ARROW_PREV,\n      next: CLASS_ARROW_NEXT,\n      bar: CLASS_PROGRESS_BAR,\n      toggle: CLASS_TOGGLE\n    }, function (className, key) {\n      elements[key] = find(\".\" + className);\n    });\n    assign(elements, {\n      root: root,\n      track: track,\n      list: list,\n      slides: slides\n    });\n  }\n\n  function init() {\n    var id = root.id || uniqueId(PROJECT_CODE);\n    var role = options.role;\n    root.id = id;\n    track.id = track.id || id + \"-track\";\n    list.id = list.id || id + \"-list\";\n\n    if (!getAttribute(root, ROLE) && root.tagName !== \"SECTION\" && role) {\n      setAttribute(root, ROLE, role);\n    }\n\n    setAttribute(root, ARIA_ROLEDESCRIPTION, i18n.carousel);\n    setAttribute(list, ROLE, \"presentation\");\n  }\n\n  function find(selector) {\n    var elm = query(root, selector);\n    return elm && closest(elm, \".\" + CLASS_ROOT) === root ? elm : void 0;\n  }\n\n  function getClasses(base) {\n    return [base + \"--\" + options.type, base + \"--\" + options.direction, options.drag && base + \"--draggable\", options.isNavigation && base + \"--nav\", base === CLASS_ROOT && CLASS_ACTIVE];\n  }\n\n  return assign(elements, {\n    setup: setup,\n    mount: mount,\n    destroy: destroy\n  });\n}\n\nvar SLIDE = \"slide\";\nvar LOOP = \"loop\";\nvar FADE = \"fade\";\n\nfunction Slide$1(Splide2, index, slideIndex, slide) {\n  var event = EventInterface(Splide2);\n  var on = event.on,\n      emit = event.emit,\n      bind = event.bind;\n  var Components = Splide2.Components,\n      root = Splide2.root,\n      options = Splide2.options;\n  var isNavigation = options.isNavigation,\n      updateOnMove = options.updateOnMove,\n      i18n = options.i18n,\n      pagination = options.pagination,\n      slideFocus = options.slideFocus;\n  var resolve = Components.Direction.resolve;\n  var styles = getAttribute(slide, \"style\");\n  var label = getAttribute(slide, ARIA_LABEL);\n  var isClone = slideIndex > -1;\n  var container = child(slide, \".\" + CLASS_CONTAINER);\n  var destroyed;\n\n  function mount() {\n    if (!isClone) {\n      slide.id = root.id + \"-slide\" + pad(index + 1);\n      setAttribute(slide, ROLE, pagination ? \"tabpanel\" : \"group\");\n      setAttribute(slide, ARIA_ROLEDESCRIPTION, i18n.slide);\n      setAttribute(slide, ARIA_LABEL, label || format(i18n.slideLabel, [index + 1, Splide2.length]));\n    }\n\n    listen();\n  }\n\n  function listen() {\n    bind(slide, \"click\", apply(emit, EVENT_CLICK, self));\n    bind(slide, \"keydown\", apply(emit, EVENT_SLIDE_KEYDOWN, self));\n    on([EVENT_MOVED, EVENT_SHIFTED, EVENT_SCROLLED], update);\n    on(EVENT_NAVIGATION_MOUNTED, initNavigation);\n\n    if (updateOnMove) {\n      on(EVENT_MOVE, onMove);\n    }\n  }\n\n  function destroy() {\n    destroyed = true;\n    event.destroy();\n    removeClass(slide, STATUS_CLASSES);\n    removeAttribute(slide, ALL_ATTRIBUTES);\n    setAttribute(slide, \"style\", styles);\n    setAttribute(slide, ARIA_LABEL, label || \"\");\n  }\n\n  function initNavigation() {\n    var controls = Splide2.splides.map(function (target) {\n      var Slide2 = target.splide.Components.Slides.getAt(index);\n      return Slide2 ? Slide2.slide.id : \"\";\n    }).join(\" \");\n    setAttribute(slide, ARIA_LABEL, format(i18n.slideX, (isClone ? slideIndex : index) + 1));\n    setAttribute(slide, ARIA_CONTROLS, controls);\n    setAttribute(slide, ROLE, slideFocus ? \"button\" : \"\");\n    slideFocus && removeAttribute(slide, ARIA_ROLEDESCRIPTION);\n  }\n\n  function onMove() {\n    if (!destroyed) {\n      update();\n    }\n  }\n\n  function update() {\n    if (!destroyed) {\n      var curr = Splide2.index;\n      updateActivity();\n      updateVisibility();\n      toggleClass(slide, CLASS_PREV, index === curr - 1);\n      toggleClass(slide, CLASS_NEXT, index === curr + 1);\n    }\n  }\n\n  function updateActivity() {\n    var active = isActive();\n\n    if (active !== hasClass(slide, CLASS_ACTIVE)) {\n      toggleClass(slide, CLASS_ACTIVE, active);\n      setAttribute(slide, ARIA_CURRENT, isNavigation && active || \"\");\n      emit(active ? EVENT_ACTIVE : EVENT_INACTIVE, self);\n    }\n  }\n\n  function updateVisibility() {\n    var visible = isVisible();\n    var hidden = !visible && (!isActive() || isClone);\n\n    if (!Splide2.state.is([MOVING, SCROLLING])) {\n      setAttribute(slide, ARIA_HIDDEN, hidden || \"\");\n    }\n\n    setAttribute(queryAll(slide, options.focusableNodes || \"\"), TAB_INDEX, hidden ? -1 : \"\");\n\n    if (slideFocus) {\n      setAttribute(slide, TAB_INDEX, hidden ? -1 : 0);\n    }\n\n    if (visible !== hasClass(slide, CLASS_VISIBLE)) {\n      toggleClass(slide, CLASS_VISIBLE, visible);\n      emit(visible ? EVENT_VISIBLE : EVENT_HIDDEN, self);\n    }\n\n    if (!visible && document.activeElement === slide) {\n      var Slide2 = Components.Slides.getAt(Splide2.index);\n      Slide2 && focus(Slide2.slide);\n    }\n  }\n\n  function style$1(prop, value, useContainer) {\n    style(useContainer && container || slide, prop, value);\n  }\n\n  function isActive() {\n    var curr = Splide2.index;\n    return curr === index || options.cloneStatus && curr === slideIndex;\n  }\n\n  function isVisible() {\n    if (Splide2.is(FADE)) {\n      return isActive();\n    }\n\n    var trackRect = rect(Components.Elements.track);\n    var slideRect = rect(slide);\n    var left = resolve(\"left\", true);\n    var right = resolve(\"right\", true);\n    return floor(trackRect[left]) <= ceil(slideRect[left]) && floor(slideRect[right]) <= ceil(trackRect[right]);\n  }\n\n  function isWithin(from, distance) {\n    var diff = abs(from - index);\n\n    if (!isClone && (options.rewind || Splide2.is(LOOP))) {\n      diff = min(diff, Splide2.length - diff);\n    }\n\n    return diff <= distance;\n  }\n\n  var self = {\n    index: index,\n    slideIndex: slideIndex,\n    slide: slide,\n    container: container,\n    isClone: isClone,\n    mount: mount,\n    destroy: destroy,\n    update: update,\n    style: style$1,\n    isWithin: isWithin\n  };\n  return self;\n}\n\nfunction Slides(Splide2, Components2, options) {\n  var _EventInterface2 = EventInterface(Splide2),\n      on = _EventInterface2.on,\n      emit = _EventInterface2.emit,\n      bind = _EventInterface2.bind;\n\n  var _Components2$Elements = Components2.Elements,\n      slides = _Components2$Elements.slides,\n      list = _Components2$Elements.list;\n  var Slides2 = [];\n\n  function mount() {\n    init();\n    on(EVENT_REFRESH, destroy);\n    on(EVENT_REFRESH, init);\n  }\n\n  function init() {\n    slides.forEach(function (slide, index) {\n      register(slide, index, -1);\n    });\n  }\n\n  function destroy() {\n    forEach$1(function (Slide2) {\n      Slide2.destroy();\n    });\n    empty(Slides2);\n  }\n\n  function update() {\n    forEach$1(function (Slide2) {\n      Slide2.update();\n    });\n  }\n\n  function register(slide, index, slideIndex) {\n    var object = Slide$1(Splide2, index, slideIndex, slide);\n    object.mount();\n    Slides2.push(object);\n    Slides2.sort(function (Slide1, Slide2) {\n      return Slide1.index - Slide2.index;\n    });\n  }\n\n  function get(excludeClones) {\n    return excludeClones ? filter(function (Slide2) {\n      return !Slide2.isClone;\n    }) : Slides2;\n  }\n\n  function getIn(page) {\n    var Controller = Components2.Controller;\n    var index = Controller.toIndex(page);\n    var max = Controller.hasFocus() ? 1 : options.perPage;\n    return filter(function (Slide2) {\n      return between(Slide2.index, index, index + max - 1);\n    });\n  }\n\n  function getAt(index) {\n    return filter(index)[0];\n  }\n\n  function add(items, index) {\n    forEach(items, function (slide) {\n      if (isString(slide)) {\n        slide = parseHtml(slide);\n      }\n\n      if (isHTMLElement(slide)) {\n        var ref = slides[index];\n        ref ? before(slide, ref) : append(list, slide);\n        addClass(slide, options.classes.slide);\n        observeImages(slide, apply(emit, EVENT_RESIZE));\n      }\n    });\n    emit(EVENT_REFRESH);\n  }\n\n  function remove$1(matcher) {\n    remove(filter(matcher).map(function (Slide2) {\n      return Slide2.slide;\n    }));\n    emit(EVENT_REFRESH);\n  }\n\n  function forEach$1(iteratee, excludeClones) {\n    get(excludeClones).forEach(iteratee);\n  }\n\n  function filter(matcher) {\n    return Slides2.filter(isFunction(matcher) ? matcher : function (Slide2) {\n      return isString(matcher) ? matches(Slide2.slide, matcher) : includes(toArray(matcher), Slide2.index);\n    });\n  }\n\n  function style(prop, value, useContainer) {\n    forEach$1(function (Slide2) {\n      Slide2.style(prop, value, useContainer);\n    });\n  }\n\n  function observeImages(elm, callback) {\n    var images = queryAll(elm, \"img\");\n    var length = images.length;\n\n    if (length) {\n      images.forEach(function (img) {\n        bind(img, \"load error\", function () {\n          if (! --length) {\n            callback();\n          }\n        });\n      });\n    } else {\n      callback();\n    }\n  }\n\n  function getLength(excludeClones) {\n    return excludeClones ? slides.length : Slides2.length;\n  }\n\n  function isEnough() {\n    return Slides2.length > options.perPage;\n  }\n\n  return {\n    mount: mount,\n    destroy: destroy,\n    update: update,\n    register: register,\n    get: get,\n    getIn: getIn,\n    getAt: getAt,\n    add: add,\n    remove: remove$1,\n    forEach: forEach$1,\n    filter: filter,\n    style: style,\n    getLength: getLength,\n    isEnough: isEnough\n  };\n}\n\nfunction Layout(Splide2, Components2, options) {\n  var _EventInterface3 = EventInterface(Splide2),\n      on = _EventInterface3.on,\n      bind = _EventInterface3.bind,\n      emit = _EventInterface3.emit;\n\n  var Slides = Components2.Slides;\n  var resolve = Components2.Direction.resolve;\n  var _Components2$Elements2 = Components2.Elements,\n      root = _Components2$Elements2.root,\n      track = _Components2$Elements2.track,\n      list = _Components2$Elements2.list;\n  var getAt = Slides.getAt,\n      styleSlides = Slides.style;\n  var vertical;\n  var rootRect;\n  var overflow;\n\n  function mount() {\n    init();\n    bind(window, \"resize load\", Throttle(apply(emit, EVENT_RESIZE)));\n    on([EVENT_UPDATED, EVENT_REFRESH], init);\n    on(EVENT_RESIZE, resize);\n  }\n\n  function init() {\n    vertical = options.direction === TTB;\n    style(root, \"maxWidth\", unit(options.width));\n    style(track, resolve(\"paddingLeft\"), cssPadding(false));\n    style(track, resolve(\"paddingRight\"), cssPadding(true));\n    resize(true);\n  }\n\n  function resize(force) {\n    var newRect = rect(root);\n\n    if (force || rootRect.width !== newRect.width || rootRect.height !== newRect.height) {\n      style(track, \"height\", cssTrackHeight());\n      styleSlides(resolve(\"marginRight\"), unit(options.gap));\n      styleSlides(\"width\", cssSlideWidth());\n      styleSlides(\"height\", cssSlideHeight(), true);\n      rootRect = newRect;\n      emit(EVENT_RESIZED);\n\n      if (overflow !== (overflow = isOverflow())) {\n        toggleClass(root, CLASS_OVERFLOW, overflow);\n        emit(EVENT_OVERFLOW, overflow);\n      }\n    }\n  }\n\n  function cssPadding(right) {\n    var padding = options.padding;\n    var prop = resolve(right ? \"right\" : \"left\");\n    return padding && unit(padding[prop] || (isObject(padding) ? 0 : padding)) || \"0px\";\n  }\n\n  function cssTrackHeight() {\n    var height = \"\";\n\n    if (vertical) {\n      height = cssHeight();\n      assert(height, \"height or heightRatio is missing.\");\n      height = \"calc(\" + height + \" - \" + cssPadding(false) + \" - \" + cssPadding(true) + \")\";\n    }\n\n    return height;\n  }\n\n  function cssHeight() {\n    return unit(options.height || rect(list).width * options.heightRatio);\n  }\n\n  function cssSlideWidth() {\n    return options.autoWidth ? null : unit(options.fixedWidth) || (vertical ? \"\" : cssSlideSize());\n  }\n\n  function cssSlideHeight() {\n    return unit(options.fixedHeight) || (vertical ? options.autoHeight ? null : cssSlideSize() : cssHeight());\n  }\n\n  function cssSlideSize() {\n    var gap = unit(options.gap);\n    return \"calc((100%\" + (gap && \" + \" + gap) + \")/\" + (options.perPage || 1) + (gap && \" - \" + gap) + \")\";\n  }\n\n  function listSize() {\n    return rect(list)[resolve(\"width\")];\n  }\n\n  function slideSize(index, withoutGap) {\n    var Slide = getAt(index || 0);\n    return Slide ? rect(Slide.slide)[resolve(\"width\")] + (withoutGap ? 0 : getGap()) : 0;\n  }\n\n  function totalSize(index, withoutGap) {\n    var Slide = getAt(index);\n\n    if (Slide) {\n      var right = rect(Slide.slide)[resolve(\"right\")];\n      var left = rect(list)[resolve(\"left\")];\n      return abs(right - left) + (withoutGap ? 0 : getGap());\n    }\n\n    return 0;\n  }\n\n  function sliderSize(withoutGap) {\n    return totalSize(Splide2.length - 1) - totalSize(0) + slideSize(0, withoutGap);\n  }\n\n  function getGap() {\n    var Slide = getAt(0);\n    return Slide && parseFloat(style(Slide.slide, resolve(\"marginRight\"))) || 0;\n  }\n\n  function getPadding(right) {\n    return parseFloat(style(track, resolve(\"padding\" + (right ? \"Right\" : \"Left\")))) || 0;\n  }\n\n  function isOverflow() {\n    return Splide2.is(FADE) || sliderSize(true) > listSize();\n  }\n\n  return {\n    mount: mount,\n    resize: resize,\n    listSize: listSize,\n    slideSize: slideSize,\n    sliderSize: sliderSize,\n    totalSize: totalSize,\n    getPadding: getPadding,\n    isOverflow: isOverflow\n  };\n}\n\nvar MULTIPLIER = 2;\n\nfunction Clones(Splide2, Components2, options) {\n  var event = EventInterface(Splide2);\n  var on = event.on;\n  var Elements = Components2.Elements,\n      Slides = Components2.Slides;\n  var resolve = Components2.Direction.resolve;\n  var clones = [];\n  var cloneCount;\n\n  function mount() {\n    on(EVENT_REFRESH, remount);\n    on([EVENT_UPDATED, EVENT_RESIZE], observe);\n\n    if (cloneCount = computeCloneCount()) {\n      generate(cloneCount);\n      Components2.Layout.resize(true);\n    }\n  }\n\n  function remount() {\n    destroy();\n    mount();\n  }\n\n  function destroy() {\n    remove(clones);\n    empty(clones);\n    event.destroy();\n  }\n\n  function observe() {\n    var count = computeCloneCount();\n\n    if (cloneCount !== count) {\n      if (cloneCount < count || !count) {\n        event.emit(EVENT_REFRESH);\n      }\n    }\n  }\n\n  function generate(count) {\n    var slides = Slides.get().slice();\n    var length = slides.length;\n\n    if (length) {\n      while (slides.length < count) {\n        push(slides, slides);\n      }\n\n      push(slides.slice(-count), slides.slice(0, count)).forEach(function (Slide, index) {\n        var isHead = index < count;\n        var clone = cloneDeep(Slide.slide, index);\n        isHead ? before(clone, slides[0].slide) : append(Elements.list, clone);\n        push(clones, clone);\n        Slides.register(clone, index - count + (isHead ? 0 : length), Slide.index);\n      });\n    }\n  }\n\n  function cloneDeep(elm, index) {\n    var clone = elm.cloneNode(true);\n    addClass(clone, options.classes.clone);\n    clone.id = Splide2.root.id + \"-clone\" + pad(index + 1);\n    return clone;\n  }\n\n  function computeCloneCount() {\n    var clones2 = options.clones;\n\n    if (!Splide2.is(LOOP)) {\n      clones2 = 0;\n    } else if (isUndefined(clones2)) {\n      var fixedSize = options[resolve(\"fixedWidth\")] && Components2.Layout.slideSize(0);\n      var fixedCount = fixedSize && ceil(rect(Elements.track)[resolve(\"width\")] / fixedSize);\n      clones2 = fixedCount || options[resolve(\"autoWidth\")] && Splide2.length || options.perPage * MULTIPLIER;\n    }\n\n    return clones2;\n  }\n\n  return {\n    mount: mount,\n    destroy: destroy\n  };\n}\n\nfunction Move(Splide2, Components2, options) {\n  var _EventInterface4 = EventInterface(Splide2),\n      on = _EventInterface4.on,\n      emit = _EventInterface4.emit;\n\n  var set = Splide2.state.set;\n  var _Components2$Layout = Components2.Layout,\n      slideSize = _Components2$Layout.slideSize,\n      getPadding = _Components2$Layout.getPadding,\n      totalSize = _Components2$Layout.totalSize,\n      listSize = _Components2$Layout.listSize,\n      sliderSize = _Components2$Layout.sliderSize;\n  var _Components2$Directio = Components2.Direction,\n      resolve = _Components2$Directio.resolve,\n      orient = _Components2$Directio.orient;\n  var _Components2$Elements3 = Components2.Elements,\n      list = _Components2$Elements3.list,\n      track = _Components2$Elements3.track;\n  var Transition;\n\n  function mount() {\n    Transition = Components2.Transition;\n    on([EVENT_MOUNTED, EVENT_RESIZED, EVENT_UPDATED, EVENT_REFRESH], reposition);\n  }\n\n  function reposition() {\n    if (!Components2.Controller.isBusy()) {\n      Components2.Scroll.cancel();\n      jump(Splide2.index);\n      Components2.Slides.update();\n    }\n  }\n\n  function move(dest, index, prev, callback) {\n    if (dest !== index && canShift(dest > prev)) {\n      cancel();\n      translate(shift(getPosition(), dest > prev), true);\n    }\n\n    set(MOVING);\n    emit(EVENT_MOVE, index, prev, dest);\n    Transition.start(index, function () {\n      set(IDLE);\n      emit(EVENT_MOVED, index, prev, dest);\n      callback && callback();\n    });\n  }\n\n  function jump(index) {\n    translate(toPosition(index, true));\n  }\n\n  function translate(position, preventLoop) {\n    if (!Splide2.is(FADE)) {\n      var destination = preventLoop ? position : loop(position);\n      style(list, \"transform\", \"translate\" + resolve(\"X\") + \"(\" + destination + \"px)\");\n      position !== destination && emit(EVENT_SHIFTED);\n    }\n  }\n\n  function loop(position) {\n    if (Splide2.is(LOOP)) {\n      var index = toIndex(position);\n      var exceededMax = index > Components2.Controller.getEnd();\n      var exceededMin = index < 0;\n\n      if (exceededMin || exceededMax) {\n        position = shift(position, exceededMax);\n      }\n    }\n\n    return position;\n  }\n\n  function shift(position, backwards) {\n    var excess = position - getLimit(backwards);\n    var size = sliderSize();\n    position -= orient(size * (ceil(abs(excess) / size) || 1)) * (backwards ? 1 : -1);\n    return position;\n  }\n\n  function cancel() {\n    translate(getPosition(), true);\n    Transition.cancel();\n  }\n\n  function toIndex(position) {\n    var Slides = Components2.Slides.get();\n    var index = 0;\n    var minDistance = Infinity;\n\n    for (var i = 0; i < Slides.length; i++) {\n      var slideIndex = Slides[i].index;\n      var distance = abs(toPosition(slideIndex, true) - position);\n\n      if (distance <= minDistance) {\n        minDistance = distance;\n        index = slideIndex;\n      } else {\n        break;\n      }\n    }\n\n    return index;\n  }\n\n  function toPosition(index, trimming) {\n    var position = orient(totalSize(index - 1) - offset(index));\n    return trimming ? trim(position) : position;\n  }\n\n  function getPosition() {\n    var left = resolve(\"left\");\n    return rect(list)[left] - rect(track)[left] + orient(getPadding(false));\n  }\n\n  function trim(position) {\n    if (options.trimSpace && Splide2.is(SLIDE)) {\n      position = clamp(position, 0, orient(sliderSize(true) - listSize()));\n    }\n\n    return position;\n  }\n\n  function offset(index) {\n    var focus = options.focus;\n    return focus === \"center\" ? (listSize() - slideSize(index, true)) / 2 : +focus * slideSize(index) || 0;\n  }\n\n  function getLimit(max) {\n    return toPosition(max ? Components2.Controller.getEnd() : 0, !!options.trimSpace);\n  }\n\n  function canShift(backwards) {\n    var shifted = orient(shift(getPosition(), backwards));\n    return backwards ? shifted >= 0 : shifted <= list[resolve(\"scrollWidth\")] - rect(track)[resolve(\"width\")];\n  }\n\n  function exceededLimit(max, position) {\n    position = isUndefined(position) ? getPosition() : position;\n    var exceededMin = max !== true && orient(position) < orient(getLimit(false));\n    var exceededMax = max !== false && orient(position) > orient(getLimit(true));\n    return exceededMin || exceededMax;\n  }\n\n  return {\n    mount: mount,\n    move: move,\n    jump: jump,\n    translate: translate,\n    shift: shift,\n    cancel: cancel,\n    toIndex: toIndex,\n    toPosition: toPosition,\n    getPosition: getPosition,\n    getLimit: getLimit,\n    exceededLimit: exceededLimit,\n    reposition: reposition\n  };\n}\n\nfunction Controller(Splide2, Components2, options) {\n  var _EventInterface5 = EventInterface(Splide2),\n      on = _EventInterface5.on,\n      emit = _EventInterface5.emit;\n\n  var Move = Components2.Move;\n  var getPosition = Move.getPosition,\n      getLimit = Move.getLimit,\n      toPosition = Move.toPosition;\n  var _Components2$Slides = Components2.Slides,\n      isEnough = _Components2$Slides.isEnough,\n      getLength = _Components2$Slides.getLength;\n  var omitEnd = options.omitEnd;\n  var isLoop = Splide2.is(LOOP);\n  var isSlide = Splide2.is(SLIDE);\n  var getNext = apply(getAdjacent, false);\n  var getPrev = apply(getAdjacent, true);\n  var currIndex = options.start || 0;\n  var endIndex;\n  var prevIndex = currIndex;\n  var slideCount;\n  var perMove;\n  var perPage;\n\n  function mount() {\n    init();\n    on([EVENT_UPDATED, EVENT_REFRESH, EVENT_END_INDEX_CHANGED], init);\n    on(EVENT_RESIZED, onResized);\n  }\n\n  function init() {\n    slideCount = getLength(true);\n    perMove = options.perMove;\n    perPage = options.perPage;\n    endIndex = getEnd();\n    var index = clamp(currIndex, 0, omitEnd ? endIndex : slideCount - 1);\n\n    if (index !== currIndex) {\n      currIndex = index;\n      Move.reposition();\n    }\n  }\n\n  function onResized() {\n    if (endIndex !== getEnd()) {\n      emit(EVENT_END_INDEX_CHANGED);\n    }\n  }\n\n  function go(control, allowSameIndex, callback) {\n    if (!isBusy()) {\n      var dest = parse(control);\n      var index = loop(dest);\n\n      if (index > -1 && (allowSameIndex || index !== currIndex)) {\n        setIndex(index);\n        Move.move(dest, index, prevIndex, callback);\n      }\n    }\n  }\n\n  function scroll(destination, duration, snap, callback) {\n    Components2.Scroll.scroll(destination, duration, snap, function () {\n      var index = loop(Move.toIndex(getPosition()));\n      setIndex(omitEnd ? min(index, endIndex) : index);\n      callback && callback();\n    });\n  }\n\n  function parse(control) {\n    var index = currIndex;\n\n    if (isString(control)) {\n      var _ref = control.match(/([+\\-<>])(\\d+)?/) || [],\n          indicator = _ref[1],\n          number = _ref[2];\n\n      if (indicator === \"+\" || indicator === \"-\") {\n        index = computeDestIndex(currIndex + +(\"\" + indicator + (+number || 1)), currIndex);\n      } else if (indicator === \">\") {\n        index = number ? toIndex(+number) : getNext(true);\n      } else if (indicator === \"<\") {\n        index = getPrev(true);\n      }\n    } else {\n      index = isLoop ? control : clamp(control, 0, endIndex);\n    }\n\n    return index;\n  }\n\n  function getAdjacent(prev, destination) {\n    var number = perMove || (hasFocus() ? 1 : perPage);\n    var dest = computeDestIndex(currIndex + number * (prev ? -1 : 1), currIndex, !(perMove || hasFocus()));\n\n    if (dest === -1 && isSlide) {\n      if (!approximatelyEqual(getPosition(), getLimit(!prev), 1)) {\n        return prev ? 0 : endIndex;\n      }\n    }\n\n    return destination ? dest : loop(dest);\n  }\n\n  function computeDestIndex(dest, from, snapPage) {\n    if (isEnough() || hasFocus()) {\n      var index = computeMovableDestIndex(dest);\n\n      if (index !== dest) {\n        from = dest;\n        dest = index;\n        snapPage = false;\n      }\n\n      if (dest < 0 || dest > endIndex) {\n        if (!perMove && (between(0, dest, from, true) || between(endIndex, from, dest, true))) {\n          dest = toIndex(toPage(dest));\n        } else {\n          if (isLoop) {\n            dest = snapPage ? dest < 0 ? -(slideCount % perPage || perPage) : slideCount : dest;\n          } else if (options.rewind) {\n            dest = dest < 0 ? endIndex : 0;\n          } else {\n            dest = -1;\n          }\n        }\n      } else {\n        if (snapPage && dest !== from) {\n          dest = toIndex(toPage(from) + (dest < from ? -1 : 1));\n        }\n      }\n    } else {\n      dest = -1;\n    }\n\n    return dest;\n  }\n\n  function computeMovableDestIndex(dest) {\n    if (isSlide && options.trimSpace === \"move\" && dest !== currIndex) {\n      var position = getPosition();\n\n      while (position === toPosition(dest, true) && between(dest, 0, Splide2.length - 1, !options.rewind)) {\n        dest < currIndex ? --dest : ++dest;\n      }\n    }\n\n    return dest;\n  }\n\n  function loop(index) {\n    return isLoop ? (index + slideCount) % slideCount || 0 : index;\n  }\n\n  function getEnd() {\n    var end = slideCount - (hasFocus() || isLoop && perMove ? 1 : perPage);\n\n    while (omitEnd && end-- > 0) {\n      if (toPosition(slideCount - 1, true) !== toPosition(end, true)) {\n        end++;\n        break;\n      }\n    }\n\n    return clamp(end, 0, slideCount - 1);\n  }\n\n  function toIndex(page) {\n    return clamp(hasFocus() ? page : perPage * page, 0, endIndex);\n  }\n\n  function toPage(index) {\n    return hasFocus() ? min(index, endIndex) : floor((index >= endIndex ? slideCount - 1 : index) / perPage);\n  }\n\n  function toDest(destination) {\n    var closest = Move.toIndex(destination);\n    return isSlide ? clamp(closest, 0, endIndex) : closest;\n  }\n\n  function setIndex(index) {\n    if (index !== currIndex) {\n      prevIndex = currIndex;\n      currIndex = index;\n    }\n  }\n\n  function getIndex(prev) {\n    return prev ? prevIndex : currIndex;\n  }\n\n  function hasFocus() {\n    return !isUndefined(options.focus) || options.isNavigation;\n  }\n\n  function isBusy() {\n    return Splide2.state.is([MOVING, SCROLLING]) && !!options.waitForTransition;\n  }\n\n  return {\n    mount: mount,\n    go: go,\n    scroll: scroll,\n    getNext: getNext,\n    getPrev: getPrev,\n    getAdjacent: getAdjacent,\n    getEnd: getEnd,\n    setIndex: setIndex,\n    getIndex: getIndex,\n    toIndex: toIndex,\n    toPage: toPage,\n    toDest: toDest,\n    hasFocus: hasFocus,\n    isBusy: isBusy\n  };\n}\n\nvar XML_NAME_SPACE = \"http://www.w3.org/2000/svg\";\nvar PATH = \"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z\";\nvar SIZE = 40;\n\nfunction Arrows(Splide2, Components2, options) {\n  var event = EventInterface(Splide2);\n  var on = event.on,\n      bind = event.bind,\n      emit = event.emit;\n  var classes = options.classes,\n      i18n = options.i18n;\n  var Elements = Components2.Elements,\n      Controller = Components2.Controller;\n  var placeholder = Elements.arrows,\n      track = Elements.track;\n  var wrapper = placeholder;\n  var prev = Elements.prev;\n  var next = Elements.next;\n  var created;\n  var wrapperClasses;\n  var arrows = {};\n\n  function mount() {\n    init();\n    on(EVENT_UPDATED, remount);\n  }\n\n  function remount() {\n    destroy();\n    mount();\n  }\n\n  function init() {\n    var enabled = options.arrows;\n\n    if (enabled && !(prev && next)) {\n      createArrows();\n    }\n\n    if (prev && next) {\n      assign(arrows, {\n        prev: prev,\n        next: next\n      });\n      display(wrapper, enabled ? \"\" : \"none\");\n      addClass(wrapper, wrapperClasses = CLASS_ARROWS + \"--\" + options.direction);\n\n      if (enabled) {\n        listen();\n        update();\n        setAttribute([prev, next], ARIA_CONTROLS, track.id);\n        emit(EVENT_ARROWS_MOUNTED, prev, next);\n      }\n    }\n  }\n\n  function destroy() {\n    event.destroy();\n    removeClass(wrapper, wrapperClasses);\n\n    if (created) {\n      remove(placeholder ? [prev, next] : wrapper);\n      prev = next = null;\n    } else {\n      removeAttribute([prev, next], ALL_ATTRIBUTES);\n    }\n  }\n\n  function listen() {\n    on([EVENT_MOUNTED, EVENT_MOVED, EVENT_REFRESH, EVENT_SCROLLED, EVENT_END_INDEX_CHANGED], update);\n    bind(next, \"click\", apply(go, \">\"));\n    bind(prev, \"click\", apply(go, \"<\"));\n  }\n\n  function go(control) {\n    Controller.go(control, true);\n  }\n\n  function createArrows() {\n    wrapper = placeholder || create(\"div\", classes.arrows);\n    prev = createArrow(true);\n    next = createArrow(false);\n    created = true;\n    append(wrapper, [prev, next]);\n    !placeholder && before(wrapper, track);\n  }\n\n  function createArrow(prev2) {\n    var arrow = \"<button class=\\\"\" + classes.arrow + \" \" + (prev2 ? classes.prev : classes.next) + \"\\\" type=\\\"button\\\"><svg xmlns=\\\"\" + XML_NAME_SPACE + \"\\\" viewBox=\\\"0 0 \" + SIZE + \" \" + SIZE + \"\\\" width=\\\"\" + SIZE + \"\\\" height=\\\"\" + SIZE + \"\\\" focusable=\\\"false\\\"><path d=\\\"\" + (options.arrowPath || PATH) + \"\\\" />\";\n    return parseHtml(arrow);\n  }\n\n  function update() {\n    if (prev && next) {\n      var index = Splide2.index;\n      var prevIndex = Controller.getPrev();\n      var nextIndex = Controller.getNext();\n      var prevLabel = prevIndex > -1 && index < prevIndex ? i18n.last : i18n.prev;\n      var nextLabel = nextIndex > -1 && index > nextIndex ? i18n.first : i18n.next;\n      prev.disabled = prevIndex < 0;\n      next.disabled = nextIndex < 0;\n      setAttribute(prev, ARIA_LABEL, prevLabel);\n      setAttribute(next, ARIA_LABEL, nextLabel);\n      emit(EVENT_ARROWS_UPDATED, prev, next, prevIndex, nextIndex);\n    }\n  }\n\n  return {\n    arrows: arrows,\n    mount: mount,\n    destroy: destroy,\n    update: update\n  };\n}\n\nvar INTERVAL_DATA_ATTRIBUTE = DATA_ATTRIBUTE + \"-interval\";\n\nfunction Autoplay(Splide2, Components2, options) {\n  var _EventInterface6 = EventInterface(Splide2),\n      on = _EventInterface6.on,\n      bind = _EventInterface6.bind,\n      emit = _EventInterface6.emit;\n\n  var interval = RequestInterval(options.interval, Splide2.go.bind(Splide2, \">\"), onAnimationFrame);\n  var isPaused = interval.isPaused;\n  var Elements = Components2.Elements,\n      _Components2$Elements4 = Components2.Elements,\n      root = _Components2$Elements4.root,\n      toggle = _Components2$Elements4.toggle;\n  var autoplay = options.autoplay;\n  var hovered;\n  var focused;\n  var stopped = autoplay === \"pause\";\n\n  function mount() {\n    if (autoplay) {\n      listen();\n      toggle && setAttribute(toggle, ARIA_CONTROLS, Elements.track.id);\n      stopped || play();\n      update();\n    }\n  }\n\n  function listen() {\n    if (options.pauseOnHover) {\n      bind(root, \"mouseenter mouseleave\", function (e) {\n        hovered = e.type === \"mouseenter\";\n        autoToggle();\n      });\n    }\n\n    if (options.pauseOnFocus) {\n      bind(root, \"focusin focusout\", function (e) {\n        focused = e.type === \"focusin\";\n        autoToggle();\n      });\n    }\n\n    if (toggle) {\n      bind(toggle, \"click\", function () {\n        stopped ? play() : pause(true);\n      });\n    }\n\n    on([EVENT_MOVE, EVENT_SCROLL, EVENT_REFRESH], interval.rewind);\n    on(EVENT_MOVE, onMove);\n  }\n\n  function play() {\n    if (isPaused() && Components2.Slides.isEnough()) {\n      interval.start(!options.resetProgress);\n      focused = hovered = stopped = false;\n      update();\n      emit(EVENT_AUTOPLAY_PLAY);\n    }\n  }\n\n  function pause(stop) {\n    if (stop === void 0) {\n      stop = true;\n    }\n\n    stopped = !!stop;\n    update();\n\n    if (!isPaused()) {\n      interval.pause();\n      emit(EVENT_AUTOPLAY_PAUSE);\n    }\n  }\n\n  function autoToggle() {\n    if (!stopped) {\n      hovered || focused ? pause(false) : play();\n    }\n  }\n\n  function update() {\n    if (toggle) {\n      toggleClass(toggle, CLASS_ACTIVE, !stopped);\n      setAttribute(toggle, ARIA_LABEL, options.i18n[stopped ? \"play\" : \"pause\"]);\n    }\n  }\n\n  function onAnimationFrame(rate) {\n    var bar = Elements.bar;\n    bar && style(bar, \"width\", rate * 100 + \"%\");\n    emit(EVENT_AUTOPLAY_PLAYING, rate);\n  }\n\n  function onMove(index) {\n    var Slide = Components2.Slides.getAt(index);\n    interval.set(Slide && +getAttribute(Slide.slide, INTERVAL_DATA_ATTRIBUTE) || options.interval);\n  }\n\n  return {\n    mount: mount,\n    destroy: interval.cancel,\n    play: play,\n    pause: pause,\n    isPaused: isPaused\n  };\n}\n\nfunction Cover(Splide2, Components2, options) {\n  var _EventInterface7 = EventInterface(Splide2),\n      on = _EventInterface7.on;\n\n  function mount() {\n    if (options.cover) {\n      on(EVENT_LAZYLOAD_LOADED, apply(toggle, true));\n      on([EVENT_MOUNTED, EVENT_UPDATED, EVENT_REFRESH], apply(cover, true));\n    }\n  }\n\n  function cover(cover2) {\n    Components2.Slides.forEach(function (Slide) {\n      var img = child(Slide.container || Slide.slide, \"img\");\n\n      if (img && img.src) {\n        toggle(cover2, img, Slide);\n      }\n    });\n  }\n\n  function toggle(cover2, img, Slide) {\n    Slide.style(\"background\", cover2 ? \"center/cover no-repeat url(\\\"\" + img.src + \"\\\")\" : \"\", true);\n    display(img, cover2 ? \"none\" : \"\");\n  }\n\n  return {\n    mount: mount,\n    destroy: apply(cover, false)\n  };\n}\n\nvar BOUNCE_DIFF_THRESHOLD = 10;\nvar BOUNCE_DURATION = 600;\nvar FRICTION_FACTOR = 0.6;\nvar BASE_VELOCITY = 1.5;\nvar MIN_DURATION = 800;\n\nfunction Scroll(Splide2, Components2, options) {\n  var _EventInterface8 = EventInterface(Splide2),\n      on = _EventInterface8.on,\n      emit = _EventInterface8.emit;\n\n  var set = Splide2.state.set;\n  var Move = Components2.Move;\n  var getPosition = Move.getPosition,\n      getLimit = Move.getLimit,\n      exceededLimit = Move.exceededLimit,\n      translate = Move.translate;\n  var isSlide = Splide2.is(SLIDE);\n  var interval;\n  var callback;\n  var friction = 1;\n\n  function mount() {\n    on(EVENT_MOVE, clear);\n    on([EVENT_UPDATED, EVENT_REFRESH], cancel);\n  }\n\n  function scroll(destination, duration, snap, onScrolled, noConstrain) {\n    var from = getPosition();\n    clear();\n\n    if (snap && (!isSlide || !exceededLimit())) {\n      var size = Components2.Layout.sliderSize();\n      var offset = sign(destination) * size * floor(abs(destination) / size) || 0;\n      destination = Move.toPosition(Components2.Controller.toDest(destination % size)) + offset;\n    }\n\n    var noDistance = approximatelyEqual(from, destination, 1);\n    friction = 1;\n    duration = noDistance ? 0 : duration || max(abs(destination - from) / BASE_VELOCITY, MIN_DURATION);\n    callback = onScrolled;\n    interval = RequestInterval(duration, onEnd, apply(update, from, destination, noConstrain), 1);\n    set(SCROLLING);\n    emit(EVENT_SCROLL);\n    interval.start();\n  }\n\n  function onEnd() {\n    set(IDLE);\n    callback && callback();\n    emit(EVENT_SCROLLED);\n  }\n\n  function update(from, to, noConstrain, rate) {\n    var position = getPosition();\n    var target = from + (to - from) * easing(rate);\n    var diff = (target - position) * friction;\n    translate(position + diff);\n\n    if (isSlide && !noConstrain && exceededLimit()) {\n      friction *= FRICTION_FACTOR;\n\n      if (abs(diff) < BOUNCE_DIFF_THRESHOLD) {\n        scroll(getLimit(exceededLimit(true)), BOUNCE_DURATION, false, callback, true);\n      }\n    }\n  }\n\n  function clear() {\n    if (interval) {\n      interval.cancel();\n    }\n  }\n\n  function cancel() {\n    if (interval && !interval.isPaused()) {\n      clear();\n      onEnd();\n    }\n  }\n\n  function easing(t) {\n    var easingFunc = options.easingFunc;\n    return easingFunc ? easingFunc(t) : 1 - Math.pow(1 - t, 4);\n  }\n\n  return {\n    mount: mount,\n    destroy: clear,\n    scroll: scroll,\n    cancel: cancel\n  };\n}\n\nvar SCROLL_LISTENER_OPTIONS = {\n  passive: false,\n  capture: true\n};\n\nfunction Drag(Splide2, Components2, options) {\n  var _EventInterface9 = EventInterface(Splide2),\n      on = _EventInterface9.on,\n      emit = _EventInterface9.emit,\n      bind = _EventInterface9.bind,\n      unbind = _EventInterface9.unbind;\n\n  var state = Splide2.state;\n  var Move = Components2.Move,\n      Scroll = Components2.Scroll,\n      Controller = Components2.Controller,\n      track = Components2.Elements.track,\n      reduce = Components2.Media.reduce;\n  var _Components2$Directio2 = Components2.Direction,\n      resolve = _Components2$Directio2.resolve,\n      orient = _Components2$Directio2.orient;\n  var getPosition = Move.getPosition,\n      exceededLimit = Move.exceededLimit;\n  var basePosition;\n  var baseEvent;\n  var prevBaseEvent;\n  var isFree;\n  var dragging;\n  var exceeded = false;\n  var clickPrevented;\n  var disabled;\n  var target;\n\n  function mount() {\n    bind(track, POINTER_MOVE_EVENTS, noop, SCROLL_LISTENER_OPTIONS);\n    bind(track, POINTER_UP_EVENTS, noop, SCROLL_LISTENER_OPTIONS);\n    bind(track, POINTER_DOWN_EVENTS, onPointerDown, SCROLL_LISTENER_OPTIONS);\n    bind(track, \"click\", onClick, {\n      capture: true\n    });\n    bind(track, \"dragstart\", prevent);\n    on([EVENT_MOUNTED, EVENT_UPDATED], init);\n  }\n\n  function init() {\n    var drag = options.drag;\n    disable(!drag);\n    isFree = drag === \"free\";\n  }\n\n  function onPointerDown(e) {\n    clickPrevented = false;\n\n    if (!disabled) {\n      var isTouch = isTouchEvent(e);\n\n      if (isDraggable(e.target) && (isTouch || !e.button)) {\n        if (!Controller.isBusy()) {\n          target = isTouch ? track : window;\n          dragging = state.is([MOVING, SCROLLING]);\n          prevBaseEvent = null;\n          bind(target, POINTER_MOVE_EVENTS, onPointerMove, SCROLL_LISTENER_OPTIONS);\n          bind(target, POINTER_UP_EVENTS, onPointerUp, SCROLL_LISTENER_OPTIONS);\n          Move.cancel();\n          Scroll.cancel();\n          save(e);\n        } else {\n          prevent(e, true);\n        }\n      }\n    }\n  }\n\n  function onPointerMove(e) {\n    if (!state.is(DRAGGING)) {\n      state.set(DRAGGING);\n      emit(EVENT_DRAG);\n    }\n\n    if (e.cancelable) {\n      if (dragging) {\n        Move.translate(basePosition + constrain(diffCoord(e)));\n        var expired = diffTime(e) > LOG_INTERVAL;\n        var hasExceeded = exceeded !== (exceeded = exceededLimit());\n\n        if (expired || hasExceeded) {\n          save(e);\n        }\n\n        clickPrevented = true;\n        emit(EVENT_DRAGGING);\n        prevent(e);\n      } else if (isSliderDirection(e)) {\n        dragging = shouldStart(e);\n        prevent(e);\n      }\n    }\n  }\n\n  function onPointerUp(e) {\n    if (state.is(DRAGGING)) {\n      state.set(IDLE);\n      emit(EVENT_DRAGGED);\n    }\n\n    if (dragging) {\n      move(e);\n      prevent(e);\n    }\n\n    unbind(target, POINTER_MOVE_EVENTS, onPointerMove);\n    unbind(target, POINTER_UP_EVENTS, onPointerUp);\n    dragging = false;\n  }\n\n  function onClick(e) {\n    if (!disabled && clickPrevented) {\n      prevent(e, true);\n    }\n  }\n\n  function save(e) {\n    prevBaseEvent = baseEvent;\n    baseEvent = e;\n    basePosition = getPosition();\n  }\n\n  function move(e) {\n    var velocity = computeVelocity(e);\n    var destination = computeDestination(velocity);\n    var rewind = options.rewind && options.rewindByDrag;\n    reduce(false);\n\n    if (isFree) {\n      Controller.scroll(destination, 0, options.snap);\n    } else if (Splide2.is(FADE)) {\n      Controller.go(orient(sign(velocity)) < 0 ? rewind ? \"<\" : \"-\" : rewind ? \">\" : \"+\");\n    } else if (Splide2.is(SLIDE) && exceeded && rewind) {\n      Controller.go(exceededLimit(true) ? \">\" : \"<\");\n    } else {\n      Controller.go(Controller.toDest(destination), true);\n    }\n\n    reduce(true);\n  }\n\n  function shouldStart(e) {\n    var thresholds = options.dragMinThreshold;\n    var isObj = isObject(thresholds);\n    var mouse = isObj && thresholds.mouse || 0;\n    var touch = (isObj ? thresholds.touch : +thresholds) || 10;\n    return abs(diffCoord(e)) > (isTouchEvent(e) ? touch : mouse);\n  }\n\n  function isSliderDirection(e) {\n    return abs(diffCoord(e)) > abs(diffCoord(e, true));\n  }\n\n  function computeVelocity(e) {\n    if (Splide2.is(LOOP) || !exceeded) {\n      var time = diffTime(e);\n\n      if (time && time < LOG_INTERVAL) {\n        return diffCoord(e) / time;\n      }\n    }\n\n    return 0;\n  }\n\n  function computeDestination(velocity) {\n    return getPosition() + sign(velocity) * min(abs(velocity) * (options.flickPower || 600), isFree ? Infinity : Components2.Layout.listSize() * (options.flickMaxPages || 1));\n  }\n\n  function diffCoord(e, orthogonal) {\n    return coordOf(e, orthogonal) - coordOf(getBaseEvent(e), orthogonal);\n  }\n\n  function diffTime(e) {\n    return timeOf(e) - timeOf(getBaseEvent(e));\n  }\n\n  function getBaseEvent(e) {\n    return baseEvent === e && prevBaseEvent || baseEvent;\n  }\n\n  function coordOf(e, orthogonal) {\n    return (isTouchEvent(e) ? e.changedTouches[0] : e)[\"page\" + resolve(orthogonal ? \"Y\" : \"X\")];\n  }\n\n  function constrain(diff) {\n    return diff / (exceeded && Splide2.is(SLIDE) ? FRICTION : 1);\n  }\n\n  function isDraggable(target2) {\n    var noDrag = options.noDrag;\n    return !matches(target2, \".\" + CLASS_PAGINATION_PAGE + \", .\" + CLASS_ARROW) && (!noDrag || !matches(target2, noDrag));\n  }\n\n  function isTouchEvent(e) {\n    return typeof TouchEvent !== \"undefined\" && e instanceof TouchEvent;\n  }\n\n  function isDragging() {\n    return dragging;\n  }\n\n  function disable(value) {\n    disabled = value;\n  }\n\n  return {\n    mount: mount,\n    disable: disable,\n    isDragging: isDragging\n  };\n}\n\nvar NORMALIZATION_MAP = {\n  Spacebar: \" \",\n  Right: ARROW_RIGHT,\n  Left: ARROW_LEFT,\n  Up: ARROW_UP,\n  Down: ARROW_DOWN\n};\n\nfunction normalizeKey(key) {\n  key = isString(key) ? key : key.key;\n  return NORMALIZATION_MAP[key] || key;\n}\n\nvar KEYBOARD_EVENT = \"keydown\";\n\nfunction Keyboard(Splide2, Components2, options) {\n  var _EventInterface10 = EventInterface(Splide2),\n      on = _EventInterface10.on,\n      bind = _EventInterface10.bind,\n      unbind = _EventInterface10.unbind;\n\n  var root = Splide2.root;\n  var resolve = Components2.Direction.resolve;\n  var target;\n  var disabled;\n\n  function mount() {\n    init();\n    on(EVENT_UPDATED, destroy);\n    on(EVENT_UPDATED, init);\n    on(EVENT_MOVE, onMove);\n  }\n\n  function init() {\n    var keyboard = options.keyboard;\n\n    if (keyboard) {\n      target = keyboard === \"global\" ? window : root;\n      bind(target, KEYBOARD_EVENT, onKeydown);\n    }\n  }\n\n  function destroy() {\n    unbind(target, KEYBOARD_EVENT);\n  }\n\n  function disable(value) {\n    disabled = value;\n  }\n\n  function onMove() {\n    var _disabled = disabled;\n    disabled = true;\n    nextTick(function () {\n      disabled = _disabled;\n    });\n  }\n\n  function onKeydown(e) {\n    if (!disabled) {\n      var key = normalizeKey(e);\n\n      if (key === resolve(ARROW_LEFT)) {\n        Splide2.go(\"<\");\n      } else if (key === resolve(ARROW_RIGHT)) {\n        Splide2.go(\">\");\n      }\n    }\n  }\n\n  return {\n    mount: mount,\n    destroy: destroy,\n    disable: disable\n  };\n}\n\nvar SRC_DATA_ATTRIBUTE = DATA_ATTRIBUTE + \"-lazy\";\nvar SRCSET_DATA_ATTRIBUTE = SRC_DATA_ATTRIBUTE + \"-srcset\";\nvar IMAGE_SELECTOR = \"[\" + SRC_DATA_ATTRIBUTE + \"], [\" + SRCSET_DATA_ATTRIBUTE + \"]\";\n\nfunction LazyLoad(Splide2, Components2, options) {\n  var _EventInterface11 = EventInterface(Splide2),\n      on = _EventInterface11.on,\n      off = _EventInterface11.off,\n      bind = _EventInterface11.bind,\n      emit = _EventInterface11.emit;\n\n  var isSequential = options.lazyLoad === \"sequential\";\n  var events = [EVENT_MOVED, EVENT_SCROLLED];\n  var entries = [];\n\n  function mount() {\n    if (options.lazyLoad) {\n      init();\n      on(EVENT_REFRESH, init);\n    }\n  }\n\n  function init() {\n    empty(entries);\n    register();\n\n    if (isSequential) {\n      loadNext();\n    } else {\n      off(events);\n      on(events, check);\n      check();\n    }\n  }\n\n  function register() {\n    Components2.Slides.forEach(function (Slide) {\n      queryAll(Slide.slide, IMAGE_SELECTOR).forEach(function (img) {\n        var src = getAttribute(img, SRC_DATA_ATTRIBUTE);\n        var srcset = getAttribute(img, SRCSET_DATA_ATTRIBUTE);\n\n        if (src !== img.src || srcset !== img.srcset) {\n          var className = options.classes.spinner;\n          var parent = img.parentElement;\n          var spinner = child(parent, \".\" + className) || create(\"span\", className, parent);\n          entries.push([img, Slide, spinner]);\n          img.src || display(img, \"none\");\n        }\n      });\n    });\n  }\n\n  function check() {\n    entries = entries.filter(function (data) {\n      var distance = options.perPage * ((options.preloadPages || 1) + 1) - 1;\n      return data[1].isWithin(Splide2.index, distance) ? load(data) : true;\n    });\n    entries.length || off(events);\n  }\n\n  function load(data) {\n    var img = data[0];\n    addClass(data[1].slide, CLASS_LOADING);\n    bind(img, \"load error\", apply(onLoad, data));\n    setAttribute(img, \"src\", getAttribute(img, SRC_DATA_ATTRIBUTE));\n    setAttribute(img, \"srcset\", getAttribute(img, SRCSET_DATA_ATTRIBUTE));\n    removeAttribute(img, SRC_DATA_ATTRIBUTE);\n    removeAttribute(img, SRCSET_DATA_ATTRIBUTE);\n  }\n\n  function onLoad(data, e) {\n    var img = data[0],\n        Slide = data[1];\n    removeClass(Slide.slide, CLASS_LOADING);\n\n    if (e.type !== \"error\") {\n      remove(data[2]);\n      display(img, \"\");\n      emit(EVENT_LAZYLOAD_LOADED, img, Slide);\n      emit(EVENT_RESIZE);\n    }\n\n    isSequential && loadNext();\n  }\n\n  function loadNext() {\n    entries.length && load(entries.shift());\n  }\n\n  return {\n    mount: mount,\n    destroy: apply(empty, entries),\n    check: check\n  };\n}\n\nfunction Pagination(Splide2, Components2, options) {\n  var event = EventInterface(Splide2);\n  var on = event.on,\n      emit = event.emit,\n      bind = event.bind;\n  var Slides = Components2.Slides,\n      Elements = Components2.Elements,\n      Controller = Components2.Controller;\n  var hasFocus = Controller.hasFocus,\n      getIndex = Controller.getIndex,\n      go = Controller.go;\n  var resolve = Components2.Direction.resolve;\n  var placeholder = Elements.pagination;\n  var items = [];\n  var list;\n  var paginationClasses;\n\n  function mount() {\n    destroy();\n    on([EVENT_UPDATED, EVENT_REFRESH, EVENT_END_INDEX_CHANGED], mount);\n    var enabled = options.pagination;\n    placeholder && display(placeholder, enabled ? \"\" : \"none\");\n\n    if (enabled) {\n      on([EVENT_MOVE, EVENT_SCROLL, EVENT_SCROLLED], update);\n      createPagination();\n      update();\n      emit(EVENT_PAGINATION_MOUNTED, {\n        list: list,\n        items: items\n      }, getAt(Splide2.index));\n    }\n  }\n\n  function destroy() {\n    if (list) {\n      remove(placeholder ? slice(list.children) : list);\n      removeClass(list, paginationClasses);\n      empty(items);\n      list = null;\n    }\n\n    event.destroy();\n  }\n\n  function createPagination() {\n    var length = Splide2.length;\n    var classes = options.classes,\n        i18n = options.i18n,\n        perPage = options.perPage;\n    var max = hasFocus() ? Controller.getEnd() + 1 : ceil(length / perPage);\n    list = placeholder || create(\"ul\", classes.pagination, Elements.track.parentElement);\n    addClass(list, paginationClasses = CLASS_PAGINATION + \"--\" + getDirection());\n    setAttribute(list, ROLE, \"tablist\");\n    setAttribute(list, ARIA_LABEL, i18n.select);\n    setAttribute(list, ARIA_ORIENTATION, getDirection() === TTB ? \"vertical\" : \"\");\n\n    for (var i = 0; i < max; i++) {\n      var li = create(\"li\", null, list);\n      var button = create(\"button\", {\n        class: classes.page,\n        type: \"button\"\n      }, li);\n      var controls = Slides.getIn(i).map(function (Slide) {\n        return Slide.slide.id;\n      });\n      var text = !hasFocus() && perPage > 1 ? i18n.pageX : i18n.slideX;\n      bind(button, \"click\", apply(onClick, i));\n\n      if (options.paginationKeyboard) {\n        bind(button, \"keydown\", apply(onKeydown, i));\n      }\n\n      setAttribute(li, ROLE, \"presentation\");\n      setAttribute(button, ROLE, \"tab\");\n      setAttribute(button, ARIA_CONTROLS, controls.join(\" \"));\n      setAttribute(button, ARIA_LABEL, format(text, i + 1));\n      setAttribute(button, TAB_INDEX, -1);\n      items.push({\n        li: li,\n        button: button,\n        page: i\n      });\n    }\n  }\n\n  function onClick(page) {\n    go(\">\" + page, true);\n  }\n\n  function onKeydown(page, e) {\n    var length = items.length;\n    var key = normalizeKey(e);\n    var dir = getDirection();\n    var nextPage = -1;\n\n    if (key === resolve(ARROW_RIGHT, false, dir)) {\n      nextPage = ++page % length;\n    } else if (key === resolve(ARROW_LEFT, false, dir)) {\n      nextPage = (--page + length) % length;\n    } else if (key === \"Home\") {\n      nextPage = 0;\n    } else if (key === \"End\") {\n      nextPage = length - 1;\n    }\n\n    var item = items[nextPage];\n\n    if (item) {\n      focus(item.button);\n      go(\">\" + nextPage);\n      prevent(e, true);\n    }\n  }\n\n  function getDirection() {\n    return options.paginationDirection || options.direction;\n  }\n\n  function getAt(index) {\n    return items[Controller.toPage(index)];\n  }\n\n  function update() {\n    var prev = getAt(getIndex(true));\n    var curr = getAt(getIndex());\n\n    if (prev) {\n      var button = prev.button;\n      removeClass(button, CLASS_ACTIVE);\n      removeAttribute(button, ARIA_SELECTED);\n      setAttribute(button, TAB_INDEX, -1);\n    }\n\n    if (curr) {\n      var _button = curr.button;\n      addClass(_button, CLASS_ACTIVE);\n      setAttribute(_button, ARIA_SELECTED, true);\n      setAttribute(_button, TAB_INDEX, \"\");\n    }\n\n    emit(EVENT_PAGINATION_UPDATED, {\n      list: list,\n      items: items\n    }, prev, curr);\n  }\n\n  return {\n    items: items,\n    mount: mount,\n    destroy: destroy,\n    getAt: getAt,\n    update: update\n  };\n}\n\nvar TRIGGER_KEYS = [\" \", \"Enter\"];\n\nfunction Sync(Splide2, Components2, options) {\n  var isNavigation = options.isNavigation,\n      slideFocus = options.slideFocus;\n  var events = [];\n\n  function mount() {\n    Splide2.splides.forEach(function (target) {\n      if (!target.isParent) {\n        sync(Splide2, target.splide);\n        sync(target.splide, Splide2);\n      }\n    });\n\n    if (isNavigation) {\n      navigate();\n    }\n  }\n\n  function destroy() {\n    events.forEach(function (event) {\n      event.destroy();\n    });\n    empty(events);\n  }\n\n  function remount() {\n    destroy();\n    mount();\n  }\n\n  function sync(splide, target) {\n    var event = EventInterface(splide);\n    event.on(EVENT_MOVE, function (index, prev, dest) {\n      target.go(target.is(LOOP) ? dest : index);\n    });\n    events.push(event);\n  }\n\n  function navigate() {\n    var event = EventInterface(Splide2);\n    var on = event.on;\n    on(EVENT_CLICK, onClick);\n    on(EVENT_SLIDE_KEYDOWN, onKeydown);\n    on([EVENT_MOUNTED, EVENT_UPDATED], update);\n    events.push(event);\n    event.emit(EVENT_NAVIGATION_MOUNTED, Splide2.splides);\n  }\n\n  function update() {\n    setAttribute(Components2.Elements.list, ARIA_ORIENTATION, options.direction === TTB ? \"vertical\" : \"\");\n  }\n\n  function onClick(Slide) {\n    Splide2.go(Slide.index);\n  }\n\n  function onKeydown(Slide, e) {\n    if (includes(TRIGGER_KEYS, normalizeKey(e))) {\n      onClick(Slide);\n      prevent(e);\n    }\n  }\n\n  return {\n    setup: apply(Components2.Media.set, {\n      slideFocus: isUndefined(slideFocus) ? isNavigation : slideFocus\n    }, true),\n    mount: mount,\n    destroy: destroy,\n    remount: remount\n  };\n}\n\nfunction Wheel(Splide2, Components2, options) {\n  var _EventInterface12 = EventInterface(Splide2),\n      bind = _EventInterface12.bind;\n\n  var lastTime = 0;\n\n  function mount() {\n    if (options.wheel) {\n      bind(Components2.Elements.track, \"wheel\", onWheel, SCROLL_LISTENER_OPTIONS);\n    }\n  }\n\n  function onWheel(e) {\n    if (e.cancelable) {\n      var deltaY = e.deltaY;\n      var backwards = deltaY < 0;\n      var timeStamp = timeOf(e);\n\n      var _min = options.wheelMinThreshold || 0;\n\n      var sleep = options.wheelSleep || 0;\n\n      if (abs(deltaY) > _min && timeStamp - lastTime > sleep) {\n        Splide2.go(backwards ? \"<\" : \">\");\n        lastTime = timeStamp;\n      }\n\n      shouldPrevent(backwards) && prevent(e);\n    }\n  }\n\n  function shouldPrevent(backwards) {\n    return !options.releaseWheel || Splide2.state.is(MOVING) || Components2.Controller.getAdjacent(backwards) !== -1;\n  }\n\n  return {\n    mount: mount\n  };\n}\n\nvar SR_REMOVAL_DELAY = 90;\n\nfunction Live(Splide2, Components2, options) {\n  var _EventInterface13 = EventInterface(Splide2),\n      on = _EventInterface13.on;\n\n  var track = Components2.Elements.track;\n  var enabled = options.live && !options.isNavigation;\n  var sr = create(\"span\", CLASS_SR);\n  var interval = RequestInterval(SR_REMOVAL_DELAY, apply(toggle, false));\n\n  function mount() {\n    if (enabled) {\n      disable(!Components2.Autoplay.isPaused());\n      setAttribute(track, ARIA_ATOMIC, true);\n      sr.textContent = \"\\u2026\";\n      on(EVENT_AUTOPLAY_PLAY, apply(disable, true));\n      on(EVENT_AUTOPLAY_PAUSE, apply(disable, false));\n      on([EVENT_MOVED, EVENT_SCROLLED], apply(toggle, true));\n    }\n  }\n\n  function toggle(active) {\n    setAttribute(track, ARIA_BUSY, active);\n\n    if (active) {\n      append(track, sr);\n      interval.start();\n    } else {\n      remove(sr);\n      interval.cancel();\n    }\n  }\n\n  function destroy() {\n    removeAttribute(track, [ARIA_LIVE, ARIA_ATOMIC, ARIA_BUSY]);\n    remove(sr);\n  }\n\n  function disable(disabled) {\n    if (enabled) {\n      setAttribute(track, ARIA_LIVE, disabled ? \"off\" : \"polite\");\n    }\n  }\n\n  return {\n    mount: mount,\n    disable: disable,\n    destroy: destroy\n  };\n}\n\nvar ComponentConstructors = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Media: Media,\n  Direction: Direction,\n  Elements: Elements,\n  Slides: Slides,\n  Layout: Layout,\n  Clones: Clones,\n  Move: Move,\n  Controller: Controller,\n  Arrows: Arrows,\n  Autoplay: Autoplay,\n  Cover: Cover,\n  Scroll: Scroll,\n  Drag: Drag,\n  Keyboard: Keyboard,\n  LazyLoad: LazyLoad,\n  Pagination: Pagination,\n  Sync: Sync,\n  Wheel: Wheel,\n  Live: Live\n});\nvar I18N = {\n  prev: \"Previous slide\",\n  next: \"Next slide\",\n  first: \"Go to first slide\",\n  last: \"Go to last slide\",\n  slideX: \"Go to slide %s\",\n  pageX: \"Go to page %s\",\n  play: \"Start autoplay\",\n  pause: \"Pause autoplay\",\n  carousel: \"carousel\",\n  slide: \"slide\",\n  select: \"Select a slide to show\",\n  slideLabel: \"%s of %s\"\n};\nvar DEFAULTS = {\n  type: \"slide\",\n  role: \"region\",\n  speed: 400,\n  perPage: 1,\n  cloneStatus: true,\n  arrows: true,\n  pagination: true,\n  paginationKeyboard: true,\n  interval: 5e3,\n  pauseOnHover: true,\n  pauseOnFocus: true,\n  resetProgress: true,\n  easing: \"cubic-bezier(0.25, 1, 0.5, 1)\",\n  drag: true,\n  direction: \"ltr\",\n  trimSpace: true,\n  focusableNodes: \"a, button, textarea, input, select, iframe\",\n  live: true,\n  classes: CLASSES,\n  i18n: I18N,\n  reducedMotion: {\n    speed: 0,\n    rewindSpeed: 0,\n    autoplay: \"pause\"\n  }\n};\n\nfunction Fade(Splide2, Components2, options) {\n  var Slides = Components2.Slides;\n\n  function mount() {\n    EventInterface(Splide2).on([EVENT_MOUNTED, EVENT_REFRESH], init);\n  }\n\n  function init() {\n    Slides.forEach(function (Slide) {\n      Slide.style(\"transform\", \"translateX(-\" + 100 * Slide.index + \"%)\");\n    });\n  }\n\n  function start(index, done) {\n    Slides.style(\"transition\", \"opacity \" + options.speed + \"ms \" + options.easing);\n    nextTick(done);\n  }\n\n  return {\n    mount: mount,\n    start: start,\n    cancel: noop\n  };\n}\n\nfunction Slide(Splide2, Components2, options) {\n  var Move = Components2.Move,\n      Controller = Components2.Controller,\n      Scroll = Components2.Scroll;\n  var list = Components2.Elements.list;\n  var transition = apply(style, list, \"transition\");\n  var endCallback;\n\n  function mount() {\n    EventInterface(Splide2).bind(list, \"transitionend\", function (e) {\n      if (e.target === list && endCallback) {\n        cancel();\n        endCallback();\n      }\n    });\n  }\n\n  function start(index, done) {\n    var destination = Move.toPosition(index, true);\n    var position = Move.getPosition();\n    var speed = getSpeed(index);\n\n    if (abs(destination - position) >= 1 && speed >= 1) {\n      if (options.useScroll) {\n        Scroll.scroll(destination, speed, false, done);\n      } else {\n        transition(\"transform \" + speed + \"ms \" + options.easing);\n        Move.translate(destination, true);\n        endCallback = done;\n      }\n    } else {\n      Move.jump(index);\n      done();\n    }\n  }\n\n  function cancel() {\n    transition(\"\");\n    Scroll.cancel();\n  }\n\n  function getSpeed(index) {\n    var rewindSpeed = options.rewindSpeed;\n\n    if (Splide2.is(SLIDE) && rewindSpeed) {\n      var prev = Controller.getIndex(true);\n      var end = Controller.getEnd();\n\n      if (prev === 0 && index >= end || prev >= end && index === 0) {\n        return rewindSpeed;\n      }\n    }\n\n    return options.speed;\n  }\n\n  return {\n    mount: mount,\n    start: start,\n    cancel: cancel\n  };\n}\n\nvar _Splide = /*#__PURE__*/function () {\n  function _Splide(target, options) {\n    this.event = EventInterface();\n    this.Components = {};\n    this.state = State(CREATED);\n    this.splides = [];\n    this._o = {};\n    this._E = {};\n    var root = isString(target) ? query(document, target) : target;\n    assert(root, root + \" is invalid.\");\n    this.root = root;\n    options = merge({\n      label: getAttribute(root, ARIA_LABEL) || \"\",\n      labelledby: getAttribute(root, ARIA_LABELLEDBY) || \"\"\n    }, DEFAULTS, _Splide.defaults, options || {});\n\n    try {\n      merge(options, JSON.parse(getAttribute(root, DATA_ATTRIBUTE)));\n    } catch (e) {\n      assert(false, \"Invalid JSON\");\n    }\n\n    this._o = Object.create(merge({}, options));\n  }\n\n  var _proto = _Splide.prototype;\n\n  _proto.mount = function mount(Extensions, Transition) {\n    var _this = this;\n\n    var state = this.state,\n        Components2 = this.Components;\n    assert(state.is([CREATED, DESTROYED]), \"Already mounted!\");\n    state.set(CREATED);\n    this._C = Components2;\n    this._T = Transition || this._T || (this.is(FADE) ? Fade : Slide);\n    this._E = Extensions || this._E;\n    var Constructors = assign({}, ComponentConstructors, this._E, {\n      Transition: this._T\n    });\n    forOwn(Constructors, function (Component, key) {\n      var component = Component(_this, Components2, _this._o);\n      Components2[key] = component;\n      component.setup && component.setup();\n    });\n    forOwn(Components2, function (component) {\n      component.mount && component.mount();\n    });\n    this.emit(EVENT_MOUNTED);\n    addClass(this.root, CLASS_INITIALIZED);\n    state.set(IDLE);\n    this.emit(EVENT_READY);\n    return this;\n  };\n\n  _proto.sync = function sync(splide) {\n    this.splides.push({\n      splide: splide\n    });\n    splide.splides.push({\n      splide: this,\n      isParent: true\n    });\n\n    if (this.state.is(IDLE)) {\n      this._C.Sync.remount();\n\n      splide.Components.Sync.remount();\n    }\n\n    return this;\n  };\n\n  _proto.go = function go(control) {\n    this._C.Controller.go(control);\n\n    return this;\n  };\n\n  _proto.on = function on(events, callback) {\n    this.event.on(events, callback);\n    return this;\n  };\n\n  _proto.off = function off(events) {\n    this.event.off(events);\n    return this;\n  };\n\n  _proto.emit = function emit(event) {\n    var _this$event;\n\n    (_this$event = this.event).emit.apply(_this$event, [event].concat(slice(arguments, 1)));\n\n    return this;\n  };\n\n  _proto.add = function add(slides, index) {\n    this._C.Slides.add(slides, index);\n\n    return this;\n  };\n\n  _proto.remove = function remove(matcher) {\n    this._C.Slides.remove(matcher);\n\n    return this;\n  };\n\n  _proto.is = function is(type) {\n    return this._o.type === type;\n  };\n\n  _proto.refresh = function refresh() {\n    this.emit(EVENT_REFRESH);\n    return this;\n  };\n\n  _proto.destroy = function destroy(completely) {\n    if (completely === void 0) {\n      completely = true;\n    }\n\n    var event = this.event,\n        state = this.state;\n\n    if (state.is(CREATED)) {\n      EventInterface(this).on(EVENT_READY, this.destroy.bind(this, completely));\n    } else {\n      forOwn(this._C, function (component) {\n        component.destroy && component.destroy(completely);\n      }, true);\n      event.emit(EVENT_DESTROY);\n      event.destroy();\n      completely && empty(this.splides);\n      state.set(DESTROYED);\n    }\n\n    return this;\n  };\n\n  _createClass(_Splide, [{\n    key: \"options\",\n    get: function get() {\n      return this._o;\n    },\n    set: function set(options) {\n      this._C.Media.set(options, true, true);\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this._C.Slides.getLength(true);\n    }\n  }, {\n    key: \"index\",\n    get: function get() {\n      return this._C.Controller.getIndex();\n    }\n  }]);\n\n  return _Splide;\n}();\n\nvar Splide = _Splide;\nSplide.defaults = {};\nSplide.STATES = STATES;\nvar CLASS_RENDERED = \"is-rendered\";\nvar RENDERER_DEFAULT_CONFIG = {\n  listTag: \"ul\",\n  slideTag: \"li\"\n};\n\nvar Style = /*#__PURE__*/function () {\n  function Style(id, options) {\n    this.styles = {};\n    this.id = id;\n    this.options = options;\n  }\n\n  var _proto2 = Style.prototype;\n\n  _proto2.rule = function rule(selector, prop, value, breakpoint) {\n    breakpoint = breakpoint || \"default\";\n    var selectors = this.styles[breakpoint] = this.styles[breakpoint] || {};\n    var styles = selectors[selector] = selectors[selector] || {};\n    styles[prop] = value;\n  };\n\n  _proto2.build = function build() {\n    var _this2 = this;\n\n    var css = \"\";\n\n    if (this.styles.default) {\n      css += this.buildSelectors(this.styles.default);\n    }\n\n    Object.keys(this.styles).sort(function (n, m) {\n      return _this2.options.mediaQuery === \"min\" ? +n - +m : +m - +n;\n    }).forEach(function (breakpoint) {\n      if (breakpoint !== \"default\") {\n        css += \"@media screen and (max-width: \" + breakpoint + \"px) {\";\n        css += _this2.buildSelectors(_this2.styles[breakpoint]);\n        css += \"}\";\n      }\n    });\n    return css;\n  };\n\n  _proto2.buildSelectors = function buildSelectors(selectors) {\n    var _this3 = this;\n\n    var css = \"\";\n    forOwn(selectors, function (styles, selector) {\n      selector = (\"#\" + _this3.id + \" \" + selector).trim();\n      css += selector + \" {\";\n      forOwn(styles, function (value, prop) {\n        if (value || value === 0) {\n          css += prop + \": \" + value + \";\";\n        }\n      });\n      css += \"}\";\n    });\n    return css;\n  };\n\n  return Style;\n}();\n\nvar SplideRenderer = /*#__PURE__*/function () {\n  function SplideRenderer(contents, options, config, defaults) {\n    this.slides = [];\n    this.options = {};\n    this.breakpoints = [];\n    merge(DEFAULTS, defaults || {});\n    merge(merge(this.options, DEFAULTS), options || {});\n    this.contents = contents;\n    this.config = assign({}, RENDERER_DEFAULT_CONFIG, config || {});\n    this.id = this.config.id || uniqueId(\"splide\");\n    this.Style = new Style(this.id, this.options);\n    this.Direction = Direction(null, null, this.options);\n    assert(this.contents.length, \"Provide at least 1 content.\");\n    this.init();\n  }\n\n  SplideRenderer.clean = function clean(splide) {\n    var _EventInterface14 = EventInterface(splide),\n        on = _EventInterface14.on;\n\n    var root = splide.root;\n    var clones = queryAll(root, \".\" + CLASS_CLONE);\n    on(EVENT_MOUNTED, function () {\n      remove(child(root, \"style\"));\n    });\n    remove(clones);\n  };\n\n  var _proto3 = SplideRenderer.prototype;\n\n  _proto3.init = function init() {\n    this.parseBreakpoints();\n    this.initSlides();\n    this.registerRootStyles();\n    this.registerTrackStyles();\n    this.registerSlideStyles();\n    this.registerListStyles();\n  };\n\n  _proto3.initSlides = function initSlides() {\n    var _this4 = this;\n\n    push(this.slides, this.contents.map(function (content, index) {\n      content = isString(content) ? {\n        html: content\n      } : content;\n      content.styles = content.styles || {};\n      content.attrs = content.attrs || {};\n\n      _this4.cover(content);\n\n      var classes = _this4.options.classes.slide + \" \" + (index === 0 ? CLASS_ACTIVE : \"\");\n      assign(content.attrs, {\n        class: (classes + \" \" + (content.attrs.class || \"\")).trim(),\n        style: _this4.buildStyles(content.styles)\n      });\n      return content;\n    }));\n\n    if (this.isLoop()) {\n      this.generateClones(this.slides);\n    }\n  };\n\n  _proto3.registerRootStyles = function registerRootStyles() {\n    var _this5 = this;\n\n    this.breakpoints.forEach(function (_ref2) {\n      var width = _ref2[0],\n          options = _ref2[1];\n\n      _this5.Style.rule(\" \", \"max-width\", unit(options.width), width);\n    });\n  };\n\n  _proto3.registerTrackStyles = function registerTrackStyles() {\n    var _this6 = this;\n\n    var Style2 = this.Style;\n    var selector = \".\" + CLASS_TRACK;\n    this.breakpoints.forEach(function (_ref3) {\n      var width = _ref3[0],\n          options = _ref3[1];\n      Style2.rule(selector, _this6.resolve(\"paddingLeft\"), _this6.cssPadding(options, false), width);\n      Style2.rule(selector, _this6.resolve(\"paddingRight\"), _this6.cssPadding(options, true), width);\n      Style2.rule(selector, \"height\", _this6.cssTrackHeight(options), width);\n    });\n  };\n\n  _proto3.registerListStyles = function registerListStyles() {\n    var _this7 = this;\n\n    var Style2 = this.Style;\n    var selector = \".\" + CLASS_LIST;\n    this.breakpoints.forEach(function (_ref4) {\n      var width = _ref4[0],\n          options = _ref4[1];\n      Style2.rule(selector, \"transform\", _this7.buildTranslate(options), width);\n\n      if (!_this7.cssSlideHeight(options)) {\n        Style2.rule(selector, \"aspect-ratio\", _this7.cssAspectRatio(options), width);\n      }\n    });\n  };\n\n  _proto3.registerSlideStyles = function registerSlideStyles() {\n    var _this8 = this;\n\n    var Style2 = this.Style;\n    var selector = \".\" + CLASS_SLIDE;\n    this.breakpoints.forEach(function (_ref5) {\n      var width = _ref5[0],\n          options = _ref5[1];\n      Style2.rule(selector, \"width\", _this8.cssSlideWidth(options), width);\n      Style2.rule(selector, \"height\", _this8.cssSlideHeight(options) || \"100%\", width);\n      Style2.rule(selector, _this8.resolve(\"marginRight\"), unit(options.gap) || \"0px\", width);\n      Style2.rule(selector + \" > img\", \"display\", options.cover ? \"none\" : \"inline\", width);\n    });\n  };\n\n  _proto3.buildTranslate = function buildTranslate(options) {\n    var _this$Direction = this.Direction,\n        resolve = _this$Direction.resolve,\n        orient = _this$Direction.orient;\n    var values = [];\n    values.push(this.cssOffsetClones(options));\n    values.push(this.cssOffsetGaps(options));\n\n    if (this.isCenter(options)) {\n      values.push(this.buildCssValue(orient(-50), \"%\"));\n      values.push.apply(values, this.cssOffsetCenter(options));\n    }\n\n    return values.filter(Boolean).map(function (value) {\n      return \"translate\" + resolve(\"X\") + \"(\" + value + \")\";\n    }).join(\" \");\n  };\n\n  _proto3.cssOffsetClones = function cssOffsetClones(options) {\n    var _this$Direction2 = this.Direction,\n        resolve = _this$Direction2.resolve,\n        orient = _this$Direction2.orient;\n    var cloneCount = this.getCloneCount();\n\n    if (this.isFixedWidth(options)) {\n      var _this$parseCssValue = this.parseCssValue(options[resolve(\"fixedWidth\")]),\n          value = _this$parseCssValue.value,\n          unit2 = _this$parseCssValue.unit;\n\n      return this.buildCssValue(orient(value) * cloneCount, unit2);\n    }\n\n    var percent = 100 * cloneCount / options.perPage;\n    return orient(percent) + \"%\";\n  };\n\n  _proto3.cssOffsetCenter = function cssOffsetCenter(options) {\n    var _this$Direction3 = this.Direction,\n        resolve = _this$Direction3.resolve,\n        orient = _this$Direction3.orient;\n\n    if (this.isFixedWidth(options)) {\n      var _this$parseCssValue2 = this.parseCssValue(options[resolve(\"fixedWidth\")]),\n          value = _this$parseCssValue2.value,\n          unit2 = _this$parseCssValue2.unit;\n\n      return [this.buildCssValue(orient(value / 2), unit2)];\n    }\n\n    var values = [];\n    var perPage = options.perPage,\n        gap = options.gap;\n    values.push(orient(50 / perPage) + \"%\");\n\n    if (gap) {\n      var _this$parseCssValue3 = this.parseCssValue(gap),\n          _value = _this$parseCssValue3.value,\n          _unit = _this$parseCssValue3.unit;\n\n      var gapOffset = (_value / perPage - _value) / 2;\n      values.push(this.buildCssValue(orient(gapOffset), _unit));\n    }\n\n    return values;\n  };\n\n  _proto3.cssOffsetGaps = function cssOffsetGaps(options) {\n    var cloneCount = this.getCloneCount();\n\n    if (cloneCount && options.gap) {\n      var orient = this.Direction.orient;\n\n      var _this$parseCssValue4 = this.parseCssValue(options.gap),\n          value = _this$parseCssValue4.value,\n          unit2 = _this$parseCssValue4.unit;\n\n      if (this.isFixedWidth(options)) {\n        return this.buildCssValue(orient(value * cloneCount), unit2);\n      }\n\n      var perPage = options.perPage;\n      var gaps = cloneCount / perPage;\n      return this.buildCssValue(orient(gaps * value), unit2);\n    }\n\n    return \"\";\n  };\n\n  _proto3.resolve = function resolve(prop) {\n    return camelToKebab(this.Direction.resolve(prop));\n  };\n\n  _proto3.cssPadding = function cssPadding(options, right) {\n    var padding = options.padding;\n    var prop = this.Direction.resolve(right ? \"right\" : \"left\", true);\n    return padding && unit(padding[prop] || (isObject(padding) ? 0 : padding)) || \"0px\";\n  };\n\n  _proto3.cssTrackHeight = function cssTrackHeight(options) {\n    var height = \"\";\n\n    if (this.isVertical()) {\n      height = this.cssHeight(options);\n      assert(height, '\"height\" is missing.');\n      height = \"calc(\" + height + \" - \" + this.cssPadding(options, false) + \" - \" + this.cssPadding(options, true) + \")\";\n    }\n\n    return height;\n  };\n\n  _proto3.cssHeight = function cssHeight(options) {\n    return unit(options.height);\n  };\n\n  _proto3.cssSlideWidth = function cssSlideWidth(options) {\n    return options.autoWidth ? \"\" : unit(options.fixedWidth) || (this.isVertical() ? \"\" : this.cssSlideSize(options));\n  };\n\n  _proto3.cssSlideHeight = function cssSlideHeight(options) {\n    return unit(options.fixedHeight) || (this.isVertical() ? options.autoHeight ? \"\" : this.cssSlideSize(options) : this.cssHeight(options));\n  };\n\n  _proto3.cssSlideSize = function cssSlideSize(options) {\n    var gap = unit(options.gap);\n    return \"calc((100%\" + (gap && \" + \" + gap) + \")/\" + (options.perPage || 1) + (gap && \" - \" + gap) + \")\";\n  };\n\n  _proto3.cssAspectRatio = function cssAspectRatio(options) {\n    var heightRatio = options.heightRatio;\n    return heightRatio ? \"\" + 1 / heightRatio : \"\";\n  };\n\n  _proto3.buildCssValue = function buildCssValue(value, unit2) {\n    return \"\" + value + unit2;\n  };\n\n  _proto3.parseCssValue = function parseCssValue(value) {\n    if (isString(value)) {\n      var number = parseFloat(value) || 0;\n      var unit2 = value.replace(/\\d*(\\.\\d*)?/, \"\") || \"px\";\n      return {\n        value: number,\n        unit: unit2\n      };\n    }\n\n    return {\n      value: value,\n      unit: \"px\"\n    };\n  };\n\n  _proto3.parseBreakpoints = function parseBreakpoints() {\n    var _this9 = this;\n\n    var breakpoints = this.options.breakpoints;\n    this.breakpoints.push([\"default\", this.options]);\n\n    if (breakpoints) {\n      forOwn(breakpoints, function (options, width) {\n        _this9.breakpoints.push([width, merge(merge({}, _this9.options), options)]);\n      });\n    }\n  };\n\n  _proto3.isFixedWidth = function isFixedWidth(options) {\n    return !!options[this.Direction.resolve(\"fixedWidth\")];\n  };\n\n  _proto3.isLoop = function isLoop() {\n    return this.options.type === LOOP;\n  };\n\n  _proto3.isCenter = function isCenter(options) {\n    if (options.focus === \"center\") {\n      if (this.isLoop()) {\n        return true;\n      }\n\n      if (this.options.type === SLIDE) {\n        return !this.options.trimSpace;\n      }\n    }\n\n    return false;\n  };\n\n  _proto3.isVertical = function isVertical() {\n    return this.options.direction === TTB;\n  };\n\n  _proto3.buildClasses = function buildClasses() {\n    var options = this.options;\n    return [CLASS_ROOT, CLASS_ROOT + \"--\" + options.type, CLASS_ROOT + \"--\" + options.direction, options.drag && CLASS_ROOT + \"--draggable\", options.isNavigation && CLASS_ROOT + \"--nav\", CLASS_ACTIVE, !this.config.hidden && CLASS_RENDERED].filter(Boolean).join(\" \");\n  };\n\n  _proto3.buildAttrs = function buildAttrs(attrs) {\n    var attr = \"\";\n    forOwn(attrs, function (value, key) {\n      attr += value ? \" \" + camelToKebab(key) + \"=\\\"\" + value + \"\\\"\" : \"\";\n    });\n    return attr.trim();\n  };\n\n  _proto3.buildStyles = function buildStyles(styles) {\n    var style = \"\";\n    forOwn(styles, function (value, key) {\n      style += \" \" + camelToKebab(key) + \":\" + value + \";\";\n    });\n    return style.trim();\n  };\n\n  _proto3.renderSlides = function renderSlides() {\n    var _this10 = this;\n\n    var tag = this.config.slideTag;\n    return this.slides.map(function (content) {\n      return \"<\" + tag + \" \" + _this10.buildAttrs(content.attrs) + \">\" + (content.html || \"\") + \"</\" + tag + \">\";\n    }).join(\"\");\n  };\n\n  _proto3.cover = function cover(content) {\n    var styles = content.styles,\n        _content$html = content.html,\n        html = _content$html === void 0 ? \"\" : _content$html;\n\n    if (this.options.cover && !this.options.lazyLoad) {\n      var src = html.match(/<img.*?src\\s*=\\s*(['\"])(.+?)\\1.*?>/);\n\n      if (src && src[2]) {\n        styles.background = \"center/cover no-repeat url('\" + src[2] + \"')\";\n      }\n    }\n  };\n\n  _proto3.generateClones = function generateClones(contents) {\n    var classes = this.options.classes;\n    var count = this.getCloneCount();\n    var slides = contents.slice();\n\n    while (slides.length < count) {\n      push(slides, slides);\n    }\n\n    push(slides.slice(-count).reverse(), slides.slice(0, count)).forEach(function (content, index) {\n      var attrs = assign({}, content.attrs, {\n        class: content.attrs.class + \" \" + classes.clone\n      });\n      var clone = assign({}, content, {\n        attrs: attrs\n      });\n      index < count ? contents.unshift(clone) : contents.push(clone);\n    });\n  };\n\n  _proto3.getCloneCount = function getCloneCount() {\n    if (this.isLoop()) {\n      var options = this.options;\n\n      if (options.clones) {\n        return options.clones;\n      }\n\n      var perPage = max.apply(void 0, this.breakpoints.map(function (_ref6) {\n        var options2 = _ref6[1];\n        return options2.perPage;\n      }));\n      return perPage * ((options.flickMaxPages || 1) + 1);\n    }\n\n    return 0;\n  };\n\n  _proto3.renderArrows = function renderArrows() {\n    var html = \"\";\n    html += \"<div class=\\\"\" + this.options.classes.arrows + \"\\\">\";\n    html += this.renderArrow(true);\n    html += this.renderArrow(false);\n    html += \"</div>\";\n    return html;\n  };\n\n  _proto3.renderArrow = function renderArrow(prev) {\n    var _this$options = this.options,\n        classes = _this$options.classes,\n        i18n = _this$options.i18n;\n    var attrs = {\n      class: classes.arrow + \" \" + (prev ? classes.prev : classes.next),\n      type: \"button\",\n      ariaLabel: prev ? i18n.prev : i18n.next\n    };\n    return \"<button \" + this.buildAttrs(attrs) + \"><svg xmlns=\\\"\" + XML_NAME_SPACE + \"\\\" viewBox=\\\"0 0 \" + SIZE + \" \" + SIZE + \"\\\" width=\\\"\" + SIZE + \"\\\" height=\\\"\" + SIZE + \"\\\"><path d=\\\"\" + (this.options.arrowPath || PATH) + \"\\\" /></svg></button>\";\n  };\n\n  _proto3.html = function html() {\n    var _this$config = this.config,\n        rootClass = _this$config.rootClass,\n        listTag = _this$config.listTag,\n        arrows = _this$config.arrows,\n        beforeTrack = _this$config.beforeTrack,\n        afterTrack = _this$config.afterTrack,\n        slider = _this$config.slider,\n        beforeSlider = _this$config.beforeSlider,\n        afterSlider = _this$config.afterSlider;\n    var html = \"\";\n    html += \"<div id=\\\"\" + this.id + \"\\\" class=\\\"\" + this.buildClasses() + \" \" + (rootClass || \"\") + \"\\\">\";\n    html += \"<style>\" + this.Style.build() + \"</style>\";\n\n    if (slider) {\n      html += beforeSlider || \"\";\n      html += \"<div class=\\\"splide__slider\\\">\";\n    }\n\n    html += beforeTrack || \"\";\n\n    if (arrows) {\n      html += this.renderArrows();\n    }\n\n    html += \"<div class=\\\"splide__track\\\">\";\n    html += \"<\" + listTag + \" class=\\\"splide__list\\\">\";\n    html += this.renderSlides();\n    html += \"</\" + listTag + \">\";\n    html += \"</div>\";\n    html += afterTrack || \"\";\n\n    if (slider) {\n      html += \"</div>\";\n      html += afterSlider || \"\";\n    }\n\n    html += \"</div>\";\n    return html;\n  };\n\n  return SplideRenderer;\n}();\n\nexport { CLASSES, CLASS_ACTIVE, CLASS_ARROW, CLASS_ARROWS, CLASS_ARROW_NEXT, CLASS_ARROW_PREV, CLASS_CLONE, CLASS_CONTAINER, CLASS_FOCUS_IN, CLASS_INITIALIZED, CLASS_LIST, CLASS_LOADING, CLASS_NEXT, CLASS_OVERFLOW, CLASS_PAGINATION, CLASS_PAGINATION_PAGE, CLASS_PREV, CLASS_PROGRESS, CLASS_PROGRESS_BAR, CLASS_ROOT, CLASS_SLIDE, CLASS_SPINNER, CLASS_SR, CLASS_TOGGLE, CLASS_TOGGLE_PAUSE, CLASS_TOGGLE_PLAY, CLASS_TRACK, CLASS_VISIBLE, DEFAULTS, EVENT_ACTIVE, EVENT_ARROWS_MOUNTED, EVENT_ARROWS_UPDATED, EVENT_AUTOPLAY_PAUSE, EVENT_AUTOPLAY_PLAY, EVENT_AUTOPLAY_PLAYING, EVENT_CLICK, EVENT_DESTROY, EVENT_DRAG, EVENT_DRAGGED, EVENT_DRAGGING, EVENT_END_INDEX_CHANGED, EVENT_HIDDEN, EVENT_INACTIVE, EVENT_LAZYLOAD_LOADED, EVENT_MOUNTED, EVENT_MOVE, EVENT_MOVED, EVENT_NAVIGATION_MOUNTED, EVENT_OVERFLOW, EVENT_PAGINATION_MOUNTED, EVENT_PAGINATION_UPDATED, EVENT_READY, EVENT_REFRESH, EVENT_RESIZE, EVENT_RESIZED, EVENT_SCROLL, EVENT_SCROLLED, EVENT_SHIFTED, EVENT_SLIDE_KEYDOWN, EVENT_UPDATED, EVENT_VISIBLE, EventBinder, EventInterface, FADE, LOOP, LTR, RTL, RequestInterval, SLIDE, STATUS_CLASSES, Splide, SplideRenderer, State, TTB, Throttle, Splide as default };\n","import React, { useEffect, useRef } from \"react\";\r\nimport \"@splidejs/splide/dist/css/splide.min.css\"; // Import Splide CSS\r\nimport Splide from \"@splidejs/splide\"; // Import Splide library\r\n\r\nconst Slideshow = ({ images }) => {\r\n  const splideRef = useRef(null); // Reference for Splide instance\r\n\r\n  // Initialize Splide when component mounts\r\n  useEffect(() => {\r\n    // Check if splideRef is available\r\n    if (splideRef.current) {\r\n      // Initialize Splide with options\r\n      new Splide(splideRef.current, {\r\n        type: \"loop\", // Enable loop for continuous slideshow\r\n        perPage: 1, // Number of slides to display at once\r\n        autoplay: false, // Disable autoplay\r\n      }).mount(); // Mount Splide instance\r\n    }\r\n  }, []); // Only runs on component mount\r\n\r\n  return (\r\n    <>\r\n      {/* Inline style for slide images */}\r\n      <style>\r\n        {`\r\n          .splide__slide img {\r\n            width: 100%;\r\n            height: 600px;\r\n            object-fit: contain;\r\n          }\r\n        `}\r\n      </style>\r\n      {/* Splide container */}\r\n      <section ref={splideRef} className=\"splide\">\r\n        <aside className=\"splide__track\">\r\n          <ul className=\"splide__list\">\r\n            {/* Map through images to create slide elements */}\r\n            {images &&\r\n              images.map((pic, index) => (\r\n                <li className=\"splide__slide\" key={index}>\r\n                  {/* Display image */}\r\n                  <img src={pic} alt={`Slide ${index + 1}`} />\r\n                </li>\r\n              ))}\r\n          </ul>\r\n        </aside>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Slideshow;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport Heading from \"../components/Heading\";\r\nimport TagLine from \"../components/TagLine\";\r\nimport { close } from \"../assets\";\r\nimport Slideshow from \"../components/Slideshow\";\r\n\r\n// Import all PNGs from the assets/films directory\r\nconst importAll = (r) => r.keys().map(r);\r\nconst filmImages = importAll(\r\n  require.context(\"../assets/films\", false, /\\.png$/)\r\n);\r\n\r\nconst EssayContent = ({ theories }) => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [backgroundImage, setBackgroundImage] = useState(\"\");\r\n\r\n  const goBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  const theory = theories.find((item) => item.id === id);\r\n\r\n  useEffect(() => {\r\n    // Scroll to the top when component mounts\r\n    window.scrollTo(0, 0);\r\n\r\n    // Randomly select one of the film images\r\n    const randomImage =\r\n      filmImages[Math.floor(Math.random() * filmImages.length)];\r\n    setBackgroundImage(randomImage);\r\n  }, []); // Empty dependency array ensures this effect runs only once\r\n\r\n  if (!theory) {\r\n    return <section>Theory not found</section>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Transparent overlay with random background image */}\r\n      <section\r\n        style={{\r\n          position: \"fixed\",\r\n          top: 0,\r\n          left: 0,\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          backgroundColor: \"rgba(0, 0, 0, 0.5)\", // Adjust opacity as needed\r\n          backgroundImage: `url(${backgroundImage})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center\",\r\n          zIndex: 9999, // Ensure it's above other content\r\n        }}\r\n        onClick={goBack} // Allow clicking outside the box to go back\r\n      ></section>\r\n\r\n      {/* Main content */}\r\n      <article\r\n        style={{\r\n          maxWidth: \"1000px\",\r\n          margin: \"100px auto 0\",\r\n          padding: \"20px\",\r\n          position: \"relative\",\r\n          borderRadius: \"10px\",\r\n          boxShadow: \"0 0 10px rgba(0, 0, 0, 0.3)\",\r\n          zIndex: 10000, // Ensure it's above the overlay\r\n          backgroundColor: \"#0a0321\", // Background color of the box\r\n        }}\r\n      >\r\n        {/* Close button */}\r\n        <figure\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"10px\",\r\n            right: \"10px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={goBack}\r\n        >\r\n          <img\r\n            src={close}\r\n            alt=\"Close\"\r\n            style={{ width: \"30px\", height: \"30px\" }}\r\n          />\r\n        </figure>\r\n\r\n        <Heading tag=\"Research\" title={theory.title} />\r\n        {theory.paragraphs.map((paragraph, index) => (\r\n          <p key={index} style={{ marginBottom: \"10px\" }}>\r\n            {paragraph}\r\n          </p>\r\n        ))}\r\n        <TagLine style={{ marginBottom: \"10px\" }}>Bibliography</TagLine>\r\n        {theory.Bibliography.map((biblio, index) => (\r\n          <p key={index} style={{ marginBottom: \"10px\", marginTop: \"5px\" }}>\r\n            {biblio}\r\n          </p>\r\n        ))}\r\n        {theory.picture && theory.picture.length > 0 && (\r\n          <Slideshow images={theory.picture} />\r\n        )}\r\n      </article>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EssayContent;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport Heading from \"../components/Heading\";\r\nimport { close } from \"../assets\";\r\nimport Slideshow from \"../components/Slideshow\";\r\n\r\n// Function to import all film images from the assets folder\r\nconst importAll = (r) => r.keys().map(r);\r\nconst filmImages = importAll(\r\n  require.context(\"../assets/films\", false, /\\.png$/)\r\n);\r\n\r\nconst DesignContent = ({ theories }) => {\r\n  // Initialize variables\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const [backgroundImage, setBackgroundImage] = useState(\"\");\r\n  const theory = theories.find((item) => item.id === id);\r\n\r\n  // Effect hook to set up random background image and scroll to top\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const randomImage =\r\n      filmImages[Math.floor(Math.random() * filmImages.length)];\r\n    setBackgroundImage(randomImage);\r\n  }, []);\r\n\r\n  // Function to handle going back\r\n  const goBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  if (!theory) {\r\n    return <section>Design not found</section>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Background overlay */}\r\n      <section\r\n        style={{\r\n          position: \"fixed\",\r\n          top: 0,\r\n          left: 0,\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n          backgroundImage: `url(${backgroundImage})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center\",\r\n          zIndex: 9999,\r\n        }}\r\n        onClick={goBack}\r\n      ></section>\r\n\r\n      {/* Content section */}\r\n      <section\r\n        style={{\r\n          maxWidth: \"1000px\",\r\n          margin: \"100px auto 0\",\r\n          padding: \"20px\",\r\n          position: \"relative\",\r\n          borderRadius: \"10px\",\r\n          boxShadow: \"0 0 10px rgba(0, 0, 0, 0.3)\",\r\n          zIndex: 10000,\r\n          backgroundColor: \"#0a0321\",\r\n        }}\r\n      >\r\n        {/* Close button */}\r\n        <figure\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"10px\",\r\n            right: \"10px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={goBack}\r\n        >\r\n          <img\r\n            src={close}\r\n            alt=\"Close\"\r\n            style={{ width: \"30px\", height: \"30px\" }}\r\n          />\r\n        </figure>\r\n\r\n        {/* Main content */}\r\n        <article\r\n          style={{ maxWidth: \"800px\", margin: \"0 auto\", padding: \"20px\" }}\r\n        >\r\n          <Heading tag=\"Design\" title={theory.title} />\r\n          {/* Render theory content */}\r\n          {theory.content.map((content, index) => (\r\n            <p key={index} style={{ marginBottom: \"10px\" }}>\r\n              {content}\r\n            </p>\r\n          ))}\r\n          {/* Render slideshow if pictures are available */}\r\n          {theory.picture && theory.picture.length > 0 && (\r\n            <Slideshow images={theory.picture} />\r\n          )}\r\n        </article>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DesignContent;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport Heading from \"../components/Heading\";\r\nimport { close } from \"../assets\";\r\n\r\n// Function to import all film images from the assets folder\r\nconst importAll = (r) => r.keys().map(r);\r\nconst filmImages = importAll(\r\n  require.context(\"../assets/films\", false, /\\.png$/)\r\n);\r\n\r\nconst AboutContent = ({ theories }) => {\r\n  // Initialize variables\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const [backgroundImage, setBackgroundImage] = useState(\"\");\r\n  const theory = theories.find((item) => item.id === id);\r\n\r\n  // Effect hook to set up random background image and scroll to top\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const randomImage =\r\n      filmImages[Math.floor(Math.random() * filmImages.length)];\r\n    setBackgroundImage(randomImage);\r\n  }, []);\r\n\r\n  // Function to handle going back\r\n  const goBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  // Render content\r\n  if (!theory) {\r\n    return <section>About not found</section>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Background overlay */}\r\n      <section\r\n        style={{\r\n          position: \"fixed\",\r\n          top: 0,\r\n          left: 0,\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n          backgroundImage: `url(${backgroundImage})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center\",\r\n          zIndex: 9999,\r\n        }}\r\n        onClick={goBack}\r\n      ></section>\r\n\r\n      {/* Content section */}\r\n      <section\r\n        style={{\r\n          maxWidth: \"1000px\",\r\n          margin: \"100px auto 0\",\r\n          padding: \"20px\",\r\n          position: \"relative\",\r\n          borderRadius: \"10px\",\r\n          boxShadow: \"0 0 10px rgba(0, 0, 0, 0.3)\",\r\n          zIndex: 10000,\r\n          backgroundColor: \"#0a0321\",\r\n        }}\r\n      >\r\n        {/* Close button */}\r\n        <aside\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"10px\",\r\n            right: \"10px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={goBack}\r\n        >\r\n          <img\r\n            src={close}\r\n            alt=\"Close\"\r\n            style={{ width: \"30px\", height: \"30px\" }}\r\n          />\r\n        </aside>\r\n\r\n        {/* Main content */}\r\n        <article\r\n          style={{ maxWidth: \"800px\", margin: \"0 auto\", padding: \"20px\" }}\r\n        >\r\n          <Heading tag=\"About\" title={theory.title} />\r\n          {/* Render theory content */}\r\n          {theory.content.map((content, index) => (\r\n            <p key={index} style={{ marginBottom: \"10px\" }}>\r\n              {content}\r\n            </p>\r\n          ))}\r\n        </article>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AboutContent;\r\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","export var MS = '-ms-'\nexport var MOZ = '-moz-'\nexport var WEBKIT = '-webkit-'\n\nexport var COMMENT = 'comm'\nexport var RULESET = 'rule'\nexport var DECLARATION = 'decl'\n\nexport var PAGE = '@page'\nexport var MEDIA = '@media'\nexport var IMPORT = '@import'\nexport var CHARSET = '@charset'\nexport var VIEWPORT = '@viewport'\nexport var SUPPORTS = '@supports'\nexport var DOCUMENT = '@document'\nexport var NAMESPACE = '@namespace'\nexport var KEYFRAMES = '@keyframes'\nexport var FONT_FACE = '@font-face'\nexport var COUNTER_STYLE = '@counter-style'\nexport var FONT_FEATURE_VALUES = '@font-feature-values'\nexport var LAYER = '@layer'\nexport var SCOPE = '@scope'\n","/**\n * @param {number}\n * @return {number}\n */\nexport var abs = Math.abs\n\n/**\n * @param {number}\n * @return {string}\n */\nexport var from = String.fromCharCode\n\n/**\n * @param {object}\n * @return {object}\n */\nexport var assign = Object.assign\n\n/**\n * @param {string} value\n * @param {number} length\n * @return {number}\n */\nexport function hash (value, length) {\n\treturn charat(value, 0) ^ 45 ? (((((((length << 2) ^ charat(value, 0)) << 2) ^ charat(value, 1)) << 2) ^ charat(value, 2)) << 2) ^ charat(value, 3) : 0\n}\n\n/**\n * @param {string} value\n * @return {string}\n */\nexport function trim (value) {\n\treturn value.trim()\n}\n\n/**\n * @param {string} value\n * @param {RegExp} pattern\n * @return {string?}\n */\nexport function match (value, pattern) {\n\treturn (value = pattern.exec(value)) ? value[0] : value\n}\n\n/**\n * @param {string} value\n * @param {(string|RegExp)} pattern\n * @param {string} replacement\n * @return {string}\n */\nexport function replace (value, pattern, replacement) {\n\treturn value.replace(pattern, replacement)\n}\n\n/**\n * @param {string} value\n * @param {string} search\n * @param {number} position\n * @return {number}\n */\nexport function indexof (value, search, position) {\n\treturn value.indexOf(search, position)\n}\n\n/**\n * @param {string} value\n * @param {number} index\n * @return {number}\n */\nexport function charat (value, index) {\n\treturn value.charCodeAt(index) | 0\n}\n\n/**\n * @param {string} value\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function substr (value, begin, end) {\n\treturn value.slice(begin, end)\n}\n\n/**\n * @param {string} value\n * @return {number}\n */\nexport function strlen (value) {\n\treturn value.length\n}\n\n/**\n * @param {any[]} value\n * @return {number}\n */\nexport function sizeof (value) {\n\treturn value.length\n}\n\n/**\n * @param {any} value\n * @param {any[]} array\n * @return {any}\n */\nexport function append (value, array) {\n\treturn array.push(value), value\n}\n\n/**\n * @param {string[]} array\n * @param {function} callback\n * @return {string}\n */\nexport function combine (array, callback) {\n\treturn array.map(callback).join('')\n}\n\n/**\n * @param {string[]} array\n * @param {RegExp} pattern\n * @return {string[]}\n */\nexport function filter (array, pattern) {\n\treturn array.filter(function (value) { return !match(value, pattern) })\n}\n","import {from, trim, charat, strlen, substr, append, assign} from './Utility.js'\n\nexport var line = 1\nexport var column = 1\nexport var length = 0\nexport var position = 0\nexport var character = 0\nexport var characters = ''\n\n/**\n * @param {string} value\n * @param {object | null} root\n * @param {object | null} parent\n * @param {string} type\n * @param {string[] | string} props\n * @param {object[] | string} children\n * @param {object[]} siblings\n * @param {number} length\n */\nexport function node (value, root, parent, type, props, children, length, siblings) {\n\treturn {value: value, root: root, parent: parent, type: type, props: props, children: children, line: line, column: column, length: length, return: '', siblings: siblings}\n}\n\n/**\n * @param {object} root\n * @param {object} props\n * @return {object}\n */\nexport function copy (root, props) {\n\treturn assign(node('', null, null, '', null, null, 0, root.siblings), root, {length: -root.length}, props)\n}\n\n/**\n * @param {object} root\n */\nexport function lift (root) {\n\twhile (root.root)\n\t\troot = copy(root.root, {children: [root]})\n\n\tappend(root, root.siblings)\n}\n\n/**\n * @return {number}\n */\nexport function char () {\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function prev () {\n\tcharacter = position > 0 ? charat(characters, --position) : 0\n\n\tif (column--, character === 10)\n\t\tcolumn = 1, line--\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function next () {\n\tcharacter = position < length ? charat(characters, position++) : 0\n\n\tif (column++, character === 10)\n\t\tcolumn = 1, line++\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function peek () {\n\treturn charat(characters, position)\n}\n\n/**\n * @return {number}\n */\nexport function caret () {\n\treturn position\n}\n\n/**\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function slice (begin, end) {\n\treturn substr(characters, begin, end)\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function token (type) {\n\tswitch (type) {\n\t\t// \\0 \\t \\n \\r \\s whitespace token\n\t\tcase 0: case 9: case 10: case 13: case 32:\n\t\t\treturn 5\n\t\t// ! + , / > @ ~ isolate token\n\t\tcase 33: case 43: case 44: case 47: case 62: case 64: case 126:\n\t\t// ; { } breakpoint token\n\t\tcase 59: case 123: case 125:\n\t\t\treturn 4\n\t\t// : accompanied token\n\t\tcase 58:\n\t\t\treturn 3\n\t\t// \" ' ( [ opening delimit token\n\t\tcase 34: case 39: case 40: case 91:\n\t\t\treturn 2\n\t\t// ) ] closing delimit token\n\t\tcase 41: case 93:\n\t\t\treturn 1\n\t}\n\n\treturn 0\n}\n\n/**\n * @param {string} value\n * @return {any[]}\n */\nexport function alloc (value) {\n\treturn line = column = 1, length = strlen(characters = value), position = 0, []\n}\n\n/**\n * @param {any} value\n * @return {any}\n */\nexport function dealloc (value) {\n\treturn characters = '', value\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function delimit (type) {\n\treturn trim(slice(position - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)))\n}\n\n/**\n * @param {string} value\n * @return {string[]}\n */\nexport function tokenize (value) {\n\treturn dealloc(tokenizer(alloc(value)))\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function whitespace (type) {\n\twhile (character = peek())\n\t\tif (character < 33)\n\t\t\tnext()\n\t\telse\n\t\t\tbreak\n\n\treturn token(type) > 2 || token(character) > 3 ? '' : ' '\n}\n\n/**\n * @param {string[]} children\n * @return {string[]}\n */\nexport function tokenizer (children) {\n\twhile (next())\n\t\tswitch (token(character)) {\n\t\t\tcase 0: append(identifier(position - 1), children)\n\t\t\t\tbreak\n\t\t\tcase 2: append(delimit(character), children)\n\t\t\t\tbreak\n\t\t\tdefault: append(from(character), children)\n\t\t}\n\n\treturn children\n}\n\n/**\n * @param {number} index\n * @param {number} count\n * @return {string}\n */\nexport function escaping (index, count) {\n\twhile (--count && next())\n\t\t// not 0-9 A-F a-f\n\t\tif (character < 48 || character > 102 || (character > 57 && character < 65) || (character > 70 && character < 97))\n\t\t\tbreak\n\n\treturn slice(index, caret() + (count < 6 && peek() == 32 && next() == 32))\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function delimiter (type) {\n\twhile (next())\n\t\tswitch (character) {\n\t\t\t// ] ) \" '\n\t\t\tcase type:\n\t\t\t\treturn position\n\t\t\t// \" '\n\t\t\tcase 34: case 39:\n\t\t\t\tif (type !== 34 && type !== 39)\n\t\t\t\t\tdelimiter(character)\n\t\t\t\tbreak\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (type === 41)\n\t\t\t\t\tdelimiter(type)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tnext()\n\t\t\t\tbreak\n\t\t}\n\n\treturn position\n}\n\n/**\n * @param {number} type\n * @param {number} index\n * @return {number}\n */\nexport function commenter (type, index) {\n\twhile (next())\n\t\t// //\n\t\tif (type + character === 47 + 10)\n\t\t\tbreak\n\t\t// /*\n\t\telse if (type + character === 42 + 42 && peek() === 47)\n\t\t\tbreak\n\n\treturn '/*' + slice(index, position - 1) + '*' + from(type === 47 ? type : next())\n}\n\n/**\n * @param {number} index\n * @return {string}\n */\nexport function identifier (index) {\n\twhile (!token(peek()))\n\t\tnext()\n\n\treturn slice(index, position)\n}\n","import {IMPORT, LAYER, COMMENT, RULESET, DECLARATION, KEYFRAMES} from './Enum.js'\nimport {strlen} from './Utility.js'\n\n/**\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function serialize (children, callback) {\n\tvar output = ''\n\n\tfor (var i = 0; i < children.length; i++)\n\t\toutput += callback(children[i], i, children, callback) || ''\n\n\treturn output\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function stringify (element, index, children, callback) {\n\tswitch (element.type) {\n\t\tcase LAYER: if (element.children.length) break\n\t\tcase IMPORT: case DECLARATION: return element.return = element.return || element.value\n\t\tcase COMMENT: return ''\n\t\tcase KEYFRAMES: return element.return = element.value + '{' + serialize(element.children, callback) + '}'\n\t\tcase RULESET: if (!strlen(element.value = element.props.join(','))) return ''\n\t}\n\n\treturn strlen(children = serialize(element.children, callback)) ? element.return = element.value + '{' + children + '}' : ''\n}\n","import {MS, MOZ, WEBKIT} from './Enum.js'\nimport {hash, charat, strlen, indexof, replace, substr, match} from './Utility.js'\n\n/**\n * @param {string} value\n * @param {number} length\n * @param {object[]} children\n * @return {string}\n */\nexport function prefix (value, length, children) {\n\tswitch (hash(value, length)) {\n\t\t// color-adjust\n\t\tcase 5103:\n\t\t\treturn WEBKIT + 'print-' + value + value\n\t\t// animation, animation-(delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function)\n\t\tcase 5737: case 4201: case 3177: case 3433: case 1641: case 4457: case 2921:\n\t\t// text-decoration, filter, clip-path, backface-visibility, column, box-decoration-break\n\t\tcase 5572: case 6356: case 5844: case 3191: case 6645: case 3005:\n\t\t// mask, mask-image, mask-(mode|clip|size), mask-(repeat|origin), mask-position, mask-composite,\n\t\tcase 6391: case 5879: case 5623: case 6135: case 4599: case 4855:\n\t\t// background-clip, columns, column-(count|fill|gap|rule|rule-color|rule-style|rule-width|span|width)\n\t\tcase 4215: case 6389: case 5109: case 5365: case 5621: case 3829:\n\t\t\treturn WEBKIT + value + value\n\t\t// tab-size\n\t\tcase 4789:\n\t\t\treturn MOZ + value + value\n\t\t// appearance, user-select, transform, hyphens, text-size-adjust\n\t\tcase 5349: case 4246: case 4810: case 6968: case 2756:\n\t\t\treturn WEBKIT + value + MOZ + value + MS + value + value\n\t\t// writing-mode\n\t\tcase 5936:\n\t\t\tswitch (charat(value, length + 11)) {\n\t\t\t\t// vertical-l(r)\n\t\t\t\tcase 114:\n\t\t\t\t\treturn WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb') + value\n\t\t\t\t// vertical-r(l)\n\t\t\t\tcase 108:\n\t\t\t\t\treturn WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb-rl') + value\n\t\t\t\t// horizontal(-)tb\n\t\t\t\tcase 45:\n\t\t\t\t\treturn WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'lr') + value\n\t\t\t\t// default: fallthrough to below\n\t\t\t}\n\t\t// flex, flex-direction, scroll-snap-type, writing-mode\n\t\tcase 6828: case 4268: case 2903:\n\t\t\treturn WEBKIT + value + MS + value + value\n\t\t// order\n\t\tcase 6165:\n\t\t\treturn WEBKIT + value + MS + 'flex-' + value + value\n\t\t// align-items\n\t\tcase 5187:\n\t\t\treturn WEBKIT + value + replace(value, /(\\w+).+(:[^]+)/, WEBKIT + 'box-$1$2' + MS + 'flex-$1$2') + value\n\t\t// align-self\n\t\tcase 5443:\n\t\t\treturn WEBKIT + value + MS + 'flex-item-' + replace(value, /flex-|-self/g, '') + (!match(value, /flex-|baseline/) ? MS + 'grid-row-' + replace(value, /flex-|-self/g, '') : '') + value\n\t\t// align-content\n\t\tcase 4675:\n\t\t\treturn WEBKIT + value + MS + 'flex-line-pack' + replace(value, /align-content|flex-|-self/g, '') + value\n\t\t// flex-shrink\n\t\tcase 5548:\n\t\t\treturn WEBKIT + value + MS + replace(value, 'shrink', 'negative') + value\n\t\t// flex-basis\n\t\tcase 5292:\n\t\t\treturn WEBKIT + value + MS + replace(value, 'basis', 'preferred-size') + value\n\t\t// flex-grow\n\t\tcase 6060:\n\t\t\treturn WEBKIT + 'box-' + replace(value, '-grow', '') + WEBKIT + value + MS + replace(value, 'grow', 'positive') + value\n\t\t// transition\n\t\tcase 4554:\n\t\t\treturn WEBKIT + replace(value, /([^-])(transform)/g, '$1' + WEBKIT + '$2') + value\n\t\t// cursor\n\t\tcase 6187:\n\t\t\treturn replace(replace(replace(value, /(zoom-|grab)/, WEBKIT + '$1'), /(image-set)/, WEBKIT + '$1'), value, '') + value\n\t\t// background, background-image\n\t\tcase 5495: case 3959:\n\t\t\treturn replace(value, /(image-set\\([^]*)/, WEBKIT + '$1' + '$`$1')\n\t\t// justify-content\n\t\tcase 4968:\n\t\t\treturn replace(replace(value, /(.+:)(flex-)?(.*)/, WEBKIT + 'box-pack:$3' + MS + 'flex-pack:$3'), /s.+-b[^;]+/, 'justify') + WEBKIT + value + value\n\t\t// justify-self\n\t\tcase 4200:\n\t\t\tif (!match(value, /flex-|baseline/)) return MS + 'grid-column-align' + substr(value, length) + value\n\t\t\tbreak\n\t\t// grid-template-(columns|rows)\n\t\tcase 2592: case 3360:\n\t\t\treturn MS + replace(value, 'template-', '') + value\n\t\t// grid-(row|column)-start\n\t\tcase 4384: case 3616:\n\t\t\tif (children && children.some(function (element, index) { return length = index, match(element.props, /grid-\\w+-end/) })) {\n\t\t\t\treturn ~indexof(value + (children = children[length].value), 'span', 0) ? value : (MS + replace(value, '-start', '') + value + MS + 'grid-row-span:' + (~indexof(children, 'span', 0) ? match(children, /\\d+/) : +match(children, /\\d+/) - +match(value, /\\d+/)) + ';')\n\t\t\t}\n\t\t\treturn MS + replace(value, '-start', '') + value\n\t\t// grid-(row|column)-end\n\t\tcase 4896: case 4128:\n\t\t\treturn (children && children.some(function (element) { return match(element.props, /grid-\\w+-start/) })) ? value : MS + replace(replace(value, '-end', '-span'), 'span ', '') + value\n\t\t// (margin|padding)-inline-(start|end)\n\t\tcase 4095: case 3583: case 4068: case 2532:\n\t\t\treturn replace(value, /(.+)-inline(.+)/, WEBKIT + '$1$2') + value\n\t\t// (min|max)?(width|height|inline-size|block-size)\n\t\tcase 8116: case 7059: case 5753: case 5535:\n\t\tcase 5445: case 5701: case 4933: case 4677:\n\t\tcase 5533: case 5789: case 5021: case 4765:\n\t\t\t// stretch, max-content, min-content, fill-available\n\t\t\tif (strlen(value) - 1 - length > 6)\n\t\t\t\tswitch (charat(value, length + 1)) {\n\t\t\t\t\t// (m)ax-content, (m)in-content\n\t\t\t\t\tcase 109:\n\t\t\t\t\t\t// -\n\t\t\t\t\t\tif (charat(value, length + 4) !== 45)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t// (f)ill-available, (f)it-content\n\t\t\t\t\tcase 102:\n\t\t\t\t\t\treturn replace(value, /(.+:)(.+)-([^]+)/, '$1' + WEBKIT + '$2-$3' + '$1' + MOZ + (charat(value, length + 3) == 108 ? '$3' : '$2-$3')) + value\n\t\t\t\t\t// (s)tretch\n\t\t\t\t\tcase 115:\n\t\t\t\t\t\treturn ~indexof(value, 'stretch', 0) ? prefix(replace(value, 'stretch', 'fill-available'), length, children) + value : value\n\t\t\t\t}\n\t\t\tbreak\n\t\t// grid-(column|row)\n\t\tcase 5152: case 5920:\n\t\t\treturn replace(value, /(.+?):(\\d+)(\\s*\\/\\s*(span)?\\s*(\\d+))?(.*)/, function (_, a, b, c, d, e, f) { return (MS + a + ':' + b + f) + (c ? (MS + a + '-span:' + (d ? e : +e - +b)) + f : '') + value })\n\t\t// position: sticky\n\t\tcase 4949:\n\t\t\t// stick(y)?\n\t\t\tif (charat(value, length + 6) === 121)\n\t\t\t\treturn replace(value, ':', ':' + WEBKIT) + value\n\t\t\tbreak\n\t\t// display: (flex|inline-flex|grid|inline-grid)\n\t\tcase 6444:\n\t\t\tswitch (charat(value, charat(value, 14) === 45 ? 18 : 11)) {\n\t\t\t\t// (inline-)?fle(x)\n\t\t\t\tcase 120:\n\t\t\t\t\treturn replace(value, /(.+:)([^;\\s!]+)(;|(\\s+)?!.+)?/, '$1' + WEBKIT + (charat(value, 14) === 45 ? 'inline-' : '') + 'box$3' + '$1' + WEBKIT + '$2$3' + '$1' + MS + '$2box$3') + value\n\t\t\t\t// (inline-)?gri(d)\n\t\t\t\tcase 100:\n\t\t\t\t\treturn replace(value, ':', ':' + MS) + value\n\t\t\t}\n\t\t\tbreak\n\t\t// scroll-margin, scroll-margin-(top|right|bottom|left)\n\t\tcase 5719: case 2647: case 2135: case 3927: case 2391:\n\t\t\treturn replace(value, 'scroll-', 'scroll-snap-') + value\n\t}\n\n\treturn value\n}\n","import {MS, MOZ, WEBKIT, RULESET, KEYFRAMES, DECLARATION} from './Enum.js'\nimport {match, charat, substr, strlen, sizeof, replace, combine, filter, assign} from './Utility.js'\nimport {copy, lift, tokenize} from './Tokenizer.js'\nimport {serialize} from './Serializer.js'\nimport {prefix} from './Prefixer.js'\n\n/**\n * @param {function[]} collection\n * @return {function}\n */\nexport function middleware (collection) {\n\tvar length = sizeof(collection)\n\n\treturn function (element, index, children, callback) {\n\t\tvar output = ''\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\toutput += collection[i](element, index, children, callback) || ''\n\n\t\treturn output\n\t}\n}\n\n/**\n * @param {function} callback\n * @return {function}\n */\nexport function rulesheet (callback) {\n\treturn function (element) {\n\t\tif (!element.root)\n\t\t\tif (element = element.return)\n\t\t\t\tcallback(element)\n\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n */\nexport function prefixer (element, index, children, callback) {\n\tif (element.length > -1)\n\t\tif (!element.return)\n\t\t\tswitch (element.type) {\n\t\t\t\tcase DECLARATION: element.return = prefix(element.value, element.length, children)\n\t\t\t\t\treturn\n\t\t\t\tcase KEYFRAMES:\n\t\t\t\t\treturn serialize([copy(element, {value: replace(element.value, '@', '@' + WEBKIT)})], callback)\n\t\t\t\tcase RULESET:\n\t\t\t\t\tif (element.length)\n\t\t\t\t\t\treturn combine(children = element.props, function (value) {\n\t\t\t\t\t\t\tswitch (match(value, callback = /(::plac\\w+|:read-\\w+)/)) {\n\t\t\t\t\t\t\t\t// :read-(only|write)\n\t\t\t\t\t\t\t\tcase ':read-only': case ':read-write':\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [value]}))\n\t\t\t\t\t\t\t\t\tassign(element, {props: filter(children, callback)})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t// :placeholder\n\t\t\t\t\t\t\t\tcase '::placeholder':\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [value]}))\n\t\t\t\t\t\t\t\t\tassign(element, {props: filter(children, callback)})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn ''\n\t\t\t\t\t\t})\n\t\t\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n */\nexport function namespace (element) {\n\tswitch (element.type) {\n\t\tcase RULESET:\n\t\t\telement.props = element.props.map(function (value) {\n\t\t\t\treturn combine(tokenize(value), function (value, index, children) {\n\t\t\t\t\tswitch (charat(value, 0)) {\n\t\t\t\t\t\t// \\f\n\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\treturn substr(value, 1, strlen(value))\n\t\t\t\t\t\t// \\0 ( + > ~\n\t\t\t\t\t\tcase 0: case 40: case 43: case 62: case 126:\n\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t// :\n\t\t\t\t\t\tcase 58:\n\t\t\t\t\t\t\tif (children[++index] === 'global')\n\t\t\t\t\t\t\t\tchildren[index] = '', children[++index] = '\\f' + substr(children[index], index = 1, -1)\n\t\t\t\t\t\t// \\s\n\t\t\t\t\t\tcase 32:\n\t\t\t\t\t\t\treturn index === 1 ? '' : value\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tswitch (index) {\n\t\t\t\t\t\t\t\tcase 0: element = value\n\t\t\t\t\t\t\t\t\treturn sizeof(children) > 1 ? '' : value\n\t\t\t\t\t\t\t\tcase index = sizeof(children) - 1: case 2:\n\t\t\t\t\t\t\t\t\treturn index === 2 ? value + element + element : value + element\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t}\n}\n","import {COMMENT, RULESET, DECLARATION} from './Enum.js'\nimport {abs, charat, trim, from, sizeof, strlen, substr, append, replace, indexof} from './Utility.js'\nimport {node, char, prev, next, peek, caret, alloc, dealloc, delimit, whitespace, escaping, identifier, commenter} from './Tokenizer.js'\n\n/**\n * @param {string} value\n * @return {object[]}\n */\nexport function compile (value) {\n\treturn dealloc(parse('', null, null, null, [''], value = alloc(value), 0, [0], value))\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {string[]} rule\n * @param {string[]} rules\n * @param {string[]} rulesets\n * @param {number[]} pseudo\n * @param {number[]} points\n * @param {string[]} declarations\n * @return {object}\n */\nexport function parse (value, root, parent, rule, rules, rulesets, pseudo, points, declarations) {\n\tvar index = 0\n\tvar offset = 0\n\tvar length = pseudo\n\tvar atrule = 0\n\tvar property = 0\n\tvar previous = 0\n\tvar variable = 1\n\tvar scanning = 1\n\tvar ampersand = 1\n\tvar character = 0\n\tvar type = ''\n\tvar props = rules\n\tvar children = rulesets\n\tvar reference = rule\n\tvar characters = type\n\n\twhile (scanning)\n\t\tswitch (previous = character, character = next()) {\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (previous != 108 && charat(characters, length - 1) == 58) {\n\t\t\t\t\tif (indexof(characters += replace(delimit(character), '&', '&\\f'), '&\\f', abs(index ? points[index - 1] : 0)) != -1)\n\t\t\t\t\t\tampersand = -1\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t// \" ' [\n\t\t\tcase 34: case 39: case 91:\n\t\t\t\tcharacters += delimit(character)\n\t\t\t\tbreak\n\t\t\t// \\t \\n \\r \\s\n\t\t\tcase 9: case 10: case 13: case 32:\n\t\t\t\tcharacters += whitespace(previous)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tcharacters += escaping(caret() - 1, 7)\n\t\t\t\tcontinue\n\t\t\t// /\n\t\t\tcase 47:\n\t\t\t\tswitch (peek()) {\n\t\t\t\t\tcase 42: case 47:\n\t\t\t\t\t\tappend(comment(commenter(next(), caret()), root, parent, declarations), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcharacters += '/'\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t// {\n\t\t\tcase 123 * variable:\n\t\t\t\tpoints[index++] = strlen(characters) * ampersand\n\t\t\t// } ; \\0\n\t\t\tcase 125 * variable: case 59: case 0:\n\t\t\t\tswitch (character) {\n\t\t\t\t\t// \\0 }\n\t\t\t\t\tcase 0: case 125: scanning = 0\n\t\t\t\t\t// ;\n\t\t\t\t\tcase 59 + offset: if (ampersand == -1) characters = replace(characters, /\\f/g, '')\n\t\t\t\t\t\tif (property > 0 && (strlen(characters) - length))\n\t\t\t\t\t\t\tappend(property > 32 ? declaration(characters + ';', rule, parent, length - 1, declarations) : declaration(replace(characters, ' ', '') + ';', rule, parent, length - 2, declarations), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @ ;\n\t\t\t\t\tcase 59: characters += ';'\n\t\t\t\t\t// { rule/at-rule\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tappend(reference = ruleset(characters, root, parent, index, offset, rules, points, type, props = [], children = [], length, rulesets), rulesets)\n\n\t\t\t\t\t\tif (character === 123)\n\t\t\t\t\t\t\tif (offset === 0)\n\t\t\t\t\t\t\t\tparse(characters, root, reference, reference, props, rulesets, length, points, children)\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tswitch (atrule === 99 && charat(characters, 3) === 110 ? 100 : atrule) {\n\t\t\t\t\t\t\t\t\t// d l m s\n\t\t\t\t\t\t\t\t\tcase 100: case 108: case 109: case 115:\n\t\t\t\t\t\t\t\t\t\tparse(value, reference, reference, rule && append(ruleset(value, reference, reference, 0, 0, rules, points, type, rules, props = [], length, children), children), rules, children, length, points, rule ? props : children)\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tparse(characters, reference, reference, reference, [''], children, 0, points, children)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tindex = offset = property = 0, variable = ampersand = 1, type = characters = '', length = pseudo\n\t\t\t\tbreak\n\t\t\t// :\n\t\t\tcase 58:\n\t\t\t\tlength = 1 + strlen(characters), property = previous\n\t\t\tdefault:\n\t\t\t\tif (variable < 1)\n\t\t\t\t\tif (character == 123)\n\t\t\t\t\t\t--variable\n\t\t\t\t\telse if (character == 125 && variable++ == 0 && prev() == 125)\n\t\t\t\t\t\tcontinue\n\n\t\t\t\tswitch (characters += from(character), character * variable) {\n\t\t\t\t\t// &\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tampersand = offset > 0 ? 1 : (characters += '\\f', -1)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// ,\n\t\t\t\t\tcase 44:\n\t\t\t\t\t\tpoints[index++] = (strlen(characters) - 1) * ampersand, ampersand = 1\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @\n\t\t\t\t\tcase 64:\n\t\t\t\t\t\t// -\n\t\t\t\t\t\tif (peek() === 45)\n\t\t\t\t\t\t\tcharacters += delimit(next())\n\n\t\t\t\t\t\tatrule = peek(), offset = length = strlen(type = characters += identifier(caret())), character++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// -\n\t\t\t\t\tcase 45:\n\t\t\t\t\t\tif (previous === 45 && strlen(characters) == 2)\n\t\t\t\t\t\t\tvariable = 0\n\t\t\t\t}\n\t\t}\n\n\treturn rulesets\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} index\n * @param {number} offset\n * @param {string[]} rules\n * @param {number[]} points\n * @param {string} type\n * @param {string[]} props\n * @param {string[]} children\n * @param {number} length\n * @param {object[]} siblings\n * @return {object}\n */\nexport function ruleset (value, root, parent, index, offset, rules, points, type, props, children, length, siblings) {\n\tvar post = offset - 1\n\tvar rule = offset === 0 ? rules : ['']\n\tvar size = sizeof(rule)\n\n\tfor (var i = 0, j = 0, k = 0; i < index; ++i)\n\t\tfor (var x = 0, y = substr(value, post + 1, post = abs(j = points[i])), z = value; x < size; ++x)\n\t\t\tif (z = trim(j > 0 ? rule[x] + ' ' + y : replace(y, /&\\f/g, rule[x])))\n\t\t\t\tprops[k++] = z\n\n\treturn node(value, root, parent, offset === 0 ? RULESET : type, props, children, length, siblings)\n}\n\n/**\n * @param {number} value\n * @param {object} root\n * @param {object?} parent\n * @param {object[]} siblings\n * @return {object}\n */\nexport function comment (value, root, parent, siblings) {\n\treturn node(value, root, parent, COMMENT, from(char()), substr(value, 2, -2), 0, siblings)\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} length\n * @param {object[]} siblings\n * @return {object}\n */\nexport function declaration (value, root, parent, length, siblings) {\n\treturn node(value, root, parent, DECLARATION, substr(value, 0, length), substr(value, length + 1, -1), length, siblings)\n}\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  aspectRatio: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport { unitlessKeys as default };\n","declare let SC_DISABLE_SPEEDY: boolean | null | undefined;\ndeclare let __VERSION__: string;\n\nexport const SC_ATTR: string =\n  (typeof process !== 'undefined' &&\n    typeof process.env !== 'undefined' &&\n    (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR)) ||\n  'data-styled';\n\nexport const SC_ATTR_ACTIVE = 'active';\nexport const SC_ATTR_VERSION = 'data-styled-version';\nexport const SC_VERSION = __VERSION__;\nexport const SPLITTER = '/*!sc*/\\n';\n\nexport const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\n\nexport const DISABLE_SPEEDY = Boolean(\n  typeof SC_DISABLE_SPEEDY === 'boolean'\n    ? SC_DISABLE_SPEEDY\n    : typeof process !== 'undefined' &&\n        typeof process.env !== 'undefined' &&\n        typeof process.env.REACT_APP_SC_DISABLE_SPEEDY !== 'undefined' &&\n        process.env.REACT_APP_SC_DISABLE_SPEEDY !== ''\n      ? process.env.REACT_APP_SC_DISABLE_SPEEDY === 'false'\n        ? false\n        : process.env.REACT_APP_SC_DISABLE_SPEEDY\n      : typeof process !== 'undefined' &&\n          typeof process.env !== 'undefined' &&\n          typeof process.env.SC_DISABLE_SPEEDY !== 'undefined' &&\n          process.env.SC_DISABLE_SPEEDY !== ''\n        ? process.env.SC_DISABLE_SPEEDY === 'false'\n          ? false\n          : process.env.SC_DISABLE_SPEEDY\n        : process.env.NODE_ENV !== 'production'\n);\n\n// Shared empty execution context when generating static styles\nexport const STATIC_EXECUTION_CONTEXT = {};\n","import { Dict } from '../types';\n\nexport const EMPTY_ARRAY = Object.freeze([]) as Readonly<any[]>;\nexport const EMPTY_OBJECT = Object.freeze({}) as Readonly<Dict<any>>;\n","import { useRef } from 'react';\n\nconst invalidHookCallRe = /invalid hook call/i;\nconst seen = new Set();\n\nexport const checkDynamicCreation = (displayName: string, componentId?: string | undefined) => {\n  if (process.env.NODE_ENV !== 'production') {\n    const parsedIdString = componentId ? ` with the id of \"${componentId}\"` : '';\n    const message =\n      `The component ${displayName}${parsedIdString} has been created dynamically.\\n` +\n      \"You may see this warning because you've called styled inside another component.\\n\" +\n      'To resolve this only create new StyledComponents outside of any render method and function component.';\n\n    // If a hook is called outside of a component:\n    // React 17 and earlier throw an error\n    // React 18 and above use console.error\n\n    const originalConsoleError = console.error;\n    try {\n      let didNotCallInvalidHook = true;\n      console.error = (consoleErrorMessage, ...consoleErrorArgs) => {\n        // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n        // be called outside of a React component.\n        if (invalidHookCallRe.test(consoleErrorMessage)) {\n          didNotCallInvalidHook = false;\n          // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n          seen.delete(message);\n        } else {\n          originalConsoleError(consoleErrorMessage, ...consoleErrorArgs);\n        }\n      };\n      // We purposefully call `useRef` outside of a component and expect it to throw\n      // If it doesn't, then we're inside another component.\n      useRef();\n\n      if (didNotCallInvalidHook && !seen.has(message)) {\n        console.warn(message);\n        seen.add(message);\n      }\n    } catch (error) {\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n      if (invalidHookCallRe.test((error as Error).message)) {\n        // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n        seen.delete(message);\n      }\n    } finally {\n      console.error = originalConsoleError;\n    }\n  }\n};\n","import { DefaultTheme, ExecutionProps } from '../types';\nimport { EMPTY_OBJECT } from './empties';\n\nexport default function determineTheme(\n  props: ExecutionProps,\n  providedTheme?: DefaultTheme | undefined,\n  defaultProps: { theme?: DefaultTheme | undefined } = EMPTY_OBJECT\n): DefaultTheme | undefined {\n  return (props.theme !== defaultProps.theme && props.theme) || providedTheme || defaultProps.theme;\n}\n","// Thanks to ReactDOMFactories for this handy list!\n\nconst elements = [\n  'a',\n  'abbr',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'base',\n  'bdi',\n  'bdo',\n  'big',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'data',\n  'datalist',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'keygen',\n  'label',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'map',\n  'mark',\n  'menu',\n  'menuitem',\n  'meta',\n  'meter',\n  'nav',\n  'noscript',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'param',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'script',\n  'section',\n  'select',\n  'small',\n  'source',\n  'span',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'u',\n  'ul',\n  'use',\n  'var',\n  'video',\n  'wbr', // SVG\n  'circle',\n  'clipPath',\n  'defs',\n  'ellipse',\n  'foreignObject',\n  'g',\n  'image',\n  'line',\n  'linearGradient',\n  'marker',\n  'mask',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialGradient',\n  'rect',\n  'stop',\n  'svg',\n  'text',\n  'tspan',\n] as const;\n\nexport default new Set(elements);\nexport type SupportedHTMLElements = (typeof elements)[number];\n","// Source: https://www.w3.org/TR/cssom-1/#serialize-an-identifier\n// Control characters and non-letter first symbols are not supported\nconst escapeRegex = /[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g;\n\nconst dashesAtEnds = /(^-|-$)/g;\n\n/**\n * TODO: Explore using CSS.escape when it becomes more available\n * in evergreen browsers.\n */\nexport default function escape(str: string) {\n  return str // Replace all possible CSS selectors\n    .replace(escapeRegex, '-') // Remove extraneous hyphens at the start and end\n    .replace(dashesAtEnds, '');\n}\n","const AD_REPLACER_R = /(a)(d)/gi;\n\n/* This is the \"capacity\" of our alphabet i.e. 2x26 for all letters plus their capitalised\n * counterparts */\nconst charsLength = 52;\n\n/* start at 75 for 'a' until 'z' (25) and then start at 65 for capitalised letters */\nconst getAlphabeticChar = (code: number) => String.fromCharCode(code + (code > 25 ? 39 : 97));\n\n/* input a number, usually a hash and convert it to base-52 */\nexport default function generateAlphabeticName(code: number) {\n  let name = '';\n  let x;\n\n  /* get a char and divide by alphabet-length */\n  for (x = Math.abs(code); x > charsLength; x = (x / charsLength) | 0) {\n    name = getAlphabeticChar(x % charsLength) + name;\n  }\n\n  return (getAlphabeticChar(x % charsLength) + name).replace(AD_REPLACER_R, '$1-$2');\n}\n","export const SEED = 5381;\n\n// When we have separate strings it's useful to run a progressive\n// version of djb2 where we pretend that we're still looping over\n// the same string\nexport const phash = (h: number, x: string) => {\n  let i = x.length;\n\n  while (i) {\n    h = (h * 33) ^ x.charCodeAt(--i);\n  }\n\n  return h;\n};\n\n// This is a djb2 hashing function\nexport const hash = (x: string) => {\n  return phash(SEED, x);\n};\n","import generateAlphabeticName from './generateAlphabeticName';\nimport { hash } from './hash';\n\nexport default function generateComponentId(str: string) {\n  return generateAlphabeticName(hash(str) >>> 0);\n}\n","import { StyledTarget } from '../types';\n\nexport default function getComponentName(target: StyledTarget<any>) {\n  return (\n    (process.env.NODE_ENV !== 'production' ? typeof target === 'string' && target : false) ||\n    (target as Exclude<StyledTarget<any>, string>).displayName ||\n    (target as Function).name ||\n    'Component'\n  );\n}\n","import { StyledTarget } from '../types';\n\nexport default function isTag(target: StyledTarget<'web'>): target is string {\n  return (\n    typeof target === 'string' &&\n    (process.env.NODE_ENV !== 'production'\n      ? target.charAt(0) === target.charAt(0).toLowerCase()\n      : true)\n  );\n}\n","import React from 'react';\nimport { AnyComponent } from '../types';\n\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\n// copied from react-is\nconst REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nconst REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\n\n/**\n * Adapted from hoist-non-react-statics to avoid the react-is dependency.\n */\nconst REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true,\n};\n\nconst KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true,\n};\n\nconst FORWARD_REF_STATICS = {\n  $$typeof: true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n};\n\nconst MEMO_STATICS = {\n  $$typeof: true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true,\n};\n\nconst TYPE_STATICS = {\n  [REACT_FORWARD_REF_TYPE]: FORWARD_REF_STATICS,\n  [REACT_MEMO_TYPE]: MEMO_STATICS,\n};\n\ntype OmniComponent = AnyComponent;\n\n// adapted from react-is\nfunction isMemo(\n  object: OmniComponent | React.MemoExoticComponent<any>\n): object is React.MemoExoticComponent<any> {\n  const $$typeofType = 'type' in object && object.type.$$typeof;\n\n  return $$typeofType === REACT_MEMO_TYPE;\n}\n\nfunction getStatics(component: OmniComponent) {\n  // React v16.11 and below\n  if (isMemo(component)) {\n    return MEMO_STATICS;\n  }\n\n  // React v16.12 and above\n  return '$$typeof' in component\n    ? TYPE_STATICS[component['$$typeof'] as unknown as string]\n    : REACT_STATICS;\n}\n\nconst defineProperty = Object.defineProperty;\nconst getOwnPropertyNames = Object.getOwnPropertyNames;\nconst getOwnPropertySymbols = Object.getOwnPropertySymbols;\nconst getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nconst getPrototypeOf = Object.getPrototypeOf;\nconst objectPrototype = Object.prototype;\n\ntype ExcludeList = {\n  [key: string]: true;\n};\n\ntype NonReactStatics<S extends OmniComponent, C extends ExcludeList = {}> = {\n  [key in Exclude<\n    keyof S,\n    S extends React.MemoExoticComponent<any>\n      ? keyof typeof MEMO_STATICS | keyof C\n      : S extends React.ForwardRefExoticComponent<any>\n        ? keyof typeof FORWARD_REF_STATICS | keyof C\n        : keyof typeof REACT_STATICS | keyof typeof KNOWN_STATICS | keyof C\n  >]: S[key];\n};\n\nexport default function hoistNonReactStatics<\n  T extends OmniComponent,\n  S extends OmniComponent,\n  C extends ExcludeList = {},\n>(targetComponent: T, sourceComponent: S, excludelist?: C | undefined) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n\n    if (objectPrototype) {\n      const inheritedComponent = getPrototypeOf(sourceComponent);\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, excludelist);\n      }\n    }\n\n    let keys: (String | Symbol)[] = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    const targetStatics = getStatics(targetComponent);\n    const sourceStatics = getStatics(sourceComponent);\n\n    for (let i = 0; i < keys.length; ++i) {\n      const key = keys[i] as unknown as string;\n      if (\n        !(key in KNOWN_STATICS) &&\n        !(excludelist && excludelist[key]) &&\n        !(sourceStatics && key in sourceStatics) &&\n        !(targetStatics && key in targetStatics)\n      ) {\n        const descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor!);\n        } catch (e) {\n          /* ignore */\n        }\n      }\n    }\n  }\n\n  return targetComponent as T & NonReactStatics<S, C>;\n}\n","export default function isFunction(test: any): test is Function {\n  return typeof test === 'function';\n}\n","import { StyledComponentBrand } from '../types';\n\nexport default function isStyledComponent(target: any): target is StyledComponentBrand {\n  return typeof target === 'object' && 'styledComponentId' in target;\n}\n","/**\n * Convenience function for joining strings to form className chains\n */\nexport function joinStrings(a?: string | undefined, b?: string | undefined): string {\n  return a && b ? `${a} ${b}` : a || b || '';\n}\n\nexport function joinStringArray(arr: string[], sep?: string | undefined): string {\n  if (arr.length === 0) {\n    return '';\n  }\n\n  let result = arr[0];\n  for (let i = 1; i < arr.length; i++) {\n    result += sep ? sep + arr[i] : arr[i];\n  }\n  return result;\n}\n","export default function isPlainObject(x: any): x is Record<any, any> {\n  return (\n    x !== null &&\n    typeof x === 'object' &&\n    x.constructor.name === Object.name &&\n    /* check for reasonable markers that the object isn't an element for react & preact/compat */\n    !('props' in x && x.$$typeof)\n  );\n}\n","import isPlainObject from './isPlainObject';\n\nfunction mixinRecursively(target: any, source: any, forceMerge = false) {\n  /* only merge into POJOs, Arrays, but for top level objects only\n   * allow to merge into anything by passing forceMerge = true */\n  if (!forceMerge && !isPlainObject(target) && !Array.isArray(target)) {\n    return source;\n  }\n\n  if (Array.isArray(source)) {\n    for (let key = 0; key < source.length; key++) {\n      target[key] = mixinRecursively(target[key], source[key]);\n    }\n  } else if (isPlainObject(source)) {\n    for (const key in source) {\n      target[key] = mixinRecursively(target[key], source[key]);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Arrays & POJOs merged recursively, other objects and value types are overridden\n * If target is not a POJO or an Array, it will get source properties injected via shallow merge\n * Source objects applied left to right.  Mutates & returns target.  Similar to lodash merge.\n */\nexport default function mixinDeep(target: any, ...sources: any[]) {\n  for (const source of sources) {\n    mixinRecursively(target, source, true);\n  }\n\n  return target;\n}\n","/**\n * If the Object prototype is frozen, the \"toString\" property is non-writable. This means that any objects which inherit this property\n * cannot have the property changed using a \"=\" assignment operator. If using strict mode, attempting that will cause an error. If not using\n * strict mode, attempting that will be silently ignored.\n *\n * If the Object prototype is frozen, inherited non-writable properties can still be shadowed using one of two mechanisms:\n *\n *  1. ES6 class methods: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes#methods\n *  2. Using the `Object.defineProperty()` static method:\n *     https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\n *\n * However, this project uses Babel to transpile ES6 classes, and transforms ES6 class methods to use the assignment operator instead:\n * https://babeljs.io/docs/babel-plugin-transform-class-properties#options\n *\n * Therefore, the most compatible way to shadow the prototype's \"toString\" property is to define a new \"toString\" property on this object.\n */\nexport function setToString(object: object, toStringFn: () => string) {\n  Object.defineProperty(object, 'toString', { value: toStringFn });\n}\n","import { Dict } from '../types';\nimport errorMap from './errors';\n\nconst ERRORS: Dict<any> = process.env.NODE_ENV !== 'production' ? errorMap : {};\n\n/**\n * super basic version of sprintf\n */\nfunction format(...args: [string, ...any]) {\n  let a = args[0];\n  const b = [];\n\n  for (let c = 1, len = args.length; c < len; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(d => {\n    a = a.replace(/%[a-z]/, d);\n  });\n\n  return a;\n}\n\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n */\nexport default function throwStyledComponentsError(\n  code: string | number,\n  ...interpolations: any[]\n) {\n  if (process.env.NODE_ENV === 'production') {\n    return new Error(\n      `An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#${code} for more information.${\n        interpolations.length > 0 ? ` Args: ${interpolations.join(', ')}` : ''\n      }`\n    );\n  } else {\n    return new Error(format(ERRORS[code], ...interpolations).trim());\n  }\n}\n","import { SPLITTER } from '../constants';\nimport styledError from '../utils/error';\nimport { GroupedTag, Tag } from './types';\n\n/** Create a GroupedTag with an underlying Tag implementation */\nexport const makeGroupedTag = (tag: Tag) => {\n  return new DefaultGroupedTag(tag);\n};\n\nconst BASE_SIZE = 1 << 9;\n\nconst DefaultGroupedTag = class DefaultGroupedTag implements GroupedTag {\n  groupSizes: Uint32Array;\n  length: number;\n  tag: Tag;\n\n  constructor(tag: Tag) {\n    this.groupSizes = new Uint32Array(BASE_SIZE);\n    this.length = BASE_SIZE;\n    this.tag = tag;\n  }\n\n  indexOfGroup(group: number) {\n    let index = 0;\n    for (let i = 0; i < group; i++) {\n      index += this.groupSizes[i];\n    }\n\n    return index;\n  }\n\n  insertRules(group: number, rules: string[]) {\n    if (group >= this.groupSizes.length) {\n      const oldBuffer = this.groupSizes;\n      const oldSize = oldBuffer.length;\n\n      let newSize = oldSize;\n      while (group >= newSize) {\n        newSize <<= 1;\n        if (newSize < 0) {\n          throw styledError(16, `${group}`);\n        }\n      }\n\n      this.groupSizes = new Uint32Array(newSize);\n      this.groupSizes.set(oldBuffer);\n      this.length = newSize;\n\n      for (let i = oldSize; i < newSize; i++) {\n        this.groupSizes[i] = 0;\n      }\n    }\n\n    let ruleIndex = this.indexOfGroup(group + 1);\n\n    for (let i = 0, l = rules.length; i < l; i++) {\n      if (this.tag.insertRule(ruleIndex, rules[i])) {\n        this.groupSizes[group]++;\n        ruleIndex++;\n      }\n    }\n  }\n\n  clearGroup(group: number) {\n    if (group < this.length) {\n      const length = this.groupSizes[group];\n      const startIndex = this.indexOfGroup(group);\n      const endIndex = startIndex + length;\n\n      this.groupSizes[group] = 0;\n\n      for (let i = startIndex; i < endIndex; i++) {\n        this.tag.deleteRule(startIndex);\n      }\n    }\n  }\n\n  getGroup(group: number) {\n    let css = '';\n    if (group >= this.length || this.groupSizes[group] === 0) {\n      return css;\n    }\n\n    const length = this.groupSizes[group];\n    const startIndex = this.indexOfGroup(group);\n    const endIndex = startIndex + length;\n\n    for (let i = startIndex; i < endIndex; i++) {\n      css += `${this.tag.getRule(i)}${SPLITTER}`;\n    }\n\n    return css;\n  }\n};\n","import styledError from '../utils/error';\n\nconst MAX_SMI = 1 << (31 - 1);\n\nlet groupIDRegister: Map<string, number> = new Map();\nlet reverseRegister: Map<number, string> = new Map();\nlet nextFreeGroup = 1;\n\nexport const resetGroupIds = () => {\n  groupIDRegister = new Map();\n  reverseRegister = new Map();\n  nextFreeGroup = 1;\n};\n\nexport const getGroupForId = (id: string): number => {\n  if (groupIDRegister.has(id)) {\n    return groupIDRegister.get(id) as any;\n  }\n\n  while (reverseRegister.has(nextFreeGroup)) {\n    nextFreeGroup++;\n  }\n\n  const group = nextFreeGroup++;\n\n  if (process.env.NODE_ENV !== 'production' && ((group | 0) < 0 || group > MAX_SMI)) {\n    throw styledError(16, `${group}`);\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n  return group;\n};\n\nexport const getIdForGroup = (group: number): void | string => {\n  return reverseRegister.get(group);\n};\n\nexport const setGroupForId = (id: string, group: number) => {\n  // move pointer\n  nextFreeGroup = group + 1;\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n};\n","import { SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION, SPLITTER } from '../constants';\nimport { getIdForGroup, setGroupForId } from './GroupIDAllocator';\nimport { Sheet } from './types';\n\nconst SELECTOR = `style[${SC_ATTR}][${SC_ATTR_VERSION}=\"${SC_VERSION}\"]`;\nconst MARKER_RE = new RegExp(`^${SC_ATTR}\\\\.g(\\\\d+)\\\\[id=\"([\\\\w\\\\d-]+)\"\\\\].*?\"([^\"]*)`);\n\nexport const outputSheet = (sheet: Sheet) => {\n  const tag = sheet.getTag();\n  const { length } = tag;\n\n  let css = '';\n  for (let group = 0; group < length; group++) {\n    const id = getIdForGroup(group);\n    if (id === undefined) continue;\n\n    const names = sheet.names.get(id);\n    const rules = tag.getGroup(group);\n    if (names === undefined || rules.length === 0) continue;\n\n    const selector = `${SC_ATTR}.g${group}[id=\"${id}\"]`;\n\n    let content = '';\n    if (names !== undefined) {\n      names.forEach(name => {\n        if (name.length > 0) {\n          content += `${name},`;\n        }\n      });\n    }\n\n    // NOTE: It's easier to collect rules and have the marker\n    // after the actual rules to simplify the rehydration\n    css += `${rules}${selector}{content:\"${content}\"}${SPLITTER}`;\n  }\n\n  return css;\n};\n\nconst rehydrateNamesFromContent = (sheet: Sheet, id: string, content: string) => {\n  const names = content.split(',');\n  let name;\n\n  for (let i = 0, l = names.length; i < l; i++) {\n    if ((name = names[i])) {\n      sheet.registerName(id, name);\n    }\n  }\n};\n\nconst rehydrateSheetFromTag = (sheet: Sheet, style: HTMLStyleElement) => {\n  const parts = (style.textContent ?? '').split(SPLITTER);\n  const rules: string[] = [];\n\n  for (let i = 0, l = parts.length; i < l; i++) {\n    const part = parts[i].trim();\n    if (!part) continue;\n\n    const marker = part.match(MARKER_RE);\n\n    if (marker) {\n      const group = parseInt(marker[1], 10) | 0;\n      const id = marker[2];\n\n      if (group !== 0) {\n        // Rehydrate componentId to group index mapping\n        setGroupForId(id, group);\n        // Rehydrate names and rules\n        // looks like: data-styled.g11[id=\"idA\"]{content:\"nameA,\"}\n        rehydrateNamesFromContent(sheet, id, marker[3]);\n        sheet.getTag().insertRules(group, rules);\n      }\n\n      rules.length = 0;\n    } else {\n      rules.push(part);\n    }\n  }\n};\n\nexport const rehydrateSheet = (sheet: Sheet) => {\n  const nodes = document.querySelectorAll(SELECTOR);\n\n  for (let i = 0, l = nodes.length; i < l; i++) {\n    const node = nodes[i] as any as HTMLStyleElement;\n    if (node && node.getAttribute(SC_ATTR) !== SC_ATTR_ACTIVE) {\n      rehydrateSheetFromTag(sheet, node);\n\n      if (node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    }\n  }\n};\n","declare let __webpack_nonce__: string;\n\nexport default function getNonce() {\n  return typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n}\n","import { SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport styledError from '../utils/error';\nimport getNonce from '../utils/nonce';\n\n/** Find last style element if any inside target */\nconst findLastStyleTag = (target: HTMLElement): void | HTMLStyleElement => {\n  const arr = Array.from(target.querySelectorAll<HTMLStyleElement>(`style[${SC_ATTR}]`));\n\n  return arr[arr.length - 1];\n};\n\n/** Create a style element inside `target` or <head> after the last */\nexport const makeStyleTag = (target?: HTMLElement | undefined): HTMLStyleElement => {\n  const head = document.head;\n  const parent = target || head;\n  const style = document.createElement('style');\n  const prevStyle = findLastStyleTag(parent);\n  const nextSibling = prevStyle !== undefined ? prevStyle.nextSibling : null;\n\n  style.setAttribute(SC_ATTR, SC_ATTR_ACTIVE);\n  style.setAttribute(SC_ATTR_VERSION, SC_VERSION);\n\n  const nonce = getNonce();\n\n  if (nonce) style.setAttribute('nonce', nonce);\n\n  parent.insertBefore(style, nextSibling);\n\n  return style;\n};\n\n/** Get the CSSStyleSheet instance for a given style element */\nexport const getSheet = (tag: HTMLStyleElement): CSSStyleSheet => {\n  if (tag.sheet) {\n    return tag.sheet as any as CSSStyleSheet;\n  }\n\n  // Avoid Firefox quirk where the style element might not have a sheet property\n  const { styleSheets } = document;\n  for (let i = 0, l = styleSheets.length; i < l; i++) {\n    const sheet = styleSheets[i];\n    if (sheet.ownerNode === tag) {\n      return sheet as any as CSSStyleSheet;\n    }\n  }\n\n  throw styledError(17);\n};\n","import { getSheet, makeStyleTag } from './dom';\nimport { SheetOptions, Tag } from './types';\n\n/** Create a CSSStyleSheet-like tag depending on the environment */\nexport const makeTag = ({ isServer, useCSSOMInjection, target }: SheetOptions) => {\n  if (isServer) {\n    return new VirtualTag(target);\n  } else if (useCSSOMInjection) {\n    return new CSSOMTag(target);\n  } else {\n    return new TextTag(target);\n  }\n};\n\nexport const CSSOMTag = class CSSOMTag implements Tag {\n  element: HTMLStyleElement;\n\n  sheet: CSSStyleSheet;\n\n  length: number;\n\n  constructor(target?: HTMLElement | undefined) {\n    this.element = makeStyleTag(target);\n\n    // Avoid Edge bug where empty style elements don't create sheets\n    this.element.appendChild(document.createTextNode(''));\n\n    this.sheet = getSheet(this.element);\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    try {\n      this.sheet.insertRule(rule, index);\n      this.length++;\n      return true;\n    } catch (_error) {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.sheet.deleteRule(index);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    const rule = this.sheet.cssRules[index];\n\n    // Avoid IE11 quirk where cssText is inaccessible on some invalid rules\n    if (rule && rule.cssText) {\n      return rule.cssText;\n    } else {\n      return '';\n    }\n  }\n};\n\n/** A Tag that emulates the CSSStyleSheet API but uses text nodes */\nexport const TextTag = class TextTag implements Tag {\n  element: HTMLStyleElement;\n  nodes: NodeListOf<Node>;\n  length: number;\n\n  constructor(target?: HTMLElement | undefined) {\n    this.element = makeStyleTag(target);\n    this.nodes = this.element.childNodes;\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string) {\n    if (index <= this.length && index >= 0) {\n      const node = document.createTextNode(rule);\n      const refNode = this.nodes[index];\n      this.element.insertBefore(node, refNode || null);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number) {\n    this.element.removeChild(this.nodes[index]);\n    this.length--;\n  }\n\n  getRule(index: number) {\n    if (index < this.length) {\n      return this.nodes[index].textContent as string;\n    } else {\n      return '';\n    }\n  }\n};\n\n/** A completely virtual (server-side) Tag that doesn't manipulate the DOM */\nexport const VirtualTag = class VirtualTag implements Tag {\n  rules: string[];\n\n  length: number;\n\n  constructor(_target?: HTMLElement | undefined) {\n    this.rules = [];\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string) {\n    if (index <= this.length) {\n      this.rules.splice(index, 0, rule);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number) {\n    this.rules.splice(index, 1);\n    this.length--;\n  }\n\n  getRule(index: number) {\n    if (index < this.length) {\n      return this.rules[index];\n    } else {\n      return '';\n    }\n  }\n};\n","import { DISABLE_SPEEDY, IS_BROWSER } from '../constants';\nimport { EMPTY_OBJECT } from '../utils/empties';\nimport { setToString } from '../utils/setToString';\nimport { makeGroupedTag } from './GroupedTag';\nimport { getGroupForId } from './GroupIDAllocator';\nimport { outputSheet, rehydrateSheet } from './Rehydration';\nimport { makeTag } from './Tag';\nimport { GroupedTag, Sheet, SheetOptions } from './types';\n\nlet SHOULD_REHYDRATE = IS_BROWSER;\n\ntype SheetConstructorArgs = {\n  isServer?: boolean;\n  useCSSOMInjection?: boolean;\n  target?: HTMLElement | undefined;\n};\n\ntype GlobalStylesAllocationMap = {\n  [key: string]: number;\n};\ntype NamesAllocationMap = Map<string, Set<string>>;\n\nconst defaultOptions: SheetOptions = {\n  isServer: !IS_BROWSER,\n  useCSSOMInjection: !DISABLE_SPEEDY,\n};\n\n/** Contains the main stylesheet logic for stringification and caching */\nexport default class StyleSheet implements Sheet {\n  gs: GlobalStylesAllocationMap;\n  names: NamesAllocationMap;\n  options: SheetOptions;\n  server: boolean;\n  tag?: GroupedTag | undefined;\n\n  /** Register a group ID to give it an index */\n  static registerId(id: string): number {\n    return getGroupForId(id);\n  }\n\n  constructor(\n    options: SheetConstructorArgs = EMPTY_OBJECT as Object,\n    globalStyles: GlobalStylesAllocationMap = {},\n    names?: NamesAllocationMap | undefined\n  ) {\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.gs = globalStyles;\n    this.names = new Map(names as NamesAllocationMap);\n    this.server = !!options.isServer;\n\n    // We rehydrate only once and use the sheet that is created first\n    if (!this.server && IS_BROWSER && SHOULD_REHYDRATE) {\n      SHOULD_REHYDRATE = false;\n      rehydrateSheet(this);\n    }\n\n    setToString(this, () => outputSheet(this));\n  }\n\n  reconstructWithOptions(options: SheetConstructorArgs, withNames = true) {\n    return new StyleSheet(\n      { ...this.options, ...options },\n      this.gs,\n      (withNames && this.names) || undefined\n    );\n  }\n\n  allocateGSInstance(id: string) {\n    return (this.gs[id] = (this.gs[id] || 0) + 1);\n  }\n\n  /** Lazily initialises a GroupedTag for when it's actually needed */\n  getTag() {\n    return this.tag || (this.tag = makeGroupedTag(makeTag(this.options)));\n  }\n\n  /** Check whether a name is known for caching */\n  hasNameForId(id: string, name: string): boolean {\n    return this.names.has(id) && (this.names.get(id) as any).has(name);\n  }\n\n  /** Mark a group's name as known for caching */\n  registerName(id: string, name: string) {\n    getGroupForId(id);\n\n    if (!this.names.has(id)) {\n      const groupNames = new Set<string>();\n      groupNames.add(name);\n      this.names.set(id, groupNames);\n    } else {\n      (this.names.get(id) as any).add(name);\n    }\n  }\n\n  /** Insert new rules which also marks the name as known */\n  insertRules(id: string, name: string, rules: string | string[]) {\n    this.registerName(id, name);\n    this.getTag().insertRules(getGroupForId(id), rules);\n  }\n\n  /** Clears all cached names for a given group ID */\n  clearNames(id: string) {\n    if (this.names.has(id)) {\n      (this.names.get(id) as any).clear();\n    }\n  }\n\n  /** Clears all rules for a given group ID */\n  clearRules(id: string) {\n    this.getTag().clearGroup(getGroupForId(id));\n    this.clearNames(id);\n  }\n\n  /** Clears the entire tag which deletes all rules but not its names */\n  clearTag() {\n    // NOTE: This does not clear the names, since it's only used during SSR\n    // so that we can continuously output only new rules\n    this.tag = undefined;\n  }\n}\n","import * as stylis from 'stylis';\nimport { Stringifier } from '../types';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from './empties';\nimport throwStyledError from './error';\nimport { SEED, phash } from './hash';\n\nconst AMP_REGEX = /&/g;\nconst COMMENT_REGEX = /^\\s*\\/\\/.*$/gm;\n\nexport type ICreateStylisInstance = {\n  options?: { namespace?: string | undefined; prefix?: boolean | undefined } | undefined;\n  plugins?: stylis.Middleware[] | undefined;\n};\n\n/**\n * Takes an element and recurses through it's rules added the namespace to the start of each selector.\n * Takes into account media queries by recursing through child rules if they are present.\n */\nfunction recursivelySetNamepace(compiled: stylis.Element[], namespace: String): stylis.Element[] {\n  return compiled.map(rule => {\n    if (rule.type === 'rule') {\n      // add the namespace to the start\n      rule.value = `${namespace} ${rule.value}`;\n      // add the namespace after each comma for subsequent selectors.\n      rule.value = rule.value.replaceAll(',', `,${namespace} `);\n      rule.props = (rule.props as string[]).map(prop => {\n        return `${namespace} ${prop}`;\n      });\n    }\n\n    if (Array.isArray(rule.children) && rule.type !== '@keyframes') {\n      rule.children = recursivelySetNamepace(rule.children, namespace);\n    }\n    return rule;\n  });\n}\n\nexport default function createStylisInstance(\n  {\n    options = EMPTY_OBJECT as object,\n    plugins = EMPTY_ARRAY as unknown as stylis.Middleware[],\n  }: ICreateStylisInstance = EMPTY_OBJECT as object\n) {\n  let _componentId: string;\n  let _selector: string;\n  let _selectorRegexp: RegExp;\n\n  const selfReferenceReplacer = (match: string, offset: number, string: string) => {\n    if (\n      /**\n       * We only want to refer to the static class directly if the selector is part of a\n       * self-reference selector `& + & { color: red; }`\n       */\n      string.startsWith(_selector) &&\n      string.endsWith(_selector) &&\n      string.replaceAll(_selector, '').length > 0\n    ) {\n      return `.${_componentId}`;\n    }\n\n    return match;\n  };\n\n  /**\n   * When writing a style like\n   *\n   * & + & {\n   *   color: red;\n   * }\n   *\n   * The second ampersand should be a reference to the static component class. stylis\n   * has no knowledge of static class so we have to intelligently replace the base selector.\n   *\n   * https://github.com/thysultan/stylis.js/tree/v4.0.2#abstract-syntax-structure\n   */\n  const selfReferenceReplacementPlugin: stylis.Middleware = element => {\n    if (element.type === stylis.RULESET && element.value.includes('&')) {\n      (element.props as string[])[0] = element.props[0]\n        // catch any hanging references that stylis missed\n        .replace(AMP_REGEX, _selector)\n        .replace(_selectorRegexp, selfReferenceReplacer);\n    }\n  };\n\n  const middlewares = plugins.slice();\n\n  middlewares.push(selfReferenceReplacementPlugin);\n\n  /**\n   * Enables automatic vendor-prefixing for styles.\n   */\n  if (options.prefix) {\n    middlewares.push(stylis.prefixer);\n  }\n\n  middlewares.push(stylis.stringify);\n\n  const stringifyRules: Stringifier = (\n    css: string,\n    selector = '',\n    /**\n     * This \"prefix\" referes to a _selector_ prefix.\n     */\n    prefix = '',\n    componentId = '&'\n  ) => {\n    // stylis has no concept of state to be passed to plugins\n    // but since JS is single-threaded, we can rely on that to ensure\n    // these properties stay in sync with the current stylis run\n    _componentId = componentId;\n    _selector = selector;\n    _selectorRegexp = new RegExp(`\\\\${_selector}\\\\b`, 'g');\n\n    const flatCSS = css.replace(COMMENT_REGEX, '');\n    let compiled = stylis.compile(\n      prefix || selector ? `${prefix} ${selector} { ${flatCSS} }` : flatCSS\n    );\n\n    if (options.namespace) {\n      compiled = recursivelySetNamepace(compiled, options.namespace);\n    }\n\n    const stack: string[] = [];\n\n    stylis.serialize(\n      compiled,\n      stylis.middleware(middlewares.concat(stylis.rulesheet(value => stack.push(value))))\n    );\n\n    return stack;\n  };\n\n  stringifyRules.hash = plugins.length\n    ? plugins\n        .reduce((acc, plugin) => {\n          if (!plugin.name) {\n            throwStyledError(15);\n          }\n\n          return phash(acc, plugin.name);\n        }, SEED)\n        .toString()\n    : '';\n\n  return stringifyRules;\n}\n","import React, { useContext, useEffect, useMemo, useState } from 'react';\nimport shallowequal from 'shallowequal';\nimport type stylis from 'stylis';\nimport StyleSheet from '../sheet';\nimport { ShouldForwardProp, Stringifier } from '../types';\nimport createStylisInstance from '../utils/stylis';\n\nexport const mainSheet: StyleSheet = new StyleSheet();\nexport const mainStylis: Stringifier = createStylisInstance();\n\nexport type IStyleSheetContext = {\n  shouldForwardProp?: ShouldForwardProp<'web'> | undefined;\n  styleSheet: StyleSheet;\n  stylis: Stringifier;\n};\n\nexport const StyleSheetContext = React.createContext<IStyleSheetContext>({\n  shouldForwardProp: undefined,\n  styleSheet: mainSheet,\n  stylis: mainStylis,\n});\n\nexport const StyleSheetConsumer = StyleSheetContext.Consumer;\n\nexport type IStylisContext = Stringifier | void;\nexport const StylisContext = React.createContext<IStylisContext>(undefined);\nexport const StylisConsumer = StylisContext.Consumer;\n\nexport function useStyleSheetContext() {\n  return useContext(StyleSheetContext);\n}\n\nexport type IStyleSheetManager = React.PropsWithChildren<{\n  /**\n   * If desired, you can pass this prop to disable \"speedy\" insertion mode, which\n   * uses the browser [CSSOM APIs](https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet).\n   * When disabled, rules are inserted as simple text into style blocks.\n   */\n  disableCSSOMInjection?: undefined | boolean;\n  /**\n   * If you are working exclusively with modern browsers, vendor prefixes can often be omitted\n   * to reduce the weight of CSS on the page.\n   */\n  enableVendorPrefixes?: undefined | boolean;\n  /**\n   * Provide an optional selector to be prepended to all generated style rules.\n   */\n  namespace?: undefined | string;\n  /**\n   * Create and provide your own `StyleSheet` if necessary for advanced SSR scenarios.\n   */\n  sheet?: undefined | StyleSheet;\n  /**\n   * Starting in v6, styled-components no longer does its own prop validation\n   * and recommends use of transient props \"$prop\" to pass style-only props to\n   * components. If for some reason you are not able to use transient props, a\n   * prop validation function can be provided via `StyleSheetManager`, such as\n   * `@emotion/is-prop-valid`.\n   *\n   * When the return value is `true`, props will be forwarded to the DOM/underlying\n   * component. If return value is `false`, the prop will be discarded after styles\n   * are calculated.\n   *\n   * Manually composing `styled.{element}.withConfig({shouldForwardProp})` will\n   * override this default.\n   */\n  shouldForwardProp?: undefined | IStyleSheetContext['shouldForwardProp'];\n  /**\n   * An array of plugins to be run by stylis (style processor) during compilation.\n   * Check out [what's available on npm*](https://www.npmjs.com/search?q=keywords%3Astylis).\n   *\n   * \\* The plugin(s) must be compatible with stylis v4 or above.\n   */\n  stylisPlugins?: undefined | stylis.Middleware[];\n  /**\n   * Provide an alternate DOM node to host generated styles; useful for iframes.\n   */\n  target?: undefined | HTMLElement;\n}>;\n\nexport function StyleSheetManager(props: IStyleSheetManager): JSX.Element {\n  const [plugins, setPlugins] = useState(props.stylisPlugins);\n  const { styleSheet } = useStyleSheetContext();\n\n  const resolvedStyleSheet = useMemo(() => {\n    let sheet = styleSheet;\n\n    if (props.sheet) {\n      sheet = props.sheet;\n    } else if (props.target) {\n      sheet = sheet.reconstructWithOptions({ target: props.target }, false);\n    }\n\n    if (props.disableCSSOMInjection) {\n      sheet = sheet.reconstructWithOptions({ useCSSOMInjection: false });\n    }\n\n    return sheet;\n  }, [props.disableCSSOMInjection, props.sheet, props.target, styleSheet]);\n\n  const stylis = useMemo(\n    () =>\n      createStylisInstance({\n        options: { namespace: props.namespace, prefix: props.enableVendorPrefixes },\n        plugins,\n      }),\n    [props.enableVendorPrefixes, props.namespace, plugins]\n  );\n\n  useEffect(() => {\n    if (!shallowequal(plugins, props.stylisPlugins)) setPlugins(props.stylisPlugins);\n  }, [props.stylisPlugins]);\n\n  const styleSheetContextValue = useMemo(\n    () => ({\n      shouldForwardProp: props.shouldForwardProp,\n      styleSheet: resolvedStyleSheet,\n      stylis,\n    }),\n    [props.shouldForwardProp, resolvedStyleSheet, stylis]\n  );\n\n  return (\n    <StyleSheetContext.Provider value={styleSheetContextValue}>\n      <StylisContext.Provider value={stylis}>{props.children}</StylisContext.Provider>\n    </StyleSheetContext.Provider>\n  );\n}\n","import StyleSheet from '../sheet';\nimport { Keyframes as KeyframesType, Stringifier } from '../types';\nimport styledError from '../utils/error';\nimport { setToString } from '../utils/setToString';\nimport { mainStylis } from './StyleSheetManager';\n\nexport default class Keyframes implements KeyframesType {\n  id: string;\n  name: string;\n  rules: string;\n\n  constructor(name: string, rules: string) {\n    this.name = name;\n    this.id = `sc-keyframes-${name}`;\n    this.rules = rules;\n\n    setToString(this, () => {\n      throw styledError(12, String(this.name));\n    });\n  }\n\n  inject = (styleSheet: StyleSheet, stylisInstance: Stringifier = mainStylis): void => {\n    const resolvedName = this.name + stylisInstance.hash;\n\n    if (!styleSheet.hasNameForId(this.id, resolvedName)) {\n      styleSheet.insertRules(\n        this.id,\n        resolvedName,\n        stylisInstance(this.rules, resolvedName, '@keyframes')\n      );\n    }\n  };\n\n  getName(stylisInstance: Stringifier = mainStylis): string {\n    return this.name + stylisInstance.hash;\n  }\n}\n","const isUpper = (c: string) => c >= 'A' && c <= 'Z';\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n */\nexport default function hyphenateStyleName(string: string): string {\n  let output = '';\n\n  for (let i = 0; i < string.length; i++) {\n    const c = string[i];\n    // Check for CSS variable prefix\n    if (i === 1 && c === '-' && string[0] === '-') {\n      return string;\n    }\n\n    if (isUpper(c)) {\n      output += '-' + c.toLowerCase();\n    } else {\n      output += c;\n    }\n  }\n\n  return output.startsWith('ms-') ? '-' + output : output;\n}\n","import Keyframes from '../models/Keyframes';\nimport StyleSheet from '../sheet';\nimport {\n  AnyComponent,\n  Dict,\n  ExecutionContext,\n  Interpolation,\n  IStyledComponent,\n  RuleSet,\n  Stringifier,\n  StyledObject,\n} from '../types';\nimport addUnitIfNeeded from './addUnitIfNeeded';\nimport { EMPTY_ARRAY } from './empties';\nimport getComponentName from './getComponentName';\nimport hyphenate from './hyphenateStyleName';\nimport isFunction from './isFunction';\nimport isPlainObject from './isPlainObject';\nimport isStatelessFunction from './isStatelessFunction';\nimport isStyledComponent from './isStyledComponent';\n\n/**\n * It's falsish not falsy because 0 is allowed.\n */\nconst isFalsish = (chunk: any): chunk is undefined | null | false | '' =>\n  chunk === undefined || chunk === null || chunk === false || chunk === '';\n\nexport const objToCssArray = (obj: Dict<any>): string[] => {\n  const rules = [];\n\n  for (const key in obj) {\n    const val = obj[key];\n    if (!obj.hasOwnProperty(key) || isFalsish(val)) continue;\n\n    // @ts-expect-error Property 'isCss' does not exist on type 'any[]'\n    if ((Array.isArray(val) && val.isCss) || isFunction(val)) {\n      rules.push(`${hyphenate(key)}:`, val, ';');\n    } else if (isPlainObject(val)) {\n      rules.push(`${key} {`, ...objToCssArray(val), '}');\n    } else {\n      rules.push(`${hyphenate(key)}: ${addUnitIfNeeded(key, val)};`);\n    }\n  }\n\n  return rules;\n};\n\nexport default function flatten<Props extends object>(\n  chunk: Interpolation<object>,\n  executionContext?: (ExecutionContext & Props) | undefined,\n  styleSheet?: StyleSheet | undefined,\n  stylisInstance?: Stringifier | undefined\n): RuleSet<Props> {\n  if (isFalsish(chunk)) {\n    return [];\n  }\n\n  /* Handle other components */\n  if (isStyledComponent(chunk)) {\n    return [`.${(chunk as unknown as IStyledComponent<'web', any>).styledComponentId}`];\n  }\n\n  /* Either execute or defer the function */\n  if (isFunction(chunk)) {\n    if (isStatelessFunction(chunk) && executionContext) {\n      const result = chunk(executionContext);\n\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        typeof result === 'object' &&\n        !Array.isArray(result) &&\n        !(result instanceof Keyframes) &&\n        !isPlainObject(result) &&\n        result !== null\n      ) {\n        console.error(\n          `${getComponentName(\n            chunk as AnyComponent\n          )} is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.`\n        );\n      }\n\n      return flatten<Props>(result, executionContext, styleSheet, stylisInstance);\n    } else {\n      return [chunk as unknown as IStyledComponent<'web'>];\n    }\n  }\n\n  if (chunk instanceof Keyframes) {\n    if (styleSheet) {\n      chunk.inject(styleSheet, stylisInstance);\n      return [chunk.getName(stylisInstance)];\n    } else {\n      return [chunk];\n    }\n  }\n\n  /* Handle objects */\n  if (isPlainObject(chunk)) {\n    return objToCssArray(chunk as StyledObject<Props>);\n  }\n\n  if (!Array.isArray(chunk)) {\n    return [chunk.toString()];\n  }\n\n  return flatMap(chunk, chunklet =>\n    flatten<Props>(chunklet, executionContext, styleSheet, stylisInstance)\n  );\n}\n\nfunction flatMap<T, U>(array: T[], transform: (value: T, index: number, array: T[]) => U[]): U[] {\n  return Array.prototype.concat.apply(EMPTY_ARRAY, array.map(transform));\n}\n","import unitless from '@emotion/unitless';\n\n// Taken from https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/dangerousStyleValue.js\nexport default function addUnitIfNeeded(name: string, value: any) {\n  // https://github.com/amilajack/eslint-plugin-flowtype-errors/issues/133\n  if (value == null || typeof value === 'boolean' || value === '') {\n    return '';\n  }\n\n  if (typeof value === 'number' && value !== 0 && !(name in unitless) && !name.startsWith('--')) {\n    return `${value}px`; // Presumes implicit 'px' suffix for unitless numbers except for CSS variables\n  }\n\n  return String(value).trim();\n}\n","import isFunction from './isFunction';\n\nexport default function isStatelessFunction(test: any): test is Function {\n  return isFunction(test) && !(test.prototype && test.prototype.isReactComponent);\n}\n","import { RuleSet } from '../types';\nimport isFunction from './isFunction';\nimport isStyledComponent from './isStyledComponent';\n\nexport default function isStaticRules<Props extends object>(rules: RuleSet<Props>) {\n  for (let i = 0; i < rules.length; i += 1) {\n    const rule = rules[i];\n\n    if (isFunction(rule) && !isStyledComponent(rule)) {\n      // functions are allowed to be static if they're just being\n      // used to get the classname of a nested styled component\n      return false;\n    }\n  }\n\n  return true;\n}\n","import { SC_VERSION } from '../constants';\nimport StyleSheet from '../sheet';\nimport { ExecutionContext, RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport generateName from '../utils/generateAlphabeticName';\nimport { hash, phash } from '../utils/hash';\nimport isStaticRules from '../utils/isStaticRules';\nimport { joinStringArray, joinStrings } from '../utils/joinStrings';\n\nconst SEED = hash(SC_VERSION);\n\n/**\n * ComponentStyle is all the CSS-specific stuff, not the React-specific stuff.\n */\nexport default class ComponentStyle {\n  baseHash: number;\n  baseStyle: ComponentStyle | null | undefined;\n  componentId: string;\n  isStatic: boolean;\n  rules: RuleSet<any>;\n  staticRulesId: string;\n\n  constructor(rules: RuleSet<any>, componentId: string, baseStyle?: ComponentStyle | undefined) {\n    this.rules = rules;\n    this.staticRulesId = '';\n    this.isStatic =\n      process.env.NODE_ENV === 'production' &&\n      (baseStyle === undefined || baseStyle.isStatic) &&\n      isStaticRules(rules);\n    this.componentId = componentId;\n    this.baseHash = phash(SEED, componentId);\n    this.baseStyle = baseStyle;\n\n    // NOTE: This registers the componentId, which ensures a consistent order\n    // for this component's styles compared to others\n    StyleSheet.registerId(componentId);\n  }\n\n  generateAndInjectStyles(\n    executionContext: ExecutionContext,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ): string {\n    let names = this.baseStyle\n      ? this.baseStyle.generateAndInjectStyles(executionContext, styleSheet, stylis)\n      : '';\n\n    // force dynamic classnames if user-supplied stylis plugins are in use\n    if (this.isStatic && !stylis.hash) {\n      if (this.staticRulesId && styleSheet.hasNameForId(this.componentId, this.staticRulesId)) {\n        names = joinStrings(names, this.staticRulesId);\n      } else {\n        const cssStatic = joinStringArray(\n          flatten(this.rules, executionContext, styleSheet, stylis) as string[]\n        );\n        const name = generateName(phash(this.baseHash, cssStatic) >>> 0);\n\n        if (!styleSheet.hasNameForId(this.componentId, name)) {\n          const cssStaticFormatted = stylis(cssStatic, `.${name}`, undefined, this.componentId);\n          styleSheet.insertRules(this.componentId, name, cssStaticFormatted);\n        }\n\n        names = joinStrings(names, name);\n        this.staticRulesId = name;\n      }\n    } else {\n      let dynamicHash = phash(this.baseHash, stylis.hash);\n      let css = '';\n\n      for (let i = 0; i < this.rules.length; i++) {\n        const partRule = this.rules[i];\n\n        if (typeof partRule === 'string') {\n          css += partRule;\n\n          if (process.env.NODE_ENV !== 'production') dynamicHash = phash(dynamicHash, partRule);\n        } else if (partRule) {\n          const partString = joinStringArray(\n            flatten(partRule, executionContext, styleSheet, stylis) as string[]\n          );\n          // The same value can switch positions in the array, so we include \"i\" in the hash.\n          dynamicHash = phash(dynamicHash, partString + i);\n          css += partString;\n        }\n      }\n\n      if (css) {\n        const name = generateName(dynamicHash >>> 0);\n\n        if (!styleSheet.hasNameForId(this.componentId, name)) {\n          styleSheet.insertRules(\n            this.componentId,\n            name,\n            stylis(css, `.${name}`, undefined, this.componentId)\n          );\n        }\n\n        names = joinStrings(names, name);\n      }\n    }\n\n    return names;\n  }\n}\n","import React, { useContext, useMemo } from 'react';\nimport styledError from '../utils/error';\nimport isFunction from '../utils/isFunction';\n\n/**\n * Override DefaultTheme to get accurate typings for your project.\n *\n * ```\n * // create styled-components.d.ts in your project source\n * // if it isn't being picked up, check tsconfig compilerOptions.types\n * import type { CSSProp } from \"styled-components\";\n * import Theme from './theme';\n *\n * type ThemeType = typeof Theme;\n *\n * declare module \"styled-components\" {\n *  export interface DefaultTheme extends ThemeType {}\n * }\n *\n * declare module \"react\" {\n *  interface DOMAttributes<T> {\n *    css?: CSSProp;\n *  }\n * }\n * ```\n */\nexport interface DefaultTheme {\n  [key: string]: any;\n}\n\ntype ThemeFn = (outerTheme?: DefaultTheme | undefined) => DefaultTheme;\ntype ThemeArgument = DefaultTheme | ThemeFn;\n\ntype Props = {\n  children?: React.ReactNode;\n  theme: ThemeArgument;\n};\n\nexport const ThemeContext = React.createContext<DefaultTheme | undefined>(undefined);\n\nexport const ThemeConsumer = ThemeContext.Consumer;\n\nfunction mergeTheme(theme: ThemeArgument, outerTheme?: DefaultTheme | undefined): DefaultTheme {\n  if (!theme) {\n    throw styledError(14);\n  }\n\n  if (isFunction(theme)) {\n    const themeFn = theme as ThemeFn;\n    const mergedTheme = themeFn(outerTheme);\n\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      (mergedTheme === null || Array.isArray(mergedTheme) || typeof mergedTheme !== 'object')\n    ) {\n      throw styledError(7);\n    }\n\n    return mergedTheme;\n  }\n\n  if (Array.isArray(theme) || typeof theme !== 'object') {\n    throw styledError(8);\n  }\n\n  return outerTheme ? { ...outerTheme, ...theme } : theme;\n}\n\n/**\n * Returns the current theme (as provided by the closest ancestor `ThemeProvider`.)\n *\n * If no `ThemeProvider` is found, the function will error. If you need access to the theme in an\n * uncertain composition scenario, `React.useContext(ThemeContext)` will not emit an error if there\n * is no `ThemeProvider` ancestor.\n */\nexport function useTheme(): DefaultTheme {\n  const theme = useContext(ThemeContext);\n\n  if (!theme) {\n    throw styledError(18);\n  }\n\n  return theme;\n}\n\n/**\n * Provide a theme to an entire react component tree via context\n */\nexport default function ThemeProvider(props: Props): JSX.Element | null {\n  const outerTheme = React.useContext(ThemeContext);\n  const themeContext = useMemo(\n    () => mergeTheme(props.theme, outerTheme),\n    [props.theme, outerTheme]\n  );\n\n  if (!props.children) {\n    return null;\n  }\n\n  return <ThemeContext.Provider value={themeContext}>{props.children}</ThemeContext.Provider>;\n}\n","import isPropValid from '@emotion/is-prop-valid';\nimport React, { createElement, Ref, useDebugValue } from 'react';\nimport { SC_VERSION } from '../constants';\nimport type {\n  AnyComponent,\n  Attrs,\n  BaseObject,\n  Dict,\n  ExecutionContext,\n  ExecutionProps,\n  IStyledComponent,\n  IStyledComponentFactory,\n  IStyledStatics,\n  OmitNever,\n  RuleSet,\n  StyledOptions,\n  WebTarget,\n} from '../types';\nimport { checkDynamicCreation } from '../utils/checkDynamicCreation';\nimport createWarnTooManyClasses from '../utils/createWarnTooManyClasses';\nimport determineTheme from '../utils/determineTheme';\nimport domElements from '../utils/domElements';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from '../utils/empties';\nimport escape from '../utils/escape';\nimport generateComponentId from '../utils/generateComponentId';\nimport generateDisplayName from '../utils/generateDisplayName';\nimport hoist from '../utils/hoist';\nimport isFunction from '../utils/isFunction';\nimport isStyledComponent from '../utils/isStyledComponent';\nimport isTag from '../utils/isTag';\nimport { joinStrings } from '../utils/joinStrings';\nimport merge from '../utils/mixinDeep';\nimport { setToString } from '../utils/setToString';\nimport ComponentStyle from './ComponentStyle';\nimport { useStyleSheetContext } from './StyleSheetManager';\nimport { DefaultTheme, ThemeContext } from './ThemeProvider';\n\nconst identifiers: { [key: string]: number } = {};\n\n/* We depend on components having unique IDs */\nfunction generateId(\n  displayName?: string | undefined,\n  parentComponentId?: string | undefined\n): string {\n  const name = typeof displayName !== 'string' ? 'sc' : escape(displayName);\n  // Ensure that no displayName can lead to duplicate componentIds\n  identifiers[name] = (identifiers[name] || 0) + 1;\n\n  const componentId = `${name}-${generateComponentId(\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    SC_VERSION + name + identifiers[name]\n  )}`;\n\n  return parentComponentId ? `${parentComponentId}-${componentId}` : componentId;\n}\n\nfunction useInjectedStyle<T extends ExecutionContext>(\n  componentStyle: ComponentStyle,\n  resolvedAttrs: T\n) {\n  const ssc = useStyleSheetContext();\n\n  const className = componentStyle.generateAndInjectStyles(\n    resolvedAttrs,\n    ssc.styleSheet,\n    ssc.stylis\n  );\n\n  if (process.env.NODE_ENV !== 'production') useDebugValue(className);\n\n  return className;\n}\n\nfunction resolveContext<Props extends object>(\n  attrs: Attrs<React.HTMLAttributes<Element> & Props>[],\n  props: React.HTMLAttributes<Element> & ExecutionProps & Props,\n  theme: DefaultTheme\n) {\n  const context: React.HTMLAttributes<Element> &\n    ExecutionContext &\n    Props & { [key: string]: any; class?: string; ref?: React.Ref<any> } = {\n    ...props,\n    // unset, add `props.className` back at the end so props always \"wins\"\n    className: undefined,\n    theme,\n  };\n  let attrDef;\n\n  for (let i = 0; i < attrs.length; i += 1) {\n    attrDef = attrs[i];\n    const resolvedAttrDef = isFunction(attrDef) ? attrDef(context) : attrDef;\n\n    for (const key in resolvedAttrDef) {\n      context[key as keyof typeof context] =\n        key === 'className'\n          ? joinStrings(context[key] as string | undefined, resolvedAttrDef[key] as string)\n          : key === 'style'\n            ? { ...context[key], ...resolvedAttrDef[key] }\n            : resolvedAttrDef[key as keyof typeof resolvedAttrDef];\n    }\n  }\n\n  if (props.className) {\n    context.className = joinStrings(context.className, props.className);\n  }\n\n  return context;\n}\n\nlet seenUnknownProps = new Set();\n\nfunction useStyledComponentImpl<Props extends object>(\n  forwardedComponent: IStyledComponent<'web', Props>,\n  props: ExecutionProps & Props,\n  forwardedRef: Ref<Element>\n) {\n  const {\n    attrs: componentAttrs,\n    componentStyle,\n    defaultProps,\n    foldedComponentIds,\n    styledComponentId,\n    target,\n  } = forwardedComponent;\n\n  const contextTheme = React.useContext(ThemeContext);\n  const ssc = useStyleSheetContext();\n  const shouldForwardProp = forwardedComponent.shouldForwardProp || ssc.shouldForwardProp;\n\n  if (process.env.NODE_ENV !== 'production') useDebugValue(styledComponentId);\n\n  // NOTE: the non-hooks version only subscribes to this when !componentStyle.isStatic,\n  // but that'd be against the rules-of-hooks. We could be naughty and do it anyway as it\n  // should be an immutable value, but behave for now.\n  const theme = determineTheme(props, contextTheme, defaultProps) || EMPTY_OBJECT;\n\n  const context = resolveContext<Props>(componentAttrs, props, theme);\n  const elementToBeCreated: WebTarget = context.as || target;\n  const propsForElement: Dict<any> = {};\n\n  for (const key in context) {\n    if (context[key] === undefined) {\n      // Omit undefined values from props passed to wrapped element.\n      // This enables using .attrs() to remove props, for example.\n    } else if (key[0] === '$' || key === 'as' || (key === 'theme' && context.theme === theme)) {\n      // Omit transient props and execution props.\n    } else if (key === 'forwardedAs') {\n      propsForElement.as = context.forwardedAs;\n    } else if (!shouldForwardProp || shouldForwardProp(key, elementToBeCreated)) {\n      propsForElement[key] = context[key];\n\n      if (\n        !shouldForwardProp &&\n        process.env.NODE_ENV === 'development' &&\n        !isPropValid(key) &&\n        !seenUnknownProps.has(key) &&\n        // Only warn on DOM Element.\n        domElements.has(elementToBeCreated as any)\n      ) {\n        seenUnknownProps.add(key);\n        console.warn(\n          `styled-components: it looks like an unknown prop \"${key}\" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via \\`<StyleSheetManager shouldForwardProp={...}>\\` (connect an API like \\`@emotion/is-prop-valid\\`) or consider using transient props (\\`$\\` prefix for automatic filtering.)`\n        );\n      }\n    }\n  }\n\n  const generatedClassName = useInjectedStyle(componentStyle, context);\n\n  if (process.env.NODE_ENV !== 'production' && forwardedComponent.warnTooManyClasses) {\n    forwardedComponent.warnTooManyClasses(generatedClassName);\n  }\n\n  let classString = joinStrings(foldedComponentIds, styledComponentId);\n  if (generatedClassName) {\n    classString += ' ' + generatedClassName;\n  }\n  if (context.className) {\n    classString += ' ' + context.className;\n  }\n\n  propsForElement[\n    // handle custom elements which React doesn't properly alias\n    isTag(elementToBeCreated) &&\n    !domElements.has(elementToBeCreated as Extract<typeof domElements, string>)\n      ? 'class'\n      : 'className'\n  ] = classString;\n\n  propsForElement.ref = forwardedRef;\n\n  return createElement(elementToBeCreated, propsForElement);\n}\n\nfunction createStyledComponent<\n  Target extends WebTarget,\n  OuterProps extends object,\n  Statics extends object = BaseObject,\n>(\n  target: Target,\n  options: StyledOptions<'web', OuterProps>,\n  rules: RuleSet<OuterProps>\n): ReturnType<IStyledComponentFactory<'web', Target, OuterProps, Statics>> {\n  const isTargetStyledComp = isStyledComponent(target);\n  const styledComponentTarget = target as IStyledComponent<'web', OuterProps>;\n  const isCompositeComponent = !isTag(target);\n\n  const {\n    attrs = EMPTY_ARRAY,\n    componentId = generateId(options.displayName, options.parentComponentId),\n    displayName = generateDisplayName(target),\n  } = options;\n\n  const styledComponentId =\n    options.displayName && options.componentId\n      ? `${escape(options.displayName)}-${options.componentId}`\n      : options.componentId || componentId;\n\n  // fold the underlying StyledComponent attrs up (implicit extend)\n  const finalAttrs =\n    isTargetStyledComp && styledComponentTarget.attrs\n      ? styledComponentTarget.attrs.concat(attrs as unknown as Attrs<OuterProps>[]).filter(Boolean)\n      : (attrs as Attrs<OuterProps>[]);\n\n  let { shouldForwardProp } = options;\n\n  if (isTargetStyledComp && styledComponentTarget.shouldForwardProp) {\n    const shouldForwardPropFn = styledComponentTarget.shouldForwardProp;\n\n    if (options.shouldForwardProp) {\n      const passedShouldForwardPropFn = options.shouldForwardProp;\n\n      // compose nested shouldForwardProp calls\n      shouldForwardProp = (prop, elementToBeCreated) =>\n        shouldForwardPropFn(prop, elementToBeCreated) &&\n        passedShouldForwardPropFn(prop, elementToBeCreated);\n    } else {\n      shouldForwardProp = shouldForwardPropFn;\n    }\n  }\n\n  const componentStyle = new ComponentStyle(\n    rules,\n    styledComponentId,\n    isTargetStyledComp ? (styledComponentTarget.componentStyle as ComponentStyle) : undefined\n  );\n\n  function forwardRefRender(props: ExecutionProps & OuterProps, ref: Ref<Element>) {\n    return useStyledComponentImpl<OuterProps>(WrappedStyledComponent, props, ref);\n  }\n\n  forwardRefRender.displayName = displayName;\n\n  /**\n   * forwardRef creates a new interim component, which we'll take advantage of\n   * instead of extending ParentComponent to create _another_ interim class\n   */\n  let WrappedStyledComponent = React.forwardRef(forwardRefRender) as unknown as IStyledComponent<\n    'web',\n    any\n  > &\n    Statics;\n  WrappedStyledComponent.attrs = finalAttrs;\n  WrappedStyledComponent.componentStyle = componentStyle;\n  WrappedStyledComponent.displayName = displayName;\n  WrappedStyledComponent.shouldForwardProp = shouldForwardProp;\n\n  // this static is used to preserve the cascade of static classes for component selector\n  // purposes; this is especially important with usage of the css prop\n  WrappedStyledComponent.foldedComponentIds = isTargetStyledComp\n    ? joinStrings(styledComponentTarget.foldedComponentIds, styledComponentTarget.styledComponentId)\n    : '';\n\n  WrappedStyledComponent.styledComponentId = styledComponentId;\n\n  // fold the underlying StyledComponent target up since we folded the styles\n  WrappedStyledComponent.target = isTargetStyledComp ? styledComponentTarget.target : target;\n\n  Object.defineProperty(WrappedStyledComponent, 'defaultProps', {\n    get() {\n      return this._foldedDefaultProps;\n    },\n\n    set(obj) {\n      this._foldedDefaultProps = isTargetStyledComp\n        ? merge({}, styledComponentTarget.defaultProps, obj)\n        : obj;\n    },\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(displayName, styledComponentId);\n\n    WrappedStyledComponent.warnTooManyClasses = createWarnTooManyClasses(\n      displayName,\n      styledComponentId\n    );\n  }\n\n  setToString(WrappedStyledComponent, () => `.${WrappedStyledComponent.styledComponentId}`);\n\n  if (isCompositeComponent) {\n    const compositeComponentTarget = target as AnyComponent;\n\n    hoist<typeof WrappedStyledComponent, typeof compositeComponentTarget>(\n      WrappedStyledComponent,\n      compositeComponentTarget,\n      {\n        // all SC-specific things should not be hoisted\n        attrs: true,\n        componentStyle: true,\n        displayName: true,\n        foldedComponentIds: true,\n        shouldForwardProp: true,\n        styledComponentId: true,\n        target: true,\n      } as { [key in keyof OmitNever<IStyledStatics<'web', OuterProps>>]: true }\n    );\n  }\n\n  return WrappedStyledComponent;\n}\n\nexport default createStyledComponent;\n","import { StyledTarget } from '../types';\nimport getComponentName from './getComponentName';\nimport isTag from './isTag';\n\nexport default function generateDisplayName(target: StyledTarget<any>) {\n  return isTag(target) ? `styled.${target}` : `Styled(${getComponentName(target)})`;\n}\n","import { Interpolation } from '../types';\n\nexport default function interleave<Props extends object>(\n  strings: readonly string[],\n  interpolations: Interpolation<Props>[]\n): Interpolation<Props>[] {\n  const result: Interpolation<Props>[] = [strings[0]];\n\n  for (let i = 0, len = interpolations.length; i < len; i += 1) {\n    result.push(interpolations[i], strings[i + 1]);\n  }\n\n  return result;\n}\n","import {\n  BaseObject,\n  Interpolation,\n  NoInfer,\n  RuleSet,\n  StyledObject,\n  StyleFunction,\n  Styles,\n} from '../types';\nimport { EMPTY_ARRAY } from '../utils/empties';\nimport flatten from '../utils/flatten';\nimport interleave from '../utils/interleave';\nimport isFunction from '../utils/isFunction';\nimport isPlainObject from '../utils/isPlainObject';\n\n/**\n * Used when flattening object styles to determine if we should\n * expand an array of styles.\n */\nconst addTag = <T extends RuleSet<any>>(arg: T): T & { isCss: true } =>\n  Object.assign(arg, { isCss: true } as const);\n\nfunction css(styles: Styles<object>, ...interpolations: Interpolation<object>[]): RuleSet<object>;\nfunction css<Props extends object>(\n  styles: Styles<NoInfer<Props>>,\n  ...interpolations: Interpolation<NoInfer<Props>>[]\n): RuleSet<NoInfer<Props>>;\nfunction css<Props extends object = BaseObject>(\n  styles: Styles<NoInfer<Props>>,\n  ...interpolations: Interpolation<NoInfer<Props>>[]\n): RuleSet<NoInfer<Props>> {\n  if (isFunction(styles) || isPlainObject(styles)) {\n    const styleFunctionOrObject = styles as StyleFunction<Props> | StyledObject<Props>;\n\n    return addTag(\n      flatten<Props>(\n        interleave<Props>(EMPTY_ARRAY, [\n          styleFunctionOrObject,\n          ...interpolations,\n        ]) as Interpolation<object>\n      )\n    );\n  }\n\n  const styleStringArray = styles as TemplateStringsArray;\n\n  if (\n    interpolations.length === 0 &&\n    styleStringArray.length === 1 &&\n    typeof styleStringArray[0] === 'string'\n  ) {\n    return flatten<Props>(styleStringArray);\n  }\n\n  return addTag(\n    flatten<Props>(interleave<Props>(styleStringArray, interpolations) as Interpolation<object>)\n  );\n}\n\nexport default css;\n","import {\n  Attrs,\n  BaseObject,\n  ExecutionProps,\n  Interpolation,\n  IStyledComponent,\n  IStyledComponentFactory,\n  KnownTarget,\n  NoInfer,\n  Runtime,\n  StyledOptions,\n  StyledTarget,\n  Styles,\n  Substitute,\n} from '../types';\nimport { EMPTY_OBJECT } from '../utils/empties';\nimport styledError from '../utils/error';\nimport css from './css';\n\ntype AttrsResult<T extends Attrs<any>> = T extends (...args: any) => infer P\n  ? P extends object\n    ? P\n    : never\n  : T extends object\n    ? T\n    : never;\n\n/**\n * Based on Attrs being a simple object or function that returns\n * a prop object, inspect the attrs result and attempt to extract\n * any \"as\" prop usage to modify the runtime target.\n */\ntype AttrsTarget<\n  R extends Runtime,\n  T extends Attrs<any>,\n  FallbackTarget extends StyledTarget<R>,\n  Result extends ExecutionProps = AttrsResult<T>,\n> = Result extends { as: infer RuntimeTarget }\n  ? RuntimeTarget extends KnownTarget\n    ? RuntimeTarget\n    : FallbackTarget\n  : FallbackTarget;\n\nexport interface Styled<\n  R extends Runtime,\n  Target extends StyledTarget<R>,\n  OuterProps extends object,\n  OuterStatics extends object = BaseObject,\n> {\n  <Props extends object = BaseObject, Statics extends object = BaseObject>(\n    initialStyles: Styles<Substitute<OuterProps, NoInfer<Props>>>,\n    ...interpolations: Interpolation<Substitute<OuterProps, NoInfer<Props>>>[]\n  ): IStyledComponent<R, Substitute<OuterProps, Props>> &\n    OuterStatics &\n    Statics &\n    (R extends 'web'\n      ? Target extends string\n        ? {}\n        : Omit<Target, keyof React.Component<any>>\n      : {});\n\n  attrs: <\n    Props extends object = BaseObject,\n    PrivateMergedProps extends object = Substitute<OuterProps, Props>,\n    PrivateAttrsArg extends Attrs<PrivateMergedProps> = Attrs<PrivateMergedProps>,\n    PrivateResolvedTarget extends StyledTarget<R> = AttrsTarget<R, PrivateAttrsArg, Target>,\n  >(\n    attrs: PrivateAttrsArg\n  ) => Styled<\n    R,\n    PrivateResolvedTarget,\n    PrivateResolvedTarget extends KnownTarget\n      ? Substitute<\n          Substitute<OuterProps, React.ComponentPropsWithRef<PrivateResolvedTarget>>,\n          Props\n        >\n      : PrivateMergedProps,\n    OuterStatics\n  >;\n\n  withConfig: (config: StyledOptions<R, OuterProps>) => Styled<R, Target, OuterProps, OuterStatics>;\n}\n\nexport default function constructWithOptions<\n  R extends Runtime,\n  Target extends StyledTarget<R>,\n  OuterProps extends object = Target extends KnownTarget\n    ? React.ComponentPropsWithRef<Target>\n    : BaseObject,\n  OuterStatics extends object = BaseObject,\n>(\n  componentConstructor: IStyledComponentFactory<R, StyledTarget<R>, object, any>,\n  tag: StyledTarget<R>,\n  options: StyledOptions<R, OuterProps> = EMPTY_OBJECT\n): Styled<R, Target, OuterProps, OuterStatics> {\n  /**\n   * We trust that the tag is a valid component as long as it isn't\n   * falsish. Typically the tag here is a string or function (i.e.\n   * class or pure function component), however a component may also be\n   * an object if it uses another utility, e.g. React.memo. React will\n   * output an appropriate warning however if the `tag` isn't valid.\n   */\n  if (!tag) {\n    throw styledError(1, tag);\n  }\n\n  /* This is callable directly as a template function */\n  const templateFunction = <Props extends object = BaseObject, Statics extends object = BaseObject>(\n    initialStyles: Styles<Substitute<OuterProps, Props>>,\n    ...interpolations: Interpolation<Substitute<OuterProps, Props>>[]\n  ) =>\n    componentConstructor<Substitute<OuterProps, Props>, Statics>(\n      tag,\n      options as StyledOptions<R, Substitute<OuterProps, Props>>,\n      css<Substitute<OuterProps, Props>>(initialStyles, ...interpolations)\n    );\n\n  /**\n   * Attrs allows for accomplishing two goals:\n   *\n   * 1. Backfilling props at runtime more expressively than defaultProps\n   * 2. Amending the prop interface of a wrapped styled component\n   */\n  templateFunction.attrs = <\n    Props extends object = BaseObject,\n    PrivateMergedProps extends object = Substitute<OuterProps, Props>,\n    PrivateAttrsArg extends Attrs<PrivateMergedProps> = Attrs<PrivateMergedProps>,\n    PrivateResolvedTarget extends StyledTarget<R> = AttrsTarget<R, PrivateAttrsArg, Target>,\n  >(\n    attrs: PrivateAttrsArg\n  ) =>\n    constructWithOptions<\n      R,\n      PrivateResolvedTarget,\n      PrivateResolvedTarget extends KnownTarget\n        ? Substitute<\n            Substitute<OuterProps, React.ComponentPropsWithRef<PrivateResolvedTarget>>,\n            Props\n          >\n        : PrivateMergedProps,\n      OuterStatics\n    >(componentConstructor, tag, {\n      ...options,\n      attrs: Array.prototype.concat(options.attrs, attrs).filter(Boolean),\n    });\n\n  /**\n   * If config methods are called, wrap up a new template function\n   * and merge options.\n   */\n  templateFunction.withConfig = (config: StyledOptions<R, OuterProps>) =>\n    constructWithOptions<R, Target, OuterProps, OuterStatics>(componentConstructor, tag, {\n      ...options,\n      ...config,\n    });\n\n  return templateFunction;\n}\n","import { ComponentPropsWithRef } from 'react';\nimport createStyledComponent from '../models/StyledComponent';\nimport { BaseObject, KnownTarget, WebTarget } from '../types';\nimport domElements, { SupportedHTMLElements } from '../utils/domElements';\nimport constructWithOptions, { Styled as StyledInstance } from './constructWithOptions';\n\nconst baseStyled = <Target extends WebTarget, InjectedProps extends object = BaseObject>(\n  tag: Target\n) =>\n  constructWithOptions<\n    'web',\n    Target,\n    Target extends KnownTarget ? ComponentPropsWithRef<Target> & InjectedProps : InjectedProps\n  >(createStyledComponent, tag);\n\nconst styled = baseStyled as typeof baseStyled & {\n  [E in SupportedHTMLElements]: StyledInstance<'web', E, JSX.IntrinsicElements[E]>;\n};\n\n// Shorthands for all valid HTML Elements\ndomElements.forEach(domElement => {\n  // @ts-expect-error some react typing bs\n  styled[domElement] = baseStyled<typeof domElement>(domElement);\n});\n\nexport default styled;\nexport { StyledInstance };\n\n/**\n * This is the type of the `styled` HOC.\n */\nexport type Styled = typeof styled;\n\n/**\n * Use this higher-order type for scenarios where you are wrapping `styled`\n * and providing extra props as a third-party library.\n */\nexport type LibraryStyled<LibraryProps extends object = BaseObject> = <Target extends WebTarget>(\n  tag: Target\n) => typeof baseStyled<Target, LibraryProps>;\n","import StyleSheet from '../sheet';\nimport { ExecutionContext, RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport isStaticRules from '../utils/isStaticRules';\nimport { joinStringArray } from '../utils/joinStrings';\n\nexport default class GlobalStyle<Props extends object> {\n  componentId: string;\n  isStatic: boolean;\n  rules: RuleSet<Props>;\n\n  constructor(rules: RuleSet<Props>, componentId: string) {\n    this.rules = rules;\n    this.componentId = componentId;\n    this.isStatic = isStaticRules(rules);\n\n    // pre-register the first instance to ensure global styles\n    // load before component ones\n    StyleSheet.registerId(this.componentId + 1);\n  }\n\n  createStyles(\n    instance: number,\n    executionContext: ExecutionContext & Props,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ): void {\n    const flatCSS = joinStringArray(\n      flatten(this.rules as RuleSet<object>, executionContext, styleSheet, stylis) as string[]\n    );\n    const css = stylis(flatCSS, '');\n    const id = this.componentId + instance;\n\n    // NOTE: We use the id as a name as well, since these rules never change\n    styleSheet.insertRules(id, id, css);\n  }\n\n  removeStyles(instance: number, styleSheet: StyleSheet): void {\n    styleSheet.clearRules(this.componentId + instance);\n  }\n\n  renderStyles(\n    instance: number,\n    executionContext: ExecutionContext & Props,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ): void {\n    if (instance > 2) StyleSheet.registerId(this.componentId + instance);\n\n    // NOTE: Remove old styles, then inject the new ones\n    this.removeStyles(instance, styleSheet);\n    this.createStyles(instance, executionContext, styleSheet, stylis);\n  }\n}\n","import React from 'react';\nimport type * as streamInternal from 'stream';\nimport { Readable } from 'stream';\nimport { IS_BROWSER, SC_ATTR, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport StyleSheet from '../sheet';\nimport styledError from '../utils/error';\nimport { joinStringArray } from '../utils/joinStrings';\nimport getNonce from '../utils/nonce';\nimport { StyleSheetManager } from './StyleSheetManager';\n\ndeclare const __SERVER__: boolean;\n\nconst CLOSING_TAG_R = /^\\s*<\\/[a-z]/i;\n\nexport default class ServerStyleSheet {\n  instance: StyleSheet;\n  sealed: boolean;\n\n  constructor() {\n    this.instance = new StyleSheet({ isServer: true });\n    this.sealed = false;\n  }\n\n  _emitSheetCSS = (): string => {\n    const css = this.instance.toString();\n    const nonce = getNonce();\n    const attrs = [\n      nonce && `nonce=\"${nonce}\"`,\n      `${SC_ATTR}=\"true\"`,\n      `${SC_ATTR_VERSION}=\"${SC_VERSION}\"`,\n    ];\n    const htmlAttr = joinStringArray(attrs.filter(Boolean) as string[], ' ');\n\n    return `<style ${htmlAttr}>${css}</style>`;\n  };\n\n  collectStyles(children: any): JSX.Element {\n    if (this.sealed) {\n      throw styledError(2);\n    }\n\n    return <StyleSheetManager sheet={this.instance}>{children}</StyleSheetManager>;\n  }\n\n  getStyleTags = (): string => {\n    if (this.sealed) {\n      throw styledError(2);\n    }\n\n    return this._emitSheetCSS();\n  };\n\n  getStyleElement = () => {\n    if (this.sealed) {\n      throw styledError(2);\n    }\n\n    const props = {\n      [SC_ATTR]: '',\n      [SC_ATTR_VERSION]: SC_VERSION,\n      dangerouslySetInnerHTML: {\n        __html: this.instance.toString(),\n      },\n    };\n\n    const nonce = getNonce();\n    if (nonce) {\n      (props as any).nonce = nonce;\n    }\n\n    // v4 returned an array for this fn, so we'll do the same for v5 for backward compat\n    return [<style {...props} key=\"sc-0-0\" />];\n  };\n\n  // @ts-expect-error alternate return types are not possible due to code transformation\n  interleaveWithNodeStream(input: Readable): streamInternal.Transform {\n    if (!__SERVER__ || IS_BROWSER) {\n      throw styledError(3);\n    } else if (this.sealed) {\n      throw styledError(2);\n    }\n\n    if (__SERVER__) {\n      this.seal();\n\n      const { Transform } = require('stream');\n\n      const readableStream: Readable = input;\n      const { instance: sheet, _emitSheetCSS } = this;\n\n      const transformer: streamInternal.Transform = new Transform({\n        transform: function appendStyleChunks(\n          chunk: string,\n          /* encoding */\n          _: string,\n          callback: Function\n        ) {\n          // Get the chunk and retrieve the sheet's CSS as an HTML chunk,\n          // then reset its rules so we get only new ones for the next chunk\n          const renderedHtml = chunk.toString();\n          const html = _emitSheetCSS();\n\n          sheet.clearTag();\n\n          // prepend style html to chunk, unless the start of the chunk is a\n          // closing tag in which case append right after that\n          if (CLOSING_TAG_R.test(renderedHtml)) {\n            const endOfClosingTag = renderedHtml.indexOf('>') + 1;\n            const before = renderedHtml.slice(0, endOfClosingTag);\n            const after = renderedHtml.slice(endOfClosingTag);\n\n            this.push(before + html + after);\n          } else {\n            this.push(html + renderedHtml);\n          }\n\n          callback();\n        },\n      });\n\n      readableStream.on('error', err => {\n        // forward the error to the transform stream\n        transformer.emit('error', err);\n      });\n\n      return readableStream.pipe(transformer);\n    }\n  }\n\n  seal = (): void => {\n    this.sealed = true;\n  };\n}\n","/* Import singletons */\nimport { SC_ATTR, SC_VERSION } from './constants';\nimport createGlobalStyle from './constructors/createGlobalStyle';\nimport css from './constructors/css';\nimport keyframes from './constructors/keyframes';\n/* Import Higher Order Components */\nimport withTheme from './hoc/withTheme';\n/* Import hooks */\nimport ServerStyleSheet from './models/ServerStyleSheet';\nimport {\n  IStyleSheetContext,\n  IStyleSheetManager,\n  IStylisContext,\n  StyleSheetConsumer,\n  StyleSheetContext,\n  StyleSheetManager,\n} from './models/StyleSheetManager';\n/* Import components */\nimport ThemeProvider, { ThemeConsumer, ThemeContext, useTheme } from './models/ThemeProvider';\nimport isStyledComponent from './utils/isStyledComponent';\n\n/* Warning if you've imported this file on React Native */\nif (\n  process.env.NODE_ENV !== 'production' &&\n  typeof navigator !== 'undefined' &&\n  navigator.product === 'ReactNative'\n) {\n  console.warn(\n    `It looks like you've imported 'styled-components' on React Native.\\nPerhaps you're looking to import 'styled-components/native'?\\nRead more about this at https://www.styled-components.com/docs/basics#react-native`\n  );\n}\n\nconst windowGlobalKey = `__sc-${SC_ATTR}__`;\n\n/* Warning if there are several instances of styled-components */\nif (\n  process.env.NODE_ENV !== 'production' &&\n  process.env.NODE_ENV !== 'test' &&\n  typeof window !== 'undefined'\n) {\n  // @ts-expect-error dynamic key not in window object\n  window[windowGlobalKey] ||= 0;\n\n  // @ts-expect-error dynamic key not in window object\n  if (window[windowGlobalKey] === 1) {\n    console.warn(\n      `It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.\\n\\nSee https://s-c.sh/2BAXzed for more info.`\n    );\n  }\n\n  // @ts-expect-error dynamic key not in window object\n  window[windowGlobalKey] += 1;\n}\n\n/* Export everything */\nexport * from './secretInternals';\nexport { Attrs, DefaultTheme, ShouldForwardProp } from './types';\nexport {\n  IStyleSheetContext,\n  IStyleSheetManager,\n  IStylisContext,\n  ServerStyleSheet,\n  StyleSheetConsumer,\n  StyleSheetContext,\n  StyleSheetManager,\n  ThemeConsumer,\n  ThemeContext,\n  ThemeProvider,\n  createGlobalStyle,\n  css,\n  isStyledComponent,\n  keyframes,\n  useTheme,\n  SC_VERSION as version,\n  withTheme,\n};\n","// StyledComponents.jsx\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\n// Keyframes for the floating-up animation\r\n//https://www.w3schools.com/cssref/css3_pr_animation-keyframes.php\r\n//This help in getting the float up effect to work\r\nconst floatUp = keyframes`\r\n  0% {\r\n    transform: translateY(100%);\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\n// Styled container for the main component\r\nexport const Container = styled.div`\r\n  height: 100vh;\r\n`;\r\n\r\n// ArtBox with blue and red gradient border\r\nexport const ArtBox = styled.div`\r\n  font-family: Source Code Pro, monospace;\r\n  white-space: pre;\r\n  width: 105%;\r\n  height: 76%;\r\n  overflow: hidden;\r\n  border: 2px solid;\r\n  border-image: linear-gradient(to right, blue, red) 1;\r\n  padding: 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n`;\r\n\r\n// ScaleBox for scaling the content\r\nexport const ScaleBox = styled.div`\r\n  transform: scale(${(props) => props.scale});\r\n  transform-origin: top;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\n// Line component for each line of binary art\r\nexport const Line = styled.div`\r\n  animation: ${floatUp} 1s ease-in-out forwards;\r\n  animation-delay: ${(props) => props.delay}s;\r\n  opacity: 0;\r\n  line-height: 1.2;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","import Keyframes from '../models/Keyframes';\nimport { Interpolation, Styles } from '../types';\nimport generateComponentId from '../utils/generateComponentId';\nimport { joinStringArray } from '../utils/joinStrings';\nimport css from './css';\n\nexport default function keyframes<Props extends object = {}>(\n  strings: Styles<Props>,\n  ...interpolations: Array<Interpolation<Props>>\n): Keyframes {\n  /* Warning if you've used keyframes on React Native */\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative'\n  ) {\n    console.warn(\n      '`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.'\n    );\n  }\n\n  const rules = joinStringArray(css<Props>(strings, ...interpolations) as string[]);\n  const name = generateComponentId(rules);\n  return new Keyframes(name, rules);\n}\n","import React, { useState, useEffect } from \"react\";\r\nimport { Container, ArtBox, ScaleBox, Line } from \"../design/BinaryArt\";\r\nimport Button from \"../components/Button\";\r\nimport ButtonGradient from \"../assets/svg/ButtonGradient\";\r\n\r\n// Define the BinaryArt functional component, which takes binaryData as a prop.\r\nconst BinaryArt = ({ binaryData }) => {\r\n  // startAnimation controls whether the animation should start.\r\n  // lines stores the lines of binary data.\r\n  // scale determines the scaling factor for the art display.\r\n  const [startAnimation, setStartAnimation] = useState(false);\r\n  const [lines, setLines] = useState([]);\r\n  const [scale, setScale] = useState(1);\r\n\r\n  // useEffect hook to handle side effects when startAnimation or binaryData changes.\r\n  useEffect(() => {\r\n    // Only execute if startAnimation is true.\r\n    if (startAnimation) {\r\n      // Split the binary data into individual lines.\r\n      const dataLines = binaryData.split(\"\\n\");\r\n      // Set the lines state with the split binary data.\r\n      setLines(dataLines);\r\n\r\n      // Define approximate dimensions for each character and line.\r\n      const lineHeight = 20;\r\n      const numLines = dataLines.length; // Number of lines in the binary data.\r\n      const charWidth = 10;\r\n      const maxLineLength = Math.max(...dataLines.map((line) => line.length)); // Longest line length in characters.\r\n\r\n      // Define the dimensions of the art box as a percentage of the viewport. THis is so the binary art can fit in the box.\r\n      //https://developer.mozilla.org/en-US/docs/Web/API/Window/innerHeight\r\n      //https://github.com/w3c/csswg-drafts/issues/5260\r\n      //THis help me in getting the art work to fit in the box as it was either too big or small to fit\r\n      const artBoxHeight = window.innerHeight * 0.78; // 78% of the viewport height.\r\n      const artBoxWidth = window.innerWidth * 0.8; // 80% of the viewport width.\r\n\r\n      // Calculate the required dimensions to fit all lines and characters.\r\n      const requiredHeight = numLines * lineHeight;\r\n      const requiredWidth = maxLineLength * charWidth;\r\n\r\n      // Calculate scale factors to fit the content within the art box dimensions.\r\n      const scaleFactorHeight = artBoxHeight / requiredHeight;\r\n      const scaleFactorWidth = artBoxWidth / requiredWidth;\r\n\r\n      // Set the scale state to the smaller of the two scale factors, ensuring the art maintains its aspect ratio.\r\n      setScale(Math.min(scaleFactorHeight, scaleFactorWidth, 1));\r\n    }\r\n  }, [startAnimation, binaryData]);\r\n\r\n  // Function to get the style for each character based on its value.\r\n  const getCharStyle = (char) => {\r\n    // Return an object with the appropriate color based on whether the character is '0' or '1'.\r\n    return char === \"0\" ? { color: \"white\" } : { color: \"yellow\" };\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <section className=\"flex justify-center mt-12 md:mt-15 xl:mt-20 mb-5\">\r\n        <Button onClick={() => setStartAnimation(true)}>Form Art</Button>\r\n      </section>\r\n      <ArtBox>\r\n        {/* Render the ScaleBox and lines of binary data if the animation has started */}\r\n        {startAnimation && (\r\n          <ScaleBox scale={scale}>\r\n            {/* Map over each line of binary data */}\r\n            {lines.map((line, index) => (\r\n              <Line key={index} delay={index * 0.5}>\r\n                {/* Map over each character in the current line */}\r\n                {line.split(\"\").map((char, charIndex) => (\r\n                  <span key={charIndex} style={getCharStyle(char)}>\r\n                    {char}\r\n                  </span>\r\n                ))}\r\n              </Line>\r\n            ))}\r\n          </ScaleBox>\r\n        )}\r\n      </ArtBox>\r\n      <ButtonGradient />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default BinaryArt;\r\n","// Those methods can only be called on binary images, but we won't lose time to check.\nconst bitMethods = {\n  /**\n   * Get the bit of a pixel using a pixel index.\n   * This method can only be called on binary images.\n   * @memberof Image\n   * @instance\n   * @param {number} pixel - The pixel index which corresponds to `x * image.width + y`\n   * @return {number} 0: bit is unset, 1: bit is set\n   */\n  getBit(pixel) {\n    return this.data[getSlot(pixel)] & (1 << getShift(pixel)) ? 1 : 0;\n  },\n\n  /**\n   * Set the bit of a pixel using a pixel index.\n   * This method can only be called on binary images.\n   * @memberof Image\n   * @instance\n   * @param {number} pixel - The pixel index which corresponds to `x * image.width + y`\n   */\n  setBit(pixel) {\n    this.data[getSlot(pixel)] |= 1 << getShift(pixel);\n  },\n\n  /**\n   * Clear the bit of a pixel using a pixel index.\n   * This method can only be called on binary images.\n   * @memberof Image\n   * @instance\n   * @param {number} pixel - The pixel index which corresponds to `x * image.width + y`\n   */\n  clearBit(pixel) {\n    this.data[getSlot(pixel)] &= ~(1 << getShift(pixel));\n  },\n\n  /**\n   * Toggle (invert) the bit of a pixel using a pixel index.\n   * This method can only be called on binary images.\n   * @memberof Image\n   * @instance\n   * @param {number} pixel - The pixel index which corresponds to `x * image.width + y`\n   */\n  toggleBit(pixel) {\n    this.data[getSlot(pixel)] ^= 1 << getShift(pixel);\n  },\n\n  /**\n   * Get the bit of a pixel using coordinates.\n   * This method can only be called on binary images.\n   * @memberof Image\n   * @instance\n   * @param {number} x - x coordinate (0 = left)\n   * @param {number} y - y coordinate (0 = top)\n   * @return {number} 0: bit is unset, 1: bit is set\n   */\n  getBitXY(x, y) {\n    if (x >= this.width || y >= this.height) return 0;\n    return this.getBit(y * this.width + x);\n  },\n\n  /**\n   * Set the bit of a pixel using coordinates.\n   * This method can only be called on binary images.\n   * @memberof Image\n   * @instance\n   * @param {number} x - x coordinate (0 = left)\n   * @param {number} y - y coordinate (0 = top)\n   */\n  setBitXY(x, y) {\n    this.setBit(y * this.width + x);\n  },\n\n  /**\n   * Clear the bit of a pixel using coordinates.\n   * @memberof Image\n   * @instance\n   * @param {number} x - x coordinate (0 = left)\n   * @param {number} y - y coordinate (0 = top)\n   */\n  clearBitXY(x, y) {\n    this.clearBit(y * this.width + x);\n  },\n\n  /**\n   * Toggle (invert) the bit of a pixel using coordinates.\n   * @memberof Image\n   * @instance\n   * @param {number} x - x coordinate (0 = left)\n   * @param {number} y - y coordinate (0 = top)\n   */\n  toggleBitXY(x, y) {\n    this.toggleBit(y * this.width + x);\n  },\n};\n\nfunction getSlot(pixel) {\n  return pixel >> 3;\n}\n\nfunction getShift(pixel) {\n  return 7 - (pixel & 0b00000111);\n}\n\nexport default function setBitMethods(Image) {\n  for (const i in bitMethods) {\n    Image.prototype[i] = bitMethods[i];\n  }\n}\n","// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n// even with --excludePrivate ¯\\_(ツ)_/¯\n/** @private */\nfunction loadImage(src, crossOrigin) {\n    return new Promise(function (resolve, reject) {\n        var img = new Image();\n        if (crossOrigin) {\n            img.crossOrigin = crossOrigin;\n        }\n        img.onload = function () {\n            resolve(img);\n        };\n        img.onerror = reject;\n        img.src = src;\n    });\n}\n/** @private */\nfunction imgToCanvas(img) {\n    var canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    // copy the image contents to the canvas\n    var context = canvas.getContext('2d');\n    context.drawImage(img, 0, 0, img.width, img.height, 0, 0, img.width, img.height);\n    return canvas;\n}\n\n/* global Promise, Image, Blob, FileReader, atob, btoa,\n   BlobBuilder, MSBlobBuilder, MozBlobBuilder, WebKitBlobBuilder, webkitURL */\n/**\n * Shim for\n * [`new Blob()`](https://developer.mozilla.org/en-US/docs/Web/API/Blob.Blob)\n * to support\n * [older browsers that use the deprecated `BlobBuilder` API](http://caniuse.com/blob).\n *\n * Example:\n *\n * ```js\n * var myBlob = blobUtil.createBlob(['hello world'], {type: 'text/plain'});\n * ```\n *\n * @param parts - content of the Blob\n * @param properties - usually `{type: myContentType}`,\n *                           you can also pass a string for the content type\n * @returns Blob\n */\nfunction createBlob(parts, properties) {\n    parts = parts || [];\n    properties = properties || {};\n    if (typeof properties === 'string') {\n        properties = { type: properties }; // infer content type\n    }\n    try {\n        return new Blob(parts, properties);\n    }\n    catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined'\n            ? BlobBuilder : typeof MSBlobBuilder !== 'undefined'\n            ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined'\n            ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n/**\n * Shim for\n * [`URL.createObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * var myUrl = blobUtil.createObjectURL(blob);\n * ```\n *\n * @param blob\n * @returns url\n */\nfunction createObjectURL(blob) {\n    return (typeof URL !== 'undefined' ? URL : webkitURL).createObjectURL(blob);\n}\n/**\n * Shim for\n * [`URL.revokeObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.revokeObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * blobUtil.revokeObjectURL(myUrl);\n * ```\n *\n * @param url\n */\nfunction revokeObjectURL(url) {\n    return (typeof URL !== 'undefined' ? URL : webkitURL).revokeObjectURL(url);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBinaryString(blob).then(function (binaryString) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBinaryString(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n        reader.onloadend = function () {\n            var result = reader.result || '';\n            if (hasBinaryString) {\n                return resolve(result);\n            }\n            resolve(arrayBufferToBinaryString(result));\n        };\n        reader.onerror = reject;\n        if (hasBinaryString) {\n            reader.readAsBinaryString(blob);\n        }\n        else {\n            reader.readAsArrayBuffer(blob);\n        }\n    });\n}\n/**\n * Convert a base64-encoded string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.base64StringToBlob(base64String);\n * ```\n * @param base64 - base64-encoded string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction base64StringToBlob(base64, type) {\n    var parts = [binaryStringToArrayBuffer(atob(base64))];\n    return type ? createBlob(parts, { type: type }) : createBlob(parts);\n}\n/**\n * Convert a binary string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.binaryStringToBlob(binaryString);\n * ```\n *\n * @param binary - binary string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction binaryStringToBlob(binary, type) {\n    return base64StringToBlob(btoa(binary), type);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBase64String(blob).then(function (base64String) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBase64String(blob) {\n    return blobToBinaryString(blob).then(btoa);\n}\n/**\n * Convert a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`)\n * to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.dataURLToBlob(dataURL);\n * ```\n *\n * @param dataURL - dataURL-encoded string\n * @returns Blob\n */\nfunction dataURLToBlob(dataURL) {\n    var type = dataURL.match(/data:([^;]+)/)[1];\n    var base64 = dataURL.replace(/^[^,]+,/, '');\n    var buff = binaryStringToArrayBuffer(atob(base64));\n    return createBlob([buff], { type: type });\n}\n/**\n * Convert a `Blob` to a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`).\n *\n * Example:\n *\n * ```js\n * var dataURL = blobUtil.blobToDataURL(blob);\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the data URL string\n */\nfunction blobToDataURL(blob) {\n    return blobToBase64String(blob).then(function (base64String) {\n        return 'data:' + blob.type + ';base64,' + base64String;\n    });\n}\n/**\n * Convert an image's `src` URL to a data URL by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://mysite.com/img.png').then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the data URL string\n */\nfunction imgSrcToDataURL(src, type, crossOrigin, quality) {\n    type = type || 'image/png';\n    return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n        return canvas.toDataURL(type, quality);\n    });\n}\n/**\n * Convert a `canvas` to a `Blob`.\n *\n * Examples:\n *\n * ```js\n * blobUtil.canvasToBlob(canvas).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * Most browsers support converting a canvas to both `'image/png'` and `'image/jpeg'`. You may\n * also want to try `'image/webp'`, which will work in some browsers like Chrome (and in other browsers, will just fall back to `'image/png'`):\n *\n * ```js\n * blobUtil.canvasToBlob(canvas, 'image/webp').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param canvas - HTMLCanvasElement\n * @param type - the content type (optional, defaults to 'image/png')\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction canvasToBlob(canvas, type, quality) {\n    if (typeof canvas.toBlob === 'function') {\n        return new Promise(function (resolve) {\n            canvas.toBlob(resolve, type, quality);\n        });\n    }\n    return Promise.resolve(dataURLToBlob(canvas.toDataURL(type, quality)));\n}\n/**\n * Convert an image's `src` URL to a `Blob` by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://mysite.com/img.png').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction imgSrcToBlob(src, type, crossOrigin, quality) {\n    type = type || 'image/png';\n    return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n        return canvasToBlob(canvas, type, quality);\n    });\n}\n/**\n * Convert an `ArrayBuffer` to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.arrayBufferToBlob(arrayBuff, 'audio/mpeg');\n * ```\n *\n * @param buffer\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction arrayBufferToBlob(buffer, type) {\n    return createBlob([buffer], type);\n}\n/**\n * Convert a `Blob` to an `ArrayBuffer`.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToArrayBuffer(blob).then(function (arrayBuff) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the `ArrayBuffer`\n */\nfunction blobToArrayBuffer(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n            var result = reader.result || new ArrayBuffer(0);\n            resolve(result);\n        };\n        reader.onerror = reject;\n        reader.readAsArrayBuffer(blob);\n    });\n}\n/**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */\nfunction arrayBufferToBinaryString(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var length = bytes.byteLength;\n    var i = -1;\n    while (++i < length) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */\nfunction binaryStringToArrayBuffer(binary) {\n    var length = binary.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    var i = -1;\n    while (++i < length) {\n        arr[i] = binary.charCodeAt(i);\n    }\n    return buf;\n}\n\nexport { createBlob, createObjectURL, revokeObjectURL, blobToBinaryString, base64StringToBlob, binaryStringToBlob, blobToBase64String, dataURLToBlob, blobToDataURL, imgSrcToDataURL, canvasToBlob, imgSrcToBlob, arrayBufferToBlob, blobToArrayBuffer, arrayBufferToBinaryString, binaryStringToArrayBuffer };\n","\n/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\n/* eslint-disable space-unary-ops */\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\n\n//const Z_FILTERED          = 1;\n//const Z_HUFFMAN_ONLY      = 2;\n//const Z_RLE               = 3;\nconst Z_FIXED$1               = 4;\n//const Z_DEFAULT_STRATEGY  = 0;\n\n/* Possible values of the data_type field (though see inflate()) */\nconst Z_BINARY              = 0;\nconst Z_TEXT                = 1;\n//const Z_ASCII             = 1; // = Z_TEXT\nconst Z_UNKNOWN$1             = 2;\n\n/*============================================================================*/\n\n\nfunction zero$1(buf) { let len = buf.length; while (--len >= 0) { buf[len] = 0; } }\n\n// From zutil.h\n\nconst STORED_BLOCK = 0;\nconst STATIC_TREES = 1;\nconst DYN_TREES    = 2;\n/* The three kinds of block type */\n\nconst MIN_MATCH$1    = 3;\nconst MAX_MATCH$1    = 258;\n/* The minimum and maximum match lengths */\n\n// From deflate.h\n/* ===========================================================================\n * Internal compression state.\n */\n\nconst LENGTH_CODES$1  = 29;\n/* number of length codes, not counting the special END_BLOCK code */\n\nconst LITERALS$1      = 256;\n/* number of literal bytes 0..255 */\n\nconst L_CODES$1       = LITERALS$1 + 1 + LENGTH_CODES$1;\n/* number of Literal or Length codes, including the END_BLOCK code */\n\nconst D_CODES$1       = 30;\n/* number of distance codes */\n\nconst BL_CODES$1      = 19;\n/* number of codes used to transfer the bit lengths */\n\nconst HEAP_SIZE$1     = 2 * L_CODES$1 + 1;\n/* maximum heap size */\n\nconst MAX_BITS$1      = 15;\n/* All codes must not exceed MAX_BITS bits */\n\nconst Buf_size      = 16;\n/* size of bit buffer in bi_buf */\n\n\n/* ===========================================================================\n * Constants\n */\n\nconst MAX_BL_BITS = 7;\n/* Bit length codes must not exceed MAX_BL_BITS bits */\n\nconst END_BLOCK   = 256;\n/* end of block literal code */\n\nconst REP_3_6     = 16;\n/* repeat previous bit length 3-6 times (2 bits of repeat count) */\n\nconst REPZ_3_10   = 17;\n/* repeat a zero length 3-10 times  (3 bits of repeat count) */\n\nconst REPZ_11_138 = 18;\n/* repeat a zero length 11-138 times  (7 bits of repeat count) */\n\n/* eslint-disable comma-spacing,array-bracket-spacing */\nconst extra_lbits =   /* extra bits for each length code */\n  new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]);\n\nconst extra_dbits =   /* extra bits for each distance code */\n  new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]);\n\nconst extra_blbits =  /* extra bits for each bit length code */\n  new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]);\n\nconst bl_order =\n  new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);\n/* eslint-enable comma-spacing,array-bracket-spacing */\n\n/* The lengths of the bit length codes are sent in order of decreasing\n * probability, to avoid transmitting the lengths for unused bit length codes.\n */\n\n/* ===========================================================================\n * Local data. These are initialized only once.\n */\n\n// We pre-fill arrays with 0 to avoid uninitialized gaps\n\nconst DIST_CODE_LEN = 512; /* see definition of array dist_code below */\n\n// !!!! Use flat array instead of structure, Freq = i*2, Len = i*2+1\nconst static_ltree  = new Array((L_CODES$1 + 2) * 2);\nzero$1(static_ltree);\n/* The static literal tree. Since the bit lengths are imposed, there is no\n * need for the L_CODES extra codes used during heap construction. However\n * The codes 286 and 287 are needed to build a canonical tree (see _tr_init\n * below).\n */\n\nconst static_dtree  = new Array(D_CODES$1 * 2);\nzero$1(static_dtree);\n/* The static distance tree. (Actually a trivial tree since all codes use\n * 5 bits.)\n */\n\nconst _dist_code    = new Array(DIST_CODE_LEN);\nzero$1(_dist_code);\n/* Distance codes. The first 256 values correspond to the distances\n * 3 .. 258, the last 256 values correspond to the top 8 bits of\n * the 15 bit distances.\n */\n\nconst _length_code  = new Array(MAX_MATCH$1 - MIN_MATCH$1 + 1);\nzero$1(_length_code);\n/* length code for each normalized match length (0 == MIN_MATCH) */\n\nconst base_length   = new Array(LENGTH_CODES$1);\nzero$1(base_length);\n/* First normalized length for each code (0 = MIN_MATCH) */\n\nconst base_dist     = new Array(D_CODES$1);\nzero$1(base_dist);\n/* First normalized distance for each code (0 = distance of 1) */\n\n\nfunction StaticTreeDesc(static_tree, extra_bits, extra_base, elems, max_length) {\n\n  this.static_tree  = static_tree;  /* static tree or NULL */\n  this.extra_bits   = extra_bits;   /* extra bits for each code or NULL */\n  this.extra_base   = extra_base;   /* base index for extra_bits */\n  this.elems        = elems;        /* max number of elements in the tree */\n  this.max_length   = max_length;   /* max bit length for the codes */\n\n  // show if `static_tree` has data or dummy - needed for monomorphic objects\n  this.has_stree    = static_tree && static_tree.length;\n}\n\n\nlet static_l_desc;\nlet static_d_desc;\nlet static_bl_desc;\n\n\nfunction TreeDesc(dyn_tree, stat_desc) {\n  this.dyn_tree = dyn_tree;     /* the dynamic tree */\n  this.max_code = 0;            /* largest code with non zero frequency */\n  this.stat_desc = stat_desc;   /* the corresponding static tree */\n}\n\n\n\nconst d_code = (dist) => {\n\n  return dist < 256 ? _dist_code[dist] : _dist_code[256 + (dist >>> 7)];\n};\n\n\n/* ===========================================================================\n * Output a short LSB first on the stream.\n * IN assertion: there is enough room in pendingBuf.\n */\nconst put_short = (s, w) => {\n//    put_byte(s, (uch)((w) & 0xff));\n//    put_byte(s, (uch)((ush)(w) >> 8));\n  s.pending_buf[s.pending++] = (w) & 0xff;\n  s.pending_buf[s.pending++] = (w >>> 8) & 0xff;\n};\n\n\n/* ===========================================================================\n * Send a value on a given number of bits.\n * IN assertion: length <= 16 and value fits in length bits.\n */\nconst send_bits = (s, value, length) => {\n\n  if (s.bi_valid > (Buf_size - length)) {\n    s.bi_buf |= (value << s.bi_valid) & 0xffff;\n    put_short(s, s.bi_buf);\n    s.bi_buf = value >> (Buf_size - s.bi_valid);\n    s.bi_valid += length - Buf_size;\n  } else {\n    s.bi_buf |= (value << s.bi_valid) & 0xffff;\n    s.bi_valid += length;\n  }\n};\n\n\nconst send_code = (s, c, tree) => {\n\n  send_bits(s, tree[c * 2]/*.Code*/, tree[c * 2 + 1]/*.Len*/);\n};\n\n\n/* ===========================================================================\n * Reverse the first len bits of a code, using straightforward code (a faster\n * method would use a table)\n * IN assertion: 1 <= len <= 15\n */\nconst bi_reverse = (code, len) => {\n\n  let res = 0;\n  do {\n    res |= code & 1;\n    code >>>= 1;\n    res <<= 1;\n  } while (--len > 0);\n  return res >>> 1;\n};\n\n\n/* ===========================================================================\n * Flush the bit buffer, keeping at most 7 bits in it.\n */\nconst bi_flush = (s) => {\n\n  if (s.bi_valid === 16) {\n    put_short(s, s.bi_buf);\n    s.bi_buf = 0;\n    s.bi_valid = 0;\n\n  } else if (s.bi_valid >= 8) {\n    s.pending_buf[s.pending++] = s.bi_buf & 0xff;\n    s.bi_buf >>= 8;\n    s.bi_valid -= 8;\n  }\n};\n\n\n/* ===========================================================================\n * Compute the optimal bit lengths for a tree and update the total bit length\n * for the current block.\n * IN assertion: the fields freq and dad are set, heap[heap_max] and\n *    above are the tree nodes sorted by increasing frequency.\n * OUT assertions: the field len is set to the optimal bit length, the\n *     array bl_count contains the frequencies for each bit length.\n *     The length opt_len is updated; static_len is also updated if stree is\n *     not null.\n */\nconst gen_bitlen = (s, desc) => {\n//    deflate_state *s;\n//    tree_desc *desc;    /* the tree descriptor */\n\n  const tree            = desc.dyn_tree;\n  const max_code        = desc.max_code;\n  const stree           = desc.stat_desc.static_tree;\n  const has_stree       = desc.stat_desc.has_stree;\n  const extra           = desc.stat_desc.extra_bits;\n  const base            = desc.stat_desc.extra_base;\n  const max_length      = desc.stat_desc.max_length;\n  let h;              /* heap index */\n  let n, m;           /* iterate over the tree elements */\n  let bits;           /* bit length */\n  let xbits;          /* extra bits */\n  let f;              /* frequency */\n  let overflow = 0;   /* number of elements with bit length too large */\n\n  for (bits = 0; bits <= MAX_BITS$1; bits++) {\n    s.bl_count[bits] = 0;\n  }\n\n  /* In a first pass, compute the optimal bit lengths (which may\n   * overflow in the case of the bit length tree).\n   */\n  tree[s.heap[s.heap_max] * 2 + 1]/*.Len*/ = 0; /* root of the heap */\n\n  for (h = s.heap_max + 1; h < HEAP_SIZE$1; h++) {\n    n = s.heap[h];\n    bits = tree[tree[n * 2 + 1]/*.Dad*/ * 2 + 1]/*.Len*/ + 1;\n    if (bits > max_length) {\n      bits = max_length;\n      overflow++;\n    }\n    tree[n * 2 + 1]/*.Len*/ = bits;\n    /* We overwrite tree[n].Dad which is no longer needed */\n\n    if (n > max_code) { continue; } /* not a leaf node */\n\n    s.bl_count[bits]++;\n    xbits = 0;\n    if (n >= base) {\n      xbits = extra[n - base];\n    }\n    f = tree[n * 2]/*.Freq*/;\n    s.opt_len += f * (bits + xbits);\n    if (has_stree) {\n      s.static_len += f * (stree[n * 2 + 1]/*.Len*/ + xbits);\n    }\n  }\n  if (overflow === 0) { return; }\n\n  // Tracev((stderr,\"\\nbit length overflow\\n\"));\n  /* This happens for example on obj2 and pic of the Calgary corpus */\n\n  /* Find the first bit length which could increase: */\n  do {\n    bits = max_length - 1;\n    while (s.bl_count[bits] === 0) { bits--; }\n    s.bl_count[bits]--;      /* move one leaf down the tree */\n    s.bl_count[bits + 1] += 2; /* move one overflow item as its brother */\n    s.bl_count[max_length]--;\n    /* The brother of the overflow item also moves one step up,\n     * but this does not affect bl_count[max_length]\n     */\n    overflow -= 2;\n  } while (overflow > 0);\n\n  /* Now recompute all bit lengths, scanning in increasing frequency.\n   * h is still equal to HEAP_SIZE. (It is simpler to reconstruct all\n   * lengths instead of fixing only the wrong ones. This idea is taken\n   * from 'ar' written by Haruhiko Okumura.)\n   */\n  for (bits = max_length; bits !== 0; bits--) {\n    n = s.bl_count[bits];\n    while (n !== 0) {\n      m = s.heap[--h];\n      if (m > max_code) { continue; }\n      if (tree[m * 2 + 1]/*.Len*/ !== bits) {\n        // Tracev((stderr,\"code %d bits %d->%d\\n\", m, tree[m].Len, bits));\n        s.opt_len += (bits - tree[m * 2 + 1]/*.Len*/) * tree[m * 2]/*.Freq*/;\n        tree[m * 2 + 1]/*.Len*/ = bits;\n      }\n      n--;\n    }\n  }\n};\n\n\n/* ===========================================================================\n * Generate the codes for a given tree and bit counts (which need not be\n * optimal).\n * IN assertion: the array bl_count contains the bit length statistics for\n * the given tree and the field len is set for all tree elements.\n * OUT assertion: the field code is set for all tree elements of non\n *     zero code length.\n */\nconst gen_codes = (tree, max_code, bl_count) => {\n//    ct_data *tree;             /* the tree to decorate */\n//    int max_code;              /* largest code with non zero frequency */\n//    ushf *bl_count;            /* number of codes at each bit length */\n\n  const next_code = new Array(MAX_BITS$1 + 1); /* next code value for each bit length */\n  let code = 0;              /* running code value */\n  let bits;                  /* bit index */\n  let n;                     /* code index */\n\n  /* The distribution counts are first used to generate the code values\n   * without bit reversal.\n   */\n  for (bits = 1; bits <= MAX_BITS$1; bits++) {\n    code = (code + bl_count[bits - 1]) << 1;\n    next_code[bits] = code;\n  }\n  /* Check that the bit counts in bl_count are consistent. The last code\n   * must be all ones.\n   */\n  //Assert (code + bl_count[MAX_BITS]-1 == (1<<MAX_BITS)-1,\n  //        \"inconsistent bit counts\");\n  //Tracev((stderr,\"\\ngen_codes: max_code %d \", max_code));\n\n  for (n = 0;  n <= max_code; n++) {\n    let len = tree[n * 2 + 1]/*.Len*/;\n    if (len === 0) { continue; }\n    /* Now reverse the bits */\n    tree[n * 2]/*.Code*/ = bi_reverse(next_code[len]++, len);\n\n    //Tracecv(tree != static_ltree, (stderr,\"\\nn %3d %c l %2d c %4x (%x) \",\n    //     n, (isgraph(n) ? n : ' '), len, tree[n].Code, next_code[len]-1));\n  }\n};\n\n\n/* ===========================================================================\n * Initialize the various 'constant' tables.\n */\nconst tr_static_init = () => {\n\n  let n;        /* iterates over tree elements */\n  let bits;     /* bit counter */\n  let length;   /* length value */\n  let code;     /* code value */\n  let dist;     /* distance index */\n  const bl_count = new Array(MAX_BITS$1 + 1);\n  /* number of codes at each bit length for an optimal tree */\n\n  // do check in _tr_init()\n  //if (static_init_done) return;\n\n  /* For some embedded targets, global variables are not initialized: */\n/*#ifdef NO_INIT_GLOBAL_POINTERS\n  static_l_desc.static_tree = static_ltree;\n  static_l_desc.extra_bits = extra_lbits;\n  static_d_desc.static_tree = static_dtree;\n  static_d_desc.extra_bits = extra_dbits;\n  static_bl_desc.extra_bits = extra_blbits;\n#endif*/\n\n  /* Initialize the mapping length (0..255) -> length code (0..28) */\n  length = 0;\n  for (code = 0; code < LENGTH_CODES$1 - 1; code++) {\n    base_length[code] = length;\n    for (n = 0; n < (1 << extra_lbits[code]); n++) {\n      _length_code[length++] = code;\n    }\n  }\n  //Assert (length == 256, \"tr_static_init: length != 256\");\n  /* Note that the length 255 (match length 258) can be represented\n   * in two different ways: code 284 + 5 bits or code 285, so we\n   * overwrite length_code[255] to use the best encoding:\n   */\n  _length_code[length - 1] = code;\n\n  /* Initialize the mapping dist (0..32K) -> dist code (0..29) */\n  dist = 0;\n  for (code = 0; code < 16; code++) {\n    base_dist[code] = dist;\n    for (n = 0; n < (1 << extra_dbits[code]); n++) {\n      _dist_code[dist++] = code;\n    }\n  }\n  //Assert (dist == 256, \"tr_static_init: dist != 256\");\n  dist >>= 7; /* from now on, all distances are divided by 128 */\n  for (; code < D_CODES$1; code++) {\n    base_dist[code] = dist << 7;\n    for (n = 0; n < (1 << (extra_dbits[code] - 7)); n++) {\n      _dist_code[256 + dist++] = code;\n    }\n  }\n  //Assert (dist == 256, \"tr_static_init: 256+dist != 512\");\n\n  /* Construct the codes of the static literal tree */\n  for (bits = 0; bits <= MAX_BITS$1; bits++) {\n    bl_count[bits] = 0;\n  }\n\n  n = 0;\n  while (n <= 143) {\n    static_ltree[n * 2 + 1]/*.Len*/ = 8;\n    n++;\n    bl_count[8]++;\n  }\n  while (n <= 255) {\n    static_ltree[n * 2 + 1]/*.Len*/ = 9;\n    n++;\n    bl_count[9]++;\n  }\n  while (n <= 279) {\n    static_ltree[n * 2 + 1]/*.Len*/ = 7;\n    n++;\n    bl_count[7]++;\n  }\n  while (n <= 287) {\n    static_ltree[n * 2 + 1]/*.Len*/ = 8;\n    n++;\n    bl_count[8]++;\n  }\n  /* Codes 286 and 287 do not exist, but we must include them in the\n   * tree construction to get a canonical Huffman tree (longest code\n   * all ones)\n   */\n  gen_codes(static_ltree, L_CODES$1 + 1, bl_count);\n\n  /* The static distance tree is trivial: */\n  for (n = 0; n < D_CODES$1; n++) {\n    static_dtree[n * 2 + 1]/*.Len*/ = 5;\n    static_dtree[n * 2]/*.Code*/ = bi_reverse(n, 5);\n  }\n\n  // Now data ready and we can init static trees\n  static_l_desc = new StaticTreeDesc(static_ltree, extra_lbits, LITERALS$1 + 1, L_CODES$1, MAX_BITS$1);\n  static_d_desc = new StaticTreeDesc(static_dtree, extra_dbits, 0,          D_CODES$1, MAX_BITS$1);\n  static_bl_desc = new StaticTreeDesc(new Array(0), extra_blbits, 0,         BL_CODES$1, MAX_BL_BITS);\n\n  //static_init_done = true;\n};\n\n\n/* ===========================================================================\n * Initialize a new block.\n */\nconst init_block = (s) => {\n\n  let n; /* iterates over tree elements */\n\n  /* Initialize the trees. */\n  for (n = 0; n < L_CODES$1;  n++) { s.dyn_ltree[n * 2]/*.Freq*/ = 0; }\n  for (n = 0; n < D_CODES$1;  n++) { s.dyn_dtree[n * 2]/*.Freq*/ = 0; }\n  for (n = 0; n < BL_CODES$1; n++) { s.bl_tree[n * 2]/*.Freq*/ = 0; }\n\n  s.dyn_ltree[END_BLOCK * 2]/*.Freq*/ = 1;\n  s.opt_len = s.static_len = 0;\n  s.sym_next = s.matches = 0;\n};\n\n\n/* ===========================================================================\n * Flush the bit buffer and align the output on a byte boundary\n */\nconst bi_windup = (s) =>\n{\n  if (s.bi_valid > 8) {\n    put_short(s, s.bi_buf);\n  } else if (s.bi_valid > 0) {\n    //put_byte(s, (Byte)s->bi_buf);\n    s.pending_buf[s.pending++] = s.bi_buf;\n  }\n  s.bi_buf = 0;\n  s.bi_valid = 0;\n};\n\n/* ===========================================================================\n * Compares to subtrees, using the tree depth as tie breaker when\n * the subtrees have equal frequency. This minimizes the worst case length.\n */\nconst smaller = (tree, n, m, depth) => {\n\n  const _n2 = n * 2;\n  const _m2 = m * 2;\n  return (tree[_n2]/*.Freq*/ < tree[_m2]/*.Freq*/ ||\n         (tree[_n2]/*.Freq*/ === tree[_m2]/*.Freq*/ && depth[n] <= depth[m]));\n};\n\n/* ===========================================================================\n * Restore the heap property by moving down the tree starting at node k,\n * exchanging a node with the smallest of its two sons if necessary, stopping\n * when the heap property is re-established (each father smaller than its\n * two sons).\n */\nconst pqdownheap = (s, tree, k) => {\n//    deflate_state *s;\n//    ct_data *tree;  /* the tree to restore */\n//    int k;               /* node to move down */\n\n  const v = s.heap[k];\n  let j = k << 1;  /* left son of k */\n  while (j <= s.heap_len) {\n    /* Set j to the smallest of the two sons: */\n    if (j < s.heap_len &&\n      smaller(tree, s.heap[j + 1], s.heap[j], s.depth)) {\n      j++;\n    }\n    /* Exit if v is smaller than both sons */\n    if (smaller(tree, v, s.heap[j], s.depth)) { break; }\n\n    /* Exchange v with the smallest son */\n    s.heap[k] = s.heap[j];\n    k = j;\n\n    /* And continue down the tree, setting j to the left son of k */\n    j <<= 1;\n  }\n  s.heap[k] = v;\n};\n\n\n// inlined manually\n// const SMALLEST = 1;\n\n/* ===========================================================================\n * Send the block data compressed using the given Huffman trees\n */\nconst compress_block = (s, ltree, dtree) => {\n//    deflate_state *s;\n//    const ct_data *ltree; /* literal tree */\n//    const ct_data *dtree; /* distance tree */\n\n  let dist;           /* distance of matched string */\n  let lc;             /* match length or unmatched char (if dist == 0) */\n  let sx = 0;         /* running index in sym_buf */\n  let code;           /* the code to send */\n  let extra;          /* number of extra bits to send */\n\n  if (s.sym_next !== 0) {\n    do {\n      dist = s.pending_buf[s.sym_buf + sx++] & 0xff;\n      dist += (s.pending_buf[s.sym_buf + sx++] & 0xff) << 8;\n      lc = s.pending_buf[s.sym_buf + sx++];\n      if (dist === 0) {\n        send_code(s, lc, ltree); /* send a literal byte */\n        //Tracecv(isgraph(lc), (stderr,\" '%c' \", lc));\n      } else {\n        /* Here, lc is the match length - MIN_MATCH */\n        code = _length_code[lc];\n        send_code(s, code + LITERALS$1 + 1, ltree); /* send the length code */\n        extra = extra_lbits[code];\n        if (extra !== 0) {\n          lc -= base_length[code];\n          send_bits(s, lc, extra);       /* send the extra length bits */\n        }\n        dist--; /* dist is now the match distance - 1 */\n        code = d_code(dist);\n        //Assert (code < D_CODES, \"bad d_code\");\n\n        send_code(s, code, dtree);       /* send the distance code */\n        extra = extra_dbits[code];\n        if (extra !== 0) {\n          dist -= base_dist[code];\n          send_bits(s, dist, extra);   /* send the extra distance bits */\n        }\n      } /* literal or match pair ? */\n\n      /* Check that the overlay between pending_buf and sym_buf is ok: */\n      //Assert(s->pending < s->lit_bufsize + sx, \"pendingBuf overflow\");\n\n    } while (sx < s.sym_next);\n  }\n\n  send_code(s, END_BLOCK, ltree);\n};\n\n\n/* ===========================================================================\n * Construct one Huffman tree and assigns the code bit strings and lengths.\n * Update the total bit length for the current block.\n * IN assertion: the field freq is set for all tree elements.\n * OUT assertions: the fields len and code are set to the optimal bit length\n *     and corresponding code. The length opt_len is updated; static_len is\n *     also updated if stree is not null. The field max_code is set.\n */\nconst build_tree = (s, desc) => {\n//    deflate_state *s;\n//    tree_desc *desc; /* the tree descriptor */\n\n  const tree     = desc.dyn_tree;\n  const stree    = desc.stat_desc.static_tree;\n  const has_stree = desc.stat_desc.has_stree;\n  const elems    = desc.stat_desc.elems;\n  let n, m;          /* iterate over heap elements */\n  let max_code = -1; /* largest code with non zero frequency */\n  let node;          /* new node being created */\n\n  /* Construct the initial heap, with least frequent element in\n   * heap[SMALLEST]. The sons of heap[n] are heap[2*n] and heap[2*n+1].\n   * heap[0] is not used.\n   */\n  s.heap_len = 0;\n  s.heap_max = HEAP_SIZE$1;\n\n  for (n = 0; n < elems; n++) {\n    if (tree[n * 2]/*.Freq*/ !== 0) {\n      s.heap[++s.heap_len] = max_code = n;\n      s.depth[n] = 0;\n\n    } else {\n      tree[n * 2 + 1]/*.Len*/ = 0;\n    }\n  }\n\n  /* The pkzip format requires that at least one distance code exists,\n   * and that at least one bit should be sent even if there is only one\n   * possible code. So to avoid special checks later on we force at least\n   * two codes of non zero frequency.\n   */\n  while (s.heap_len < 2) {\n    node = s.heap[++s.heap_len] = (max_code < 2 ? ++max_code : 0);\n    tree[node * 2]/*.Freq*/ = 1;\n    s.depth[node] = 0;\n    s.opt_len--;\n\n    if (has_stree) {\n      s.static_len -= stree[node * 2 + 1]/*.Len*/;\n    }\n    /* node is 0 or 1 so it does not have extra bits */\n  }\n  desc.max_code = max_code;\n\n  /* The elements heap[heap_len/2+1 .. heap_len] are leaves of the tree,\n   * establish sub-heaps of increasing lengths:\n   */\n  for (n = (s.heap_len >> 1/*int /2*/); n >= 1; n--) { pqdownheap(s, tree, n); }\n\n  /* Construct the Huffman tree by repeatedly combining the least two\n   * frequent nodes.\n   */\n  node = elems;              /* next internal node of the tree */\n  do {\n    //pqremove(s, tree, n);  /* n = node of least frequency */\n    /*** pqremove ***/\n    n = s.heap[1/*SMALLEST*/];\n    s.heap[1/*SMALLEST*/] = s.heap[s.heap_len--];\n    pqdownheap(s, tree, 1/*SMALLEST*/);\n    /***/\n\n    m = s.heap[1/*SMALLEST*/]; /* m = node of next least frequency */\n\n    s.heap[--s.heap_max] = n; /* keep the nodes sorted by frequency */\n    s.heap[--s.heap_max] = m;\n\n    /* Create a new node father of n and m */\n    tree[node * 2]/*.Freq*/ = tree[n * 2]/*.Freq*/ + tree[m * 2]/*.Freq*/;\n    s.depth[node] = (s.depth[n] >= s.depth[m] ? s.depth[n] : s.depth[m]) + 1;\n    tree[n * 2 + 1]/*.Dad*/ = tree[m * 2 + 1]/*.Dad*/ = node;\n\n    /* and insert the new node in the heap */\n    s.heap[1/*SMALLEST*/] = node++;\n    pqdownheap(s, tree, 1/*SMALLEST*/);\n\n  } while (s.heap_len >= 2);\n\n  s.heap[--s.heap_max] = s.heap[1/*SMALLEST*/];\n\n  /* At this point, the fields freq and dad are set. We can now\n   * generate the bit lengths.\n   */\n  gen_bitlen(s, desc);\n\n  /* The field len is now set, we can generate the bit codes */\n  gen_codes(tree, max_code, s.bl_count);\n};\n\n\n/* ===========================================================================\n * Scan a literal or distance tree to determine the frequencies of the codes\n * in the bit length tree.\n */\nconst scan_tree = (s, tree, max_code) => {\n//    deflate_state *s;\n//    ct_data *tree;   /* the tree to be scanned */\n//    int max_code;    /* and its largest code of non zero frequency */\n\n  let n;                     /* iterates over all tree elements */\n  let prevlen = -1;          /* last emitted length */\n  let curlen;                /* length of current code */\n\n  let nextlen = tree[0 * 2 + 1]/*.Len*/; /* length of next code */\n\n  let count = 0;             /* repeat count of the current code */\n  let max_count = 7;         /* max repeat count */\n  let min_count = 4;         /* min repeat count */\n\n  if (nextlen === 0) {\n    max_count = 138;\n    min_count = 3;\n  }\n  tree[(max_code + 1) * 2 + 1]/*.Len*/ = 0xffff; /* guard */\n\n  for (n = 0; n <= max_code; n++) {\n    curlen = nextlen;\n    nextlen = tree[(n + 1) * 2 + 1]/*.Len*/;\n\n    if (++count < max_count && curlen === nextlen) {\n      continue;\n\n    } else if (count < min_count) {\n      s.bl_tree[curlen * 2]/*.Freq*/ += count;\n\n    } else if (curlen !== 0) {\n\n      if (curlen !== prevlen) { s.bl_tree[curlen * 2]/*.Freq*/++; }\n      s.bl_tree[REP_3_6 * 2]/*.Freq*/++;\n\n    } else if (count <= 10) {\n      s.bl_tree[REPZ_3_10 * 2]/*.Freq*/++;\n\n    } else {\n      s.bl_tree[REPZ_11_138 * 2]/*.Freq*/++;\n    }\n\n    count = 0;\n    prevlen = curlen;\n\n    if (nextlen === 0) {\n      max_count = 138;\n      min_count = 3;\n\n    } else if (curlen === nextlen) {\n      max_count = 6;\n      min_count = 3;\n\n    } else {\n      max_count = 7;\n      min_count = 4;\n    }\n  }\n};\n\n\n/* ===========================================================================\n * Send a literal or distance tree in compressed form, using the codes in\n * bl_tree.\n */\nconst send_tree = (s, tree, max_code) => {\n//    deflate_state *s;\n//    ct_data *tree; /* the tree to be scanned */\n//    int max_code;       /* and its largest code of non zero frequency */\n\n  let n;                     /* iterates over all tree elements */\n  let prevlen = -1;          /* last emitted length */\n  let curlen;                /* length of current code */\n\n  let nextlen = tree[0 * 2 + 1]/*.Len*/; /* length of next code */\n\n  let count = 0;             /* repeat count of the current code */\n  let max_count = 7;         /* max repeat count */\n  let min_count = 4;         /* min repeat count */\n\n  /* tree[max_code+1].Len = -1; */  /* guard already set */\n  if (nextlen === 0) {\n    max_count = 138;\n    min_count = 3;\n  }\n\n  for (n = 0; n <= max_code; n++) {\n    curlen = nextlen;\n    nextlen = tree[(n + 1) * 2 + 1]/*.Len*/;\n\n    if (++count < max_count && curlen === nextlen) {\n      continue;\n\n    } else if (count < min_count) {\n      do { send_code(s, curlen, s.bl_tree); } while (--count !== 0);\n\n    } else if (curlen !== 0) {\n      if (curlen !== prevlen) {\n        send_code(s, curlen, s.bl_tree);\n        count--;\n      }\n      //Assert(count >= 3 && count <= 6, \" 3_6?\");\n      send_code(s, REP_3_6, s.bl_tree);\n      send_bits(s, count - 3, 2);\n\n    } else if (count <= 10) {\n      send_code(s, REPZ_3_10, s.bl_tree);\n      send_bits(s, count - 3, 3);\n\n    } else {\n      send_code(s, REPZ_11_138, s.bl_tree);\n      send_bits(s, count - 11, 7);\n    }\n\n    count = 0;\n    prevlen = curlen;\n    if (nextlen === 0) {\n      max_count = 138;\n      min_count = 3;\n\n    } else if (curlen === nextlen) {\n      max_count = 6;\n      min_count = 3;\n\n    } else {\n      max_count = 7;\n      min_count = 4;\n    }\n  }\n};\n\n\n/* ===========================================================================\n * Construct the Huffman tree for the bit lengths and return the index in\n * bl_order of the last bit length code to send.\n */\nconst build_bl_tree = (s) => {\n\n  let max_blindex;  /* index of last bit length code of non zero freq */\n\n  /* Determine the bit length frequencies for literal and distance trees */\n  scan_tree(s, s.dyn_ltree, s.l_desc.max_code);\n  scan_tree(s, s.dyn_dtree, s.d_desc.max_code);\n\n  /* Build the bit length tree: */\n  build_tree(s, s.bl_desc);\n  /* opt_len now includes the length of the tree representations, except\n   * the lengths of the bit lengths codes and the 5+5+4 bits for the counts.\n   */\n\n  /* Determine the number of bit length codes to send. The pkzip format\n   * requires that at least 4 bit length codes be sent. (appnote.txt says\n   * 3 but the actual value used is 4.)\n   */\n  for (max_blindex = BL_CODES$1 - 1; max_blindex >= 3; max_blindex--) {\n    if (s.bl_tree[bl_order[max_blindex] * 2 + 1]/*.Len*/ !== 0) {\n      break;\n    }\n  }\n  /* Update opt_len to include the bit length tree and counts */\n  s.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4;\n  //Tracev((stderr, \"\\ndyn trees: dyn %ld, stat %ld\",\n  //        s->opt_len, s->static_len));\n\n  return max_blindex;\n};\n\n\n/* ===========================================================================\n * Send the header for a block using dynamic Huffman trees: the counts, the\n * lengths of the bit length codes, the literal tree and the distance tree.\n * IN assertion: lcodes >= 257, dcodes >= 1, blcodes >= 4.\n */\nconst send_all_trees = (s, lcodes, dcodes, blcodes) => {\n//    deflate_state *s;\n//    int lcodes, dcodes, blcodes; /* number of codes for each tree */\n\n  let rank;                    /* index in bl_order */\n\n  //Assert (lcodes >= 257 && dcodes >= 1 && blcodes >= 4, \"not enough codes\");\n  //Assert (lcodes <= L_CODES && dcodes <= D_CODES && blcodes <= BL_CODES,\n  //        \"too many codes\");\n  //Tracev((stderr, \"\\nbl counts: \"));\n  send_bits(s, lcodes - 257, 5); /* not +255 as stated in appnote.txt */\n  send_bits(s, dcodes - 1,   5);\n  send_bits(s, blcodes - 4,  4); /* not -3 as stated in appnote.txt */\n  for (rank = 0; rank < blcodes; rank++) {\n    //Tracev((stderr, \"\\nbl code %2d \", bl_order[rank]));\n    send_bits(s, s.bl_tree[bl_order[rank] * 2 + 1]/*.Len*/, 3);\n  }\n  //Tracev((stderr, \"\\nbl tree: sent %ld\", s->bits_sent));\n\n  send_tree(s, s.dyn_ltree, lcodes - 1); /* literal tree */\n  //Tracev((stderr, \"\\nlit tree: sent %ld\", s->bits_sent));\n\n  send_tree(s, s.dyn_dtree, dcodes - 1); /* distance tree */\n  //Tracev((stderr, \"\\ndist tree: sent %ld\", s->bits_sent));\n};\n\n\n/* ===========================================================================\n * Check if the data type is TEXT or BINARY, using the following algorithm:\n * - TEXT if the two conditions below are satisfied:\n *    a) There are no non-portable control characters belonging to the\n *       \"block list\" (0..6, 14..25, 28..31).\n *    b) There is at least one printable character belonging to the\n *       \"allow list\" (9 {TAB}, 10 {LF}, 13 {CR}, 32..255).\n * - BINARY otherwise.\n * - The following partially-portable control characters form a\n *   \"gray list\" that is ignored in this detection algorithm:\n *   (7 {BEL}, 8 {BS}, 11 {VT}, 12 {FF}, 26 {SUB}, 27 {ESC}).\n * IN assertion: the fields Freq of dyn_ltree are set.\n */\nconst detect_data_type = (s) => {\n  /* block_mask is the bit mask of block-listed bytes\n   * set bits 0..6, 14..25, and 28..31\n   * 0xf3ffc07f = binary 11110011111111111100000001111111\n   */\n  let block_mask = 0xf3ffc07f;\n  let n;\n\n  /* Check for non-textual (\"block-listed\") bytes. */\n  for (n = 0; n <= 31; n++, block_mask >>>= 1) {\n    if ((block_mask & 1) && (s.dyn_ltree[n * 2]/*.Freq*/ !== 0)) {\n      return Z_BINARY;\n    }\n  }\n\n  /* Check for textual (\"allow-listed\") bytes. */\n  if (s.dyn_ltree[9 * 2]/*.Freq*/ !== 0 || s.dyn_ltree[10 * 2]/*.Freq*/ !== 0 ||\n      s.dyn_ltree[13 * 2]/*.Freq*/ !== 0) {\n    return Z_TEXT;\n  }\n  for (n = 32; n < LITERALS$1; n++) {\n    if (s.dyn_ltree[n * 2]/*.Freq*/ !== 0) {\n      return Z_TEXT;\n    }\n  }\n\n  /* There are no \"block-listed\" or \"allow-listed\" bytes:\n   * this stream either is empty or has tolerated (\"gray-listed\") bytes only.\n   */\n  return Z_BINARY;\n};\n\n\nlet static_init_done = false;\n\n/* ===========================================================================\n * Initialize the tree data structures for a new zlib stream.\n */\nconst _tr_init$1 = (s) =>\n{\n\n  if (!static_init_done) {\n    tr_static_init();\n    static_init_done = true;\n  }\n\n  s.l_desc  = new TreeDesc(s.dyn_ltree, static_l_desc);\n  s.d_desc  = new TreeDesc(s.dyn_dtree, static_d_desc);\n  s.bl_desc = new TreeDesc(s.bl_tree, static_bl_desc);\n\n  s.bi_buf = 0;\n  s.bi_valid = 0;\n\n  /* Initialize the first block of the first file: */\n  init_block(s);\n};\n\n\n/* ===========================================================================\n * Send a stored block\n */\nconst _tr_stored_block$1 = (s, buf, stored_len, last) => {\n//DeflateState *s;\n//charf *buf;       /* input block */\n//ulg stored_len;   /* length of input block */\n//int last;         /* one if this is the last block for a file */\n\n  send_bits(s, (STORED_BLOCK << 1) + (last ? 1 : 0), 3);    /* send block type */\n  bi_windup(s);        /* align on byte boundary */\n  put_short(s, stored_len);\n  put_short(s, ~stored_len);\n  if (stored_len) {\n    s.pending_buf.set(s.window.subarray(buf, buf + stored_len), s.pending);\n  }\n  s.pending += stored_len;\n};\n\n\n/* ===========================================================================\n * Send one empty static block to give enough lookahead for inflate.\n * This takes 10 bits, of which 7 may remain in the bit buffer.\n */\nconst _tr_align$1 = (s) => {\n  send_bits(s, STATIC_TREES << 1, 3);\n  send_code(s, END_BLOCK, static_ltree);\n  bi_flush(s);\n};\n\n\n/* ===========================================================================\n * Determine the best encoding for the current block: dynamic trees, static\n * trees or store, and write out the encoded block.\n */\nconst _tr_flush_block$1 = (s, buf, stored_len, last) => {\n//DeflateState *s;\n//charf *buf;       /* input block, or NULL if too old */\n//ulg stored_len;   /* length of input block */\n//int last;         /* one if this is the last block for a file */\n\n  let opt_lenb, static_lenb;  /* opt_len and static_len in bytes */\n  let max_blindex = 0;        /* index of last bit length code of non zero freq */\n\n  /* Build the Huffman trees unless a stored block is forced */\n  if (s.level > 0) {\n\n    /* Check if the file is binary or text */\n    if (s.strm.data_type === Z_UNKNOWN$1) {\n      s.strm.data_type = detect_data_type(s);\n    }\n\n    /* Construct the literal and distance trees */\n    build_tree(s, s.l_desc);\n    // Tracev((stderr, \"\\nlit data: dyn %ld, stat %ld\", s->opt_len,\n    //        s->static_len));\n\n    build_tree(s, s.d_desc);\n    // Tracev((stderr, \"\\ndist data: dyn %ld, stat %ld\", s->opt_len,\n    //        s->static_len));\n    /* At this point, opt_len and static_len are the total bit lengths of\n     * the compressed block data, excluding the tree representations.\n     */\n\n    /* Build the bit length tree for the above two trees, and get the index\n     * in bl_order of the last bit length code to send.\n     */\n    max_blindex = build_bl_tree(s);\n\n    /* Determine the best encoding. Compute the block lengths in bytes. */\n    opt_lenb = (s.opt_len + 3 + 7) >>> 3;\n    static_lenb = (s.static_len + 3 + 7) >>> 3;\n\n    // Tracev((stderr, \"\\nopt %lu(%lu) stat %lu(%lu) stored %lu lit %u \",\n    //        opt_lenb, s->opt_len, static_lenb, s->static_len, stored_len,\n    //        s->sym_next / 3));\n\n    if (static_lenb <= opt_lenb) { opt_lenb = static_lenb; }\n\n  } else {\n    // Assert(buf != (char*)0, \"lost buf\");\n    opt_lenb = static_lenb = stored_len + 5; /* force a stored block */\n  }\n\n  if ((stored_len + 4 <= opt_lenb) && (buf !== -1)) {\n    /* 4: two words for the lengths */\n\n    /* The test buf != NULL is only necessary if LIT_BUFSIZE > WSIZE.\n     * Otherwise we can't have processed more than WSIZE input bytes since\n     * the last block flush, because compression would have been\n     * successful. If LIT_BUFSIZE <= WSIZE, it is never too late to\n     * transform a block into a stored block.\n     */\n    _tr_stored_block$1(s, buf, stored_len, last);\n\n  } else if (s.strategy === Z_FIXED$1 || static_lenb === opt_lenb) {\n\n    send_bits(s, (STATIC_TREES << 1) + (last ? 1 : 0), 3);\n    compress_block(s, static_ltree, static_dtree);\n\n  } else {\n    send_bits(s, (DYN_TREES << 1) + (last ? 1 : 0), 3);\n    send_all_trees(s, s.l_desc.max_code + 1, s.d_desc.max_code + 1, max_blindex + 1);\n    compress_block(s, s.dyn_ltree, s.dyn_dtree);\n  }\n  // Assert (s->compressed_len == s->bits_sent, \"bad compressed size\");\n  /* The above check is made mod 2^32, for files larger than 512 MB\n   * and uLong implemented on 32 bits.\n   */\n  init_block(s);\n\n  if (last) {\n    bi_windup(s);\n  }\n  // Tracev((stderr,\"\\ncomprlen %lu(%lu) \", s->compressed_len>>3,\n  //       s->compressed_len-7*last));\n};\n\n/* ===========================================================================\n * Save the match info and tally the frequency counts. Return true if\n * the current block must be flushed.\n */\nconst _tr_tally$1 = (s, dist, lc) => {\n//    deflate_state *s;\n//    unsigned dist;  /* distance of matched string */\n//    unsigned lc;    /* match length-MIN_MATCH or unmatched char (if dist==0) */\n\n  s.pending_buf[s.sym_buf + s.sym_next++] = dist;\n  s.pending_buf[s.sym_buf + s.sym_next++] = dist >> 8;\n  s.pending_buf[s.sym_buf + s.sym_next++] = lc;\n  if (dist === 0) {\n    /* lc is the unmatched char */\n    s.dyn_ltree[lc * 2]/*.Freq*/++;\n  } else {\n    s.matches++;\n    /* Here, lc is the match length - MIN_MATCH */\n    dist--;             /* dist = match distance - 1 */\n    //Assert((ush)dist < (ush)MAX_DIST(s) &&\n    //       (ush)lc <= (ush)(MAX_MATCH-MIN_MATCH) &&\n    //       (ush)d_code(dist) < (ush)D_CODES,  \"_tr_tally: bad match\");\n\n    s.dyn_ltree[(_length_code[lc] + LITERALS$1 + 1) * 2]/*.Freq*/++;\n    s.dyn_dtree[d_code(dist) * 2]/*.Freq*/++;\n  }\n\n  return (s.sym_next === s.sym_end);\n};\n\nvar _tr_init_1  = _tr_init$1;\nvar _tr_stored_block_1 = _tr_stored_block$1;\nvar _tr_flush_block_1  = _tr_flush_block$1;\nvar _tr_tally_1 = _tr_tally$1;\nvar _tr_align_1 = _tr_align$1;\n\nvar trees = {\n\t_tr_init: _tr_init_1,\n\t_tr_stored_block: _tr_stored_block_1,\n\t_tr_flush_block: _tr_flush_block_1,\n\t_tr_tally: _tr_tally_1,\n\t_tr_align: _tr_align_1\n};\n\n// Note: adler32 takes 12% for level 0 and 2% for level 6.\n// It isn't worth it to make additional optimizations as in original.\n// Small size is preferable.\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nconst adler32 = (adler, buf, len, pos) => {\n  let s1 = (adler & 0xffff) |0,\n      s2 = ((adler >>> 16) & 0xffff) |0,\n      n = 0;\n\n  while (len !== 0) {\n    // Set limit ~ twice less than 5552, to keep\n    // s2 in 31-bits, because we force signed ints.\n    // in other case %= will fail.\n    n = len > 2000 ? 2000 : len;\n    len -= n;\n\n    do {\n      s1 = (s1 + buf[pos++]) |0;\n      s2 = (s2 + s1) |0;\n    } while (--n);\n\n    s1 %= 65521;\n    s2 %= 65521;\n  }\n\n  return (s1 | (s2 << 16)) |0;\n};\n\n\nvar adler32_1 = adler32;\n\n// Note: we can't get significant speed boost here.\n// So write code to minimize size - no pregenerated tables\n// and array tools dependencies.\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\n// Use ordinary array, since untyped makes no boost here\nconst makeTable = () => {\n  let c, table = [];\n\n  for (var n = 0; n < 256; n++) {\n    c = n;\n    for (var k = 0; k < 8; k++) {\n      c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));\n    }\n    table[n] = c;\n  }\n\n  return table;\n};\n\n// Create table on load. Just 255 signed longs. Not a problem.\nconst crcTable = new Uint32Array(makeTable());\n\n\nconst crc32 = (crc, buf, len, pos) => {\n  const t = crcTable;\n  const end = pos + len;\n\n  crc ^= -1;\n\n  for (let i = pos; i < end; i++) {\n    crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xFF];\n  }\n\n  return (crc ^ (-1)); // >>> 0;\n};\n\n\nvar crc32_1 = crc32;\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nvar messages = {\n  2:      'need dictionary',     /* Z_NEED_DICT       2  */\n  1:      'stream end',          /* Z_STREAM_END      1  */\n  0:      '',                    /* Z_OK              0  */\n  '-1':   'file error',          /* Z_ERRNO         (-1) */\n  '-2':   'stream error',        /* Z_STREAM_ERROR  (-2) */\n  '-3':   'data error',          /* Z_DATA_ERROR    (-3) */\n  '-4':   'insufficient memory', /* Z_MEM_ERROR     (-4) */\n  '-5':   'buffer error',        /* Z_BUF_ERROR     (-5) */\n  '-6':   'incompatible version' /* Z_VERSION_ERROR (-6) */\n};\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nvar constants$2 = {\n\n  /* Allowed flush values; see deflate() and inflate() below for details */\n  Z_NO_FLUSH:         0,\n  Z_PARTIAL_FLUSH:    1,\n  Z_SYNC_FLUSH:       2,\n  Z_FULL_FLUSH:       3,\n  Z_FINISH:           4,\n  Z_BLOCK:            5,\n  Z_TREES:            6,\n\n  /* Return codes for the compression/decompression functions. Negative values\n  * are errors, positive values are used for special but normal events.\n  */\n  Z_OK:               0,\n  Z_STREAM_END:       1,\n  Z_NEED_DICT:        2,\n  Z_ERRNO:           -1,\n  Z_STREAM_ERROR:    -2,\n  Z_DATA_ERROR:      -3,\n  Z_MEM_ERROR:       -4,\n  Z_BUF_ERROR:       -5,\n  //Z_VERSION_ERROR: -6,\n\n  /* compression levels */\n  Z_NO_COMPRESSION:         0,\n  Z_BEST_SPEED:             1,\n  Z_BEST_COMPRESSION:       9,\n  Z_DEFAULT_COMPRESSION:   -1,\n\n\n  Z_FILTERED:               1,\n  Z_HUFFMAN_ONLY:           2,\n  Z_RLE:                    3,\n  Z_FIXED:                  4,\n  Z_DEFAULT_STRATEGY:       0,\n\n  /* Possible values of the data_type field (though see inflate()) */\n  Z_BINARY:                 0,\n  Z_TEXT:                   1,\n  //Z_ASCII:                1, // = Z_TEXT (deprecated)\n  Z_UNKNOWN:                2,\n\n  /* The deflate compression method */\n  Z_DEFLATED:               8\n  //Z_NULL:                 null // Use -1 or null inline, depending on var type\n};\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nconst { _tr_init, _tr_stored_block, _tr_flush_block, _tr_tally, _tr_align } = trees;\n\n\n\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\nconst {\n  Z_NO_FLUSH: Z_NO_FLUSH$2, Z_PARTIAL_FLUSH, Z_FULL_FLUSH: Z_FULL_FLUSH$1, Z_FINISH: Z_FINISH$3, Z_BLOCK: Z_BLOCK$1,\n  Z_OK: Z_OK$3, Z_STREAM_END: Z_STREAM_END$3, Z_STREAM_ERROR: Z_STREAM_ERROR$2, Z_DATA_ERROR: Z_DATA_ERROR$2, Z_BUF_ERROR: Z_BUF_ERROR$1,\n  Z_DEFAULT_COMPRESSION: Z_DEFAULT_COMPRESSION$1,\n  Z_FILTERED, Z_HUFFMAN_ONLY, Z_RLE, Z_FIXED, Z_DEFAULT_STRATEGY: Z_DEFAULT_STRATEGY$1,\n  Z_UNKNOWN,\n  Z_DEFLATED: Z_DEFLATED$2\n} = constants$2;\n\n/*============================================================================*/\n\n\nconst MAX_MEM_LEVEL = 9;\n/* Maximum value for memLevel in deflateInit2 */\nconst MAX_WBITS$1 = 15;\n/* 32K LZ77 window */\nconst DEF_MEM_LEVEL = 8;\n\n\nconst LENGTH_CODES  = 29;\n/* number of length codes, not counting the special END_BLOCK code */\nconst LITERALS      = 256;\n/* number of literal bytes 0..255 */\nconst L_CODES       = LITERALS + 1 + LENGTH_CODES;\n/* number of Literal or Length codes, including the END_BLOCK code */\nconst D_CODES       = 30;\n/* number of distance codes */\nconst BL_CODES      = 19;\n/* number of codes used to transfer the bit lengths */\nconst HEAP_SIZE     = 2 * L_CODES + 1;\n/* maximum heap size */\nconst MAX_BITS  = 15;\n/* All codes must not exceed MAX_BITS bits */\n\nconst MIN_MATCH = 3;\nconst MAX_MATCH = 258;\nconst MIN_LOOKAHEAD = (MAX_MATCH + MIN_MATCH + 1);\n\nconst PRESET_DICT = 0x20;\n\nconst INIT_STATE    =  42;    /* zlib header -> BUSY_STATE */\n//#ifdef GZIP\nconst GZIP_STATE    =  57;    /* gzip header -> BUSY_STATE | EXTRA_STATE */\n//#endif\nconst EXTRA_STATE   =  69;    /* gzip extra block -> NAME_STATE */\nconst NAME_STATE    =  73;    /* gzip file name -> COMMENT_STATE */\nconst COMMENT_STATE =  91;    /* gzip comment -> HCRC_STATE */\nconst HCRC_STATE    = 103;    /* gzip header CRC -> BUSY_STATE */\nconst BUSY_STATE    = 113;    /* deflate -> FINISH_STATE */\nconst FINISH_STATE  = 666;    /* stream complete */\n\nconst BS_NEED_MORE      = 1; /* block not completed, need more input or more output */\nconst BS_BLOCK_DONE     = 2; /* block flush performed */\nconst BS_FINISH_STARTED = 3; /* finish started, need only more output at next deflate */\nconst BS_FINISH_DONE    = 4; /* finish done, accept no more input or output */\n\nconst OS_CODE = 0x03; // Unix :) . Don't detect, use this default.\n\nconst err = (strm, errorCode) => {\n  strm.msg = messages[errorCode];\n  return errorCode;\n};\n\nconst rank = (f) => {\n  return ((f) * 2) - ((f) > 4 ? 9 : 0);\n};\n\nconst zero = (buf) => {\n  let len = buf.length; while (--len >= 0) { buf[len] = 0; }\n};\n\n/* ===========================================================================\n * Slide the hash table when sliding the window down (could be avoided with 32\n * bit values at the expense of memory usage). We slide even when level == 0 to\n * keep the hash table consistent if we switch back to level > 0 later.\n */\nconst slide_hash = (s) => {\n  let n, m;\n  let p;\n  let wsize = s.w_size;\n\n  n = s.hash_size;\n  p = n;\n  do {\n    m = s.head[--p];\n    s.head[p] = (m >= wsize ? m - wsize : 0);\n  } while (--n);\n  n = wsize;\n//#ifndef FASTEST\n  p = n;\n  do {\n    m = s.prev[--p];\n    s.prev[p] = (m >= wsize ? m - wsize : 0);\n    /* If n is not on any hash chain, prev[n] is garbage but\n     * its value will never be used.\n     */\n  } while (--n);\n//#endif\n};\n\n/* eslint-disable new-cap */\nlet HASH_ZLIB = (s, prev, data) => ((prev << s.hash_shift) ^ data) & s.hash_mask;\n// This hash causes less collisions, https://github.com/nodeca/pako/issues/135\n// But breaks binary compatibility\n//let HASH_FAST = (s, prev, data) => ((prev << 8) + (prev >> 8) + (data << 4)) & s.hash_mask;\nlet HASH = HASH_ZLIB;\n\n\n/* =========================================================================\n * Flush as much pending output as possible. All deflate() output, except for\n * some deflate_stored() output, goes through this function so some\n * applications may wish to modify it to avoid allocating a large\n * strm->next_out buffer and copying into it. (See also read_buf()).\n */\nconst flush_pending = (strm) => {\n  const s = strm.state;\n\n  //_tr_flush_bits(s);\n  let len = s.pending;\n  if (len > strm.avail_out) {\n    len = strm.avail_out;\n  }\n  if (len === 0) { return; }\n\n  strm.output.set(s.pending_buf.subarray(s.pending_out, s.pending_out + len), strm.next_out);\n  strm.next_out  += len;\n  s.pending_out  += len;\n  strm.total_out += len;\n  strm.avail_out -= len;\n  s.pending      -= len;\n  if (s.pending === 0) {\n    s.pending_out = 0;\n  }\n};\n\n\nconst flush_block_only = (s, last) => {\n  _tr_flush_block(s, (s.block_start >= 0 ? s.block_start : -1), s.strstart - s.block_start, last);\n  s.block_start = s.strstart;\n  flush_pending(s.strm);\n};\n\n\nconst put_byte = (s, b) => {\n  s.pending_buf[s.pending++] = b;\n};\n\n\n/* =========================================================================\n * Put a short in the pending buffer. The 16-bit value is put in MSB order.\n * IN assertion: the stream state is correct and there is enough room in\n * pending_buf.\n */\nconst putShortMSB = (s, b) => {\n\n  //  put_byte(s, (Byte)(b >> 8));\n//  put_byte(s, (Byte)(b & 0xff));\n  s.pending_buf[s.pending++] = (b >>> 8) & 0xff;\n  s.pending_buf[s.pending++] = b & 0xff;\n};\n\n\n/* ===========================================================================\n * Read a new buffer from the current input stream, update the adler32\n * and total number of bytes read.  All deflate() input goes through\n * this function so some applications may wish to modify it to avoid\n * allocating a large strm->input buffer and copying from it.\n * (See also flush_pending()).\n */\nconst read_buf = (strm, buf, start, size) => {\n\n  let len = strm.avail_in;\n\n  if (len > size) { len = size; }\n  if (len === 0) { return 0; }\n\n  strm.avail_in -= len;\n\n  // zmemcpy(buf, strm->next_in, len);\n  buf.set(strm.input.subarray(strm.next_in, strm.next_in + len), start);\n  if (strm.state.wrap === 1) {\n    strm.adler = adler32_1(strm.adler, buf, len, start);\n  }\n\n  else if (strm.state.wrap === 2) {\n    strm.adler = crc32_1(strm.adler, buf, len, start);\n  }\n\n  strm.next_in += len;\n  strm.total_in += len;\n\n  return len;\n};\n\n\n/* ===========================================================================\n * Set match_start to the longest match starting at the given string and\n * return its length. Matches shorter or equal to prev_length are discarded,\n * in which case the result is equal to prev_length and match_start is\n * garbage.\n * IN assertions: cur_match is the head of the hash chain for the current\n *   string (strstart) and its distance is <= MAX_DIST, and prev_length >= 1\n * OUT assertion: the match length is not greater than s->lookahead.\n */\nconst longest_match = (s, cur_match) => {\n\n  let chain_length = s.max_chain_length;      /* max hash chain length */\n  let scan = s.strstart; /* current string */\n  let match;                       /* matched string */\n  let len;                           /* length of current match */\n  let best_len = s.prev_length;              /* best match length so far */\n  let nice_match = s.nice_match;             /* stop if match long enough */\n  const limit = (s.strstart > (s.w_size - MIN_LOOKAHEAD)) ?\n      s.strstart - (s.w_size - MIN_LOOKAHEAD) : 0/*NIL*/;\n\n  const _win = s.window; // shortcut\n\n  const wmask = s.w_mask;\n  const prev  = s.prev;\n\n  /* Stop when cur_match becomes <= limit. To simplify the code,\n   * we prevent matches with the string of window index 0.\n   */\n\n  const strend = s.strstart + MAX_MATCH;\n  let scan_end1  = _win[scan + best_len - 1];\n  let scan_end   = _win[scan + best_len];\n\n  /* The code is optimized for HASH_BITS >= 8 and MAX_MATCH-2 multiple of 16.\n   * It is easy to get rid of this optimization if necessary.\n   */\n  // Assert(s->hash_bits >= 8 && MAX_MATCH == 258, \"Code too clever\");\n\n  /* Do not waste too much time if we already have a good match: */\n  if (s.prev_length >= s.good_match) {\n    chain_length >>= 2;\n  }\n  /* Do not look for matches beyond the end of the input. This is necessary\n   * to make deflate deterministic.\n   */\n  if (nice_match > s.lookahead) { nice_match = s.lookahead; }\n\n  // Assert((ulg)s->strstart <= s->window_size-MIN_LOOKAHEAD, \"need lookahead\");\n\n  do {\n    // Assert(cur_match < s->strstart, \"no future\");\n    match = cur_match;\n\n    /* Skip to next match if the match length cannot increase\n     * or if the match length is less than 2.  Note that the checks below\n     * for insufficient lookahead only occur occasionally for performance\n     * reasons.  Therefore uninitialized memory will be accessed, and\n     * conditional jumps will be made that depend on those values.\n     * However the length of the match is limited to the lookahead, so\n     * the output of deflate is not affected by the uninitialized values.\n     */\n\n    if (_win[match + best_len]     !== scan_end  ||\n        _win[match + best_len - 1] !== scan_end1 ||\n        _win[match]                !== _win[scan] ||\n        _win[++match]              !== _win[scan + 1]) {\n      continue;\n    }\n\n    /* The check at best_len-1 can be removed because it will be made\n     * again later. (This heuristic is not always a win.)\n     * It is not necessary to compare scan[2] and match[2] since they\n     * are always equal when the other bytes match, given that\n     * the hash keys are equal and that HASH_BITS >= 8.\n     */\n    scan += 2;\n    match++;\n    // Assert(*scan == *match, \"match[2]?\");\n\n    /* We check for insufficient lookahead only every 8th comparison;\n     * the 256th check will be made at strstart+258.\n     */\n    do {\n      /*jshint noempty:false*/\n    } while (_win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&\n             _win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&\n             _win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&\n             _win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&\n             scan < strend);\n\n    // Assert(scan <= s->window+(unsigned)(s->window_size-1), \"wild scan\");\n\n    len = MAX_MATCH - (strend - scan);\n    scan = strend - MAX_MATCH;\n\n    if (len > best_len) {\n      s.match_start = cur_match;\n      best_len = len;\n      if (len >= nice_match) {\n        break;\n      }\n      scan_end1  = _win[scan + best_len - 1];\n      scan_end   = _win[scan + best_len];\n    }\n  } while ((cur_match = prev[cur_match & wmask]) > limit && --chain_length !== 0);\n\n  if (best_len <= s.lookahead) {\n    return best_len;\n  }\n  return s.lookahead;\n};\n\n\n/* ===========================================================================\n * Fill the window when the lookahead becomes insufficient.\n * Updates strstart and lookahead.\n *\n * IN assertion: lookahead < MIN_LOOKAHEAD\n * OUT assertions: strstart <= window_size-MIN_LOOKAHEAD\n *    At least one byte has been read, or avail_in == 0; reads are\n *    performed for at least two bytes (required for the zip translate_eol\n *    option -- not supported here).\n */\nconst fill_window = (s) => {\n\n  const _w_size = s.w_size;\n  let n, more, str;\n\n  //Assert(s->lookahead < MIN_LOOKAHEAD, \"already enough lookahead\");\n\n  do {\n    more = s.window_size - s.lookahead - s.strstart;\n\n    // JS ints have 32 bit, block below not needed\n    /* Deal with !@#$% 64K limit: */\n    //if (sizeof(int) <= 2) {\n    //    if (more == 0 && s->strstart == 0 && s->lookahead == 0) {\n    //        more = wsize;\n    //\n    //  } else if (more == (unsigned)(-1)) {\n    //        /* Very unlikely, but possible on 16 bit machine if\n    //         * strstart == 0 && lookahead == 1 (input done a byte at time)\n    //         */\n    //        more--;\n    //    }\n    //}\n\n\n    /* If the window is almost full and there is insufficient lookahead,\n     * move the upper half to the lower one to make room in the upper half.\n     */\n    if (s.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {\n\n      s.window.set(s.window.subarray(_w_size, _w_size + _w_size - more), 0);\n      s.match_start -= _w_size;\n      s.strstart -= _w_size;\n      /* we now have strstart >= MAX_DIST */\n      s.block_start -= _w_size;\n      if (s.insert > s.strstart) {\n        s.insert = s.strstart;\n      }\n      slide_hash(s);\n      more += _w_size;\n    }\n    if (s.strm.avail_in === 0) {\n      break;\n    }\n\n    /* If there was no sliding:\n     *    strstart <= WSIZE+MAX_DIST-1 && lookahead <= MIN_LOOKAHEAD - 1 &&\n     *    more == window_size - lookahead - strstart\n     * => more >= window_size - (MIN_LOOKAHEAD-1 + WSIZE + MAX_DIST-1)\n     * => more >= window_size - 2*WSIZE + 2\n     * In the BIG_MEM or MMAP case (not yet supported),\n     *   window_size == input_size + MIN_LOOKAHEAD  &&\n     *   strstart + s->lookahead <= input_size => more >= MIN_LOOKAHEAD.\n     * Otherwise, window_size == 2*WSIZE so more >= 2.\n     * If there was sliding, more >= WSIZE. So in all cases, more >= 2.\n     */\n    //Assert(more >= 2, \"more < 2\");\n    n = read_buf(s.strm, s.window, s.strstart + s.lookahead, more);\n    s.lookahead += n;\n\n    /* Initialize the hash value now that we have some input: */\n    if (s.lookahead + s.insert >= MIN_MATCH) {\n      str = s.strstart - s.insert;\n      s.ins_h = s.window[str];\n\n      /* UPDATE_HASH(s, s->ins_h, s->window[str + 1]); */\n      s.ins_h = HASH(s, s.ins_h, s.window[str + 1]);\n//#if MIN_MATCH != 3\n//        Call update_hash() MIN_MATCH-3 more times\n//#endif\n      while (s.insert) {\n        /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */\n        s.ins_h = HASH(s, s.ins_h, s.window[str + MIN_MATCH - 1]);\n\n        s.prev[str & s.w_mask] = s.head[s.ins_h];\n        s.head[s.ins_h] = str;\n        str++;\n        s.insert--;\n        if (s.lookahead + s.insert < MIN_MATCH) {\n          break;\n        }\n      }\n    }\n    /* If the whole input has less than MIN_MATCH bytes, ins_h is garbage,\n     * but this is not important since only literal bytes will be emitted.\n     */\n\n  } while (s.lookahead < MIN_LOOKAHEAD && s.strm.avail_in !== 0);\n\n  /* If the WIN_INIT bytes after the end of the current data have never been\n   * written, then zero those bytes in order to avoid memory check reports of\n   * the use of uninitialized (or uninitialised as Julian writes) bytes by\n   * the longest match routines.  Update the high water mark for the next\n   * time through here.  WIN_INIT is set to MAX_MATCH since the longest match\n   * routines allow scanning to strstart + MAX_MATCH, ignoring lookahead.\n   */\n//  if (s.high_water < s.window_size) {\n//    const curr = s.strstart + s.lookahead;\n//    let init = 0;\n//\n//    if (s.high_water < curr) {\n//      /* Previous high water mark below current data -- zero WIN_INIT\n//       * bytes or up to end of window, whichever is less.\n//       */\n//      init = s.window_size - curr;\n//      if (init > WIN_INIT)\n//        init = WIN_INIT;\n//      zmemzero(s->window + curr, (unsigned)init);\n//      s->high_water = curr + init;\n//    }\n//    else if (s->high_water < (ulg)curr + WIN_INIT) {\n//      /* High water mark at or above current data, but below current data\n//       * plus WIN_INIT -- zero out to current data plus WIN_INIT, or up\n//       * to end of window, whichever is less.\n//       */\n//      init = (ulg)curr + WIN_INIT - s->high_water;\n//      if (init > s->window_size - s->high_water)\n//        init = s->window_size - s->high_water;\n//      zmemzero(s->window + s->high_water, (unsigned)init);\n//      s->high_water += init;\n//    }\n//  }\n//\n//  Assert((ulg)s->strstart <= s->window_size - MIN_LOOKAHEAD,\n//    \"not enough room for search\");\n};\n\n/* ===========================================================================\n * Copy without compression as much as possible from the input stream, return\n * the current block state.\n *\n * In case deflateParams() is used to later switch to a non-zero compression\n * level, s->matches (otherwise unused when storing) keeps track of the number\n * of hash table slides to perform. If s->matches is 1, then one hash table\n * slide will be done when switching. If s->matches is 2, the maximum value\n * allowed here, then the hash table will be cleared, since two or more slides\n * is the same as a clear.\n *\n * deflate_stored() is written to minimize the number of times an input byte is\n * copied. It is most efficient with large input and output buffers, which\n * maximizes the opportunites to have a single copy from next_in to next_out.\n */\nconst deflate_stored = (s, flush) => {\n\n  /* Smallest worthy block size when not flushing or finishing. By default\n   * this is 32K. This can be as small as 507 bytes for memLevel == 1. For\n   * large input and output buffers, the stored block size will be larger.\n   */\n  let min_block = s.pending_buf_size - 5 > s.w_size ? s.w_size : s.pending_buf_size - 5;\n\n  /* Copy as many min_block or larger stored blocks directly to next_out as\n   * possible. If flushing, copy the remaining available input to next_out as\n   * stored blocks, if there is enough space.\n   */\n  let len, left, have, last = 0;\n  let used = s.strm.avail_in;\n  do {\n    /* Set len to the maximum size block that we can copy directly with the\n     * available input data and output space. Set left to how much of that\n     * would be copied from what's left in the window.\n     */\n    len = 65535/* MAX_STORED */;     /* maximum deflate stored block length */\n    have = (s.bi_valid + 42) >> 3;     /* number of header bytes */\n    if (s.strm.avail_out < have) {         /* need room for header */\n      break;\n    }\n      /* maximum stored block length that will fit in avail_out: */\n    have = s.strm.avail_out - have;\n    left = s.strstart - s.block_start;  /* bytes left in window */\n    if (len > left + s.strm.avail_in) {\n      len = left + s.strm.avail_in;   /* limit len to the input */\n    }\n    if (len > have) {\n      len = have;             /* limit len to the output */\n    }\n\n    /* If the stored block would be less than min_block in length, or if\n     * unable to copy all of the available input when flushing, then try\n     * copying to the window and the pending buffer instead. Also don't\n     * write an empty block when flushing -- deflate() does that.\n     */\n    if (len < min_block && ((len === 0 && flush !== Z_FINISH$3) ||\n                        flush === Z_NO_FLUSH$2 ||\n                        len !== left + s.strm.avail_in)) {\n      break;\n    }\n\n    /* Make a dummy stored block in pending to get the header bytes,\n     * including any pending bits. This also updates the debugging counts.\n     */\n    last = flush === Z_FINISH$3 && len === left + s.strm.avail_in ? 1 : 0;\n    _tr_stored_block(s, 0, 0, last);\n\n    /* Replace the lengths in the dummy stored block with len. */\n    s.pending_buf[s.pending - 4] = len;\n    s.pending_buf[s.pending - 3] = len >> 8;\n    s.pending_buf[s.pending - 2] = ~len;\n    s.pending_buf[s.pending - 1] = ~len >> 8;\n\n    /* Write the stored block header bytes. */\n    flush_pending(s.strm);\n\n//#ifdef ZLIB_DEBUG\n//    /* Update debugging counts for the data about to be copied. */\n//    s->compressed_len += len << 3;\n//    s->bits_sent += len << 3;\n//#endif\n\n    /* Copy uncompressed bytes from the window to next_out. */\n    if (left) {\n      if (left > len) {\n        left = len;\n      }\n      //zmemcpy(s->strm->next_out, s->window + s->block_start, left);\n      s.strm.output.set(s.window.subarray(s.block_start, s.block_start + left), s.strm.next_out);\n      s.strm.next_out += left;\n      s.strm.avail_out -= left;\n      s.strm.total_out += left;\n      s.block_start += left;\n      len -= left;\n    }\n\n    /* Copy uncompressed bytes directly from next_in to next_out, updating\n     * the check value.\n     */\n    if (len) {\n      read_buf(s.strm, s.strm.output, s.strm.next_out, len);\n      s.strm.next_out += len;\n      s.strm.avail_out -= len;\n      s.strm.total_out += len;\n    }\n  } while (last === 0);\n\n  /* Update the sliding window with the last s->w_size bytes of the copied\n   * data, or append all of the copied data to the existing window if less\n   * than s->w_size bytes were copied. Also update the number of bytes to\n   * insert in the hash tables, in the event that deflateParams() switches to\n   * a non-zero compression level.\n   */\n  used -= s.strm.avail_in;    /* number of input bytes directly copied */\n  if (used) {\n    /* If any input was used, then no unused input remains in the window,\n     * therefore s->block_start == s->strstart.\n     */\n    if (used >= s.w_size) {  /* supplant the previous history */\n      s.matches = 2;     /* clear hash */\n      //zmemcpy(s->window, s->strm->next_in - s->w_size, s->w_size);\n      s.window.set(s.strm.input.subarray(s.strm.next_in - s.w_size, s.strm.next_in), 0);\n      s.strstart = s.w_size;\n      s.insert = s.strstart;\n    }\n    else {\n      if (s.window_size - s.strstart <= used) {\n        /* Slide the window down. */\n        s.strstart -= s.w_size;\n        //zmemcpy(s->window, s->window + s->w_size, s->strstart);\n        s.window.set(s.window.subarray(s.w_size, s.w_size + s.strstart), 0);\n        if (s.matches < 2) {\n          s.matches++;   /* add a pending slide_hash() */\n        }\n        if (s.insert > s.strstart) {\n          s.insert = s.strstart;\n        }\n      }\n      //zmemcpy(s->window + s->strstart, s->strm->next_in - used, used);\n      s.window.set(s.strm.input.subarray(s.strm.next_in - used, s.strm.next_in), s.strstart);\n      s.strstart += used;\n      s.insert += used > s.w_size - s.insert ? s.w_size - s.insert : used;\n    }\n    s.block_start = s.strstart;\n  }\n  if (s.high_water < s.strstart) {\n    s.high_water = s.strstart;\n  }\n\n  /* If the last block was written to next_out, then done. */\n  if (last) {\n    return BS_FINISH_DONE;\n  }\n\n  /* If flushing and all input has been consumed, then done. */\n  if (flush !== Z_NO_FLUSH$2 && flush !== Z_FINISH$3 &&\n    s.strm.avail_in === 0 && s.strstart === s.block_start) {\n    return BS_BLOCK_DONE;\n  }\n\n  /* Fill the window with any remaining input. */\n  have = s.window_size - s.strstart;\n  if (s.strm.avail_in > have && s.block_start >= s.w_size) {\n    /* Slide the window down. */\n    s.block_start -= s.w_size;\n    s.strstart -= s.w_size;\n    //zmemcpy(s->window, s->window + s->w_size, s->strstart);\n    s.window.set(s.window.subarray(s.w_size, s.w_size + s.strstart), 0);\n    if (s.matches < 2) {\n      s.matches++;       /* add a pending slide_hash() */\n    }\n    have += s.w_size;      /* more space now */\n    if (s.insert > s.strstart) {\n      s.insert = s.strstart;\n    }\n  }\n  if (have > s.strm.avail_in) {\n    have = s.strm.avail_in;\n  }\n  if (have) {\n    read_buf(s.strm, s.window, s.strstart, have);\n    s.strstart += have;\n    s.insert += have > s.w_size - s.insert ? s.w_size - s.insert : have;\n  }\n  if (s.high_water < s.strstart) {\n    s.high_water = s.strstart;\n  }\n\n  /* There was not enough avail_out to write a complete worthy or flushed\n   * stored block to next_out. Write a stored block to pending instead, if we\n   * have enough input for a worthy block, or if flushing and there is enough\n   * room for the remaining input as a stored block in the pending buffer.\n   */\n  have = (s.bi_valid + 42) >> 3;     /* number of header bytes */\n    /* maximum stored block length that will fit in pending: */\n  have = s.pending_buf_size - have > 65535/* MAX_STORED */ ? 65535/* MAX_STORED */ : s.pending_buf_size - have;\n  min_block = have > s.w_size ? s.w_size : have;\n  left = s.strstart - s.block_start;\n  if (left >= min_block ||\n     ((left || flush === Z_FINISH$3) && flush !== Z_NO_FLUSH$2 &&\n     s.strm.avail_in === 0 && left <= have)) {\n    len = left > have ? have : left;\n    last = flush === Z_FINISH$3 && s.strm.avail_in === 0 &&\n         len === left ? 1 : 0;\n    _tr_stored_block(s, s.block_start, len, last);\n    s.block_start += len;\n    flush_pending(s.strm);\n  }\n\n  /* We've done all we can with the available input and output. */\n  return last ? BS_FINISH_STARTED : BS_NEED_MORE;\n};\n\n\n/* ===========================================================================\n * Compress as much as possible from the input stream, return the current\n * block state.\n * This function does not perform lazy evaluation of matches and inserts\n * new strings in the dictionary only for unmatched strings or for short\n * matches. It is used only for the fast compression options.\n */\nconst deflate_fast = (s, flush) => {\n\n  let hash_head;        /* head of the hash chain */\n  let bflush;           /* set if current block must be flushed */\n\n  for (;;) {\n    /* Make sure that we always have enough lookahead, except\n     * at the end of the input file. We need MAX_MATCH bytes\n     * for the next match, plus MIN_MATCH bytes to insert the\n     * string following the next match.\n     */\n    if (s.lookahead < MIN_LOOKAHEAD) {\n      fill_window(s);\n      if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH$2) {\n        return BS_NEED_MORE;\n      }\n      if (s.lookahead === 0) {\n        break; /* flush the current block */\n      }\n    }\n\n    /* Insert the string window[strstart .. strstart+2] in the\n     * dictionary, and set hash_head to the head of the hash chain:\n     */\n    hash_head = 0/*NIL*/;\n    if (s.lookahead >= MIN_MATCH) {\n      /*** INSERT_STRING(s, s.strstart, hash_head); ***/\n      s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH - 1]);\n      hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n      s.head[s.ins_h] = s.strstart;\n      /***/\n    }\n\n    /* Find the longest match, discarding those <= prev_length.\n     * At this point we have always match_length < MIN_MATCH\n     */\n    if (hash_head !== 0/*NIL*/ && ((s.strstart - hash_head) <= (s.w_size - MIN_LOOKAHEAD))) {\n      /* To simplify the code, we prevent matches with the string\n       * of window index 0 (in particular we have to avoid a match\n       * of the string with itself at the start of the input file).\n       */\n      s.match_length = longest_match(s, hash_head);\n      /* longest_match() sets match_start */\n    }\n    if (s.match_length >= MIN_MATCH) {\n      // check_match(s, s.strstart, s.match_start, s.match_length); // for debug only\n\n      /*** _tr_tally_dist(s, s.strstart - s.match_start,\n                     s.match_length - MIN_MATCH, bflush); ***/\n      bflush = _tr_tally(s, s.strstart - s.match_start, s.match_length - MIN_MATCH);\n\n      s.lookahead -= s.match_length;\n\n      /* Insert new strings in the hash table only if the match length\n       * is not too large. This saves time but degrades compression.\n       */\n      if (s.match_length <= s.max_lazy_match/*max_insert_length*/ && s.lookahead >= MIN_MATCH) {\n        s.match_length--; /* string at strstart already in table */\n        do {\n          s.strstart++;\n          /*** INSERT_STRING(s, s.strstart, hash_head); ***/\n          s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH - 1]);\n          hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n          s.head[s.ins_h] = s.strstart;\n          /***/\n          /* strstart never exceeds WSIZE-MAX_MATCH, so there are\n           * always MIN_MATCH bytes ahead.\n           */\n        } while (--s.match_length !== 0);\n        s.strstart++;\n      } else\n      {\n        s.strstart += s.match_length;\n        s.match_length = 0;\n        s.ins_h = s.window[s.strstart];\n        /* UPDATE_HASH(s, s.ins_h, s.window[s.strstart+1]); */\n        s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + 1]);\n\n//#if MIN_MATCH != 3\n//                Call UPDATE_HASH() MIN_MATCH-3 more times\n//#endif\n        /* If lookahead < MIN_MATCH, ins_h is garbage, but it does not\n         * matter since it will be recomputed at next deflate call.\n         */\n      }\n    } else {\n      /* No match, output a literal byte */\n      //Tracevv((stderr,\"%c\", s.window[s.strstart]));\n      /*** _tr_tally_lit(s, s.window[s.strstart], bflush); ***/\n      bflush = _tr_tally(s, 0, s.window[s.strstart]);\n\n      s.lookahead--;\n      s.strstart++;\n    }\n    if (bflush) {\n      /*** FLUSH_BLOCK(s, 0); ***/\n      flush_block_only(s, false);\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n      /***/\n    }\n  }\n  s.insert = ((s.strstart < (MIN_MATCH - 1)) ? s.strstart : MIN_MATCH - 1);\n  if (flush === Z_FINISH$3) {\n    /*** FLUSH_BLOCK(s, 1); ***/\n    flush_block_only(s, true);\n    if (s.strm.avail_out === 0) {\n      return BS_FINISH_STARTED;\n    }\n    /***/\n    return BS_FINISH_DONE;\n  }\n  if (s.sym_next) {\n    /*** FLUSH_BLOCK(s, 0); ***/\n    flush_block_only(s, false);\n    if (s.strm.avail_out === 0) {\n      return BS_NEED_MORE;\n    }\n    /***/\n  }\n  return BS_BLOCK_DONE;\n};\n\n/* ===========================================================================\n * Same as above, but achieves better compression. We use a lazy\n * evaluation for matches: a match is finally adopted only if there is\n * no better match at the next window position.\n */\nconst deflate_slow = (s, flush) => {\n\n  let hash_head;          /* head of hash chain */\n  let bflush;              /* set if current block must be flushed */\n\n  let max_insert;\n\n  /* Process the input block. */\n  for (;;) {\n    /* Make sure that we always have enough lookahead, except\n     * at the end of the input file. We need MAX_MATCH bytes\n     * for the next match, plus MIN_MATCH bytes to insert the\n     * string following the next match.\n     */\n    if (s.lookahead < MIN_LOOKAHEAD) {\n      fill_window(s);\n      if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH$2) {\n        return BS_NEED_MORE;\n      }\n      if (s.lookahead === 0) { break; } /* flush the current block */\n    }\n\n    /* Insert the string window[strstart .. strstart+2] in the\n     * dictionary, and set hash_head to the head of the hash chain:\n     */\n    hash_head = 0/*NIL*/;\n    if (s.lookahead >= MIN_MATCH) {\n      /*** INSERT_STRING(s, s.strstart, hash_head); ***/\n      s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH - 1]);\n      hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n      s.head[s.ins_h] = s.strstart;\n      /***/\n    }\n\n    /* Find the longest match, discarding those <= prev_length.\n     */\n    s.prev_length = s.match_length;\n    s.prev_match = s.match_start;\n    s.match_length = MIN_MATCH - 1;\n\n    if (hash_head !== 0/*NIL*/ && s.prev_length < s.max_lazy_match &&\n        s.strstart - hash_head <= (s.w_size - MIN_LOOKAHEAD)/*MAX_DIST(s)*/) {\n      /* To simplify the code, we prevent matches with the string\n       * of window index 0 (in particular we have to avoid a match\n       * of the string with itself at the start of the input file).\n       */\n      s.match_length = longest_match(s, hash_head);\n      /* longest_match() sets match_start */\n\n      if (s.match_length <= 5 &&\n         (s.strategy === Z_FILTERED || (s.match_length === MIN_MATCH && s.strstart - s.match_start > 4096/*TOO_FAR*/))) {\n\n        /* If prev_match is also MIN_MATCH, match_start is garbage\n         * but we will ignore the current match anyway.\n         */\n        s.match_length = MIN_MATCH - 1;\n      }\n    }\n    /* If there was a match at the previous step and the current\n     * match is not better, output the previous match:\n     */\n    if (s.prev_length >= MIN_MATCH && s.match_length <= s.prev_length) {\n      max_insert = s.strstart + s.lookahead - MIN_MATCH;\n      /* Do not insert strings in hash table beyond this. */\n\n      //check_match(s, s.strstart-1, s.prev_match, s.prev_length);\n\n      /***_tr_tally_dist(s, s.strstart - 1 - s.prev_match,\n                     s.prev_length - MIN_MATCH, bflush);***/\n      bflush = _tr_tally(s, s.strstart - 1 - s.prev_match, s.prev_length - MIN_MATCH);\n      /* Insert in hash table all strings up to the end of the match.\n       * strstart-1 and strstart are already inserted. If there is not\n       * enough lookahead, the last two strings are not inserted in\n       * the hash table.\n       */\n      s.lookahead -= s.prev_length - 1;\n      s.prev_length -= 2;\n      do {\n        if (++s.strstart <= max_insert) {\n          /*** INSERT_STRING(s, s.strstart, hash_head); ***/\n          s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH - 1]);\n          hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n          s.head[s.ins_h] = s.strstart;\n          /***/\n        }\n      } while (--s.prev_length !== 0);\n      s.match_available = 0;\n      s.match_length = MIN_MATCH - 1;\n      s.strstart++;\n\n      if (bflush) {\n        /*** FLUSH_BLOCK(s, 0); ***/\n        flush_block_only(s, false);\n        if (s.strm.avail_out === 0) {\n          return BS_NEED_MORE;\n        }\n        /***/\n      }\n\n    } else if (s.match_available) {\n      /* If there was no match at the previous position, output a\n       * single literal. If there was a match but the current match\n       * is longer, truncate the previous match to a single literal.\n       */\n      //Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n      /*** _tr_tally_lit(s, s.window[s.strstart-1], bflush); ***/\n      bflush = _tr_tally(s, 0, s.window[s.strstart - 1]);\n\n      if (bflush) {\n        /*** FLUSH_BLOCK_ONLY(s, 0) ***/\n        flush_block_only(s, false);\n        /***/\n      }\n      s.strstart++;\n      s.lookahead--;\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n    } else {\n      /* There is no previous match to compare with, wait for\n       * the next step to decide.\n       */\n      s.match_available = 1;\n      s.strstart++;\n      s.lookahead--;\n    }\n  }\n  //Assert (flush != Z_NO_FLUSH, \"no flush?\");\n  if (s.match_available) {\n    //Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n    /*** _tr_tally_lit(s, s.window[s.strstart-1], bflush); ***/\n    bflush = _tr_tally(s, 0, s.window[s.strstart - 1]);\n\n    s.match_available = 0;\n  }\n  s.insert = s.strstart < MIN_MATCH - 1 ? s.strstart : MIN_MATCH - 1;\n  if (flush === Z_FINISH$3) {\n    /*** FLUSH_BLOCK(s, 1); ***/\n    flush_block_only(s, true);\n    if (s.strm.avail_out === 0) {\n      return BS_FINISH_STARTED;\n    }\n    /***/\n    return BS_FINISH_DONE;\n  }\n  if (s.sym_next) {\n    /*** FLUSH_BLOCK(s, 0); ***/\n    flush_block_only(s, false);\n    if (s.strm.avail_out === 0) {\n      return BS_NEED_MORE;\n    }\n    /***/\n  }\n\n  return BS_BLOCK_DONE;\n};\n\n\n/* ===========================================================================\n * For Z_RLE, simply look for runs of bytes, generate matches only of distance\n * one.  Do not maintain a hash table.  (It will be regenerated if this run of\n * deflate switches away from Z_RLE.)\n */\nconst deflate_rle = (s, flush) => {\n\n  let bflush;            /* set if current block must be flushed */\n  let prev;              /* byte at distance one to match */\n  let scan, strend;      /* scan goes up to strend for length of run */\n\n  const _win = s.window;\n\n  for (;;) {\n    /* Make sure that we always have enough lookahead, except\n     * at the end of the input file. We need MAX_MATCH bytes\n     * for the longest run, plus one for the unrolled loop.\n     */\n    if (s.lookahead <= MAX_MATCH) {\n      fill_window(s);\n      if (s.lookahead <= MAX_MATCH && flush === Z_NO_FLUSH$2) {\n        return BS_NEED_MORE;\n      }\n      if (s.lookahead === 0) { break; } /* flush the current block */\n    }\n\n    /* See how many times the previous byte repeats */\n    s.match_length = 0;\n    if (s.lookahead >= MIN_MATCH && s.strstart > 0) {\n      scan = s.strstart - 1;\n      prev = _win[scan];\n      if (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan]) {\n        strend = s.strstart + MAX_MATCH;\n        do {\n          /*jshint noempty:false*/\n        } while (prev === _win[++scan] && prev === _win[++scan] &&\n                 prev === _win[++scan] && prev === _win[++scan] &&\n                 prev === _win[++scan] && prev === _win[++scan] &&\n                 prev === _win[++scan] && prev === _win[++scan] &&\n                 scan < strend);\n        s.match_length = MAX_MATCH - (strend - scan);\n        if (s.match_length > s.lookahead) {\n          s.match_length = s.lookahead;\n        }\n      }\n      //Assert(scan <= s->window+(uInt)(s->window_size-1), \"wild scan\");\n    }\n\n    /* Emit match if have run of MIN_MATCH or longer, else emit literal */\n    if (s.match_length >= MIN_MATCH) {\n      //check_match(s, s.strstart, s.strstart - 1, s.match_length);\n\n      /*** _tr_tally_dist(s, 1, s.match_length - MIN_MATCH, bflush); ***/\n      bflush = _tr_tally(s, 1, s.match_length - MIN_MATCH);\n\n      s.lookahead -= s.match_length;\n      s.strstart += s.match_length;\n      s.match_length = 0;\n    } else {\n      /* No match, output a literal byte */\n      //Tracevv((stderr,\"%c\", s->window[s->strstart]));\n      /*** _tr_tally_lit(s, s.window[s.strstart], bflush); ***/\n      bflush = _tr_tally(s, 0, s.window[s.strstart]);\n\n      s.lookahead--;\n      s.strstart++;\n    }\n    if (bflush) {\n      /*** FLUSH_BLOCK(s, 0); ***/\n      flush_block_only(s, false);\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n      /***/\n    }\n  }\n  s.insert = 0;\n  if (flush === Z_FINISH$3) {\n    /*** FLUSH_BLOCK(s, 1); ***/\n    flush_block_only(s, true);\n    if (s.strm.avail_out === 0) {\n      return BS_FINISH_STARTED;\n    }\n    /***/\n    return BS_FINISH_DONE;\n  }\n  if (s.sym_next) {\n    /*** FLUSH_BLOCK(s, 0); ***/\n    flush_block_only(s, false);\n    if (s.strm.avail_out === 0) {\n      return BS_NEED_MORE;\n    }\n    /***/\n  }\n  return BS_BLOCK_DONE;\n};\n\n/* ===========================================================================\n * For Z_HUFFMAN_ONLY, do not look for matches.  Do not maintain a hash table.\n * (It will be regenerated if this run of deflate switches away from Huffman.)\n */\nconst deflate_huff = (s, flush) => {\n\n  let bflush;             /* set if current block must be flushed */\n\n  for (;;) {\n    /* Make sure that we have a literal to write. */\n    if (s.lookahead === 0) {\n      fill_window(s);\n      if (s.lookahead === 0) {\n        if (flush === Z_NO_FLUSH$2) {\n          return BS_NEED_MORE;\n        }\n        break;      /* flush the current block */\n      }\n    }\n\n    /* Output a literal byte */\n    s.match_length = 0;\n    //Tracevv((stderr,\"%c\", s->window[s->strstart]));\n    /*** _tr_tally_lit(s, s.window[s.strstart], bflush); ***/\n    bflush = _tr_tally(s, 0, s.window[s.strstart]);\n    s.lookahead--;\n    s.strstart++;\n    if (bflush) {\n      /*** FLUSH_BLOCK(s, 0); ***/\n      flush_block_only(s, false);\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n      /***/\n    }\n  }\n  s.insert = 0;\n  if (flush === Z_FINISH$3) {\n    /*** FLUSH_BLOCK(s, 1); ***/\n    flush_block_only(s, true);\n    if (s.strm.avail_out === 0) {\n      return BS_FINISH_STARTED;\n    }\n    /***/\n    return BS_FINISH_DONE;\n  }\n  if (s.sym_next) {\n    /*** FLUSH_BLOCK(s, 0); ***/\n    flush_block_only(s, false);\n    if (s.strm.avail_out === 0) {\n      return BS_NEED_MORE;\n    }\n    /***/\n  }\n  return BS_BLOCK_DONE;\n};\n\n/* Values for max_lazy_match, good_match and max_chain_length, depending on\n * the desired pack level (0..9). The values given below have been tuned to\n * exclude worst case performance for pathological files. Better values may be\n * found for specific files.\n */\nfunction Config(good_length, max_lazy, nice_length, max_chain, func) {\n\n  this.good_length = good_length;\n  this.max_lazy = max_lazy;\n  this.nice_length = nice_length;\n  this.max_chain = max_chain;\n  this.func = func;\n}\n\nconst configuration_table = [\n  /*      good lazy nice chain */\n  new Config(0, 0, 0, 0, deflate_stored),          /* 0 store only */\n  new Config(4, 4, 8, 4, deflate_fast),            /* 1 max speed, no lazy matches */\n  new Config(4, 5, 16, 8, deflate_fast),           /* 2 */\n  new Config(4, 6, 32, 32, deflate_fast),          /* 3 */\n\n  new Config(4, 4, 16, 16, deflate_slow),          /* 4 lazy matches */\n  new Config(8, 16, 32, 32, deflate_slow),         /* 5 */\n  new Config(8, 16, 128, 128, deflate_slow),       /* 6 */\n  new Config(8, 32, 128, 256, deflate_slow),       /* 7 */\n  new Config(32, 128, 258, 1024, deflate_slow),    /* 8 */\n  new Config(32, 258, 258, 4096, deflate_slow)     /* 9 max compression */\n];\n\n\n/* ===========================================================================\n * Initialize the \"longest match\" routines for a new zlib stream\n */\nconst lm_init = (s) => {\n\n  s.window_size = 2 * s.w_size;\n\n  /*** CLEAR_HASH(s); ***/\n  zero(s.head); // Fill with NIL (= 0);\n\n  /* Set the default configuration parameters:\n   */\n  s.max_lazy_match = configuration_table[s.level].max_lazy;\n  s.good_match = configuration_table[s.level].good_length;\n  s.nice_match = configuration_table[s.level].nice_length;\n  s.max_chain_length = configuration_table[s.level].max_chain;\n\n  s.strstart = 0;\n  s.block_start = 0;\n  s.lookahead = 0;\n  s.insert = 0;\n  s.match_length = s.prev_length = MIN_MATCH - 1;\n  s.match_available = 0;\n  s.ins_h = 0;\n};\n\n\nfunction DeflateState() {\n  this.strm = null;            /* pointer back to this zlib stream */\n  this.status = 0;            /* as the name implies */\n  this.pending_buf = null;      /* output still pending */\n  this.pending_buf_size = 0;  /* size of pending_buf */\n  this.pending_out = 0;       /* next pending byte to output to the stream */\n  this.pending = 0;           /* nb of bytes in the pending buffer */\n  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */\n  this.gzhead = null;         /* gzip header information to write */\n  this.gzindex = 0;           /* where in extra, name, or comment */\n  this.method = Z_DEFLATED$2; /* can only be DEFLATED */\n  this.last_flush = -1;   /* value of flush param for previous deflate call */\n\n  this.w_size = 0;  /* LZ77 window size (32K by default) */\n  this.w_bits = 0;  /* log2(w_size)  (8..16) */\n  this.w_mask = 0;  /* w_size - 1 */\n\n  this.window = null;\n  /* Sliding window. Input bytes are read into the second half of the window,\n   * and move to the first half later to keep a dictionary of at least wSize\n   * bytes. With this organization, matches are limited to a distance of\n   * wSize-MAX_MATCH bytes, but this ensures that IO is always\n   * performed with a length multiple of the block size.\n   */\n\n  this.window_size = 0;\n  /* Actual size of window: 2*wSize, except when the user input buffer\n   * is directly used as sliding window.\n   */\n\n  this.prev = null;\n  /* Link to older string with same hash index. To limit the size of this\n   * array to 64K, this link is maintained only for the last 32K strings.\n   * An index in this array is thus a window index modulo 32K.\n   */\n\n  this.head = null;   /* Heads of the hash chains or NIL. */\n\n  this.ins_h = 0;       /* hash index of string to be inserted */\n  this.hash_size = 0;   /* number of elements in hash table */\n  this.hash_bits = 0;   /* log2(hash_size) */\n  this.hash_mask = 0;   /* hash_size-1 */\n\n  this.hash_shift = 0;\n  /* Number of bits by which ins_h must be shifted at each input\n   * step. It must be such that after MIN_MATCH steps, the oldest\n   * byte no longer takes part in the hash key, that is:\n   *   hash_shift * MIN_MATCH >= hash_bits\n   */\n\n  this.block_start = 0;\n  /* Window position at the beginning of the current output block. Gets\n   * negative when the window is moved backwards.\n   */\n\n  this.match_length = 0;      /* length of best match */\n  this.prev_match = 0;        /* previous match */\n  this.match_available = 0;   /* set if previous match exists */\n  this.strstart = 0;          /* start of string to insert */\n  this.match_start = 0;       /* start of matching string */\n  this.lookahead = 0;         /* number of valid bytes ahead in window */\n\n  this.prev_length = 0;\n  /* Length of the best match at previous step. Matches not greater than this\n   * are discarded. This is used in the lazy match evaluation.\n   */\n\n  this.max_chain_length = 0;\n  /* To speed up deflation, hash chains are never searched beyond this\n   * length.  A higher limit improves compression ratio but degrades the\n   * speed.\n   */\n\n  this.max_lazy_match = 0;\n  /* Attempt to find a better match only when the current match is strictly\n   * smaller than this value. This mechanism is used only for compression\n   * levels >= 4.\n   */\n  // That's alias to max_lazy_match, don't use directly\n  //this.max_insert_length = 0;\n  /* Insert new strings in the hash table only if the match length is not\n   * greater than this length. This saves time but degrades compression.\n   * max_insert_length is used only for compression levels <= 3.\n   */\n\n  this.level = 0;     /* compression level (1..9) */\n  this.strategy = 0;  /* favor or force Huffman coding*/\n\n  this.good_match = 0;\n  /* Use a faster search when the previous match is longer than this */\n\n  this.nice_match = 0; /* Stop searching when current match exceeds this */\n\n              /* used by trees.c: */\n\n  /* Didn't use ct_data typedef below to suppress compiler warning */\n\n  // struct ct_data_s dyn_ltree[HEAP_SIZE];   /* literal and length tree */\n  // struct ct_data_s dyn_dtree[2*D_CODES+1]; /* distance tree */\n  // struct ct_data_s bl_tree[2*BL_CODES+1];  /* Huffman tree for bit lengths */\n\n  // Use flat array of DOUBLE size, with interleaved fata,\n  // because JS does not support effective\n  this.dyn_ltree  = new Uint16Array(HEAP_SIZE * 2);\n  this.dyn_dtree  = new Uint16Array((2 * D_CODES + 1) * 2);\n  this.bl_tree    = new Uint16Array((2 * BL_CODES + 1) * 2);\n  zero(this.dyn_ltree);\n  zero(this.dyn_dtree);\n  zero(this.bl_tree);\n\n  this.l_desc   = null;         /* desc. for literal tree */\n  this.d_desc   = null;         /* desc. for distance tree */\n  this.bl_desc  = null;         /* desc. for bit length tree */\n\n  //ush bl_count[MAX_BITS+1];\n  this.bl_count = new Uint16Array(MAX_BITS + 1);\n  /* number of codes at each bit length for an optimal tree */\n\n  //int heap[2*L_CODES+1];      /* heap used to build the Huffman trees */\n  this.heap = new Uint16Array(2 * L_CODES + 1);  /* heap used to build the Huffman trees */\n  zero(this.heap);\n\n  this.heap_len = 0;               /* number of elements in the heap */\n  this.heap_max = 0;               /* element of largest frequency */\n  /* The sons of heap[n] are heap[2*n] and heap[2*n+1]. heap[0] is not used.\n   * The same heap array is used to build all trees.\n   */\n\n  this.depth = new Uint16Array(2 * L_CODES + 1); //uch depth[2*L_CODES+1];\n  zero(this.depth);\n  /* Depth of each subtree used as tie breaker for trees of equal frequency\n   */\n\n  this.sym_buf = 0;        /* buffer for distances and literals/lengths */\n\n  this.lit_bufsize = 0;\n  /* Size of match buffer for literals/lengths.  There are 4 reasons for\n   * limiting lit_bufsize to 64K:\n   *   - frequencies can be kept in 16 bit counters\n   *   - if compression is not successful for the first block, all input\n   *     data is still in the window so we can still emit a stored block even\n   *     when input comes from standard input.  (This can also be done for\n   *     all blocks if lit_bufsize is not greater than 32K.)\n   *   - if compression is not successful for a file smaller than 64K, we can\n   *     even emit a stored file instead of a stored block (saving 5 bytes).\n   *     This is applicable only for zip (not gzip or zlib).\n   *   - creating new Huffman trees less frequently may not provide fast\n   *     adaptation to changes in the input data statistics. (Take for\n   *     example a binary file with poorly compressible code followed by\n   *     a highly compressible string table.) Smaller buffer sizes give\n   *     fast adaptation but have of course the overhead of transmitting\n   *     trees more frequently.\n   *   - I can't count above 4\n   */\n\n  this.sym_next = 0;      /* running index in sym_buf */\n  this.sym_end = 0;       /* symbol table full when sym_next reaches this */\n\n  this.opt_len = 0;       /* bit length of current block with optimal trees */\n  this.static_len = 0;    /* bit length of current block with static trees */\n  this.matches = 0;       /* number of string matches in current block */\n  this.insert = 0;        /* bytes at end of window left to insert */\n\n\n  this.bi_buf = 0;\n  /* Output buffer. bits are inserted starting at the bottom (least\n   * significant bits).\n   */\n  this.bi_valid = 0;\n  /* Number of valid bits in bi_buf.  All bits above the last valid bit\n   * are always zero.\n   */\n\n  // Used for window memory init. We safely ignore it for JS. That makes\n  // sense only for pointers and memory check tools.\n  //this.high_water = 0;\n  /* High water mark offset in window for initialized bytes -- bytes above\n   * this are set to zero in order to avoid memory check warnings when\n   * longest match routines access bytes past the input.  This is then\n   * updated to the new high water mark.\n   */\n}\n\n\n/* =========================================================================\n * Check for a valid deflate stream state. Return 0 if ok, 1 if not.\n */\nconst deflateStateCheck = (strm) => {\n\n  if (!strm) {\n    return 1;\n  }\n  const s = strm.state;\n  if (!s || s.strm !== strm || (s.status !== INIT_STATE &&\n//#ifdef GZIP\n                                s.status !== GZIP_STATE &&\n//#endif\n                                s.status !== EXTRA_STATE &&\n                                s.status !== NAME_STATE &&\n                                s.status !== COMMENT_STATE &&\n                                s.status !== HCRC_STATE &&\n                                s.status !== BUSY_STATE &&\n                                s.status !== FINISH_STATE)) {\n    return 1;\n  }\n  return 0;\n};\n\n\nconst deflateResetKeep = (strm) => {\n\n  if (deflateStateCheck(strm)) {\n    return err(strm, Z_STREAM_ERROR$2);\n  }\n\n  strm.total_in = strm.total_out = 0;\n  strm.data_type = Z_UNKNOWN;\n\n  const s = strm.state;\n  s.pending = 0;\n  s.pending_out = 0;\n\n  if (s.wrap < 0) {\n    s.wrap = -s.wrap;\n    /* was made negative by deflate(..., Z_FINISH); */\n  }\n  s.status =\n//#ifdef GZIP\n    s.wrap === 2 ? GZIP_STATE :\n//#endif\n    s.wrap ? INIT_STATE : BUSY_STATE;\n  strm.adler = (s.wrap === 2) ?\n    0  // crc32(0, Z_NULL, 0)\n  :\n    1; // adler32(0, Z_NULL, 0)\n  s.last_flush = -2;\n  _tr_init(s);\n  return Z_OK$3;\n};\n\n\nconst deflateReset = (strm) => {\n\n  const ret = deflateResetKeep(strm);\n  if (ret === Z_OK$3) {\n    lm_init(strm.state);\n  }\n  return ret;\n};\n\n\nconst deflateSetHeader = (strm, head) => {\n\n  if (deflateStateCheck(strm) || strm.state.wrap !== 2) {\n    return Z_STREAM_ERROR$2;\n  }\n  strm.state.gzhead = head;\n  return Z_OK$3;\n};\n\n\nconst deflateInit2 = (strm, level, method, windowBits, memLevel, strategy) => {\n\n  if (!strm) { // === Z_NULL\n    return Z_STREAM_ERROR$2;\n  }\n  let wrap = 1;\n\n  if (level === Z_DEFAULT_COMPRESSION$1) {\n    level = 6;\n  }\n\n  if (windowBits < 0) { /* suppress zlib wrapper */\n    wrap = 0;\n    windowBits = -windowBits;\n  }\n\n  else if (windowBits > 15) {\n    wrap = 2;           /* write gzip wrapper instead */\n    windowBits -= 16;\n  }\n\n\n  if (memLevel < 1 || memLevel > MAX_MEM_LEVEL || method !== Z_DEFLATED$2 ||\n    windowBits < 8 || windowBits > 15 || level < 0 || level > 9 ||\n    strategy < 0 || strategy > Z_FIXED || (windowBits === 8 && wrap !== 1)) {\n    return err(strm, Z_STREAM_ERROR$2);\n  }\n\n\n  if (windowBits === 8) {\n    windowBits = 9;\n  }\n  /* until 256-byte window bug fixed */\n\n  const s = new DeflateState();\n\n  strm.state = s;\n  s.strm = strm;\n  s.status = INIT_STATE;     /* to pass state test in deflateReset() */\n\n  s.wrap = wrap;\n  s.gzhead = null;\n  s.w_bits = windowBits;\n  s.w_size = 1 << s.w_bits;\n  s.w_mask = s.w_size - 1;\n\n  s.hash_bits = memLevel + 7;\n  s.hash_size = 1 << s.hash_bits;\n  s.hash_mask = s.hash_size - 1;\n  s.hash_shift = ~~((s.hash_bits + MIN_MATCH - 1) / MIN_MATCH);\n\n  s.window = new Uint8Array(s.w_size * 2);\n  s.head = new Uint16Array(s.hash_size);\n  s.prev = new Uint16Array(s.w_size);\n\n  // Don't need mem init magic for JS.\n  //s.high_water = 0;  /* nothing written to s->window yet */\n\n  s.lit_bufsize = 1 << (memLevel + 6); /* 16K elements by default */\n\n  /* We overlay pending_buf and sym_buf. This works since the average size\n   * for length/distance pairs over any compressed block is assured to be 31\n   * bits or less.\n   *\n   * Analysis: The longest fixed codes are a length code of 8 bits plus 5\n   * extra bits, for lengths 131 to 257. The longest fixed distance codes are\n   * 5 bits plus 13 extra bits, for distances 16385 to 32768. The longest\n   * possible fixed-codes length/distance pair is then 31 bits total.\n   *\n   * sym_buf starts one-fourth of the way into pending_buf. So there are\n   * three bytes in sym_buf for every four bytes in pending_buf. Each symbol\n   * in sym_buf is three bytes -- two for the distance and one for the\n   * literal/length. As each symbol is consumed, the pointer to the next\n   * sym_buf value to read moves forward three bytes. From that symbol, up to\n   * 31 bits are written to pending_buf. The closest the written pending_buf\n   * bits gets to the next sym_buf symbol to read is just before the last\n   * code is written. At that time, 31*(n-2) bits have been written, just\n   * after 24*(n-2) bits have been consumed from sym_buf. sym_buf starts at\n   * 8*n bits into pending_buf. (Note that the symbol buffer fills when n-1\n   * symbols are written.) The closest the writing gets to what is unread is\n   * then n+14 bits. Here n is lit_bufsize, which is 16384 by default, and\n   * can range from 128 to 32768.\n   *\n   * Therefore, at a minimum, there are 142 bits of space between what is\n   * written and what is read in the overlain buffers, so the symbols cannot\n   * be overwritten by the compressed data. That space is actually 139 bits,\n   * due to the three-bit fixed-code block header.\n   *\n   * That covers the case where either Z_FIXED is specified, forcing fixed\n   * codes, or when the use of fixed codes is chosen, because that choice\n   * results in a smaller compressed block than dynamic codes. That latter\n   * condition then assures that the above analysis also covers all dynamic\n   * blocks. A dynamic-code block will only be chosen to be emitted if it has\n   * fewer bits than a fixed-code block would for the same set of symbols.\n   * Therefore its average symbol length is assured to be less than 31. So\n   * the compressed data for a dynamic block also cannot overwrite the\n   * symbols from which it is being constructed.\n   */\n\n  s.pending_buf_size = s.lit_bufsize * 4;\n  s.pending_buf = new Uint8Array(s.pending_buf_size);\n\n  // It is offset from `s.pending_buf` (size is `s.lit_bufsize * 2`)\n  //s->sym_buf = s->pending_buf + s->lit_bufsize;\n  s.sym_buf = s.lit_bufsize;\n\n  //s->sym_end = (s->lit_bufsize - 1) * 3;\n  s.sym_end = (s.lit_bufsize - 1) * 3;\n  /* We avoid equality with lit_bufsize*3 because of wraparound at 64K\n   * on 16 bit machines and because stored blocks are restricted to\n   * 64K-1 bytes.\n   */\n\n  s.level = level;\n  s.strategy = strategy;\n  s.method = method;\n\n  return deflateReset(strm);\n};\n\nconst deflateInit = (strm, level) => {\n\n  return deflateInit2(strm, level, Z_DEFLATED$2, MAX_WBITS$1, DEF_MEM_LEVEL, Z_DEFAULT_STRATEGY$1);\n};\n\n\n/* ========================================================================= */\nconst deflate$2 = (strm, flush) => {\n\n  if (deflateStateCheck(strm) || flush > Z_BLOCK$1 || flush < 0) {\n    return strm ? err(strm, Z_STREAM_ERROR$2) : Z_STREAM_ERROR$2;\n  }\n\n  const s = strm.state;\n\n  if (!strm.output ||\n      (strm.avail_in !== 0 && !strm.input) ||\n      (s.status === FINISH_STATE && flush !== Z_FINISH$3)) {\n    return err(strm, (strm.avail_out === 0) ? Z_BUF_ERROR$1 : Z_STREAM_ERROR$2);\n  }\n\n  const old_flush = s.last_flush;\n  s.last_flush = flush;\n\n  /* Flush as much pending output as possible */\n  if (s.pending !== 0) {\n    flush_pending(strm);\n    if (strm.avail_out === 0) {\n      /* Since avail_out is 0, deflate will be called again with\n       * more output space, but possibly with both pending and\n       * avail_in equal to zero. There won't be anything to do,\n       * but this is not an error situation so make sure we\n       * return OK instead of BUF_ERROR at next call of deflate:\n       */\n      s.last_flush = -1;\n      return Z_OK$3;\n    }\n\n    /* Make sure there is something to do and avoid duplicate consecutive\n     * flushes. For repeated and useless calls with Z_FINISH, we keep\n     * returning Z_STREAM_END instead of Z_BUF_ERROR.\n     */\n  } else if (strm.avail_in === 0 && rank(flush) <= rank(old_flush) &&\n    flush !== Z_FINISH$3) {\n    return err(strm, Z_BUF_ERROR$1);\n  }\n\n  /* User must not provide more input after the first FINISH: */\n  if (s.status === FINISH_STATE && strm.avail_in !== 0) {\n    return err(strm, Z_BUF_ERROR$1);\n  }\n\n  /* Write the header */\n  if (s.status === INIT_STATE && s.wrap === 0) {\n    s.status = BUSY_STATE;\n  }\n  if (s.status === INIT_STATE) {\n    /* zlib header */\n    let header = (Z_DEFLATED$2 + ((s.w_bits - 8) << 4)) << 8;\n    let level_flags = -1;\n\n    if (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2) {\n      level_flags = 0;\n    } else if (s.level < 6) {\n      level_flags = 1;\n    } else if (s.level === 6) {\n      level_flags = 2;\n    } else {\n      level_flags = 3;\n    }\n    header |= (level_flags << 6);\n    if (s.strstart !== 0) { header |= PRESET_DICT; }\n    header += 31 - (header % 31);\n\n    putShortMSB(s, header);\n\n    /* Save the adler32 of the preset dictionary: */\n    if (s.strstart !== 0) {\n      putShortMSB(s, strm.adler >>> 16);\n      putShortMSB(s, strm.adler & 0xffff);\n    }\n    strm.adler = 1; // adler32(0L, Z_NULL, 0);\n    s.status = BUSY_STATE;\n\n    /* Compression must start with an empty pending buffer */\n    flush_pending(strm);\n    if (s.pending !== 0) {\n      s.last_flush = -1;\n      return Z_OK$3;\n    }\n  }\n//#ifdef GZIP\n  if (s.status === GZIP_STATE) {\n    /* gzip header */\n    strm.adler = 0;  //crc32(0L, Z_NULL, 0);\n    put_byte(s, 31);\n    put_byte(s, 139);\n    put_byte(s, 8);\n    if (!s.gzhead) { // s->gzhead == Z_NULL\n      put_byte(s, 0);\n      put_byte(s, 0);\n      put_byte(s, 0);\n      put_byte(s, 0);\n      put_byte(s, 0);\n      put_byte(s, s.level === 9 ? 2 :\n                  (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ?\n                   4 : 0));\n      put_byte(s, OS_CODE);\n      s.status = BUSY_STATE;\n\n      /* Compression must start with an empty pending buffer */\n      flush_pending(strm);\n      if (s.pending !== 0) {\n        s.last_flush = -1;\n        return Z_OK$3;\n      }\n    }\n    else {\n      put_byte(s, (s.gzhead.text ? 1 : 0) +\n                  (s.gzhead.hcrc ? 2 : 0) +\n                  (!s.gzhead.extra ? 0 : 4) +\n                  (!s.gzhead.name ? 0 : 8) +\n                  (!s.gzhead.comment ? 0 : 16)\n      );\n      put_byte(s, s.gzhead.time & 0xff);\n      put_byte(s, (s.gzhead.time >> 8) & 0xff);\n      put_byte(s, (s.gzhead.time >> 16) & 0xff);\n      put_byte(s, (s.gzhead.time >> 24) & 0xff);\n      put_byte(s, s.level === 9 ? 2 :\n                  (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ?\n                   4 : 0));\n      put_byte(s, s.gzhead.os & 0xff);\n      if (s.gzhead.extra && s.gzhead.extra.length) {\n        put_byte(s, s.gzhead.extra.length & 0xff);\n        put_byte(s, (s.gzhead.extra.length >> 8) & 0xff);\n      }\n      if (s.gzhead.hcrc) {\n        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending, 0);\n      }\n      s.gzindex = 0;\n      s.status = EXTRA_STATE;\n    }\n  }\n  if (s.status === EXTRA_STATE) {\n    if (s.gzhead.extra/* != Z_NULL*/) {\n      let beg = s.pending;   /* start of bytes to update crc */\n      let left = (s.gzhead.extra.length & 0xffff) - s.gzindex;\n      while (s.pending + left > s.pending_buf_size) {\n        let copy = s.pending_buf_size - s.pending;\n        // zmemcpy(s.pending_buf + s.pending,\n        //    s.gzhead.extra + s.gzindex, copy);\n        s.pending_buf.set(s.gzhead.extra.subarray(s.gzindex, s.gzindex + copy), s.pending);\n        s.pending = s.pending_buf_size;\n        //--- HCRC_UPDATE(beg) ---//\n        if (s.gzhead.hcrc && s.pending > beg) {\n          strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n        }\n        //---//\n        s.gzindex += copy;\n        flush_pending(strm);\n        if (s.pending !== 0) {\n          s.last_flush = -1;\n          return Z_OK$3;\n        }\n        beg = 0;\n        left -= copy;\n      }\n      // JS specific: s.gzhead.extra may be TypedArray or Array for backward compatibility\n      //              TypedArray.slice and TypedArray.from don't exist in IE10-IE11\n      let gzhead_extra = new Uint8Array(s.gzhead.extra);\n      // zmemcpy(s->pending_buf + s->pending,\n      //     s->gzhead->extra + s->gzindex, left);\n      s.pending_buf.set(gzhead_extra.subarray(s.gzindex, s.gzindex + left), s.pending);\n      s.pending += left;\n      //--- HCRC_UPDATE(beg) ---//\n      if (s.gzhead.hcrc && s.pending > beg) {\n        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n      }\n      //---//\n      s.gzindex = 0;\n    }\n    s.status = NAME_STATE;\n  }\n  if (s.status === NAME_STATE) {\n    if (s.gzhead.name/* != Z_NULL*/) {\n      let beg = s.pending;   /* start of bytes to update crc */\n      let val;\n      do {\n        if (s.pending === s.pending_buf_size) {\n          //--- HCRC_UPDATE(beg) ---//\n          if (s.gzhead.hcrc && s.pending > beg) {\n            strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n          }\n          //---//\n          flush_pending(strm);\n          if (s.pending !== 0) {\n            s.last_flush = -1;\n            return Z_OK$3;\n          }\n          beg = 0;\n        }\n        // JS specific: little magic to add zero terminator to end of string\n        if (s.gzindex < s.gzhead.name.length) {\n          val = s.gzhead.name.charCodeAt(s.gzindex++) & 0xff;\n        } else {\n          val = 0;\n        }\n        put_byte(s, val);\n      } while (val !== 0);\n      //--- HCRC_UPDATE(beg) ---//\n      if (s.gzhead.hcrc && s.pending > beg) {\n        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n      }\n      //---//\n      s.gzindex = 0;\n    }\n    s.status = COMMENT_STATE;\n  }\n  if (s.status === COMMENT_STATE) {\n    if (s.gzhead.comment/* != Z_NULL*/) {\n      let beg = s.pending;   /* start of bytes to update crc */\n      let val;\n      do {\n        if (s.pending === s.pending_buf_size) {\n          //--- HCRC_UPDATE(beg) ---//\n          if (s.gzhead.hcrc && s.pending > beg) {\n            strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n          }\n          //---//\n          flush_pending(strm);\n          if (s.pending !== 0) {\n            s.last_flush = -1;\n            return Z_OK$3;\n          }\n          beg = 0;\n        }\n        // JS specific: little magic to add zero terminator to end of string\n        if (s.gzindex < s.gzhead.comment.length) {\n          val = s.gzhead.comment.charCodeAt(s.gzindex++) & 0xff;\n        } else {\n          val = 0;\n        }\n        put_byte(s, val);\n      } while (val !== 0);\n      //--- HCRC_UPDATE(beg) ---//\n      if (s.gzhead.hcrc && s.pending > beg) {\n        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n      }\n      //---//\n    }\n    s.status = HCRC_STATE;\n  }\n  if (s.status === HCRC_STATE) {\n    if (s.gzhead.hcrc) {\n      if (s.pending + 2 > s.pending_buf_size) {\n        flush_pending(strm);\n        if (s.pending !== 0) {\n          s.last_flush = -1;\n          return Z_OK$3;\n        }\n      }\n      put_byte(s, strm.adler & 0xff);\n      put_byte(s, (strm.adler >> 8) & 0xff);\n      strm.adler = 0; //crc32(0L, Z_NULL, 0);\n    }\n    s.status = BUSY_STATE;\n\n    /* Compression must start with an empty pending buffer */\n    flush_pending(strm);\n    if (s.pending !== 0) {\n      s.last_flush = -1;\n      return Z_OK$3;\n    }\n  }\n//#endif\n\n  /* Start a new block or continue the current one.\n   */\n  if (strm.avail_in !== 0 || s.lookahead !== 0 ||\n    (flush !== Z_NO_FLUSH$2 && s.status !== FINISH_STATE)) {\n    let bstate = s.level === 0 ? deflate_stored(s, flush) :\n                 s.strategy === Z_HUFFMAN_ONLY ? deflate_huff(s, flush) :\n                 s.strategy === Z_RLE ? deflate_rle(s, flush) :\n                 configuration_table[s.level].func(s, flush);\n\n    if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {\n      s.status = FINISH_STATE;\n    }\n    if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {\n      if (strm.avail_out === 0) {\n        s.last_flush = -1;\n        /* avoid BUF_ERROR next call, see above */\n      }\n      return Z_OK$3;\n      /* If flush != Z_NO_FLUSH && avail_out == 0, the next call\n       * of deflate should use the same flush parameter to make sure\n       * that the flush is complete. So we don't have to output an\n       * empty block here, this will be done at next call. This also\n       * ensures that for a very small output buffer, we emit at most\n       * one empty block.\n       */\n    }\n    if (bstate === BS_BLOCK_DONE) {\n      if (flush === Z_PARTIAL_FLUSH) {\n        _tr_align(s);\n      }\n      else if (flush !== Z_BLOCK$1) { /* FULL_FLUSH or SYNC_FLUSH */\n\n        _tr_stored_block(s, 0, 0, false);\n        /* For a full flush, this empty block will be recognized\n         * as a special marker by inflate_sync().\n         */\n        if (flush === Z_FULL_FLUSH$1) {\n          /*** CLEAR_HASH(s); ***/             /* forget history */\n          zero(s.head); // Fill with NIL (= 0);\n\n          if (s.lookahead === 0) {\n            s.strstart = 0;\n            s.block_start = 0;\n            s.insert = 0;\n          }\n        }\n      }\n      flush_pending(strm);\n      if (strm.avail_out === 0) {\n        s.last_flush = -1; /* avoid BUF_ERROR at next call, see above */\n        return Z_OK$3;\n      }\n    }\n  }\n\n  if (flush !== Z_FINISH$3) { return Z_OK$3; }\n  if (s.wrap <= 0) { return Z_STREAM_END$3; }\n\n  /* Write the trailer */\n  if (s.wrap === 2) {\n    put_byte(s, strm.adler & 0xff);\n    put_byte(s, (strm.adler >> 8) & 0xff);\n    put_byte(s, (strm.adler >> 16) & 0xff);\n    put_byte(s, (strm.adler >> 24) & 0xff);\n    put_byte(s, strm.total_in & 0xff);\n    put_byte(s, (strm.total_in >> 8) & 0xff);\n    put_byte(s, (strm.total_in >> 16) & 0xff);\n    put_byte(s, (strm.total_in >> 24) & 0xff);\n  }\n  else\n  {\n    putShortMSB(s, strm.adler >>> 16);\n    putShortMSB(s, strm.adler & 0xffff);\n  }\n\n  flush_pending(strm);\n  /* If avail_out is zero, the application will call deflate again\n   * to flush the rest.\n   */\n  if (s.wrap > 0) { s.wrap = -s.wrap; }\n  /* write the trailer only once! */\n  return s.pending !== 0 ? Z_OK$3 : Z_STREAM_END$3;\n};\n\n\nconst deflateEnd = (strm) => {\n\n  if (deflateStateCheck(strm)) {\n    return Z_STREAM_ERROR$2;\n  }\n\n  const status = strm.state.status;\n\n  strm.state = null;\n\n  return status === BUSY_STATE ? err(strm, Z_DATA_ERROR$2) : Z_OK$3;\n};\n\n\n/* =========================================================================\n * Initializes the compression dictionary from the given byte\n * sequence without producing any compressed output.\n */\nconst deflateSetDictionary = (strm, dictionary) => {\n\n  let dictLength = dictionary.length;\n\n  if (deflateStateCheck(strm)) {\n    return Z_STREAM_ERROR$2;\n  }\n\n  const s = strm.state;\n  const wrap = s.wrap;\n\n  if (wrap === 2 || (wrap === 1 && s.status !== INIT_STATE) || s.lookahead) {\n    return Z_STREAM_ERROR$2;\n  }\n\n  /* when using zlib wrappers, compute Adler-32 for provided dictionary */\n  if (wrap === 1) {\n    /* adler32(strm->adler, dictionary, dictLength); */\n    strm.adler = adler32_1(strm.adler, dictionary, dictLength, 0);\n  }\n\n  s.wrap = 0;   /* avoid computing Adler-32 in read_buf */\n\n  /* if dictionary would fill window, just replace the history */\n  if (dictLength >= s.w_size) {\n    if (wrap === 0) {            /* already empty otherwise */\n      /*** CLEAR_HASH(s); ***/\n      zero(s.head); // Fill with NIL (= 0);\n      s.strstart = 0;\n      s.block_start = 0;\n      s.insert = 0;\n    }\n    /* use the tail */\n    // dictionary = dictionary.slice(dictLength - s.w_size);\n    let tmpDict = new Uint8Array(s.w_size);\n    tmpDict.set(dictionary.subarray(dictLength - s.w_size, dictLength), 0);\n    dictionary = tmpDict;\n    dictLength = s.w_size;\n  }\n  /* insert dictionary into window and hash */\n  const avail = strm.avail_in;\n  const next = strm.next_in;\n  const input = strm.input;\n  strm.avail_in = dictLength;\n  strm.next_in = 0;\n  strm.input = dictionary;\n  fill_window(s);\n  while (s.lookahead >= MIN_MATCH) {\n    let str = s.strstart;\n    let n = s.lookahead - (MIN_MATCH - 1);\n    do {\n      /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */\n      s.ins_h = HASH(s, s.ins_h, s.window[str + MIN_MATCH - 1]);\n\n      s.prev[str & s.w_mask] = s.head[s.ins_h];\n\n      s.head[s.ins_h] = str;\n      str++;\n    } while (--n);\n    s.strstart = str;\n    s.lookahead = MIN_MATCH - 1;\n    fill_window(s);\n  }\n  s.strstart += s.lookahead;\n  s.block_start = s.strstart;\n  s.insert = s.lookahead;\n  s.lookahead = 0;\n  s.match_length = s.prev_length = MIN_MATCH - 1;\n  s.match_available = 0;\n  strm.next_in = next;\n  strm.input = input;\n  strm.avail_in = avail;\n  s.wrap = wrap;\n  return Z_OK$3;\n};\n\n\nvar deflateInit_1 = deflateInit;\nvar deflateInit2_1 = deflateInit2;\nvar deflateReset_1 = deflateReset;\nvar deflateResetKeep_1 = deflateResetKeep;\nvar deflateSetHeader_1 = deflateSetHeader;\nvar deflate_2$1 = deflate$2;\nvar deflateEnd_1 = deflateEnd;\nvar deflateSetDictionary_1 = deflateSetDictionary;\nvar deflateInfo = 'pako deflate (from Nodeca project)';\n\n/* Not implemented\nmodule.exports.deflateBound = deflateBound;\nmodule.exports.deflateCopy = deflateCopy;\nmodule.exports.deflateGetDictionary = deflateGetDictionary;\nmodule.exports.deflateParams = deflateParams;\nmodule.exports.deflatePending = deflatePending;\nmodule.exports.deflatePrime = deflatePrime;\nmodule.exports.deflateTune = deflateTune;\n*/\n\nvar deflate_1$2 = {\n\tdeflateInit: deflateInit_1,\n\tdeflateInit2: deflateInit2_1,\n\tdeflateReset: deflateReset_1,\n\tdeflateResetKeep: deflateResetKeep_1,\n\tdeflateSetHeader: deflateSetHeader_1,\n\tdeflate: deflate_2$1,\n\tdeflateEnd: deflateEnd_1,\n\tdeflateSetDictionary: deflateSetDictionary_1,\n\tdeflateInfo: deflateInfo\n};\n\nconst _has = (obj, key) => {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n};\n\nvar assign = function (obj /*from1, from2, from3, ...*/) {\n  const sources = Array.prototype.slice.call(arguments, 1);\n  while (sources.length) {\n    const source = sources.shift();\n    if (!source) { continue; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be non-object');\n    }\n\n    for (const p in source) {\n      if (_has(source, p)) {\n        obj[p] = source[p];\n      }\n    }\n  }\n\n  return obj;\n};\n\n\n// Join array of chunks to single array.\nvar flattenChunks = (chunks) => {\n  // calculate data length\n  let len = 0;\n\n  for (let i = 0, l = chunks.length; i < l; i++) {\n    len += chunks[i].length;\n  }\n\n  // join chunks\n  const result = new Uint8Array(len);\n\n  for (let i = 0, pos = 0, l = chunks.length; i < l; i++) {\n    let chunk = chunks[i];\n    result.set(chunk, pos);\n    pos += chunk.length;\n  }\n\n  return result;\n};\n\nvar common = {\n\tassign: assign,\n\tflattenChunks: flattenChunks\n};\n\n// String encode/decode helpers\n\n\n// Quick check if we can use fast array to bin string conversion\n//\n// - apply(Array) can fail on Android 2.2\n// - apply(Uint8Array) can fail on iOS 5.1 Safari\n//\nlet STR_APPLY_UIA_OK = true;\n\ntry { String.fromCharCode.apply(null, new Uint8Array(1)); } catch (__) { STR_APPLY_UIA_OK = false; }\n\n\n// Table with utf8 lengths (calculated by first byte of sequence)\n// Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,\n// because max possible codepoint is 0x10ffff\nconst _utf8len = new Uint8Array(256);\nfor (let q = 0; q < 256; q++) {\n  _utf8len[q] = (q >= 252 ? 6 : q >= 248 ? 5 : q >= 240 ? 4 : q >= 224 ? 3 : q >= 192 ? 2 : 1);\n}\n_utf8len[254] = _utf8len[254] = 1; // Invalid sequence start\n\n\n// convert string to array (typed, when possible)\nvar string2buf = (str) => {\n  if (typeof TextEncoder === 'function' && TextEncoder.prototype.encode) {\n    return new TextEncoder().encode(str);\n  }\n\n  let buf, c, c2, m_pos, i, str_len = str.length, buf_len = 0;\n\n  // count binary size\n  for (m_pos = 0; m_pos < str_len; m_pos++) {\n    c = str.charCodeAt(m_pos);\n    if ((c & 0xfc00) === 0xd800 && (m_pos + 1 < str_len)) {\n      c2 = str.charCodeAt(m_pos + 1);\n      if ((c2 & 0xfc00) === 0xdc00) {\n        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n        m_pos++;\n      }\n    }\n    buf_len += c < 0x80 ? 1 : c < 0x800 ? 2 : c < 0x10000 ? 3 : 4;\n  }\n\n  // allocate buffer\n  buf = new Uint8Array(buf_len);\n\n  // convert\n  for (i = 0, m_pos = 0; i < buf_len; m_pos++) {\n    c = str.charCodeAt(m_pos);\n    if ((c & 0xfc00) === 0xd800 && (m_pos + 1 < str_len)) {\n      c2 = str.charCodeAt(m_pos + 1);\n      if ((c2 & 0xfc00) === 0xdc00) {\n        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n        m_pos++;\n      }\n    }\n    if (c < 0x80) {\n      /* one byte */\n      buf[i++] = c;\n    } else if (c < 0x800) {\n      /* two bytes */\n      buf[i++] = 0xC0 | (c >>> 6);\n      buf[i++] = 0x80 | (c & 0x3f);\n    } else if (c < 0x10000) {\n      /* three bytes */\n      buf[i++] = 0xE0 | (c >>> 12);\n      buf[i++] = 0x80 | (c >>> 6 & 0x3f);\n      buf[i++] = 0x80 | (c & 0x3f);\n    } else {\n      /* four bytes */\n      buf[i++] = 0xf0 | (c >>> 18);\n      buf[i++] = 0x80 | (c >>> 12 & 0x3f);\n      buf[i++] = 0x80 | (c >>> 6 & 0x3f);\n      buf[i++] = 0x80 | (c & 0x3f);\n    }\n  }\n\n  return buf;\n};\n\n// Helper\nconst buf2binstring = (buf, len) => {\n  // On Chrome, the arguments in a function call that are allowed is `65534`.\n  // If the length of the buffer is smaller than that, we can use this optimization,\n  // otherwise we will take a slower path.\n  if (len < 65534) {\n    if (buf.subarray && STR_APPLY_UIA_OK) {\n      return String.fromCharCode.apply(null, buf.length === len ? buf : buf.subarray(0, len));\n    }\n  }\n\n  let result = '';\n  for (let i = 0; i < len; i++) {\n    result += String.fromCharCode(buf[i]);\n  }\n  return result;\n};\n\n\n// convert array to string\nvar buf2string = (buf, max) => {\n  const len = max || buf.length;\n\n  if (typeof TextDecoder === 'function' && TextDecoder.prototype.decode) {\n    return new TextDecoder().decode(buf.subarray(0, max));\n  }\n\n  let i, out;\n\n  // Reserve max possible length (2 words per char)\n  // NB: by unknown reasons, Array is significantly faster for\n  //     String.fromCharCode.apply than Uint16Array.\n  const utf16buf = new Array(len * 2);\n\n  for (out = 0, i = 0; i < len;) {\n    let c = buf[i++];\n    // quick process ascii\n    if (c < 0x80) { utf16buf[out++] = c; continue; }\n\n    let c_len = _utf8len[c];\n    // skip 5 & 6 byte codes\n    if (c_len > 4) { utf16buf[out++] = 0xfffd; i += c_len - 1; continue; }\n\n    // apply mask on first byte\n    c &= c_len === 2 ? 0x1f : c_len === 3 ? 0x0f : 0x07;\n    // join the rest\n    while (c_len > 1 && i < len) {\n      c = (c << 6) | (buf[i++] & 0x3f);\n      c_len--;\n    }\n\n    // terminated by end of string?\n    if (c_len > 1) { utf16buf[out++] = 0xfffd; continue; }\n\n    if (c < 0x10000) {\n      utf16buf[out++] = c;\n    } else {\n      c -= 0x10000;\n      utf16buf[out++] = 0xd800 | ((c >> 10) & 0x3ff);\n      utf16buf[out++] = 0xdc00 | (c & 0x3ff);\n    }\n  }\n\n  return buf2binstring(utf16buf, out);\n};\n\n\n// Calculate max possible position in utf8 buffer,\n// that will not break sequence. If that's not possible\n// - (very small limits) return max size as is.\n//\n// buf[] - utf8 bytes array\n// max   - length limit (mandatory);\nvar utf8border = (buf, max) => {\n\n  max = max || buf.length;\n  if (max > buf.length) { max = buf.length; }\n\n  // go back from last position, until start of sequence found\n  let pos = max - 1;\n  while (pos >= 0 && (buf[pos] & 0xC0) === 0x80) { pos--; }\n\n  // Very small and broken sequence,\n  // return max, because we should return something anyway.\n  if (pos < 0) { return max; }\n\n  // If we came to start of buffer - that means buffer is too small,\n  // return max too.\n  if (pos === 0) { return max; }\n\n  return (pos + _utf8len[buf[pos]] > max) ? pos : max;\n};\n\nvar strings = {\n\tstring2buf: string2buf,\n\tbuf2string: buf2string,\n\tutf8border: utf8border\n};\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nfunction ZStream() {\n  /* next input byte */\n  this.input = null; // JS specific, because we have no pointers\n  this.next_in = 0;\n  /* number of bytes available at input */\n  this.avail_in = 0;\n  /* total number of input bytes read so far */\n  this.total_in = 0;\n  /* next output byte should be put there */\n  this.output = null; // JS specific, because we have no pointers\n  this.next_out = 0;\n  /* remaining free space at output */\n  this.avail_out = 0;\n  /* total number of bytes output so far */\n  this.total_out = 0;\n  /* last error message, NULL if no error */\n  this.msg = ''/*Z_NULL*/;\n  /* not visible by applications */\n  this.state = null;\n  /* best guess about the data type: binary or text */\n  this.data_type = 2/*Z_UNKNOWN*/;\n  /* adler32 value of the uncompressed data */\n  this.adler = 0;\n}\n\nvar zstream = ZStream;\n\nconst toString$1 = Object.prototype.toString;\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\nconst {\n  Z_NO_FLUSH: Z_NO_FLUSH$1, Z_SYNC_FLUSH, Z_FULL_FLUSH, Z_FINISH: Z_FINISH$2,\n  Z_OK: Z_OK$2, Z_STREAM_END: Z_STREAM_END$2,\n  Z_DEFAULT_COMPRESSION,\n  Z_DEFAULT_STRATEGY,\n  Z_DEFLATED: Z_DEFLATED$1\n} = constants$2;\n\n/* ===========================================================================*/\n\n\n/**\n * class Deflate\n *\n * Generic JS-style wrapper for zlib calls. If you don't need\n * streaming behaviour - use more simple functions: [[deflate]],\n * [[deflateRaw]] and [[gzip]].\n **/\n\n/* internal\n * Deflate.chunks -> Array\n *\n * Chunks of output data, if [[Deflate#onData]] not overridden.\n **/\n\n/**\n * Deflate.result -> Uint8Array\n *\n * Compressed result, generated by default [[Deflate#onData]]\n * and [[Deflate#onEnd]] handlers. Filled after you push last chunk\n * (call [[Deflate#push]] with `Z_FINISH` / `true` param).\n **/\n\n/**\n * Deflate.err -> Number\n *\n * Error code after deflate finished. 0 (Z_OK) on success.\n * You will not need it in real life, because deflate errors\n * are possible only on wrong options or bad `onData` / `onEnd`\n * custom handlers.\n **/\n\n/**\n * Deflate.msg -> String\n *\n * Error message, if [[Deflate.err]] != 0\n **/\n\n\n/**\n * new Deflate(options)\n * - options (Object): zlib deflate options.\n *\n * Creates new deflator instance with specified params. Throws exception\n * on bad params. Supported options:\n *\n * - `level`\n * - `windowBits`\n * - `memLevel`\n * - `strategy`\n * - `dictionary`\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information on these.\n *\n * Additional options, for internal needs:\n *\n * - `chunkSize` - size of generated data chunks (16K by default)\n * - `raw` (Boolean) - do raw deflate\n * - `gzip` (Boolean) - create gzip wrapper\n * - `header` (Object) - custom header for gzip\n *   - `text` (Boolean) - true if compressed data believed to be text\n *   - `time` (Number) - modification time, unix timestamp\n *   - `os` (Number) - operation system code\n *   - `extra` (Array) - array of bytes with extra data (max 65536)\n *   - `name` (String) - file name (binary string)\n *   - `comment` (String) - comment (binary string)\n *   - `hcrc` (Boolean) - true if header crc should be added\n *\n * ##### Example:\n *\n * ```javascript\n * const pako = require('pako')\n *   , chunk1 = new Uint8Array([1,2,3,4,5,6,7,8,9])\n *   , chunk2 = new Uint8Array([10,11,12,13,14,15,16,17,18,19]);\n *\n * const deflate = new pako.Deflate({ level: 3});\n *\n * deflate.push(chunk1, false);\n * deflate.push(chunk2, true);  // true -> last chunk\n *\n * if (deflate.err) { throw new Error(deflate.err); }\n *\n * console.log(deflate.result);\n * ```\n **/\nfunction Deflate$1(options) {\n  this.options = common.assign({\n    level: Z_DEFAULT_COMPRESSION,\n    method: Z_DEFLATED$1,\n    chunkSize: 16384,\n    windowBits: 15,\n    memLevel: 8,\n    strategy: Z_DEFAULT_STRATEGY\n  }, options || {});\n\n  let opt = this.options;\n\n  if (opt.raw && (opt.windowBits > 0)) {\n    opt.windowBits = -opt.windowBits;\n  }\n\n  else if (opt.gzip && (opt.windowBits > 0) && (opt.windowBits < 16)) {\n    opt.windowBits += 16;\n  }\n\n  this.err    = 0;      // error code, if happens (0 = Z_OK)\n  this.msg    = '';     // error message\n  this.ended  = false;  // used to avoid multiple onEnd() calls\n  this.chunks = [];     // chunks of compressed data\n\n  this.strm = new zstream();\n  this.strm.avail_out = 0;\n\n  let status = deflate_1$2.deflateInit2(\n    this.strm,\n    opt.level,\n    opt.method,\n    opt.windowBits,\n    opt.memLevel,\n    opt.strategy\n  );\n\n  if (status !== Z_OK$2) {\n    throw new Error(messages[status]);\n  }\n\n  if (opt.header) {\n    deflate_1$2.deflateSetHeader(this.strm, opt.header);\n  }\n\n  if (opt.dictionary) {\n    let dict;\n    // Convert data if needed\n    if (typeof opt.dictionary === 'string') {\n      // If we need to compress text, change encoding to utf8.\n      dict = strings.string2buf(opt.dictionary);\n    } else if (toString$1.call(opt.dictionary) === '[object ArrayBuffer]') {\n      dict = new Uint8Array(opt.dictionary);\n    } else {\n      dict = opt.dictionary;\n    }\n\n    status = deflate_1$2.deflateSetDictionary(this.strm, dict);\n\n    if (status !== Z_OK$2) {\n      throw new Error(messages[status]);\n    }\n\n    this._dict_set = true;\n  }\n}\n\n/**\n * Deflate#push(data[, flush_mode]) -> Boolean\n * - data (Uint8Array|ArrayBuffer|String): input data. Strings will be\n *   converted to utf8 byte sequence.\n * - flush_mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.\n *   See constants. Skipped or `false` means Z_NO_FLUSH, `true` means Z_FINISH.\n *\n * Sends input data to deflate pipe, generating [[Deflate#onData]] calls with\n * new compressed chunks. Returns `true` on success. The last data block must\n * have `flush_mode` Z_FINISH (or `true`). That will flush internal pending\n * buffers and call [[Deflate#onEnd]].\n *\n * On fail call [[Deflate#onEnd]] with error code and return false.\n *\n * ##### Example\n *\n * ```javascript\n * push(chunk, false); // push one of data chunks\n * ...\n * push(chunk, true);  // push last chunk\n * ```\n **/\nDeflate$1.prototype.push = function (data, flush_mode) {\n  const strm = this.strm;\n  const chunkSize = this.options.chunkSize;\n  let status, _flush_mode;\n\n  if (this.ended) { return false; }\n\n  if (flush_mode === ~~flush_mode) _flush_mode = flush_mode;\n  else _flush_mode = flush_mode === true ? Z_FINISH$2 : Z_NO_FLUSH$1;\n\n  // Convert data if needed\n  if (typeof data === 'string') {\n    // If we need to compress text, change encoding to utf8.\n    strm.input = strings.string2buf(data);\n  } else if (toString$1.call(data) === '[object ArrayBuffer]') {\n    strm.input = new Uint8Array(data);\n  } else {\n    strm.input = data;\n  }\n\n  strm.next_in = 0;\n  strm.avail_in = strm.input.length;\n\n  for (;;) {\n    if (strm.avail_out === 0) {\n      strm.output = new Uint8Array(chunkSize);\n      strm.next_out = 0;\n      strm.avail_out = chunkSize;\n    }\n\n    // Make sure avail_out > 6 to avoid repeating markers\n    if ((_flush_mode === Z_SYNC_FLUSH || _flush_mode === Z_FULL_FLUSH) && strm.avail_out <= 6) {\n      this.onData(strm.output.subarray(0, strm.next_out));\n      strm.avail_out = 0;\n      continue;\n    }\n\n    status = deflate_1$2.deflate(strm, _flush_mode);\n\n    // Ended => flush and finish\n    if (status === Z_STREAM_END$2) {\n      if (strm.next_out > 0) {\n        this.onData(strm.output.subarray(0, strm.next_out));\n      }\n      status = deflate_1$2.deflateEnd(this.strm);\n      this.onEnd(status);\n      this.ended = true;\n      return status === Z_OK$2;\n    }\n\n    // Flush if out buffer full\n    if (strm.avail_out === 0) {\n      this.onData(strm.output);\n      continue;\n    }\n\n    // Flush if requested and has data\n    if (_flush_mode > 0 && strm.next_out > 0) {\n      this.onData(strm.output.subarray(0, strm.next_out));\n      strm.avail_out = 0;\n      continue;\n    }\n\n    if (strm.avail_in === 0) break;\n  }\n\n  return true;\n};\n\n\n/**\n * Deflate#onData(chunk) -> Void\n * - chunk (Uint8Array): output data.\n *\n * By default, stores data blocks in `chunks[]` property and glue\n * those in `onEnd`. Override this handler, if you need another behaviour.\n **/\nDeflate$1.prototype.onData = function (chunk) {\n  this.chunks.push(chunk);\n};\n\n\n/**\n * Deflate#onEnd(status) -> Void\n * - status (Number): deflate status. 0 (Z_OK) on success,\n *   other if not.\n *\n * Called once after you tell deflate that the input stream is\n * complete (Z_FINISH). By default - join collected chunks,\n * free memory and fill `results` / `err` properties.\n **/\nDeflate$1.prototype.onEnd = function (status) {\n  // On success - join\n  if (status === Z_OK$2) {\n    this.result = common.flattenChunks(this.chunks);\n  }\n  this.chunks = [];\n  this.err = status;\n  this.msg = this.strm.msg;\n};\n\n\n/**\n * deflate(data[, options]) -> Uint8Array\n * - data (Uint8Array|ArrayBuffer|String): input data to compress.\n * - options (Object): zlib deflate options.\n *\n * Compress `data` with deflate algorithm and `options`.\n *\n * Supported options are:\n *\n * - level\n * - windowBits\n * - memLevel\n * - strategy\n * - dictionary\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information on these.\n *\n * Sugar (options):\n *\n * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify\n *   negative windowBits implicitly.\n *\n * ##### Example:\n *\n * ```javascript\n * const pako = require('pako')\n * const data = new Uint8Array([1,2,3,4,5,6,7,8,9]);\n *\n * console.log(pako.deflate(data));\n * ```\n **/\nfunction deflate$1(input, options) {\n  const deflator = new Deflate$1(options);\n\n  deflator.push(input, true);\n\n  // That will never happens, if you don't cheat with options :)\n  if (deflator.err) { throw deflator.msg || messages[deflator.err]; }\n\n  return deflator.result;\n}\n\n\n/**\n * deflateRaw(data[, options]) -> Uint8Array\n * - data (Uint8Array|ArrayBuffer|String): input data to compress.\n * - options (Object): zlib deflate options.\n *\n * The same as [[deflate]], but creates raw data, without wrapper\n * (header and adler32 crc).\n **/\nfunction deflateRaw$1(input, options) {\n  options = options || {};\n  options.raw = true;\n  return deflate$1(input, options);\n}\n\n\n/**\n * gzip(data[, options]) -> Uint8Array\n * - data (Uint8Array|ArrayBuffer|String): input data to compress.\n * - options (Object): zlib deflate options.\n *\n * The same as [[deflate]], but create gzip wrapper instead of\n * deflate one.\n **/\nfunction gzip$1(input, options) {\n  options = options || {};\n  options.gzip = true;\n  return deflate$1(input, options);\n}\n\n\nvar Deflate_1$1 = Deflate$1;\nvar deflate_2 = deflate$1;\nvar deflateRaw_1$1 = deflateRaw$1;\nvar gzip_1$1 = gzip$1;\nvar constants$1 = constants$2;\n\nvar deflate_1$1 = {\n\tDeflate: Deflate_1$1,\n\tdeflate: deflate_2,\n\tdeflateRaw: deflateRaw_1$1,\n\tgzip: gzip_1$1,\n\tconstants: constants$1\n};\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\n// See state defs from inflate.js\nconst BAD$1 = 16209;       /* got a data error -- remain here until reset */\nconst TYPE$1 = 16191;      /* i: waiting for type bits, including last-flag bit */\n\n/*\n   Decode literal, length, and distance codes and write out the resulting\n   literal and match bytes until either not enough input or output is\n   available, an end-of-block is encountered, or a data error is encountered.\n   When large enough input and output buffers are supplied to inflate(), for\n   example, a 16K input buffer and a 64K output buffer, more than 95% of the\n   inflate execution time is spent in this routine.\n\n   Entry assumptions:\n\n        state.mode === LEN\n        strm.avail_in >= 6\n        strm.avail_out >= 258\n        start >= strm.avail_out\n        state.bits < 8\n\n   On return, state.mode is one of:\n\n        LEN -- ran out of enough output space or enough available input\n        TYPE -- reached end of block code, inflate() to interpret next block\n        BAD -- error in block data\n\n   Notes:\n\n    - The maximum input bits used by a length/distance pair is 15 bits for the\n      length code, 5 bits for the length extra, 15 bits for the distance code,\n      and 13 bits for the distance extra.  This totals 48 bits, or six bytes.\n      Therefore if strm.avail_in >= 6, then there is enough input to avoid\n      checking for available input while decoding.\n\n    - The maximum bytes that a single length/distance pair can output is 258\n      bytes, which is the maximum length that can be coded.  inflate_fast()\n      requires strm.avail_out >= 258 for each loop to avoid checking for\n      output space.\n */\nvar inffast = function inflate_fast(strm, start) {\n  let _in;                    /* local strm.input */\n  let last;                   /* have enough input while in < last */\n  let _out;                   /* local strm.output */\n  let beg;                    /* inflate()'s initial strm.output */\n  let end;                    /* while out < end, enough space available */\n//#ifdef INFLATE_STRICT\n  let dmax;                   /* maximum distance from zlib header */\n//#endif\n  let wsize;                  /* window size or zero if not using window */\n  let whave;                  /* valid bytes in the window */\n  let wnext;                  /* window write index */\n  // Use `s_window` instead `window`, avoid conflict with instrumentation tools\n  let s_window;               /* allocated sliding window, if wsize != 0 */\n  let hold;                   /* local strm.hold */\n  let bits;                   /* local strm.bits */\n  let lcode;                  /* local strm.lencode */\n  let dcode;                  /* local strm.distcode */\n  let lmask;                  /* mask for first level of length codes */\n  let dmask;                  /* mask for first level of distance codes */\n  let here;                   /* retrieved table entry */\n  let op;                     /* code bits, operation, extra bits, or */\n                              /*  window position, window bytes to copy */\n  let len;                    /* match length, unused bytes */\n  let dist;                   /* match distance */\n  let from;                   /* where to copy match from */\n  let from_source;\n\n\n  let input, output; // JS specific, because we have no pointers\n\n  /* copy state to local variables */\n  const state = strm.state;\n  //here = state.here;\n  _in = strm.next_in;\n  input = strm.input;\n  last = _in + (strm.avail_in - 5);\n  _out = strm.next_out;\n  output = strm.output;\n  beg = _out - (start - strm.avail_out);\n  end = _out + (strm.avail_out - 257);\n//#ifdef INFLATE_STRICT\n  dmax = state.dmax;\n//#endif\n  wsize = state.wsize;\n  whave = state.whave;\n  wnext = state.wnext;\n  s_window = state.window;\n  hold = state.hold;\n  bits = state.bits;\n  lcode = state.lencode;\n  dcode = state.distcode;\n  lmask = (1 << state.lenbits) - 1;\n  dmask = (1 << state.distbits) - 1;\n\n\n  /* decode literals and length/distances until end-of-block or not enough\n     input data or output space */\n\n  top:\n  do {\n    if (bits < 15) {\n      hold += input[_in++] << bits;\n      bits += 8;\n      hold += input[_in++] << bits;\n      bits += 8;\n    }\n\n    here = lcode[hold & lmask];\n\n    dolen:\n    for (;;) { // Goto emulation\n      op = here >>> 24/*here.bits*/;\n      hold >>>= op;\n      bits -= op;\n      op = (here >>> 16) & 0xff/*here.op*/;\n      if (op === 0) {                          /* literal */\n        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n        //        \"inflate:         literal '%c'\\n\" :\n        //        \"inflate:         literal 0x%02x\\n\", here.val));\n        output[_out++] = here & 0xffff/*here.val*/;\n      }\n      else if (op & 16) {                     /* length base */\n        len = here & 0xffff/*here.val*/;\n        op &= 15;                           /* number of extra bits */\n        if (op) {\n          if (bits < op) {\n            hold += input[_in++] << bits;\n            bits += 8;\n          }\n          len += hold & ((1 << op) - 1);\n          hold >>>= op;\n          bits -= op;\n        }\n        //Tracevv((stderr, \"inflate:         length %u\\n\", len));\n        if (bits < 15) {\n          hold += input[_in++] << bits;\n          bits += 8;\n          hold += input[_in++] << bits;\n          bits += 8;\n        }\n        here = dcode[hold & dmask];\n\n        dodist:\n        for (;;) { // goto emulation\n          op = here >>> 24/*here.bits*/;\n          hold >>>= op;\n          bits -= op;\n          op = (here >>> 16) & 0xff/*here.op*/;\n\n          if (op & 16) {                      /* distance base */\n            dist = here & 0xffff/*here.val*/;\n            op &= 15;                       /* number of extra bits */\n            if (bits < op) {\n              hold += input[_in++] << bits;\n              bits += 8;\n              if (bits < op) {\n                hold += input[_in++] << bits;\n                bits += 8;\n              }\n            }\n            dist += hold & ((1 << op) - 1);\n//#ifdef INFLATE_STRICT\n            if (dist > dmax) {\n              strm.msg = 'invalid distance too far back';\n              state.mode = BAD$1;\n              break top;\n            }\n//#endif\n            hold >>>= op;\n            bits -= op;\n            //Tracevv((stderr, \"inflate:         distance %u\\n\", dist));\n            op = _out - beg;                /* max distance in output */\n            if (dist > op) {                /* see if copy from window */\n              op = dist - op;               /* distance back in window */\n              if (op > whave) {\n                if (state.sane) {\n                  strm.msg = 'invalid distance too far back';\n                  state.mode = BAD$1;\n                  break top;\n                }\n\n// (!) This block is disabled in zlib defaults,\n// don't enable it for binary compatibility\n//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n//                if (len <= op - whave) {\n//                  do {\n//                    output[_out++] = 0;\n//                  } while (--len);\n//                  continue top;\n//                }\n//                len -= op - whave;\n//                do {\n//                  output[_out++] = 0;\n//                } while (--op > whave);\n//                if (op === 0) {\n//                  from = _out - dist;\n//                  do {\n//                    output[_out++] = output[from++];\n//                  } while (--len);\n//                  continue top;\n//                }\n//#endif\n              }\n              from = 0; // window index\n              from_source = s_window;\n              if (wnext === 0) {           /* very common case */\n                from += wsize - op;\n                if (op < len) {         /* some from window */\n                  len -= op;\n                  do {\n                    output[_out++] = s_window[from++];\n                  } while (--op);\n                  from = _out - dist;  /* rest from output */\n                  from_source = output;\n                }\n              }\n              else if (wnext < op) {      /* wrap around window */\n                from += wsize + wnext - op;\n                op -= wnext;\n                if (op < len) {         /* some from end of window */\n                  len -= op;\n                  do {\n                    output[_out++] = s_window[from++];\n                  } while (--op);\n                  from = 0;\n                  if (wnext < len) {  /* some from start of window */\n                    op = wnext;\n                    len -= op;\n                    do {\n                      output[_out++] = s_window[from++];\n                    } while (--op);\n                    from = _out - dist;      /* rest from output */\n                    from_source = output;\n                  }\n                }\n              }\n              else {                      /* contiguous in window */\n                from += wnext - op;\n                if (op < len) {         /* some from window */\n                  len -= op;\n                  do {\n                    output[_out++] = s_window[from++];\n                  } while (--op);\n                  from = _out - dist;  /* rest from output */\n                  from_source = output;\n                }\n              }\n              while (len > 2) {\n                output[_out++] = from_source[from++];\n                output[_out++] = from_source[from++];\n                output[_out++] = from_source[from++];\n                len -= 3;\n              }\n              if (len) {\n                output[_out++] = from_source[from++];\n                if (len > 1) {\n                  output[_out++] = from_source[from++];\n                }\n              }\n            }\n            else {\n              from = _out - dist;          /* copy direct from output */\n              do {                        /* minimum length is three */\n                output[_out++] = output[from++];\n                output[_out++] = output[from++];\n                output[_out++] = output[from++];\n                len -= 3;\n              } while (len > 2);\n              if (len) {\n                output[_out++] = output[from++];\n                if (len > 1) {\n                  output[_out++] = output[from++];\n                }\n              }\n            }\n          }\n          else if ((op & 64) === 0) {          /* 2nd level distance code */\n            here = dcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];\n            continue dodist;\n          }\n          else {\n            strm.msg = 'invalid distance code';\n            state.mode = BAD$1;\n            break top;\n          }\n\n          break; // need to emulate goto via \"continue\"\n        }\n      }\n      else if ((op & 64) === 0) {              /* 2nd level length code */\n        here = lcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];\n        continue dolen;\n      }\n      else if (op & 32) {                     /* end-of-block */\n        //Tracevv((stderr, \"inflate:         end of block\\n\"));\n        state.mode = TYPE$1;\n        break top;\n      }\n      else {\n        strm.msg = 'invalid literal/length code';\n        state.mode = BAD$1;\n        break top;\n      }\n\n      break; // need to emulate goto via \"continue\"\n    }\n  } while (_in < last && _out < end);\n\n  /* return unused bytes (on entry, bits < 8, so in won't go too far back) */\n  len = bits >> 3;\n  _in -= len;\n  bits -= len << 3;\n  hold &= (1 << bits) - 1;\n\n  /* update state and return */\n  strm.next_in = _in;\n  strm.next_out = _out;\n  strm.avail_in = (_in < last ? 5 + (last - _in) : 5 - (_in - last));\n  strm.avail_out = (_out < end ? 257 + (end - _out) : 257 - (_out - end));\n  state.hold = hold;\n  state.bits = bits;\n  return;\n};\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nconst MAXBITS = 15;\nconst ENOUGH_LENS$1 = 852;\nconst ENOUGH_DISTS$1 = 592;\n//const ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);\n\nconst CODES$1 = 0;\nconst LENS$1 = 1;\nconst DISTS$1 = 2;\n\nconst lbase = new Uint16Array([ /* Length codes 257..285 base */\n  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,\n  35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0\n]);\n\nconst lext = new Uint8Array([ /* Length codes 257..285 extra */\n  16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,\n  19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78\n]);\n\nconst dbase = new Uint16Array([ /* Distance codes 0..29 base */\n  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,\n  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,\n  8193, 12289, 16385, 24577, 0, 0\n]);\n\nconst dext = new Uint8Array([ /* Distance codes 0..29 extra */\n  16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,\n  23, 23, 24, 24, 25, 25, 26, 26, 27, 27,\n  28, 28, 29, 29, 64, 64\n]);\n\nconst inflate_table = (type, lens, lens_index, codes, table, table_index, work, opts) =>\n{\n  const bits = opts.bits;\n      //here = opts.here; /* table entry for duplication */\n\n  let len = 0;               /* a code's length in bits */\n  let sym = 0;               /* index of code symbols */\n  let min = 0, max = 0;          /* minimum and maximum code lengths */\n  let root = 0;              /* number of index bits for root table */\n  let curr = 0;              /* number of index bits for current table */\n  let drop = 0;              /* code bits to drop for sub-table */\n  let left = 0;                   /* number of prefix codes available */\n  let used = 0;              /* code entries in table used */\n  let huff = 0;              /* Huffman code */\n  let incr;              /* for incrementing code, index */\n  let fill;              /* index for replicating entries */\n  let low;               /* low bits for current root entry */\n  let mask;              /* mask for low root bits */\n  let next;             /* next available space in table */\n  let base = null;     /* base value table to use */\n//  let shoextra;    /* extra bits table to use */\n  let match;                  /* use base and extra for symbol >= match */\n  const count = new Uint16Array(MAXBITS + 1); //[MAXBITS+1];    /* number of codes of each length */\n  const offs = new Uint16Array(MAXBITS + 1); //[MAXBITS+1];     /* offsets in table for each length */\n  let extra = null;\n\n  let here_bits, here_op, here_val;\n\n  /*\n   Process a set of code lengths to create a canonical Huffman code.  The\n   code lengths are lens[0..codes-1].  Each length corresponds to the\n   symbols 0..codes-1.  The Huffman code is generated by first sorting the\n   symbols by length from short to long, and retaining the symbol order\n   for codes with equal lengths.  Then the code starts with all zero bits\n   for the first code of the shortest length, and the codes are integer\n   increments for the same length, and zeros are appended as the length\n   increases.  For the deflate format, these bits are stored backwards\n   from their more natural integer increment ordering, and so when the\n   decoding tables are built in the large loop below, the integer codes\n   are incremented backwards.\n\n   This routine assumes, but does not check, that all of the entries in\n   lens[] are in the range 0..MAXBITS.  The caller must assure this.\n   1..MAXBITS is interpreted as that code length.  zero means that that\n   symbol does not occur in this code.\n\n   The codes are sorted by computing a count of codes for each length,\n   creating from that a table of starting indices for each length in the\n   sorted table, and then entering the symbols in order in the sorted\n   table.  The sorted table is work[], with that space being provided by\n   the caller.\n\n   The length counts are used for other purposes as well, i.e. finding\n   the minimum and maximum length codes, determining if there are any\n   codes at all, checking for a valid set of lengths, and looking ahead\n   at length counts to determine sub-table sizes when building the\n   decoding tables.\n   */\n\n  /* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */\n  for (len = 0; len <= MAXBITS; len++) {\n    count[len] = 0;\n  }\n  for (sym = 0; sym < codes; sym++) {\n    count[lens[lens_index + sym]]++;\n  }\n\n  /* bound code lengths, force root to be within code lengths */\n  root = bits;\n  for (max = MAXBITS; max >= 1; max--) {\n    if (count[max] !== 0) { break; }\n  }\n  if (root > max) {\n    root = max;\n  }\n  if (max === 0) {                     /* no symbols to code at all */\n    //table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */\n    //table.bits[opts.table_index] = 1;   //here.bits = (var char)1;\n    //table.val[opts.table_index++] = 0;   //here.val = (var short)0;\n    table[table_index++] = (1 << 24) | (64 << 16) | 0;\n\n\n    //table.op[opts.table_index] = 64;\n    //table.bits[opts.table_index] = 1;\n    //table.val[opts.table_index++] = 0;\n    table[table_index++] = (1 << 24) | (64 << 16) | 0;\n\n    opts.bits = 1;\n    return 0;     /* no symbols, but wait for decoding to report error */\n  }\n  for (min = 1; min < max; min++) {\n    if (count[min] !== 0) { break; }\n  }\n  if (root < min) {\n    root = min;\n  }\n\n  /* check for an over-subscribed or incomplete set of lengths */\n  left = 1;\n  for (len = 1; len <= MAXBITS; len++) {\n    left <<= 1;\n    left -= count[len];\n    if (left < 0) {\n      return -1;\n    }        /* over-subscribed */\n  }\n  if (left > 0 && (type === CODES$1 || max !== 1)) {\n    return -1;                      /* incomplete set */\n  }\n\n  /* generate offsets into symbol table for each length for sorting */\n  offs[1] = 0;\n  for (len = 1; len < MAXBITS; len++) {\n    offs[len + 1] = offs[len] + count[len];\n  }\n\n  /* sort symbols by length, by symbol order within each length */\n  for (sym = 0; sym < codes; sym++) {\n    if (lens[lens_index + sym] !== 0) {\n      work[offs[lens[lens_index + sym]]++] = sym;\n    }\n  }\n\n  /*\n   Create and fill in decoding tables.  In this loop, the table being\n   filled is at next and has curr index bits.  The code being used is huff\n   with length len.  That code is converted to an index by dropping drop\n   bits off of the bottom.  For codes where len is less than drop + curr,\n   those top drop + curr - len bits are incremented through all values to\n   fill the table with replicated entries.\n\n   root is the number of index bits for the root table.  When len exceeds\n   root, sub-tables are created pointed to by the root entry with an index\n   of the low root bits of huff.  This is saved in low to check for when a\n   new sub-table should be started.  drop is zero when the root table is\n   being filled, and drop is root when sub-tables are being filled.\n\n   When a new sub-table is needed, it is necessary to look ahead in the\n   code lengths to determine what size sub-table is needed.  The length\n   counts are used for this, and so count[] is decremented as codes are\n   entered in the tables.\n\n   used keeps track of how many table entries have been allocated from the\n   provided *table space.  It is checked for LENS and DIST tables against\n   the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in\n   the initial root table size constants.  See the comments in inftrees.h\n   for more information.\n\n   sym increments through all symbols, and the loop terminates when\n   all codes of length max, i.e. all codes, have been processed.  This\n   routine permits incomplete codes, so another loop after this one fills\n   in the rest of the decoding tables with invalid code markers.\n   */\n\n  /* set up for code type */\n  // poor man optimization - use if-else instead of switch,\n  // to avoid deopts in old v8\n  if (type === CODES$1) {\n    base = extra = work;    /* dummy value--not used */\n    match = 20;\n\n  } else if (type === LENS$1) {\n    base = lbase;\n    extra = lext;\n    match = 257;\n\n  } else {                    /* DISTS */\n    base = dbase;\n    extra = dext;\n    match = 0;\n  }\n\n  /* initialize opts for loop */\n  huff = 0;                   /* starting code */\n  sym = 0;                    /* starting code symbol */\n  len = min;                  /* starting code length */\n  next = table_index;              /* current table to fill in */\n  curr = root;                /* current table index bits */\n  drop = 0;                   /* current bits to drop from code for index */\n  low = -1;                   /* trigger new sub-table when len > root */\n  used = 1 << root;          /* use root table entries */\n  mask = used - 1;            /* mask for comparing low */\n\n  /* check available table space */\n  if ((type === LENS$1 && used > ENOUGH_LENS$1) ||\n    (type === DISTS$1 && used > ENOUGH_DISTS$1)) {\n    return 1;\n  }\n\n  /* process all codes and make table entries */\n  for (;;) {\n    /* create table entry */\n    here_bits = len - drop;\n    if (work[sym] + 1 < match) {\n      here_op = 0;\n      here_val = work[sym];\n    }\n    else if (work[sym] >= match) {\n      here_op = extra[work[sym] - match];\n      here_val = base[work[sym] - match];\n    }\n    else {\n      here_op = 32 + 64;         /* end of block */\n      here_val = 0;\n    }\n\n    /* replicate for those indices with low len bits equal to huff */\n    incr = 1 << (len - drop);\n    fill = 1 << curr;\n    min = fill;                 /* save offset to next table */\n    do {\n      fill -= incr;\n      table[next + (huff >> drop) + fill] = (here_bits << 24) | (here_op << 16) | here_val |0;\n    } while (fill !== 0);\n\n    /* backwards increment the len-bit code huff */\n    incr = 1 << (len - 1);\n    while (huff & incr) {\n      incr >>= 1;\n    }\n    if (incr !== 0) {\n      huff &= incr - 1;\n      huff += incr;\n    } else {\n      huff = 0;\n    }\n\n    /* go to next symbol, update count, len */\n    sym++;\n    if (--count[len] === 0) {\n      if (len === max) { break; }\n      len = lens[lens_index + work[sym]];\n    }\n\n    /* create new sub-table if needed */\n    if (len > root && (huff & mask) !== low) {\n      /* if first time, transition to sub-tables */\n      if (drop === 0) {\n        drop = root;\n      }\n\n      /* increment past last table */\n      next += min;            /* here min is 1 << curr */\n\n      /* determine length of next table */\n      curr = len - drop;\n      left = 1 << curr;\n      while (curr + drop < max) {\n        left -= count[curr + drop];\n        if (left <= 0) { break; }\n        curr++;\n        left <<= 1;\n      }\n\n      /* check for enough space */\n      used += 1 << curr;\n      if ((type === LENS$1 && used > ENOUGH_LENS$1) ||\n        (type === DISTS$1 && used > ENOUGH_DISTS$1)) {\n        return 1;\n      }\n\n      /* point entry in root table to sub-table */\n      low = huff & mask;\n      /*table.op[low] = curr;\n      table.bits[low] = root;\n      table.val[low] = next - opts.table_index;*/\n      table[low] = (root << 24) | (curr << 16) | (next - table_index) |0;\n    }\n  }\n\n  /* fill in remaining table entry if code is incomplete (guaranteed to have\n   at most one remaining entry, since if the code is incomplete, the\n   maximum code length that was allowed to get this far is one bit) */\n  if (huff !== 0) {\n    //table.op[next + huff] = 64;            /* invalid code marker */\n    //table.bits[next + huff] = len - drop;\n    //table.val[next + huff] = 0;\n    table[next + huff] = ((len - drop) << 24) | (64 << 16) |0;\n  }\n\n  /* set return parameters */\n  //opts.table_index += used;\n  opts.bits = root;\n  return 0;\n};\n\n\nvar inftrees = inflate_table;\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\n\n\n\n\n\nconst CODES = 0;\nconst LENS = 1;\nconst DISTS = 2;\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\nconst {\n  Z_FINISH: Z_FINISH$1, Z_BLOCK, Z_TREES,\n  Z_OK: Z_OK$1, Z_STREAM_END: Z_STREAM_END$1, Z_NEED_DICT: Z_NEED_DICT$1, Z_STREAM_ERROR: Z_STREAM_ERROR$1, Z_DATA_ERROR: Z_DATA_ERROR$1, Z_MEM_ERROR: Z_MEM_ERROR$1, Z_BUF_ERROR,\n  Z_DEFLATED\n} = constants$2;\n\n\n/* STATES ====================================================================*/\n/* ===========================================================================*/\n\n\nconst    HEAD = 16180;       /* i: waiting for magic header */\nconst    FLAGS = 16181;      /* i: waiting for method and flags (gzip) */\nconst    TIME = 16182;       /* i: waiting for modification time (gzip) */\nconst    OS = 16183;         /* i: waiting for extra flags and operating system (gzip) */\nconst    EXLEN = 16184;      /* i: waiting for extra length (gzip) */\nconst    EXTRA = 16185;      /* i: waiting for extra bytes (gzip) */\nconst    NAME = 16186;       /* i: waiting for end of file name (gzip) */\nconst    COMMENT = 16187;    /* i: waiting for end of comment (gzip) */\nconst    HCRC = 16188;       /* i: waiting for header crc (gzip) */\nconst    DICTID = 16189;    /* i: waiting for dictionary check value */\nconst    DICT = 16190;      /* waiting for inflateSetDictionary() call */\nconst        TYPE = 16191;      /* i: waiting for type bits, including last-flag bit */\nconst        TYPEDO = 16192;    /* i: same, but skip check to exit inflate on new block */\nconst        STORED = 16193;    /* i: waiting for stored size (length and complement) */\nconst        COPY_ = 16194;     /* i/o: same as COPY below, but only first time in */\nconst        COPY = 16195;      /* i/o: waiting for input or output to copy stored block */\nconst        TABLE = 16196;     /* i: waiting for dynamic block table lengths */\nconst        LENLENS = 16197;   /* i: waiting for code length code lengths */\nconst        CODELENS = 16198;  /* i: waiting for length/lit and distance code lengths */\nconst            LEN_ = 16199;      /* i: same as LEN below, but only first time in */\nconst            LEN = 16200;       /* i: waiting for length/lit/eob code */\nconst            LENEXT = 16201;    /* i: waiting for length extra bits */\nconst            DIST = 16202;      /* i: waiting for distance code */\nconst            DISTEXT = 16203;   /* i: waiting for distance extra bits */\nconst            MATCH = 16204;     /* o: waiting for output space to copy string */\nconst            LIT = 16205;       /* o: waiting for output space to write literal */\nconst    CHECK = 16206;     /* i: waiting for 32-bit check value */\nconst    LENGTH = 16207;    /* i: waiting for 32-bit length (gzip) */\nconst    DONE = 16208;      /* finished check, done -- remain here until reset */\nconst    BAD = 16209;       /* got a data error -- remain here until reset */\nconst    MEM = 16210;       /* got an inflate() memory error -- remain here until reset */\nconst    SYNC = 16211;      /* looking for synchronization bytes to restart inflate() */\n\n/* ===========================================================================*/\n\n\n\nconst ENOUGH_LENS = 852;\nconst ENOUGH_DISTS = 592;\n//const ENOUGH =  (ENOUGH_LENS+ENOUGH_DISTS);\n\nconst MAX_WBITS = 15;\n/* 32K LZ77 window */\nconst DEF_WBITS = MAX_WBITS;\n\n\nconst zswap32 = (q) => {\n\n  return  (((q >>> 24) & 0xff) +\n          ((q >>> 8) & 0xff00) +\n          ((q & 0xff00) << 8) +\n          ((q & 0xff) << 24));\n};\n\n\nfunction InflateState() {\n  this.strm = null;           /* pointer back to this zlib stream */\n  this.mode = 0;              /* current inflate mode */\n  this.last = false;          /* true if processing last block */\n  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip,\n                                 bit 2 true to validate check value */\n  this.havedict = false;      /* true if dictionary provided */\n  this.flags = 0;             /* gzip header method and flags (0 if zlib), or\n                                 -1 if raw or no header yet */\n  this.dmax = 0;              /* zlib header max distance (INFLATE_STRICT) */\n  this.check = 0;             /* protected copy of check value */\n  this.total = 0;             /* protected copy of output count */\n  // TODO: may be {}\n  this.head = null;           /* where to save gzip header information */\n\n  /* sliding window */\n  this.wbits = 0;             /* log base 2 of requested window size */\n  this.wsize = 0;             /* window size or zero if not using window */\n  this.whave = 0;             /* valid bytes in the window */\n  this.wnext = 0;             /* window write index */\n  this.window = null;         /* allocated sliding window, if needed */\n\n  /* bit accumulator */\n  this.hold = 0;              /* input bit accumulator */\n  this.bits = 0;              /* number of bits in \"in\" */\n\n  /* for string and stored block copying */\n  this.length = 0;            /* literal or length of data to copy */\n  this.offset = 0;            /* distance back to copy string from */\n\n  /* for table and code decoding */\n  this.extra = 0;             /* extra bits needed */\n\n  /* fixed and dynamic code tables */\n  this.lencode = null;          /* starting table for length/literal codes */\n  this.distcode = null;         /* starting table for distance codes */\n  this.lenbits = 0;           /* index bits for lencode */\n  this.distbits = 0;          /* index bits for distcode */\n\n  /* dynamic table building */\n  this.ncode = 0;             /* number of code length code lengths */\n  this.nlen = 0;              /* number of length code lengths */\n  this.ndist = 0;             /* number of distance code lengths */\n  this.have = 0;              /* number of code lengths in lens[] */\n  this.next = null;              /* next available space in codes[] */\n\n  this.lens = new Uint16Array(320); /* temporary storage for code lengths */\n  this.work = new Uint16Array(288); /* work area for code table building */\n\n  /*\n   because we don't have pointers in js, we use lencode and distcode directly\n   as buffers so we don't need codes\n  */\n  //this.codes = new Int32Array(ENOUGH);       /* space for code tables */\n  this.lendyn = null;              /* dynamic table for length/literal codes (JS specific) */\n  this.distdyn = null;             /* dynamic table for distance codes (JS specific) */\n  this.sane = 0;                   /* if false, allow invalid distance too far */\n  this.back = 0;                   /* bits back of last unprocessed length/lit */\n  this.was = 0;                    /* initial length of match */\n}\n\n\nconst inflateStateCheck = (strm) => {\n\n  if (!strm) {\n    return 1;\n  }\n  const state = strm.state;\n  if (!state || state.strm !== strm ||\n    state.mode < HEAD || state.mode > SYNC) {\n    return 1;\n  }\n  return 0;\n};\n\n\nconst inflateResetKeep = (strm) => {\n\n  if (inflateStateCheck(strm)) { return Z_STREAM_ERROR$1; }\n  const state = strm.state;\n  strm.total_in = strm.total_out = state.total = 0;\n  strm.msg = ''; /*Z_NULL*/\n  if (state.wrap) {       /* to support ill-conceived Java test suite */\n    strm.adler = state.wrap & 1;\n  }\n  state.mode = HEAD;\n  state.last = 0;\n  state.havedict = 0;\n  state.flags = -1;\n  state.dmax = 32768;\n  state.head = null/*Z_NULL*/;\n  state.hold = 0;\n  state.bits = 0;\n  //state.lencode = state.distcode = state.next = state.codes;\n  state.lencode = state.lendyn = new Int32Array(ENOUGH_LENS);\n  state.distcode = state.distdyn = new Int32Array(ENOUGH_DISTS);\n\n  state.sane = 1;\n  state.back = -1;\n  //Tracev((stderr, \"inflate: reset\\n\"));\n  return Z_OK$1;\n};\n\n\nconst inflateReset = (strm) => {\n\n  if (inflateStateCheck(strm)) { return Z_STREAM_ERROR$1; }\n  const state = strm.state;\n  state.wsize = 0;\n  state.whave = 0;\n  state.wnext = 0;\n  return inflateResetKeep(strm);\n\n};\n\n\nconst inflateReset2 = (strm, windowBits) => {\n  let wrap;\n\n  /* get the state */\n  if (inflateStateCheck(strm)) { return Z_STREAM_ERROR$1; }\n  const state = strm.state;\n\n  /* extract wrap request from windowBits parameter */\n  if (windowBits < 0) {\n    wrap = 0;\n    windowBits = -windowBits;\n  }\n  else {\n    wrap = (windowBits >> 4) + 5;\n    if (windowBits < 48) {\n      windowBits &= 15;\n    }\n  }\n\n  /* set number of window bits, free window if different */\n  if (windowBits && (windowBits < 8 || windowBits > 15)) {\n    return Z_STREAM_ERROR$1;\n  }\n  if (state.window !== null && state.wbits !== windowBits) {\n    state.window = null;\n  }\n\n  /* update state and reset the rest of it */\n  state.wrap = wrap;\n  state.wbits = windowBits;\n  return inflateReset(strm);\n};\n\n\nconst inflateInit2 = (strm, windowBits) => {\n\n  if (!strm) { return Z_STREAM_ERROR$1; }\n  //strm.msg = Z_NULL;                 /* in case we return an error */\n\n  const state = new InflateState();\n\n  //if (state === Z_NULL) return Z_MEM_ERROR;\n  //Tracev((stderr, \"inflate: allocated\\n\"));\n  strm.state = state;\n  state.strm = strm;\n  state.window = null/*Z_NULL*/;\n  state.mode = HEAD;     /* to pass state test in inflateReset2() */\n  const ret = inflateReset2(strm, windowBits);\n  if (ret !== Z_OK$1) {\n    strm.state = null/*Z_NULL*/;\n  }\n  return ret;\n};\n\n\nconst inflateInit = (strm) => {\n\n  return inflateInit2(strm, DEF_WBITS);\n};\n\n\n/*\n Return state with length and distance decoding tables and index sizes set to\n fixed code decoding.  Normally this returns fixed tables from inffixed.h.\n If BUILDFIXED is defined, then instead this routine builds the tables the\n first time it's called, and returns those tables the first time and\n thereafter.  This reduces the size of the code by about 2K bytes, in\n exchange for a little execution time.  However, BUILDFIXED should not be\n used for threaded applications, since the rewriting of the tables and virgin\n may not be thread-safe.\n */\nlet virgin = true;\n\nlet lenfix, distfix; // We have no pointers in JS, so keep tables separate\n\n\nconst fixedtables = (state) => {\n\n  /* build fixed huffman tables if first call (may not be thread safe) */\n  if (virgin) {\n    lenfix = new Int32Array(512);\n    distfix = new Int32Array(32);\n\n    /* literal/length table */\n    let sym = 0;\n    while (sym < 144) { state.lens[sym++] = 8; }\n    while (sym < 256) { state.lens[sym++] = 9; }\n    while (sym < 280) { state.lens[sym++] = 7; }\n    while (sym < 288) { state.lens[sym++] = 8; }\n\n    inftrees(LENS,  state.lens, 0, 288, lenfix,   0, state.work, { bits: 9 });\n\n    /* distance table */\n    sym = 0;\n    while (sym < 32) { state.lens[sym++] = 5; }\n\n    inftrees(DISTS, state.lens, 0, 32,   distfix, 0, state.work, { bits: 5 });\n\n    /* do this just once */\n    virgin = false;\n  }\n\n  state.lencode = lenfix;\n  state.lenbits = 9;\n  state.distcode = distfix;\n  state.distbits = 5;\n};\n\n\n/*\n Update the window with the last wsize (normally 32K) bytes written before\n returning.  If window does not exist yet, create it.  This is only called\n when a window is already in use, or when output has been written during this\n inflate call, but the end of the deflate stream has not been reached yet.\n It is also called to create a window for dictionary data when a dictionary\n is loaded.\n\n Providing output buffers larger than 32K to inflate() should provide a speed\n advantage, since only the last 32K of output is copied to the sliding window\n upon return from inflate(), and since all distances after the first 32K of\n output will fall in the output data, making match copies simpler and faster.\n The advantage may be dependent on the size of the processor's data caches.\n */\nconst updatewindow = (strm, src, end, copy) => {\n\n  let dist;\n  const state = strm.state;\n\n  /* if it hasn't been done already, allocate space for the window */\n  if (state.window === null) {\n    state.wsize = 1 << state.wbits;\n    state.wnext = 0;\n    state.whave = 0;\n\n    state.window = new Uint8Array(state.wsize);\n  }\n\n  /* copy state->wsize or less output bytes into the circular window */\n  if (copy >= state.wsize) {\n    state.window.set(src.subarray(end - state.wsize, end), 0);\n    state.wnext = 0;\n    state.whave = state.wsize;\n  }\n  else {\n    dist = state.wsize - state.wnext;\n    if (dist > copy) {\n      dist = copy;\n    }\n    //zmemcpy(state->window + state->wnext, end - copy, dist);\n    state.window.set(src.subarray(end - copy, end - copy + dist), state.wnext);\n    copy -= dist;\n    if (copy) {\n      //zmemcpy(state->window, end - copy, copy);\n      state.window.set(src.subarray(end - copy, end), 0);\n      state.wnext = copy;\n      state.whave = state.wsize;\n    }\n    else {\n      state.wnext += dist;\n      if (state.wnext === state.wsize) { state.wnext = 0; }\n      if (state.whave < state.wsize) { state.whave += dist; }\n    }\n  }\n  return 0;\n};\n\n\nconst inflate$2 = (strm, flush) => {\n\n  let state;\n  let input, output;          // input/output buffers\n  let next;                   /* next input INDEX */\n  let put;                    /* next output INDEX */\n  let have, left;             /* available input and output */\n  let hold;                   /* bit buffer */\n  let bits;                   /* bits in bit buffer */\n  let _in, _out;              /* save starting available input and output */\n  let copy;                   /* number of stored or match bytes to copy */\n  let from;                   /* where to copy match bytes from */\n  let from_source;\n  let here = 0;               /* current decoding table entry */\n  let here_bits, here_op, here_val; // paked \"here\" denormalized (JS specific)\n  //let last;                   /* parent table entry */\n  let last_bits, last_op, last_val; // paked \"last\" denormalized (JS specific)\n  let len;                    /* length to copy for repeats, bits to drop */\n  let ret;                    /* return code */\n  const hbuf = new Uint8Array(4);    /* buffer for gzip header crc calculation */\n  let opts;\n\n  let n; // temporary variable for NEED_BITS\n\n  const order = /* permutation of code lengths */\n    new Uint8Array([ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ]);\n\n\n  if (inflateStateCheck(strm) || !strm.output ||\n      (!strm.input && strm.avail_in !== 0)) {\n    return Z_STREAM_ERROR$1;\n  }\n\n  state = strm.state;\n  if (state.mode === TYPE) { state.mode = TYPEDO; }    /* skip check */\n\n\n  //--- LOAD() ---\n  put = strm.next_out;\n  output = strm.output;\n  left = strm.avail_out;\n  next = strm.next_in;\n  input = strm.input;\n  have = strm.avail_in;\n  hold = state.hold;\n  bits = state.bits;\n  //---\n\n  _in = have;\n  _out = left;\n  ret = Z_OK$1;\n\n  inf_leave: // goto emulation\n  for (;;) {\n    switch (state.mode) {\n      case HEAD:\n        if (state.wrap === 0) {\n          state.mode = TYPEDO;\n          break;\n        }\n        //=== NEEDBITS(16);\n        while (bits < 16) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if ((state.wrap & 2) && hold === 0x8b1f) {  /* gzip header */\n          if (state.wbits === 0) {\n            state.wbits = 15;\n          }\n          state.check = 0/*crc32(0L, Z_NULL, 0)*/;\n          //=== CRC2(state.check, hold);\n          hbuf[0] = hold & 0xff;\n          hbuf[1] = (hold >>> 8) & 0xff;\n          state.check = crc32_1(state.check, hbuf, 2, 0);\n          //===//\n\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n          state.mode = FLAGS;\n          break;\n        }\n        if (state.head) {\n          state.head.done = false;\n        }\n        if (!(state.wrap & 1) ||   /* check if zlib header allowed */\n          (((hold & 0xff)/*BITS(8)*/ << 8) + (hold >> 8)) % 31) {\n          strm.msg = 'incorrect header check';\n          state.mode = BAD;\n          break;\n        }\n        if ((hold & 0x0f)/*BITS(4)*/ !== Z_DEFLATED) {\n          strm.msg = 'unknown compression method';\n          state.mode = BAD;\n          break;\n        }\n        //--- DROPBITS(4) ---//\n        hold >>>= 4;\n        bits -= 4;\n        //---//\n        len = (hold & 0x0f)/*BITS(4)*/ + 8;\n        if (state.wbits === 0) {\n          state.wbits = len;\n        }\n        if (len > 15 || len > state.wbits) {\n          strm.msg = 'invalid window size';\n          state.mode = BAD;\n          break;\n        }\n\n        // !!! pako patch. Force use `options.windowBits` if passed.\n        // Required to always use max window size by default.\n        state.dmax = 1 << state.wbits;\n        //state.dmax = 1 << len;\n\n        state.flags = 0;               /* indicate zlib header */\n        //Tracev((stderr, \"inflate:   zlib header ok\\n\"));\n        strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;\n        state.mode = hold & 0x200 ? DICTID : TYPE;\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        break;\n      case FLAGS:\n        //=== NEEDBITS(16); */\n        while (bits < 16) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.flags = hold;\n        if ((state.flags & 0xff) !== Z_DEFLATED) {\n          strm.msg = 'unknown compression method';\n          state.mode = BAD;\n          break;\n        }\n        if (state.flags & 0xe000) {\n          strm.msg = 'unknown header flags set';\n          state.mode = BAD;\n          break;\n        }\n        if (state.head) {\n          state.head.text = ((hold >> 8) & 1);\n        }\n        if ((state.flags & 0x0200) && (state.wrap & 4)) {\n          //=== CRC2(state.check, hold);\n          hbuf[0] = hold & 0xff;\n          hbuf[1] = (hold >>> 8) & 0xff;\n          state.check = crc32_1(state.check, hbuf, 2, 0);\n          //===//\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = TIME;\n        /* falls through */\n      case TIME:\n        //=== NEEDBITS(32); */\n        while (bits < 32) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if (state.head) {\n          state.head.time = hold;\n        }\n        if ((state.flags & 0x0200) && (state.wrap & 4)) {\n          //=== CRC4(state.check, hold)\n          hbuf[0] = hold & 0xff;\n          hbuf[1] = (hold >>> 8) & 0xff;\n          hbuf[2] = (hold >>> 16) & 0xff;\n          hbuf[3] = (hold >>> 24) & 0xff;\n          state.check = crc32_1(state.check, hbuf, 4, 0);\n          //===\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = OS;\n        /* falls through */\n      case OS:\n        //=== NEEDBITS(16); */\n        while (bits < 16) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if (state.head) {\n          state.head.xflags = (hold & 0xff);\n          state.head.os = (hold >> 8);\n        }\n        if ((state.flags & 0x0200) && (state.wrap & 4)) {\n          //=== CRC2(state.check, hold);\n          hbuf[0] = hold & 0xff;\n          hbuf[1] = (hold >>> 8) & 0xff;\n          state.check = crc32_1(state.check, hbuf, 2, 0);\n          //===//\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = EXLEN;\n        /* falls through */\n      case EXLEN:\n        if (state.flags & 0x0400) {\n          //=== NEEDBITS(16); */\n          while (bits < 16) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          state.length = hold;\n          if (state.head) {\n            state.head.extra_len = hold;\n          }\n          if ((state.flags & 0x0200) && (state.wrap & 4)) {\n            //=== CRC2(state.check, hold);\n            hbuf[0] = hold & 0xff;\n            hbuf[1] = (hold >>> 8) & 0xff;\n            state.check = crc32_1(state.check, hbuf, 2, 0);\n            //===//\n          }\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n        }\n        else if (state.head) {\n          state.head.extra = null/*Z_NULL*/;\n        }\n        state.mode = EXTRA;\n        /* falls through */\n      case EXTRA:\n        if (state.flags & 0x0400) {\n          copy = state.length;\n          if (copy > have) { copy = have; }\n          if (copy) {\n            if (state.head) {\n              len = state.head.extra_len - state.length;\n              if (!state.head.extra) {\n                // Use untyped array for more convenient processing later\n                state.head.extra = new Uint8Array(state.head.extra_len);\n              }\n              state.head.extra.set(\n                input.subarray(\n                  next,\n                  // extra field is limited to 65536 bytes\n                  // - no need for additional size check\n                  next + copy\n                ),\n                /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/\n                len\n              );\n              //zmemcpy(state.head.extra + len, next,\n              //        len + copy > state.head.extra_max ?\n              //        state.head.extra_max - len : copy);\n            }\n            if ((state.flags & 0x0200) && (state.wrap & 4)) {\n              state.check = crc32_1(state.check, input, copy, next);\n            }\n            have -= copy;\n            next += copy;\n            state.length -= copy;\n          }\n          if (state.length) { break inf_leave; }\n        }\n        state.length = 0;\n        state.mode = NAME;\n        /* falls through */\n      case NAME:\n        if (state.flags & 0x0800) {\n          if (have === 0) { break inf_leave; }\n          copy = 0;\n          do {\n            // TODO: 2 or 1 bytes?\n            len = input[next + copy++];\n            /* use constant limit because in js we should not preallocate memory */\n            if (state.head && len &&\n                (state.length < 65536 /*state.head.name_max*/)) {\n              state.head.name += String.fromCharCode(len);\n            }\n          } while (len && copy < have);\n\n          if ((state.flags & 0x0200) && (state.wrap & 4)) {\n            state.check = crc32_1(state.check, input, copy, next);\n          }\n          have -= copy;\n          next += copy;\n          if (len) { break inf_leave; }\n        }\n        else if (state.head) {\n          state.head.name = null;\n        }\n        state.length = 0;\n        state.mode = COMMENT;\n        /* falls through */\n      case COMMENT:\n        if (state.flags & 0x1000) {\n          if (have === 0) { break inf_leave; }\n          copy = 0;\n          do {\n            len = input[next + copy++];\n            /* use constant limit because in js we should not preallocate memory */\n            if (state.head && len &&\n                (state.length < 65536 /*state.head.comm_max*/)) {\n              state.head.comment += String.fromCharCode(len);\n            }\n          } while (len && copy < have);\n          if ((state.flags & 0x0200) && (state.wrap & 4)) {\n            state.check = crc32_1(state.check, input, copy, next);\n          }\n          have -= copy;\n          next += copy;\n          if (len) { break inf_leave; }\n        }\n        else if (state.head) {\n          state.head.comment = null;\n        }\n        state.mode = HCRC;\n        /* falls through */\n      case HCRC:\n        if (state.flags & 0x0200) {\n          //=== NEEDBITS(16); */\n          while (bits < 16) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          if ((state.wrap & 4) && hold !== (state.check & 0xffff)) {\n            strm.msg = 'header crc mismatch';\n            state.mode = BAD;\n            break;\n          }\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n        }\n        if (state.head) {\n          state.head.hcrc = ((state.flags >> 9) & 1);\n          state.head.done = true;\n        }\n        strm.adler = state.check = 0;\n        state.mode = TYPE;\n        break;\n      case DICTID:\n        //=== NEEDBITS(32); */\n        while (bits < 32) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        strm.adler = state.check = zswap32(hold);\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = DICT;\n        /* falls through */\n      case DICT:\n        if (state.havedict === 0) {\n          //--- RESTORE() ---\n          strm.next_out = put;\n          strm.avail_out = left;\n          strm.next_in = next;\n          strm.avail_in = have;\n          state.hold = hold;\n          state.bits = bits;\n          //---\n          return Z_NEED_DICT$1;\n        }\n        strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;\n        state.mode = TYPE;\n        /* falls through */\n      case TYPE:\n        if (flush === Z_BLOCK || flush === Z_TREES) { break inf_leave; }\n        /* falls through */\n      case TYPEDO:\n        if (state.last) {\n          //--- BYTEBITS() ---//\n          hold >>>= bits & 7;\n          bits -= bits & 7;\n          //---//\n          state.mode = CHECK;\n          break;\n        }\n        //=== NEEDBITS(3); */\n        while (bits < 3) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.last = (hold & 0x01)/*BITS(1)*/;\n        //--- DROPBITS(1) ---//\n        hold >>>= 1;\n        bits -= 1;\n        //---//\n\n        switch ((hold & 0x03)/*BITS(2)*/) {\n          case 0:                             /* stored block */\n            //Tracev((stderr, \"inflate:     stored block%s\\n\",\n            //        state.last ? \" (last)\" : \"\"));\n            state.mode = STORED;\n            break;\n          case 1:                             /* fixed block */\n            fixedtables(state);\n            //Tracev((stderr, \"inflate:     fixed codes block%s\\n\",\n            //        state.last ? \" (last)\" : \"\"));\n            state.mode = LEN_;             /* decode codes */\n            if (flush === Z_TREES) {\n              //--- DROPBITS(2) ---//\n              hold >>>= 2;\n              bits -= 2;\n              //---//\n              break inf_leave;\n            }\n            break;\n          case 2:                             /* dynamic block */\n            //Tracev((stderr, \"inflate:     dynamic codes block%s\\n\",\n            //        state.last ? \" (last)\" : \"\"));\n            state.mode = TABLE;\n            break;\n          case 3:\n            strm.msg = 'invalid block type';\n            state.mode = BAD;\n        }\n        //--- DROPBITS(2) ---//\n        hold >>>= 2;\n        bits -= 2;\n        //---//\n        break;\n      case STORED:\n        //--- BYTEBITS() ---// /* go to byte boundary */\n        hold >>>= bits & 7;\n        bits -= bits & 7;\n        //---//\n        //=== NEEDBITS(32); */\n        while (bits < 32) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if ((hold & 0xffff) !== ((hold >>> 16) ^ 0xffff)) {\n          strm.msg = 'invalid stored block lengths';\n          state.mode = BAD;\n          break;\n        }\n        state.length = hold & 0xffff;\n        //Tracev((stderr, \"inflate:       stored length %u\\n\",\n        //        state.length));\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = COPY_;\n        if (flush === Z_TREES) { break inf_leave; }\n        /* falls through */\n      case COPY_:\n        state.mode = COPY;\n        /* falls through */\n      case COPY:\n        copy = state.length;\n        if (copy) {\n          if (copy > have) { copy = have; }\n          if (copy > left) { copy = left; }\n          if (copy === 0) { break inf_leave; }\n          //--- zmemcpy(put, next, copy); ---\n          output.set(input.subarray(next, next + copy), put);\n          //---//\n          have -= copy;\n          next += copy;\n          left -= copy;\n          put += copy;\n          state.length -= copy;\n          break;\n        }\n        //Tracev((stderr, \"inflate:       stored end\\n\"));\n        state.mode = TYPE;\n        break;\n      case TABLE:\n        //=== NEEDBITS(14); */\n        while (bits < 14) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.nlen = (hold & 0x1f)/*BITS(5)*/ + 257;\n        //--- DROPBITS(5) ---//\n        hold >>>= 5;\n        bits -= 5;\n        //---//\n        state.ndist = (hold & 0x1f)/*BITS(5)*/ + 1;\n        //--- DROPBITS(5) ---//\n        hold >>>= 5;\n        bits -= 5;\n        //---//\n        state.ncode = (hold & 0x0f)/*BITS(4)*/ + 4;\n        //--- DROPBITS(4) ---//\n        hold >>>= 4;\n        bits -= 4;\n        //---//\n//#ifndef PKZIP_BUG_WORKAROUND\n        if (state.nlen > 286 || state.ndist > 30) {\n          strm.msg = 'too many length or distance symbols';\n          state.mode = BAD;\n          break;\n        }\n//#endif\n        //Tracev((stderr, \"inflate:       table sizes ok\\n\"));\n        state.have = 0;\n        state.mode = LENLENS;\n        /* falls through */\n      case LENLENS:\n        while (state.have < state.ncode) {\n          //=== NEEDBITS(3);\n          while (bits < 3) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          state.lens[order[state.have++]] = (hold & 0x07);//BITS(3);\n          //--- DROPBITS(3) ---//\n          hold >>>= 3;\n          bits -= 3;\n          //---//\n        }\n        while (state.have < 19) {\n          state.lens[order[state.have++]] = 0;\n        }\n        // We have separate tables & no pointers. 2 commented lines below not needed.\n        //state.next = state.codes;\n        //state.lencode = state.next;\n        // Switch to use dynamic table\n        state.lencode = state.lendyn;\n        state.lenbits = 7;\n\n        opts = { bits: state.lenbits };\n        ret = inftrees(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);\n        state.lenbits = opts.bits;\n\n        if (ret) {\n          strm.msg = 'invalid code lengths set';\n          state.mode = BAD;\n          break;\n        }\n        //Tracev((stderr, \"inflate:       code lengths ok\\n\"));\n        state.have = 0;\n        state.mode = CODELENS;\n        /* falls through */\n      case CODELENS:\n        while (state.have < state.nlen + state.ndist) {\n          for (;;) {\n            here = state.lencode[hold & ((1 << state.lenbits) - 1)];/*BITS(state.lenbits)*/\n            here_bits = here >>> 24;\n            here_op = (here >>> 16) & 0xff;\n            here_val = here & 0xffff;\n\n            if ((here_bits) <= bits) { break; }\n            //--- PULLBYTE() ---//\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n            //---//\n          }\n          if (here_val < 16) {\n            //--- DROPBITS(here.bits) ---//\n            hold >>>= here_bits;\n            bits -= here_bits;\n            //---//\n            state.lens[state.have++] = here_val;\n          }\n          else {\n            if (here_val === 16) {\n              //=== NEEDBITS(here.bits + 2);\n              n = here_bits + 2;\n              while (bits < n) {\n                if (have === 0) { break inf_leave; }\n                have--;\n                hold += input[next++] << bits;\n                bits += 8;\n              }\n              //===//\n              //--- DROPBITS(here.bits) ---//\n              hold >>>= here_bits;\n              bits -= here_bits;\n              //---//\n              if (state.have === 0) {\n                strm.msg = 'invalid bit length repeat';\n                state.mode = BAD;\n                break;\n              }\n              len = state.lens[state.have - 1];\n              copy = 3 + (hold & 0x03);//BITS(2);\n              //--- DROPBITS(2) ---//\n              hold >>>= 2;\n              bits -= 2;\n              //---//\n            }\n            else if (here_val === 17) {\n              //=== NEEDBITS(here.bits + 3);\n              n = here_bits + 3;\n              while (bits < n) {\n                if (have === 0) { break inf_leave; }\n                have--;\n                hold += input[next++] << bits;\n                bits += 8;\n              }\n              //===//\n              //--- DROPBITS(here.bits) ---//\n              hold >>>= here_bits;\n              bits -= here_bits;\n              //---//\n              len = 0;\n              copy = 3 + (hold & 0x07);//BITS(3);\n              //--- DROPBITS(3) ---//\n              hold >>>= 3;\n              bits -= 3;\n              //---//\n            }\n            else {\n              //=== NEEDBITS(here.bits + 7);\n              n = here_bits + 7;\n              while (bits < n) {\n                if (have === 0) { break inf_leave; }\n                have--;\n                hold += input[next++] << bits;\n                bits += 8;\n              }\n              //===//\n              //--- DROPBITS(here.bits) ---//\n              hold >>>= here_bits;\n              bits -= here_bits;\n              //---//\n              len = 0;\n              copy = 11 + (hold & 0x7f);//BITS(7);\n              //--- DROPBITS(7) ---//\n              hold >>>= 7;\n              bits -= 7;\n              //---//\n            }\n            if (state.have + copy > state.nlen + state.ndist) {\n              strm.msg = 'invalid bit length repeat';\n              state.mode = BAD;\n              break;\n            }\n            while (copy--) {\n              state.lens[state.have++] = len;\n            }\n          }\n        }\n\n        /* handle error breaks in while */\n        if (state.mode === BAD) { break; }\n\n        /* check for end-of-block code (better have one) */\n        if (state.lens[256] === 0) {\n          strm.msg = 'invalid code -- missing end-of-block';\n          state.mode = BAD;\n          break;\n        }\n\n        /* build code tables -- note: do not change the lenbits or distbits\n           values here (9 and 6) without reading the comments in inftrees.h\n           concerning the ENOUGH constants, which depend on those values */\n        state.lenbits = 9;\n\n        opts = { bits: state.lenbits };\n        ret = inftrees(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);\n        // We have separate tables & no pointers. 2 commented lines below not needed.\n        // state.next_index = opts.table_index;\n        state.lenbits = opts.bits;\n        // state.lencode = state.next;\n\n        if (ret) {\n          strm.msg = 'invalid literal/lengths set';\n          state.mode = BAD;\n          break;\n        }\n\n        state.distbits = 6;\n        //state.distcode.copy(state.codes);\n        // Switch to use dynamic table\n        state.distcode = state.distdyn;\n        opts = { bits: state.distbits };\n        ret = inftrees(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);\n        // We have separate tables & no pointers. 2 commented lines below not needed.\n        // state.next_index = opts.table_index;\n        state.distbits = opts.bits;\n        // state.distcode = state.next;\n\n        if (ret) {\n          strm.msg = 'invalid distances set';\n          state.mode = BAD;\n          break;\n        }\n        //Tracev((stderr, 'inflate:       codes ok\\n'));\n        state.mode = LEN_;\n        if (flush === Z_TREES) { break inf_leave; }\n        /* falls through */\n      case LEN_:\n        state.mode = LEN;\n        /* falls through */\n      case LEN:\n        if (have >= 6 && left >= 258) {\n          //--- RESTORE() ---\n          strm.next_out = put;\n          strm.avail_out = left;\n          strm.next_in = next;\n          strm.avail_in = have;\n          state.hold = hold;\n          state.bits = bits;\n          //---\n          inffast(strm, _out);\n          //--- LOAD() ---\n          put = strm.next_out;\n          output = strm.output;\n          left = strm.avail_out;\n          next = strm.next_in;\n          input = strm.input;\n          have = strm.avail_in;\n          hold = state.hold;\n          bits = state.bits;\n          //---\n\n          if (state.mode === TYPE) {\n            state.back = -1;\n          }\n          break;\n        }\n        state.back = 0;\n        for (;;) {\n          here = state.lencode[hold & ((1 << state.lenbits) - 1)];  /*BITS(state.lenbits)*/\n          here_bits = here >>> 24;\n          here_op = (here >>> 16) & 0xff;\n          here_val = here & 0xffff;\n\n          if (here_bits <= bits) { break; }\n          //--- PULLBYTE() ---//\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n          //---//\n        }\n        if (here_op && (here_op & 0xf0) === 0) {\n          last_bits = here_bits;\n          last_op = here_op;\n          last_val = here_val;\n          for (;;) {\n            here = state.lencode[last_val +\n                    ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];\n            here_bits = here >>> 24;\n            here_op = (here >>> 16) & 0xff;\n            here_val = here & 0xffff;\n\n            if ((last_bits + here_bits) <= bits) { break; }\n            //--- PULLBYTE() ---//\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n            //---//\n          }\n          //--- DROPBITS(last.bits) ---//\n          hold >>>= last_bits;\n          bits -= last_bits;\n          //---//\n          state.back += last_bits;\n        }\n        //--- DROPBITS(here.bits) ---//\n        hold >>>= here_bits;\n        bits -= here_bits;\n        //---//\n        state.back += here_bits;\n        state.length = here_val;\n        if (here_op === 0) {\n          //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n          //        \"inflate:         literal '%c'\\n\" :\n          //        \"inflate:         literal 0x%02x\\n\", here.val));\n          state.mode = LIT;\n          break;\n        }\n        if (here_op & 32) {\n          //Tracevv((stderr, \"inflate:         end of block\\n\"));\n          state.back = -1;\n          state.mode = TYPE;\n          break;\n        }\n        if (here_op & 64) {\n          strm.msg = 'invalid literal/length code';\n          state.mode = BAD;\n          break;\n        }\n        state.extra = here_op & 15;\n        state.mode = LENEXT;\n        /* falls through */\n      case LENEXT:\n        if (state.extra) {\n          //=== NEEDBITS(state.extra);\n          n = state.extra;\n          while (bits < n) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          state.length += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;\n          //--- DROPBITS(state.extra) ---//\n          hold >>>= state.extra;\n          bits -= state.extra;\n          //---//\n          state.back += state.extra;\n        }\n        //Tracevv((stderr, \"inflate:         length %u\\n\", state.length));\n        state.was = state.length;\n        state.mode = DIST;\n        /* falls through */\n      case DIST:\n        for (;;) {\n          here = state.distcode[hold & ((1 << state.distbits) - 1)];/*BITS(state.distbits)*/\n          here_bits = here >>> 24;\n          here_op = (here >>> 16) & 0xff;\n          here_val = here & 0xffff;\n\n          if ((here_bits) <= bits) { break; }\n          //--- PULLBYTE() ---//\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n          //---//\n        }\n        if ((here_op & 0xf0) === 0) {\n          last_bits = here_bits;\n          last_op = here_op;\n          last_val = here_val;\n          for (;;) {\n            here = state.distcode[last_val +\n                    ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];\n            here_bits = here >>> 24;\n            here_op = (here >>> 16) & 0xff;\n            here_val = here & 0xffff;\n\n            if ((last_bits + here_bits) <= bits) { break; }\n            //--- PULLBYTE() ---//\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n            //---//\n          }\n          //--- DROPBITS(last.bits) ---//\n          hold >>>= last_bits;\n          bits -= last_bits;\n          //---//\n          state.back += last_bits;\n        }\n        //--- DROPBITS(here.bits) ---//\n        hold >>>= here_bits;\n        bits -= here_bits;\n        //---//\n        state.back += here_bits;\n        if (here_op & 64) {\n          strm.msg = 'invalid distance code';\n          state.mode = BAD;\n          break;\n        }\n        state.offset = here_val;\n        state.extra = (here_op) & 15;\n        state.mode = DISTEXT;\n        /* falls through */\n      case DISTEXT:\n        if (state.extra) {\n          //=== NEEDBITS(state.extra);\n          n = state.extra;\n          while (bits < n) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          state.offset += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;\n          //--- DROPBITS(state.extra) ---//\n          hold >>>= state.extra;\n          bits -= state.extra;\n          //---//\n          state.back += state.extra;\n        }\n//#ifdef INFLATE_STRICT\n        if (state.offset > state.dmax) {\n          strm.msg = 'invalid distance too far back';\n          state.mode = BAD;\n          break;\n        }\n//#endif\n        //Tracevv((stderr, \"inflate:         distance %u\\n\", state.offset));\n        state.mode = MATCH;\n        /* falls through */\n      case MATCH:\n        if (left === 0) { break inf_leave; }\n        copy = _out - left;\n        if (state.offset > copy) {         /* copy from window */\n          copy = state.offset - copy;\n          if (copy > state.whave) {\n            if (state.sane) {\n              strm.msg = 'invalid distance too far back';\n              state.mode = BAD;\n              break;\n            }\n// (!) This block is disabled in zlib defaults,\n// don't enable it for binary compatibility\n//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n//          Trace((stderr, \"inflate.c too far\\n\"));\n//          copy -= state.whave;\n//          if (copy > state.length) { copy = state.length; }\n//          if (copy > left) { copy = left; }\n//          left -= copy;\n//          state.length -= copy;\n//          do {\n//            output[put++] = 0;\n//          } while (--copy);\n//          if (state.length === 0) { state.mode = LEN; }\n//          break;\n//#endif\n          }\n          if (copy > state.wnext) {\n            copy -= state.wnext;\n            from = state.wsize - copy;\n          }\n          else {\n            from = state.wnext - copy;\n          }\n          if (copy > state.length) { copy = state.length; }\n          from_source = state.window;\n        }\n        else {                              /* copy from output */\n          from_source = output;\n          from = put - state.offset;\n          copy = state.length;\n        }\n        if (copy > left) { copy = left; }\n        left -= copy;\n        state.length -= copy;\n        do {\n          output[put++] = from_source[from++];\n        } while (--copy);\n        if (state.length === 0) { state.mode = LEN; }\n        break;\n      case LIT:\n        if (left === 0) { break inf_leave; }\n        output[put++] = state.length;\n        left--;\n        state.mode = LEN;\n        break;\n      case CHECK:\n        if (state.wrap) {\n          //=== NEEDBITS(32);\n          while (bits < 32) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            // Use '|' instead of '+' to make sure that result is signed\n            hold |= input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          _out -= left;\n          strm.total_out += _out;\n          state.total += _out;\n          if ((state.wrap & 4) && _out) {\n            strm.adler = state.check =\n                /*UPDATE_CHECK(state.check, put - _out, _out);*/\n                (state.flags ? crc32_1(state.check, output, _out, put - _out) : adler32_1(state.check, output, _out, put - _out));\n\n          }\n          _out = left;\n          // NB: crc32 stored as signed 32-bit int, zswap32 returns signed too\n          if ((state.wrap & 4) && (state.flags ? hold : zswap32(hold)) !== state.check) {\n            strm.msg = 'incorrect data check';\n            state.mode = BAD;\n            break;\n          }\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n          //Tracev((stderr, \"inflate:   check matches trailer\\n\"));\n        }\n        state.mode = LENGTH;\n        /* falls through */\n      case LENGTH:\n        if (state.wrap && state.flags) {\n          //=== NEEDBITS(32);\n          while (bits < 32) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          if ((state.wrap & 4) && hold !== (state.total & 0xffffffff)) {\n            strm.msg = 'incorrect length check';\n            state.mode = BAD;\n            break;\n          }\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n          //Tracev((stderr, \"inflate:   length matches trailer\\n\"));\n        }\n        state.mode = DONE;\n        /* falls through */\n      case DONE:\n        ret = Z_STREAM_END$1;\n        break inf_leave;\n      case BAD:\n        ret = Z_DATA_ERROR$1;\n        break inf_leave;\n      case MEM:\n        return Z_MEM_ERROR$1;\n      case SYNC:\n        /* falls through */\n      default:\n        return Z_STREAM_ERROR$1;\n    }\n  }\n\n  // inf_leave <- here is real place for \"goto inf_leave\", emulated via \"break inf_leave\"\n\n  /*\n     Return from inflate(), updating the total counts and the check value.\n     If there was no progress during the inflate() call, return a buffer\n     error.  Call updatewindow() to create and/or update the window state.\n     Note: a memory error from inflate() is non-recoverable.\n   */\n\n  //--- RESTORE() ---\n  strm.next_out = put;\n  strm.avail_out = left;\n  strm.next_in = next;\n  strm.avail_in = have;\n  state.hold = hold;\n  state.bits = bits;\n  //---\n\n  if (state.wsize || (_out !== strm.avail_out && state.mode < BAD &&\n                      (state.mode < CHECK || flush !== Z_FINISH$1))) {\n    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) ;\n  }\n  _in -= strm.avail_in;\n  _out -= strm.avail_out;\n  strm.total_in += _in;\n  strm.total_out += _out;\n  state.total += _out;\n  if ((state.wrap & 4) && _out) {\n    strm.adler = state.check = /*UPDATE_CHECK(state.check, strm.next_out - _out, _out);*/\n      (state.flags ? crc32_1(state.check, output, _out, strm.next_out - _out) : adler32_1(state.check, output, _out, strm.next_out - _out));\n  }\n  strm.data_type = state.bits + (state.last ? 64 : 0) +\n                    (state.mode === TYPE ? 128 : 0) +\n                    (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);\n  if (((_in === 0 && _out === 0) || flush === Z_FINISH$1) && ret === Z_OK$1) {\n    ret = Z_BUF_ERROR;\n  }\n  return ret;\n};\n\n\nconst inflateEnd = (strm) => {\n\n  if (inflateStateCheck(strm)) {\n    return Z_STREAM_ERROR$1;\n  }\n\n  let state = strm.state;\n  if (state.window) {\n    state.window = null;\n  }\n  strm.state = null;\n  return Z_OK$1;\n};\n\n\nconst inflateGetHeader = (strm, head) => {\n\n  /* check state */\n  if (inflateStateCheck(strm)) { return Z_STREAM_ERROR$1; }\n  const state = strm.state;\n  if ((state.wrap & 2) === 0) { return Z_STREAM_ERROR$1; }\n\n  /* save header structure */\n  state.head = head;\n  head.done = false;\n  return Z_OK$1;\n};\n\n\nconst inflateSetDictionary = (strm, dictionary) => {\n  const dictLength = dictionary.length;\n\n  let state;\n  let dictid;\n  let ret;\n\n  /* check state */\n  if (inflateStateCheck(strm)) { return Z_STREAM_ERROR$1; }\n  state = strm.state;\n\n  if (state.wrap !== 0 && state.mode !== DICT) {\n    return Z_STREAM_ERROR$1;\n  }\n\n  /* check for correct dictionary identifier */\n  if (state.mode === DICT) {\n    dictid = 1; /* adler32(0, null, 0)*/\n    /* dictid = adler32(dictid, dictionary, dictLength); */\n    dictid = adler32_1(dictid, dictionary, dictLength, 0);\n    if (dictid !== state.check) {\n      return Z_DATA_ERROR$1;\n    }\n  }\n  /* copy dictionary to window using updatewindow(), which will amend the\n   existing dictionary if appropriate */\n  ret = updatewindow(strm, dictionary, dictLength, dictLength);\n  if (ret) {\n    state.mode = MEM;\n    return Z_MEM_ERROR$1;\n  }\n  state.havedict = 1;\n  // Tracev((stderr, \"inflate:   dictionary set\\n\"));\n  return Z_OK$1;\n};\n\n\nvar inflateReset_1 = inflateReset;\nvar inflateReset2_1 = inflateReset2;\nvar inflateResetKeep_1 = inflateResetKeep;\nvar inflateInit_1 = inflateInit;\nvar inflateInit2_1 = inflateInit2;\nvar inflate_2$1 = inflate$2;\nvar inflateEnd_1 = inflateEnd;\nvar inflateGetHeader_1 = inflateGetHeader;\nvar inflateSetDictionary_1 = inflateSetDictionary;\nvar inflateInfo = 'pako inflate (from Nodeca project)';\n\n/* Not implemented\nmodule.exports.inflateCodesUsed = inflateCodesUsed;\nmodule.exports.inflateCopy = inflateCopy;\nmodule.exports.inflateGetDictionary = inflateGetDictionary;\nmodule.exports.inflateMark = inflateMark;\nmodule.exports.inflatePrime = inflatePrime;\nmodule.exports.inflateSync = inflateSync;\nmodule.exports.inflateSyncPoint = inflateSyncPoint;\nmodule.exports.inflateUndermine = inflateUndermine;\nmodule.exports.inflateValidate = inflateValidate;\n*/\n\nvar inflate_1$2 = {\n\tinflateReset: inflateReset_1,\n\tinflateReset2: inflateReset2_1,\n\tinflateResetKeep: inflateResetKeep_1,\n\tinflateInit: inflateInit_1,\n\tinflateInit2: inflateInit2_1,\n\tinflate: inflate_2$1,\n\tinflateEnd: inflateEnd_1,\n\tinflateGetHeader: inflateGetHeader_1,\n\tinflateSetDictionary: inflateSetDictionary_1,\n\tinflateInfo: inflateInfo\n};\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nfunction GZheader() {\n  /* true if compressed data believed to be text */\n  this.text       = 0;\n  /* modification time */\n  this.time       = 0;\n  /* extra flags (not used when writing a gzip file) */\n  this.xflags     = 0;\n  /* operating system */\n  this.os         = 0;\n  /* pointer to extra field or Z_NULL if none */\n  this.extra      = null;\n  /* extra field length (valid if extra != Z_NULL) */\n  this.extra_len  = 0; // Actually, we don't need it in JS,\n                       // but leave for few code modifications\n\n  //\n  // Setup limits is not necessary because in js we should not preallocate memory\n  // for inflate use constant limit in 65536 bytes\n  //\n\n  /* space at extra (only when reading header) */\n  // this.extra_max  = 0;\n  /* pointer to zero-terminated file name or Z_NULL */\n  this.name       = '';\n  /* space at name (only when reading header) */\n  // this.name_max   = 0;\n  /* pointer to zero-terminated comment or Z_NULL */\n  this.comment    = '';\n  /* space at comment (only when reading header) */\n  // this.comm_max   = 0;\n  /* true if there was or will be a header crc */\n  this.hcrc       = 0;\n  /* true when done reading gzip header (not used when writing a gzip file) */\n  this.done       = false;\n}\n\nvar gzheader = GZheader;\n\nconst toString = Object.prototype.toString;\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\nconst {\n  Z_NO_FLUSH, Z_FINISH,\n  Z_OK, Z_STREAM_END, Z_NEED_DICT, Z_STREAM_ERROR, Z_DATA_ERROR, Z_MEM_ERROR\n} = constants$2;\n\n/* ===========================================================================*/\n\n\n/**\n * class Inflate\n *\n * Generic JS-style wrapper for zlib calls. If you don't need\n * streaming behaviour - use more simple functions: [[inflate]]\n * and [[inflateRaw]].\n **/\n\n/* internal\n * inflate.chunks -> Array\n *\n * Chunks of output data, if [[Inflate#onData]] not overridden.\n **/\n\n/**\n * Inflate.result -> Uint8Array|String\n *\n * Uncompressed result, generated by default [[Inflate#onData]]\n * and [[Inflate#onEnd]] handlers. Filled after you push last chunk\n * (call [[Inflate#push]] with `Z_FINISH` / `true` param).\n **/\n\n/**\n * Inflate.err -> Number\n *\n * Error code after inflate finished. 0 (Z_OK) on success.\n * Should be checked if broken data possible.\n **/\n\n/**\n * Inflate.msg -> String\n *\n * Error message, if [[Inflate.err]] != 0\n **/\n\n\n/**\n * new Inflate(options)\n * - options (Object): zlib inflate options.\n *\n * Creates new inflator instance with specified params. Throws exception\n * on bad params. Supported options:\n *\n * - `windowBits`\n * - `dictionary`\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information on these.\n *\n * Additional options, for internal needs:\n *\n * - `chunkSize` - size of generated data chunks (16K by default)\n * - `raw` (Boolean) - do raw inflate\n * - `to` (String) - if equal to 'string', then result will be converted\n *   from utf8 to utf16 (javascript) string. When string output requested,\n *   chunk length can differ from `chunkSize`, depending on content.\n *\n * By default, when no options set, autodetect deflate/gzip data format via\n * wrapper header.\n *\n * ##### Example:\n *\n * ```javascript\n * const pako = require('pako')\n * const chunk1 = new Uint8Array([1,2,3,4,5,6,7,8,9])\n * const chunk2 = new Uint8Array([10,11,12,13,14,15,16,17,18,19]);\n *\n * const inflate = new pako.Inflate({ level: 3});\n *\n * inflate.push(chunk1, false);\n * inflate.push(chunk2, true);  // true -> last chunk\n *\n * if (inflate.err) { throw new Error(inflate.err); }\n *\n * console.log(inflate.result);\n * ```\n **/\nfunction Inflate$1(options) {\n  this.options = common.assign({\n    chunkSize: 1024 * 64,\n    windowBits: 15,\n    to: ''\n  }, options || {});\n\n  const opt = this.options;\n\n  // Force window size for `raw` data, if not set directly,\n  // because we have no header for autodetect.\n  if (opt.raw && (opt.windowBits >= 0) && (opt.windowBits < 16)) {\n    opt.windowBits = -opt.windowBits;\n    if (opt.windowBits === 0) { opt.windowBits = -15; }\n  }\n\n  // If `windowBits` not defined (and mode not raw) - set autodetect flag for gzip/deflate\n  if ((opt.windowBits >= 0) && (opt.windowBits < 16) &&\n      !(options && options.windowBits)) {\n    opt.windowBits += 32;\n  }\n\n  // Gzip header has no info about windows size, we can do autodetect only\n  // for deflate. So, if window size not set, force it to max when gzip possible\n  if ((opt.windowBits > 15) && (opt.windowBits < 48)) {\n    // bit 3 (16) -> gzipped data\n    // bit 4 (32) -> autodetect gzip/deflate\n    if ((opt.windowBits & 15) === 0) {\n      opt.windowBits |= 15;\n    }\n  }\n\n  this.err    = 0;      // error code, if happens (0 = Z_OK)\n  this.msg    = '';     // error message\n  this.ended  = false;  // used to avoid multiple onEnd() calls\n  this.chunks = [];     // chunks of compressed data\n\n  this.strm   = new zstream();\n  this.strm.avail_out = 0;\n\n  let status  = inflate_1$2.inflateInit2(\n    this.strm,\n    opt.windowBits\n  );\n\n  if (status !== Z_OK) {\n    throw new Error(messages[status]);\n  }\n\n  this.header = new gzheader();\n\n  inflate_1$2.inflateGetHeader(this.strm, this.header);\n\n  // Setup dictionary\n  if (opt.dictionary) {\n    // Convert data if needed\n    if (typeof opt.dictionary === 'string') {\n      opt.dictionary = strings.string2buf(opt.dictionary);\n    } else if (toString.call(opt.dictionary) === '[object ArrayBuffer]') {\n      opt.dictionary = new Uint8Array(opt.dictionary);\n    }\n    if (opt.raw) { //In raw mode we need to set the dictionary early\n      status = inflate_1$2.inflateSetDictionary(this.strm, opt.dictionary);\n      if (status !== Z_OK) {\n        throw new Error(messages[status]);\n      }\n    }\n  }\n}\n\n/**\n * Inflate#push(data[, flush_mode]) -> Boolean\n * - data (Uint8Array|ArrayBuffer): input data\n * - flush_mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE\n *   flush modes. See constants. Skipped or `false` means Z_NO_FLUSH,\n *   `true` means Z_FINISH.\n *\n * Sends input data to inflate pipe, generating [[Inflate#onData]] calls with\n * new output chunks. Returns `true` on success. If end of stream detected,\n * [[Inflate#onEnd]] will be called.\n *\n * `flush_mode` is not needed for normal operation, because end of stream\n * detected automatically. You may try to use it for advanced things, but\n * this functionality was not tested.\n *\n * On fail call [[Inflate#onEnd]] with error code and return false.\n *\n * ##### Example\n *\n * ```javascript\n * push(chunk, false); // push one of data chunks\n * ...\n * push(chunk, true);  // push last chunk\n * ```\n **/\nInflate$1.prototype.push = function (data, flush_mode) {\n  const strm = this.strm;\n  const chunkSize = this.options.chunkSize;\n  const dictionary = this.options.dictionary;\n  let status, _flush_mode, last_avail_out;\n\n  if (this.ended) return false;\n\n  if (flush_mode === ~~flush_mode) _flush_mode = flush_mode;\n  else _flush_mode = flush_mode === true ? Z_FINISH : Z_NO_FLUSH;\n\n  // Convert data if needed\n  if (toString.call(data) === '[object ArrayBuffer]') {\n    strm.input = new Uint8Array(data);\n  } else {\n    strm.input = data;\n  }\n\n  strm.next_in = 0;\n  strm.avail_in = strm.input.length;\n\n  for (;;) {\n    if (strm.avail_out === 0) {\n      strm.output = new Uint8Array(chunkSize);\n      strm.next_out = 0;\n      strm.avail_out = chunkSize;\n    }\n\n    status = inflate_1$2.inflate(strm, _flush_mode);\n\n    if (status === Z_NEED_DICT && dictionary) {\n      status = inflate_1$2.inflateSetDictionary(strm, dictionary);\n\n      if (status === Z_OK) {\n        status = inflate_1$2.inflate(strm, _flush_mode);\n      } else if (status === Z_DATA_ERROR) {\n        // Replace code with more verbose\n        status = Z_NEED_DICT;\n      }\n    }\n\n    // Skip snyc markers if more data follows and not raw mode\n    while (strm.avail_in > 0 &&\n           status === Z_STREAM_END &&\n           strm.state.wrap > 0 &&\n           data[strm.next_in] !== 0)\n    {\n      inflate_1$2.inflateReset(strm);\n      status = inflate_1$2.inflate(strm, _flush_mode);\n    }\n\n    switch (status) {\n      case Z_STREAM_ERROR:\n      case Z_DATA_ERROR:\n      case Z_NEED_DICT:\n      case Z_MEM_ERROR:\n        this.onEnd(status);\n        this.ended = true;\n        return false;\n    }\n\n    // Remember real `avail_out` value, because we may patch out buffer content\n    // to align utf8 strings boundaries.\n    last_avail_out = strm.avail_out;\n\n    if (strm.next_out) {\n      if (strm.avail_out === 0 || status === Z_STREAM_END) {\n\n        if (this.options.to === 'string') {\n\n          let next_out_utf8 = strings.utf8border(strm.output, strm.next_out);\n\n          let tail = strm.next_out - next_out_utf8;\n          let utf8str = strings.buf2string(strm.output, next_out_utf8);\n\n          // move tail & realign counters\n          strm.next_out = tail;\n          strm.avail_out = chunkSize - tail;\n          if (tail) strm.output.set(strm.output.subarray(next_out_utf8, next_out_utf8 + tail), 0);\n\n          this.onData(utf8str);\n\n        } else {\n          this.onData(strm.output.length === strm.next_out ? strm.output : strm.output.subarray(0, strm.next_out));\n        }\n      }\n    }\n\n    // Must repeat iteration if out buffer is full\n    if (status === Z_OK && last_avail_out === 0) continue;\n\n    // Finalize if end of stream reached.\n    if (status === Z_STREAM_END) {\n      status = inflate_1$2.inflateEnd(this.strm);\n      this.onEnd(status);\n      this.ended = true;\n      return true;\n    }\n\n    if (strm.avail_in === 0) break;\n  }\n\n  return true;\n};\n\n\n/**\n * Inflate#onData(chunk) -> Void\n * - chunk (Uint8Array|String): output data. When string output requested,\n *   each chunk will be string.\n *\n * By default, stores data blocks in `chunks[]` property and glue\n * those in `onEnd`. Override this handler, if you need another behaviour.\n **/\nInflate$1.prototype.onData = function (chunk) {\n  this.chunks.push(chunk);\n};\n\n\n/**\n * Inflate#onEnd(status) -> Void\n * - status (Number): inflate status. 0 (Z_OK) on success,\n *   other if not.\n *\n * Called either after you tell inflate that the input stream is\n * complete (Z_FINISH). By default - join collected chunks,\n * free memory and fill `results` / `err` properties.\n **/\nInflate$1.prototype.onEnd = function (status) {\n  // On success - join\n  if (status === Z_OK) {\n    if (this.options.to === 'string') {\n      this.result = this.chunks.join('');\n    } else {\n      this.result = common.flattenChunks(this.chunks);\n    }\n  }\n  this.chunks = [];\n  this.err = status;\n  this.msg = this.strm.msg;\n};\n\n\n/**\n * inflate(data[, options]) -> Uint8Array|String\n * - data (Uint8Array|ArrayBuffer): input data to decompress.\n * - options (Object): zlib inflate options.\n *\n * Decompress `data` with inflate/ungzip and `options`. Autodetect\n * format via wrapper header by default. That's why we don't provide\n * separate `ungzip` method.\n *\n * Supported options are:\n *\n * - windowBits\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information.\n *\n * Sugar (options):\n *\n * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify\n *   negative windowBits implicitly.\n * - `to` (String) - if equal to 'string', then result will be converted\n *   from utf8 to utf16 (javascript) string. When string output requested,\n *   chunk length can differ from `chunkSize`, depending on content.\n *\n *\n * ##### Example:\n *\n * ```javascript\n * const pako = require('pako');\n * const input = pako.deflate(new Uint8Array([1,2,3,4,5,6,7,8,9]));\n * let output;\n *\n * try {\n *   output = pako.inflate(input);\n * } catch (err) {\n *   console.log(err);\n * }\n * ```\n **/\nfunction inflate$1(input, options) {\n  const inflator = new Inflate$1(options);\n\n  inflator.push(input);\n\n  // That will never happens, if you don't cheat with options :)\n  if (inflator.err) throw inflator.msg || messages[inflator.err];\n\n  return inflator.result;\n}\n\n\n/**\n * inflateRaw(data[, options]) -> Uint8Array|String\n * - data (Uint8Array|ArrayBuffer): input data to decompress.\n * - options (Object): zlib inflate options.\n *\n * The same as [[inflate]], but creates raw data, without wrapper\n * (header and adler32 crc).\n **/\nfunction inflateRaw$1(input, options) {\n  options = options || {};\n  options.raw = true;\n  return inflate$1(input, options);\n}\n\n\n/**\n * ungzip(data[, options]) -> Uint8Array|String\n * - data (Uint8Array|ArrayBuffer): input data to decompress.\n * - options (Object): zlib inflate options.\n *\n * Just shortcut to [[inflate]], because it autodetects format\n * by header.content. Done for convenience.\n **/\n\n\nvar Inflate_1$1 = Inflate$1;\nvar inflate_2 = inflate$1;\nvar inflateRaw_1$1 = inflateRaw$1;\nvar ungzip$1 = inflate$1;\nvar constants = constants$2;\n\nvar inflate_1$1 = {\n\tInflate: Inflate_1$1,\n\tinflate: inflate_2,\n\tinflateRaw: inflateRaw_1$1,\n\tungzip: ungzip$1,\n\tconstants: constants\n};\n\nconst { Deflate, deflate, deflateRaw, gzip } = deflate_1$1;\n\nconst { Inflate, inflate, inflateRaw, ungzip } = inflate_1$1;\n\n\n\nvar Deflate_1 = Deflate;\nvar deflate_1 = deflate;\nvar deflateRaw_1 = deflateRaw;\nvar gzip_1 = gzip;\nvar Inflate_1 = Inflate;\nvar inflate_1 = inflate;\nvar inflateRaw_1 = inflateRaw;\nvar ungzip_1 = ungzip;\nvar constants_1 = constants$2;\n\nvar pako = {\n\tDeflate: Deflate_1,\n\tdeflate: deflate_1,\n\tdeflateRaw: deflateRaw_1,\n\tgzip: gzip_1,\n\tInflate: Inflate_1,\n\tinflate: inflate_1,\n\tinflateRaw: inflateRaw_1,\n\tungzip: ungzip_1,\n\tconstants: constants_1\n};\n\nexport { Deflate_1 as Deflate, Inflate_1 as Inflate, constants_1 as constants, pako as default, deflate_1 as deflate, deflateRaw_1 as deflateRaw, gzip_1 as gzip, inflate_1 as inflate, inflateRaw_1 as inflateRaw, ungzip_1 as ungzip };\n","export const pngSignature = [137, 80, 78, 71, 13, 10, 26, 10];\n\nconst crcTable: number[] = [];\nfor (let n = 0; n < 256; n++) {\n  let c = n;\n  for (let k = 0; k < 8; k++) {\n    if (c & 1) {\n      c = 0xedb88320 ^ (c >>> 1);\n    } else {\n      c = c >>> 1;\n    }\n  }\n  crcTable[n] = c;\n}\n\nconst initialCrc = 0xffffffff;\nfunction updateCrc(\n  currentCrc: number,\n  data: Uint8Array,\n  length: number,\n): number {\n  let c = currentCrc;\n  for (let n = 0; n < length; n++) {\n    c = crcTable[(c ^ data[n]) & 0xff] ^ (c >>> 8);\n  }\n  return c;\n}\n\nexport function crc(data: Uint8Array, length: number): number {\n  return (updateCrc(initialCrc, data, length) ^ initialCrc) >>> 0;\n}\n","export enum ColorType {\n  UNKNOWN = -1,\n  GREYSCALE = 0,\n  TRUECOLOUR = 2,\n  INDEXED_COLOUR = 3,\n  GREYSCALE_ALPHA = 4,\n  TRUECOLOUR_ALPHA = 6,\n}\n\nexport enum CompressionMethod {\n  UNKNOWN = -1,\n  DEFLATE = 0,\n}\n\nexport enum FilterMethod {\n  UNKNOWN = -1,\n  ADAPTIVE = 0,\n}\n\nexport enum InterlaceMethod {\n  UNKNOWN = -1,\n  NO_INTERLACE = 0,\n  ADAM7 = 1,\n}\n","import { IOBuffer } from 'iobuffer';\nimport { inflate, Inflate as Inflator } from 'pako';\n\nimport { pngSignature, crc } from './common';\nimport {\n  ColorType,\n  CompressionMethod,\n  FilterMethod,\n  InterlaceMethod,\n} from './internalTypes';\nimport {\n  DecodedPng,\n  DecoderInputType,\n  PngDecoderOptions,\n  PngDataArray,\n  IndexedColors,\n  BitDepth,\n} from './types';\n\nconst empty = new Uint8Array(0);\nconst NULL = '\\0';\n\nconst uint16 = new Uint16Array([0x00ff]);\nconst uint8 = new Uint8Array(uint16.buffer);\nconst osIsLittleEndian = uint8[0] === 0xff;\n\nexport default class PngDecoder extends IOBuffer {\n  private _checkCrc: boolean;\n  private _inflator: Inflator;\n  private _png: DecodedPng;\n  private _end: boolean;\n  private _hasPalette: boolean;\n  private _palette: IndexedColors;\n  private _hasTransparency: boolean;\n  private _transparency: Uint16Array;\n  private _compressionMethod: CompressionMethod;\n  private _filterMethod: FilterMethod;\n  private _interlaceMethod: InterlaceMethod;\n  private _colorType: ColorType;\n\n  public constructor(data: DecoderInputType, options: PngDecoderOptions = {}) {\n    super(data);\n    const { checkCrc = false } = options;\n    this._checkCrc = checkCrc;\n    this._inflator = new Inflator();\n    this._png = {\n      width: -1,\n      height: -1,\n      channels: -1,\n      data: new Uint8Array(0),\n      depth: 1,\n      text: {},\n    };\n    this._end = false;\n    this._hasPalette = false;\n    this._palette = [];\n    this._hasTransparency = false;\n    this._transparency = new Uint16Array(0);\n    this._compressionMethod = CompressionMethod.UNKNOWN;\n    this._filterMethod = FilterMethod.UNKNOWN;\n    this._interlaceMethod = InterlaceMethod.UNKNOWN;\n    this._colorType = ColorType.UNKNOWN;\n    // PNG is always big endian\n    // https://www.w3.org/TR/PNG/#7Integers-and-byte-order\n    this.setBigEndian();\n  }\n\n  public decode(): DecodedPng {\n    this.decodeSignature();\n    while (!this._end) {\n      this.decodeChunk();\n    }\n    this.decodeImage();\n    return this._png;\n  }\n\n  // https://www.w3.org/TR/PNG/#5PNG-file-signature\n  private decodeSignature(): void {\n    for (let i = 0; i < pngSignature.length; i++) {\n      if (this.readUint8() !== pngSignature[i]) {\n        throw new Error(\n          `wrong PNG signature. Byte at ${i} should be ${pngSignature[i]}.`,\n        );\n      }\n    }\n  }\n\n  // https://www.w3.org/TR/PNG/#5Chunk-layout\n  private decodeChunk(): void {\n    const length = this.readUint32();\n    const type = this.readChars(4);\n    const offset = this.offset;\n    switch (type) {\n      // 11.2 Critical chunks\n      case 'IHDR': // 11.2.2 IHDR Image header\n        this.decodeIHDR();\n        break;\n      case 'PLTE': // 11.2.3 PLTE Palette\n        this.decodePLTE(length);\n        break;\n      case 'IDAT': // 11.2.4 IDAT Image data\n        this.decodeIDAT(length);\n        break;\n      case 'IEND': // 11.2.5 IEND Image trailer\n        this._end = true;\n        break;\n      // 11.3 Ancillary chunks\n      case 'tRNS': // 11.3.2.1 tRNS Transparency\n        this.decodetRNS(length);\n        break;\n      case 'iCCP': // 11.3.3.3 iCCP Embedded ICC profile\n        this.decodeiCCP(length);\n        break;\n      case 'tEXt': // 11.3.4.3 tEXt Textual data\n        this.decodetEXt(length);\n        break;\n      case 'pHYs': // 11.3.5.3 pHYs Physical pixel dimensions\n        this.decodepHYs();\n        break;\n      default:\n        this.skip(length);\n        break;\n    }\n    if (this.offset - offset !== length) {\n      throw new Error(`Length mismatch while decoding chunk ${type}`);\n    }\n    if (this._checkCrc) {\n      const expectedCrc = this.readUint32();\n      const crcLength = length + 4; // includes type\n      const actualCrc = crc(\n        new Uint8Array(\n          this.buffer,\n          this.byteOffset + this.offset - crcLength - 4,\n          crcLength,\n        ),\n        crcLength,\n      ); // \"- 4\" because we already advanced by reading the CRC\n      if (actualCrc !== expectedCrc) {\n        throw new Error(\n          `CRC mismatch for chunk ${type}. Expected ${expectedCrc}, found ${actualCrc}`,\n        );\n      }\n    } else {\n      this.skip(4);\n    }\n  }\n\n  // https://www.w3.org/TR/PNG/#11IHDR\n  private decodeIHDR(): void {\n    const image = this._png;\n    image.width = this.readUint32();\n    image.height = this.readUint32();\n    image.depth = checkBitDepth(this.readUint8());\n\n    const colorType: ColorType = this.readUint8();\n    this._colorType = colorType;\n    let channels: number;\n    switch (colorType) {\n      case ColorType.GREYSCALE:\n        channels = 1;\n        break;\n      case ColorType.TRUECOLOUR:\n        channels = 3;\n        break;\n      case ColorType.INDEXED_COLOUR:\n        channels = 1;\n        break;\n      case ColorType.GREYSCALE_ALPHA:\n        channels = 2;\n        break;\n      case ColorType.TRUECOLOUR_ALPHA:\n        channels = 4;\n        break;\n      default:\n        throw new Error(`Unknown color type: ${colorType}`);\n    }\n    this._png.channels = channels;\n\n    this._compressionMethod = this.readUint8();\n    if (this._compressionMethod !== CompressionMethod.DEFLATE) {\n      throw new Error(\n        `Unsupported compression method: ${this._compressionMethod}`,\n      );\n    }\n\n    this._filterMethod = this.readUint8();\n    this._interlaceMethod = this.readUint8();\n  }\n\n  // https://www.w3.org/TR/PNG/#11PLTE\n  private decodePLTE(length: number): void {\n    if (length % 3 !== 0) {\n      throw new RangeError(\n        `PLTE field length must be a multiple of 3. Got ${length}`,\n      );\n    }\n    const l = length / 3;\n    this._hasPalette = true;\n    const palette: IndexedColors = [];\n    this._palette = palette;\n    for (let i = 0; i < l; i++) {\n      palette.push([this.readUint8(), this.readUint8(), this.readUint8()]);\n    }\n  }\n\n  // https://www.w3.org/TR/PNG/#11IDAT\n  private decodeIDAT(length: number): void {\n    this._inflator.push(\n      new Uint8Array(this.buffer, this.offset + this.byteOffset, length),\n    );\n    this.skip(length);\n  }\n\n  // https://www.w3.org/TR/PNG/#11tRNS\n  private decodetRNS(length: number): void {\n    switch (this._colorType) {\n      case ColorType.GREYSCALE:\n      case ColorType.TRUECOLOUR: {\n        if (length % 2 !== 0) {\n          throw new RangeError(\n            `tRNS chunk length must be a multiple of 2. Got ${length}`,\n          );\n        }\n        if (length / 2 > this._png.width * this._png.height) {\n          throw new Error(\n            `tRNS chunk contains more alpha values than there are pixels (${\n              length / 2\n            } vs ${this._png.width * this._png.height})`,\n          );\n        }\n        this._hasTransparency = true;\n        this._transparency = new Uint16Array(length / 2);\n        for (let i = 0; i < length / 2; i++) {\n          this._transparency[i] = this.readUint16();\n        }\n        break;\n      }\n      case ColorType.INDEXED_COLOUR: {\n        if (length > this._palette.length) {\n          throw new Error(\n            `tRNS chunk contains more alpha values than there are palette colors (${length} vs ${this._palette.length})`,\n          );\n        }\n        let i = 0;\n        for (; i < length; i++) {\n          const alpha = this.readByte();\n          this._palette[i].push(alpha);\n        }\n        for (; i < this._palette.length; i++) {\n          this._palette[i].push(255);\n        }\n        break;\n      }\n      default: {\n        throw new Error(\n          `tRNS chunk is not supported for color type ${this._colorType}`,\n        );\n      }\n    }\n  }\n\n  // https://www.w3.org/TR/PNG/#11iCCP\n  private decodeiCCP(length: number): void {\n    let name = '';\n    let char;\n    while ((char = this.readChar()) !== NULL) {\n      name += char;\n    }\n    const compressionMethod = this.readUint8();\n    if (compressionMethod !== CompressionMethod.DEFLATE) {\n      throw new Error(\n        `Unsupported iCCP compression method: ${compressionMethod}`,\n      );\n    }\n    const compressedProfile = this.readBytes(length - name.length - 2);\n    this._png.iccEmbeddedProfile = {\n      name,\n      profile: inflate(compressedProfile),\n    };\n  }\n\n  // https://www.w3.org/TR/PNG/#11tEXt\n  private decodetEXt(length: number): void {\n    let keyword = '';\n    let char;\n    while ((char = this.readChar()) !== NULL) {\n      keyword += char;\n    }\n    this._png.text[keyword] = this.readChars(length - keyword.length - 1);\n  }\n\n  // https://www.w3.org/TR/PNG/#11pHYs\n  private decodepHYs(): void {\n    const ppuX = this.readUint32();\n    const ppuY = this.readUint32();\n    const unitSpecifier = this.readByte();\n    this._png.resolution = { x: ppuX, y: ppuY, unit: unitSpecifier };\n  }\n\n  private decodeImage(): void {\n    if (this._inflator.err) {\n      throw new Error(\n        `Error while decompressing the data: ${this._inflator.err}`,\n      );\n    }\n    const data = this._inflator.result;\n\n    if (this._filterMethod !== FilterMethod.ADAPTIVE) {\n      throw new Error(`Filter method ${this._filterMethod} not supported`);\n    }\n\n    if (this._interlaceMethod === InterlaceMethod.NO_INTERLACE) {\n      this.decodeInterlaceNull(data as Uint8Array);\n    } else {\n      throw new Error(\n        `Interlace method ${this._interlaceMethod} not supported`,\n      );\n    }\n  }\n\n  private decodeInterlaceNull(data: PngDataArray): void {\n    const height = this._png.height;\n    const bytesPerPixel = (this._png.channels * this._png.depth) / 8;\n    const bytesPerLine = this._png.width * bytesPerPixel;\n    const newData = new Uint8Array(this._png.height * bytesPerLine);\n\n    let prevLine = empty;\n    let offset = 0;\n    let currentLine;\n    let newLine;\n\n    for (let i = 0; i < height; i++) {\n      currentLine = data.subarray(offset + 1, offset + 1 + bytesPerLine);\n      newLine = newData.subarray(i * bytesPerLine, (i + 1) * bytesPerLine);\n      switch (data[offset]) {\n        case 0:\n          unfilterNone(currentLine, newLine, bytesPerLine);\n          break;\n        case 1:\n          unfilterSub(currentLine, newLine, bytesPerLine, bytesPerPixel);\n          break;\n        case 2:\n          unfilterUp(currentLine, newLine, prevLine, bytesPerLine);\n          break;\n        case 3:\n          unfilterAverage(\n            currentLine,\n            newLine,\n            prevLine,\n            bytesPerLine,\n            bytesPerPixel,\n          );\n          break;\n        case 4:\n          unfilterPaeth(\n            currentLine,\n            newLine,\n            prevLine,\n            bytesPerLine,\n            bytesPerPixel,\n          );\n          break;\n        default:\n          throw new Error(`Unsupported filter: ${data[offset]}`);\n      }\n      prevLine = newLine;\n      offset += bytesPerLine + 1;\n    }\n\n    if (this._hasPalette) {\n      this._png.palette = this._palette;\n    }\n    if (this._hasTransparency) {\n      this._png.transparency = this._transparency;\n    }\n\n    if (this._png.depth === 16) {\n      const uint16Data = new Uint16Array(newData.buffer);\n      if (osIsLittleEndian) {\n        for (let k = 0; k < uint16Data.length; k++) {\n          // PNG is always big endian. Swap the bytes.\n          uint16Data[k] = swap16(uint16Data[k]);\n        }\n      }\n      this._png.data = uint16Data;\n    } else {\n      this._png.data = newData;\n    }\n  }\n}\n\nfunction unfilterNone(\n  currentLine: PngDataArray,\n  newLine: PngDataArray,\n  bytesPerLine: number,\n): void {\n  for (let i = 0; i < bytesPerLine; i++) {\n    newLine[i] = currentLine[i];\n  }\n}\n\nfunction unfilterSub(\n  currentLine: PngDataArray,\n  newLine: PngDataArray,\n  bytesPerLine: number,\n  bytesPerPixel: number,\n): void {\n  let i = 0;\n  for (; i < bytesPerPixel; i++) {\n    // just copy first bytes\n    newLine[i] = currentLine[i];\n  }\n  for (; i < bytesPerLine; i++) {\n    newLine[i] = (currentLine[i] + newLine[i - bytesPerPixel]) & 0xff;\n  }\n}\n\nfunction unfilterUp(\n  currentLine: PngDataArray,\n  newLine: PngDataArray,\n  prevLine: PngDataArray,\n  bytesPerLine: number,\n): void {\n  let i = 0;\n  if (prevLine.length === 0) {\n    // just copy bytes for first line\n    for (; i < bytesPerLine; i++) {\n      newLine[i] = currentLine[i];\n    }\n  } else {\n    for (; i < bytesPerLine; i++) {\n      newLine[i] = (currentLine[i] + prevLine[i]) & 0xff;\n    }\n  }\n}\n\nfunction unfilterAverage(\n  currentLine: PngDataArray,\n  newLine: PngDataArray,\n  prevLine: PngDataArray,\n  bytesPerLine: number,\n  bytesPerPixel: number,\n): void {\n  let i = 0;\n  if (prevLine.length === 0) {\n    for (; i < bytesPerPixel; i++) {\n      newLine[i] = currentLine[i];\n    }\n    for (; i < bytesPerLine; i++) {\n      newLine[i] = (currentLine[i] + (newLine[i - bytesPerPixel] >> 1)) & 0xff;\n    }\n  } else {\n    for (; i < bytesPerPixel; i++) {\n      newLine[i] = (currentLine[i] + (prevLine[i] >> 1)) & 0xff;\n    }\n    for (; i < bytesPerLine; i++) {\n      newLine[i] =\n        (currentLine[i] + ((newLine[i - bytesPerPixel] + prevLine[i]) >> 1)) &\n        0xff;\n    }\n  }\n}\n\nfunction unfilterPaeth(\n  currentLine: PngDataArray,\n  newLine: PngDataArray,\n  prevLine: PngDataArray,\n  bytesPerLine: number,\n  bytesPerPixel: number,\n): void {\n  let i = 0;\n  if (prevLine.length === 0) {\n    for (; i < bytesPerPixel; i++) {\n      newLine[i] = currentLine[i];\n    }\n    for (; i < bytesPerLine; i++) {\n      newLine[i] = (currentLine[i] + newLine[i - bytesPerPixel]) & 0xff;\n    }\n  } else {\n    for (; i < bytesPerPixel; i++) {\n      newLine[i] = (currentLine[i] + prevLine[i]) & 0xff;\n    }\n    for (; i < bytesPerLine; i++) {\n      newLine[i] =\n        (currentLine[i] +\n          paethPredictor(\n            newLine[i - bytesPerPixel],\n            prevLine[i],\n            prevLine[i - bytesPerPixel],\n          )) &\n        0xff;\n    }\n  }\n}\n\nfunction paethPredictor(a: number, b: number, c: number): number {\n  const p = a + b - c;\n  const pa = Math.abs(p - a);\n  const pb = Math.abs(p - b);\n  const pc = Math.abs(p - c);\n  if (pa <= pb && pa <= pc) return a;\n  else if (pb <= pc) return b;\n  else return c;\n}\n\nfunction swap16(val: number): number {\n  return ((val & 0xff) << 8) | ((val >> 8) & 0xff);\n}\n\nfunction checkBitDepth(value: number): BitDepth {\n  if (\n    value !== 1 &&\n    value !== 2 &&\n    value !== 4 &&\n    value !== 8 &&\n    value !== 16\n  ) {\n    throw new Error(`invalid bit depth: ${value}`);\n  }\n  return value;\n}\n","import { IOBuffer } from 'iobuffer';\nimport { deflate } from 'pako';\n\nimport { pngSignature, crc } from './common';\nimport {\n  ColorType,\n  CompressionMethod,\n  FilterMethod,\n  InterlaceMethod,\n} from './internalTypes';\nimport {\n  DeflateFunctionOptions,\n  PngEncoderOptions,\n  ImageData,\n  DecodedPng,\n  PngDataArray,\n  BitDepth,\n} from './types';\n\nconst defaultZlibOptions: DeflateFunctionOptions = {\n  level: 3,\n};\n\nexport default class PngEncoder extends IOBuffer {\n  private _png: DecodedPng;\n  private _zlibOptions: DeflateFunctionOptions;\n  private _colorType: ColorType;\n\n  public constructor(data: ImageData, options: PngEncoderOptions = {}) {\n    super();\n    this._colorType = ColorType.UNKNOWN;\n    this._zlibOptions = { ...defaultZlibOptions, ...options.zlib };\n    this._png = this._checkData(data);\n    this.setBigEndian();\n  }\n\n  public encode(): Uint8Array {\n    this.encodeSignature();\n    this.encodeIHDR();\n    this.encodeData();\n    this.encodeIEND();\n    return this.toArray();\n  }\n\n  // https://www.w3.org/TR/PNG/#5PNG-file-signature\n  private encodeSignature(): void {\n    this.writeBytes(pngSignature);\n  }\n\n  // https://www.w3.org/TR/PNG/#11IHDR\n  private encodeIHDR(): void {\n    this.writeUint32(13);\n\n    this.writeChars('IHDR');\n\n    this.writeUint32(this._png.width);\n    this.writeUint32(this._png.height);\n    this.writeByte(this._png.depth);\n    this.writeByte(this._colorType);\n    this.writeByte(CompressionMethod.DEFLATE);\n    this.writeByte(FilterMethod.ADAPTIVE);\n    this.writeByte(InterlaceMethod.NO_INTERLACE);\n\n    this.writeCrc(17);\n  }\n\n  // https://www.w3.org/TR/PNG/#11IEND\n  private encodeIEND(): void {\n    this.writeUint32(0);\n\n    this.writeChars('IEND');\n\n    this.writeCrc(4);\n  }\n\n  // https://www.w3.org/TR/PNG/#11IDAT\n  private encodeIDAT(data: PngDataArray): void {\n    this.writeUint32(data.length);\n\n    this.writeChars('IDAT');\n\n    this.writeBytes(data);\n\n    this.writeCrc(data.length + 4);\n  }\n\n  private encodeData(): void {\n    const { width, height, channels, depth, data } = this._png;\n    const slotsPerLine = channels * width;\n    const newData = new IOBuffer().setBigEndian();\n    let offset = 0;\n    for (let i = 0; i < height; i++) {\n      newData.writeByte(0); // no filter\n      /* istanbul ignore else */\n      if (depth === 8) {\n        offset = writeDataBytes(data, newData, slotsPerLine, offset);\n      } else if (depth === 16) {\n        offset = writeDataUint16(data, newData, slotsPerLine, offset);\n      } else {\n        throw new Error('unreachable');\n      }\n    }\n    const buffer = newData.toArray();\n    const compressed = deflate(buffer, this._zlibOptions);\n    this.encodeIDAT(compressed);\n  }\n\n  private _checkData(data: ImageData): DecodedPng {\n    const { colorType, channels, depth } = getColorType(data);\n    const png: DecodedPng = {\n      width: checkInteger(data.width, 'width'),\n      height: checkInteger(data.height, 'height'),\n      channels,\n      data: data.data,\n      depth,\n      text: {},\n    };\n    this._colorType = colorType;\n    const expectedSize = png.width * png.height * channels;\n    if (png.data.length !== expectedSize) {\n      throw new RangeError(\n        `wrong data size. Found ${png.data.length}, expected ${expectedSize}`,\n      );\n    }\n    return png;\n  }\n\n  private writeCrc(length: number): void {\n    this.writeUint32(\n      crc(\n        new Uint8Array(\n          this.buffer,\n          this.byteOffset + this.offset - length,\n          length,\n        ),\n        length,\n      ),\n    );\n  }\n}\n\nfunction checkInteger(value: number, name: string): number {\n  if (Number.isInteger(value) && value > 0) {\n    return value;\n  }\n  throw new TypeError(`${name} must be a positive integer`);\n}\n\nfunction getColorType(data: ImageData): {\n  channels: number;\n  depth: BitDepth;\n  colorType: ColorType;\n} {\n  const { channels = 4, depth = 8 } = data;\n  if (channels !== 4 && channels !== 3 && channels !== 2 && channels !== 1) {\n    throw new RangeError(`unsupported number of channels: ${channels}`);\n  }\n  if (depth !== 8 && depth !== 16) {\n    throw new RangeError(`unsupported bit depth: ${depth}`);\n  }\n\n  const returnValue = { channels, depth, colorType: ColorType.UNKNOWN };\n  switch (channels) {\n    case 4:\n      returnValue.colorType = ColorType.TRUECOLOUR_ALPHA;\n      break;\n    case 3:\n      returnValue.colorType = ColorType.TRUECOLOUR;\n      break;\n    case 1:\n      returnValue.colorType = ColorType.GREYSCALE;\n      break;\n    case 2:\n      returnValue.colorType = ColorType.GREYSCALE_ALPHA;\n      break;\n    default:\n      throw new Error('unsupported number of channels');\n  }\n  return returnValue;\n}\n\nfunction writeDataBytes(\n  data: PngDataArray,\n  newData: IOBuffer,\n  slotsPerLine: number,\n  offset: number,\n): number {\n  for (let j = 0; j < slotsPerLine; j++) {\n    newData.writeByte(data[offset++]);\n  }\n  return offset;\n}\n\nfunction writeDataUint16(\n  data: PngDataArray,\n  newData: IOBuffer,\n  slotsPerLine: number,\n  offset: number,\n): number {\n  for (let j = 0; j < slotsPerLine; j++) {\n    newData.writeUint16(data[offset++]);\n  }\n  return offset;\n}\n","import { IOBuffer } from 'iobuffer';\nimport { DeflateFunctionOptions } from 'pako';\n\nexport { DeflateFunctionOptions };\n\nexport type PngDataArray = Uint8Array | Uint8ClampedArray | Uint16Array;\n\nexport type DecoderInputType = IOBuffer | ArrayBufferLike | ArrayBufferView;\n\nexport type BitDepth = 1 | 2 | 4 | 8 | 16;\n\nexport interface PngResolution {\n  /**\n   * Pixels per unit, X axis\n   */\n  x: number;\n  /**\n   * Pixels per unit, Y axis\n   */\n  y: number;\n  /**\n   * Unit specifier\n   */\n  unit: ResolutionUnitSpecifier;\n}\n\nexport enum ResolutionUnitSpecifier {\n  /**\n   * Unit is unknown\n   */\n  UNKNOWN = 0,\n  /**\n   * Unit is the metre\n   */\n  METRE = 1,\n}\n\nexport interface ImageData {\n  width: number;\n  height: number;\n  data: PngDataArray;\n  depth?: BitDepth;\n  channels?: number;\n}\n\nexport interface DecodedPng {\n  width: number;\n  height: number;\n  data: PngDataArray;\n  depth: BitDepth;\n  channels: number;\n  text: { [key: string]: string };\n  resolution?: PngResolution;\n  palette?: IndexedColors;\n  transparency?: Uint16Array;\n  iccEmbeddedProfile?: IccEmbeddedProfile;\n}\n\nexport interface PngDecoderOptions {\n  checkCrc?: boolean;\n}\n\nexport interface PngEncoderOptions {\n  zlib?: DeflateFunctionOptions;\n}\n\nexport type IndexedColors = number[][];\n\nexport interface IccEmbeddedProfile {\n  name: string;\n  profile: Uint8Array;\n}\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nlet chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nlet lookup = new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n  lookup[chars.charCodeAt(i)] = i;\n}\n\nexport function encode(bytes) {\n  let i;\n  let len = bytes.length;\n  let base64 = '';\n\n  for (i = 0; i < len; i += 3) {\n    base64 += chars[bytes[i] >> 2];\n    base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n    base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n    base64 += chars[bytes[i + 2] & 63];\n  }\n\n  if (len % 3 === 2) {\n    base64 = `${base64.substring(0, base64.length - 1)}=`;\n  } else if (len % 3 === 1) {\n    base64 = `${base64.substring(0, base64.length - 2)}==`;\n  }\n\n  return base64;\n}\n\nexport function decode(base64) {\n  let bufferLength = base64.length * 0.75;\n  let len = base64.length;\n  let p = 0;\n  let encoded1, encoded2, encoded3, encoded4;\n\n  if (base64[base64.length - 1] === '=') {\n    bufferLength--;\n    if (base64[base64.length - 2] === '=') {\n      bufferLength--;\n    }\n  }\n\n  const bytes = new Uint8Array(bufferLength);\n\n  for (let i = 0; i < len; i += 4) {\n    encoded1 = lookup[base64.charCodeAt(i)];\n    encoded2 = lookup[base64.charCodeAt(i + 1)];\n    encoded3 = lookup[base64.charCodeAt(i + 2)];\n    encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n    bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n    bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n    bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n  }\n\n  return bytes;\n}\n\nexport function toBase64URL(u8, type) {\n  const base64 = encode(u8);\n  return `data:${type};base64,${base64}`;\n}\n","const env = 'browser';\nconst ImageData = self.ImageData;\nconst DOMImage = self.Image;\n\nexport function createCanvas(width, height) {\n  let canvas = self.document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\n\nexport function fetchBinary(url, { withCredentials = false } = {}) {\n  return new Promise(function (resolve, reject) {\n    let xhr = new self.XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.responseType = 'arraybuffer';\n    xhr.withCredentials = withCredentials;\n\n    xhr.onload = function (e) {\n      if (this.status !== 200) reject(e);\n      else resolve(this.response);\n    };\n    xhr.onerror = reject;\n    xhr.send();\n  });\n}\n\nexport function createWriteStream() {\n  throw new Error('createWriteStream does not exist in the browser');\n}\n\nexport function writeFile() {\n  throw new Error('writeFile does not exist in the browser');\n}\n\nexport { env, ImageData, DOMImage };\n","import { canvasToBlob } from 'blob-util';\nimport { encode as encodeBmp } from 'fast-bmp';\nimport { encode as realEncodePng } from 'fast-png';\nimport { encode as realEncodeJpeg } from 'jpeg-js';\n\nimport { toBase64URL } from '../../util/base64';\n\nimport {\n  ImageData,\n  createCanvas,\n  createWriteStream,\n  writeFile,\n} from './environment';\nimport { getType } from './mediaTypes';\n\nfunction encodeJpeg(image, options = {}) {\n  const data = {\n    width: image.width,\n    height: image.height,\n    data: image.getRGBAData(),\n  };\n  return realEncodeJpeg(data, options.quality).data;\n}\n\nfunction encodePng(image, options) {\n  const data = {\n    width: image.width,\n    height: image.height,\n    channels: image.channels,\n    depth: image.bitDepth,\n    data: image.data,\n  };\n\n  if (data.depth === 1 || data.depth === 32) {\n    data.depth = 8;\n    data.channels = 4;\n    data.data = image.getRGBAData();\n  }\n\n  return realEncodePng(data, options);\n}\n\nconst exportMethods = {\n  /**\n   * Save the image to disk (Node.js only)\n   * @memberof Image\n   * @instance\n   * @param {string} path\n   * @param {object} [options]\n   * @param {string} [options.format] - One of: png, jpg, bmp (limited support for bmp). If not specified will try to infer from filename\n   * @param {boolean} [options.useCanvas=false] - Force use of the canvas API to save the image instead of a JavaScript implementation\n   * @param {object} [options.encoder] - Specify options for the encoder if applicable.\n   * @return {Promise} - Resolves when the file is fully written\n   */\n  save(path, options = {}) {\n    const { useCanvas = false, encoder: encoderOptions = undefined } = options;\n\n    let { format } = options;\n    if (!format) {\n      // try to infer format from filename\n      const m = /\\.(?<format>[a-zA-Z]+)$/.exec(path);\n      if (m) {\n        format = m.groups.format.toLowerCase();\n      }\n    }\n    if (!format) {\n      throw new Error('file format not provided');\n    }\n    return new Promise((resolve, reject) => {\n      let stream, buffer;\n      switch (format.toLowerCase()) {\n        case 'png': {\n          if (useCanvas) {\n            stream = this.getCanvas().pngStream();\n          } else {\n            buffer = encodePng(this, encoderOptions);\n          }\n          break;\n        }\n        case 'jpg':\n        case 'jpeg':\n          if (useCanvas) {\n            stream = this.getCanvas().jpegStream();\n          } else {\n            buffer = encodeJpeg(this, encoderOptions);\n          }\n          break;\n        case 'bmp':\n          buffer = encodeBmp(this, encoderOptions);\n          break;\n        default:\n          throw new RangeError(`invalid output format: ${format}`);\n      }\n      if (stream) {\n        let out = createWriteStream(path);\n        out.on('finish', resolve);\n        out.on('error', reject);\n        stream.pipe(out);\n      } else if (buffer) {\n        writeFile(path, buffer, (err) => {\n          if (err) {\n            reject(err);\n            return;\n          }\n          resolve();\n        });\n      }\n    });\n  },\n\n  /**\n   * Creates a dataURL string from the image.\n   * @memberof Image\n   * @instance\n   * @param {string} [type='image/png']\n   * @param {object} [options]\n   * @param {boolean} [options.useCanvas=false] - Force use of the canvas API to save the image instead of JavaScript implementation.\n   * @param {object} [options.encoder] - Specify options for the encoder if applicable.\n   * @return {string|Promise<string>}\n   */\n  toDataURL(type = 'image/png', options = {}) {\n    if (typeof type === 'object') {\n      options = type;\n      type = 'image/png';\n    }\n    const { useCanvas = false, encoder: encoderOptions = undefined } = options;\n    type = getType(type);\n\n    function dataUrl(encoder, ctx) {\n      const u8 = encoder(ctx, encoderOptions);\n      return toBase64URL(u8, type);\n    }\n\n    if (type === 'image/bmp') {\n      return dataUrl(encodeBmp, this);\n    } else if (type === 'image/png' && !useCanvas) {\n      return dataUrl(encodePng, this);\n    } else if (type === 'image/jpeg' && !useCanvas) {\n      return dataUrl(encodeJpeg, this);\n    } else {\n      return this.getCanvas().toDataURL(type);\n    }\n  },\n\n  /**\n   * Encodes the image and returns a buffer\n   * @memberof Image\n   * @instance\n   * @param {object} [options]\n   * @param {string} [options.format='png']\n   * @param {object} [options.encoder] - Specify options for the encoder if applicable.\n   * @return {Uint8Array}\n   */\n  toBuffer(options = {}) {\n    const { format = 'png', encoder: encoderOptions = undefined } = options;\n    switch (format.toLowerCase()) {\n      case 'png':\n        return encodePng(this, encoderOptions);\n      case 'jpeg':\n      case 'jpg':\n        return encodeJpeg(this, encoderOptions);\n      case 'bmp':\n        return encodeBmp(this, encoderOptions);\n      default:\n        throw new RangeError(`invalid output format: ${format}`);\n    }\n  },\n\n  /**\n   * Creates a base64 string from the image.\n   * @memberof Image\n   * @instance\n   * @param {string} [type='image/png']\n   * @param {object} [options] - Same options as toDataURL\n   * @return {string|Promise<string>}\n   */\n  toBase64(type = 'image/png', options = {}) {\n    if (options.async) {\n      return this.toDataURL(type, options).then(function (dataURL) {\n        return dataURL.substring(dataURL.indexOf(',') + 1);\n      });\n    } else {\n      const dataURL = this.toDataURL(type, options);\n      return dataURL.substring(dataURL.indexOf(',') + 1);\n    }\n  },\n\n  /**\n   * Creates a blob from the image and return a Promise.\n   * This function is only available in the browser.\n   * @memberof Image\n   * @instance\n   * @param {string} [type='image/png'] A String indicating the image format. The default type is image/png.\n   * @param {string} [quality=0.8] A Number between 0 and 1 indicating image quality if the requested type is image/jpeg or image/webp. If this argument is anything else, the default value for image quality is used. Other arguments are ignored.\n   * @return {Promise}\n   */\n  toBlob(type = 'image/png', quality = 0.8) {\n    return canvasToBlob(this.getCanvas(), type, quality);\n  },\n\n  /**\n   * Creates a new canvas element and draw the image inside it\n   * @memberof Image\n   * @instance\n   * @return {Canvas}\n   */\n  getCanvas() {\n    const data = new ImageData(\n      this.getRGBAData({ clamped: true }),\n      this.width,\n      this.height,\n    );\n    let canvas = createCanvas(this.width, this.height);\n    let ctx = canvas.getContext('2d');\n    ctx.putImageData(data, 0, 0);\n    return canvas;\n  },\n};\n\nexport default function setExportMethods(Image) {\n  for (const i in exportMethods) {\n    Image.prototype[i] = exportMethods[i];\n  }\n}\n","import PngDecoder from './PngDecoder';\nimport PngEncoder from './PngEncoder';\nimport {\n  DecoderInputType,\n  PngDecoderOptions,\n  DecodedPng,\n  ImageData,\n  PngEncoderOptions,\n} from './types';\n\nexport * from './types';\n\nfunction decodePng(\n  data: DecoderInputType,\n  options?: PngDecoderOptions,\n): DecodedPng {\n  const decoder = new PngDecoder(data, options);\n  return decoder.decode();\n}\n\nfunction encodePng(png: ImageData, options?: PngEncoderOptions): Uint8Array {\n  const encoder = new PngEncoder(png, options);\n  return encoder.encode();\n}\n\nexport { decodePng as decode, encodePng as encode };\n","export function getType(type) {\n  if (!type.includes('/')) {\n    type = `image/${type}`;\n  }\n  return type;\n}\n","import hasOwn from 'has-own';\n\nimport Image from '../Image';\n\nlet computedPropertyDescriptor = {\n  configurable: true,\n  enumerable: false,\n  get: undefined,\n};\n\nexport function extendMethod(name, method, options = {}) {\n  let { inPlace = false, returnThis = true, partialArgs = [] } = options;\n\n  if (inPlace) {\n    Image.prototype[name] = function (...args) {\n      // remove computed properties\n      this.computed = null;\n      let result = method.apply(this, [...partialArgs, ...args]);\n      if (returnThis) {\n        return this;\n      }\n      return result;\n    };\n  } else {\n    Image.prototype[name] = function (...args) {\n      return method.apply(this, [...partialArgs, ...args]);\n    };\n  }\n  return Image;\n}\n\nexport function extendProperty(name, method, options = {}) {\n  let { partialArgs = [] } = options;\n\n  computedPropertyDescriptor.get = function () {\n    if (this.computed === null) {\n      this.computed = {};\n    } else if (hasOwn(name, this.computed)) {\n      return this.computed[name];\n    }\n    let result = method.apply(this, partialArgs);\n    this.computed[name] = result;\n    return result;\n  };\n  Object.defineProperty(Image.prototype, name, computedPropertyDescriptor);\n  return Image;\n}\n","/**\n * Color model of an image\n * @typedef {('GREY'|'RGB'|'HSL'|'HSV'|'CMYK')} ColorModel\n */\n\nexport const GREY = 'GREY';\nexport const RGB = 'RGB';\nexport const HSL = 'HSL';\nexport const HSV = 'HSV';\nexport const CMYK = 'CMYK';\n","// Shortcuts for common image kinds\n\nexport const BINARY = 'BINARY';\nexport const GREY = 'GREY';\nexport const GREYA = 'GREYA';\nexport const RGB = 'RGB';\nexport const RGBA = 'RGBA';\nexport const CMYK = 'CMYK';\nexport const CMYKA = 'CMYKA';\n","import * as ColorModel from '../model/model';\n\nimport * as Kind from './kindNames';\n\nconst kinds = {};\n\nkinds[Kind.BINARY] = {\n  components: 1,\n  alpha: 0,\n  bitDepth: 1,\n  colorModel: ColorModel.GREY,\n};\n\nkinds[Kind.GREYA] = {\n  components: 1,\n  alpha: 1,\n  bitDepth: 8,\n  colorModel: ColorModel.GREY,\n};\n\nkinds[Kind.GREY] = {\n  components: 1,\n  alpha: 0,\n  bitDepth: 8,\n  colorModel: ColorModel.GREY,\n};\n\nkinds[Kind.RGBA] = {\n  components: 3,\n  alpha: 1,\n  bitDepth: 8,\n  colorModel: ColorModel.RGB,\n};\n\nkinds[Kind.RGB] = {\n  components: 3,\n  alpha: 0,\n  bitDepth: 8,\n  colorModel: ColorModel.RGB,\n};\n\nkinds[Kind.CMYK] = {\n  components: 4,\n  alpha: 0,\n  bitDepth: 8,\n  colorModel: ColorModel.CMYK,\n};\n\nkinds[Kind.CMYKA] = {\n  components: 4,\n  alpha: 1,\n  bitDepth: 8,\n  colorModel: ColorModel.CMYK,\n};\n\nexport function getKind(kind) {\n  const result = kinds[kind];\n  if (!result) {\n    throw new RangeError(`invalid image kind: ${kind}`);\n  }\n  return result;\n}\nconst validBitDepth = [1, 8, 16, 32];\nexport function verifyKindDefinition(definition) {\n  const { components, alpha, bitDepth, colorModel } = definition;\n  if (!Number.isInteger(components) || components <= 0) {\n    throw new RangeError(\n      `invalid components: ${components}. Must be a positive integer`,\n    );\n  }\n  if (alpha !== 0 && alpha !== 1 && typeof alpha !== 'boolean') {\n    throw new TypeError(`invalid alpha: ${alpha}: must be a boolean, 0 or 1`);\n  }\n  if (!validBitDepth.includes(bitDepth)) {\n    throw new RangeError(\n      `invalid bitDepth: ${bitDepth}. Must be one of ${validBitDepth.join(\n        ', ',\n      )}`,\n    );\n  }\n  // eslint-disable-next-line import/namespace\n  if (!ColorModel[colorModel]) {\n    throw new RangeError(\n      `invalid colorModel: ${colorModel}. Must be one of ${Object.keys(\n        ColorModel,\n      ).join(', ')}`,\n    );\n  }\n}\n\nexport function getTheoreticalPixelArraySize(size, channels, bitDepth) {\n  let length = channels * size;\n  if (bitDepth === 1) {\n    length = Math.ceil(length / 8);\n  }\n  return length;\n}\n\nexport function createPixelArray(\n  size,\n  components,\n  alpha,\n  channels,\n  bitDepth,\n  maxValue,\n) {\n  const length = channels * size;\n  let arr;\n  switch (bitDepth) {\n    case 1:\n      arr = new Uint8Array(Math.ceil(length / 8));\n      break;\n    case 8:\n      arr = new Uint8Array(length);\n      break;\n    case 16:\n      arr = new Uint16Array(length);\n      break;\n    case 32:\n      arr = new Float32Array(length);\n      break;\n    default:\n      throw new Error(`Cannot create pixel array for bit depth ${bitDepth}`);\n  }\n\n  // alpha channel is 100% by default\n  if (alpha) {\n    for (let i = components; i < arr.length; i += channels) {\n      arr[i] = maxValue;\n    }\n  }\n\n  return arr;\n}\n","const tagsById: Record<number, string> = {\n  0x829a: 'ExposureTime',\n  0x829d: 'FNumber',\n  0x8822: 'ExposureProgram',\n  0x8824: 'SpectralSensitivity',\n  0x8827: 'ISOSpeedRatings',\n  0x8828: 'OECF',\n  0x8830: 'SensitivityType',\n  0x8831: 'StandardOutputSensitivity',\n  0x8832: 'RecommendedExposureIndex',\n  0x8833: 'ISOSpeed',\n  0x8834: 'ISOSpeedLatitudeyyy',\n  0x8835: 'ISOSpeedLatitudezzz',\n  0x9000: 'ExifVersion',\n  0x9003: 'DateTimeOriginal',\n  0x9004: 'DateTimeDigitized',\n  0x9101: 'ComponentsConfiguration',\n  0x9102: 'CompressedBitsPerPixel',\n  0x9201: 'ShutterSpeedValue',\n  0x9202: 'ApertureValue',\n  0x9203: 'BrightnessValue',\n  0x9204: 'ExposureBiasValue',\n  0x9205: 'MaxApertureValue',\n  0x9206: 'SubjectDistance',\n  0x9207: 'MeteringMode',\n  0x9208: 'LightSource',\n  0x9209: 'Flash',\n  0x920a: 'FocalLength',\n  0x9214: 'SubjectArea',\n  0x927c: 'MakerNote',\n  0x9286: 'UserComment',\n  0x9290: 'SubsecTime',\n  0x9291: 'SubsecTimeOriginal',\n  0x9292: 'SubsecTimeDigitized',\n  0xa000: 'FlashpixVersion',\n  0xa001: 'ColorSpace',\n  0xa002: 'PixelXDimension',\n  0xa003: 'PixelYDimension',\n  0xa004: 'RelatedSoundFile',\n  0xa20b: 'FlashEnergy',\n  0xa20c: 'SpatialFrequencyResponse',\n  0xa20e: 'FocalPlaneXResolution',\n  0xa20f: 'FocalPlaneYResolution',\n  0xa210: 'FocalPlaneResolutionUnit',\n  0xa214: 'SubjectLocation',\n  0xa215: 'ExposureIndex',\n  0xa217: 'SensingMethod',\n  0xa300: 'FileSource',\n  0xa301: 'SceneType',\n  0xa302: 'CFAPattern',\n  0xa401: 'CustomRendered',\n  0xa402: 'ExposureMode',\n  0xa403: 'WhiteBalance',\n  0xa404: 'DigitalZoomRatio',\n  0xa405: 'FocalLengthIn35mmFilm',\n  0xa406: 'SceneCaptureType',\n  0xa407: 'GainControl',\n  0xa408: 'Contrast',\n  0xa409: 'Saturation',\n  0xa40a: 'Sharpness',\n  0xa40b: 'DeviceSettingDescription',\n  0xa40c: 'SubjectDistanceRange',\n  0xa420: 'ImageUniqueID',\n  0xa430: 'CameraOwnerName',\n  0xa431: 'BodySerialNumber',\n  0xa432: 'LensSpecification',\n  0xa433: 'LensMake',\n  0xa434: 'LensModel',\n  0xa435: 'LensSerialNumber',\n  0xa500: 'Gamma',\n};\n\nconst tagsByName: Record<string, number> = {};\nfor (let i in tagsById) {\n  tagsByName[tagsById[i]] = Number(i);\n}\n\nexport { tagsById, tagsByName };\n","const tagsById: Record<number, string> = {\n  0x0000: 'GPSVersionID',\n  0x0001: 'GPSLatitudeRef',\n  0x0002: 'GPSLatitude',\n  0x0003: 'GPSLongitudeRef',\n  0x0004: 'GPSLongitude',\n  0x0005: 'GPSAltitudeRef',\n  0x0006: 'GPSAltitude',\n  0x0007: 'GPSTimeStamp',\n  0x0008: 'GPSSatellites',\n  0x0009: 'GPSStatus',\n  0x000a: 'GPSMeasureMode',\n  0x000b: 'GPSDOP',\n  0x000c: 'GPSSpeedRef',\n  0x000d: 'GPSSpeed',\n  0x000e: 'GPSTrackRef',\n  0x000f: 'GPSTrack',\n  0x0010: 'GPSImgDirectionRef',\n  0x0011: 'GPSImgDirection',\n  0x0012: 'GPSMapDatum',\n  0x0013: 'GPSDestLatitudeRef',\n  0x0014: 'GPSDestLatitude',\n  0x0015: 'GPSDestLongitudeRef',\n  0x0016: 'GPSDestLongitude',\n  0x0017: 'GPSDestBearingRef',\n  0x0018: 'GPSDestBearing',\n  0x0019: 'GPSDestDistanceRef',\n  0x001a: 'GPSDestDistance',\n  0x001b: 'GPSProcessingMethod',\n  0x001c: 'GPSAreaInformation',\n  0x001d: 'GPSDateStamp',\n  0x001e: 'GPSDifferential',\n  0x001f: 'GPSHPositioningError',\n};\n\nconst tagsByName: Record<string, number> = {};\nfor (let i in tagsById) {\n  tagsByName[tagsById[i]] = Number(i);\n}\n\nexport { tagsById, tagsByName };\n","const tagsById: Record<number, string> = {\n  // Baseline tags\n  0x00fe: 'NewSubfileType',\n  0x00ff: 'SubfileType',\n  0x0100: 'ImageWidth',\n  0x0101: 'ImageLength',\n  0x0102: 'BitsPerSample',\n  0x0103: 'Compression',\n  0x0106: 'PhotometricInterpretation',\n  0x0107: 'Threshholding',\n  0x0108: 'CellWidth',\n  0x0109: 'CellLength',\n  0x010a: 'FillOrder',\n  0x010e: 'ImageDescription',\n  0x010f: 'Make',\n  0x0110: 'Model',\n  0x0111: 'StripOffsets',\n  0x0112: 'Orientation',\n  0x0115: 'SamplesPerPixel',\n  0x0116: 'RowsPerStrip',\n  0x0117: 'StripByteCounts',\n  0x0118: 'MinSampleValue',\n  0x0119: 'MaxSampleValue',\n  0x011a: 'XResolution',\n  0x011b: 'YResolution',\n  0x011c: 'PlanarConfiguration',\n  0x0120: 'FreeOffsets',\n  0x0121: 'FreeByteCounts',\n  0x0122: 'GrayResponseUnit',\n  0x0123: 'GrayResponseCurve',\n  0x0128: 'ResolutionUnit',\n  0x0131: 'Software',\n  0x0132: 'DateTime',\n  0x013b: 'Artist',\n  0x013c: 'HostComputer',\n  0x0140: 'ColorMap',\n  0x0152: 'ExtraSamples',\n  0x8298: 'Copyright',\n\n  // Extension tags\n  0x010d: 'DocumentName',\n  0x011d: 'PageName',\n  0x011e: 'XPosition',\n  0x011f: 'YPosition',\n  0x0124: 'T4Options',\n  0x0125: 'T6Options',\n  0x0129: 'PageNumber',\n  0x012d: 'TransferFunction',\n  0x013d: 'Predictor',\n  0x013e: 'WhitePoint',\n  0x013f: 'PrimaryChromaticities',\n  0x0141: 'HalftoneHints',\n  0x0142: 'TileWidth',\n  0x0143: 'TileLength',\n  0x0144: 'TileOffsets',\n  0x0145: 'TileByteCounts',\n  0x0146: 'BadFaxLines',\n  0x0147: 'CleanFaxData',\n  0x0148: 'ConsecutiveBadFaxLines',\n  0x014a: 'SubIFDs',\n  0x014c: 'InkSet',\n  0x014d: 'InkNames',\n  0x014e: 'NumberOfInks',\n  0x0150: 'DotRange',\n  0x0151: 'TargetPrinter',\n  0x0153: 'SampleFormat',\n  0x0154: 'SMinSampleValue',\n  0x0155: 'SMaxSampleValue',\n  0x0156: 'TransferRange',\n  0x0157: 'ClipPath',\n  0x0158: 'XClipPathUnits',\n  0x0159: 'YClipPathUnits',\n  0x015a: 'Indexed',\n  0x015b: 'JPEGTables',\n  0x015f: 'OPIProxy',\n  0x0190: 'GlobalParametersIFD',\n  0x0191: 'ProfileType',\n  0x0192: 'FaxProfile',\n  0x0193: 'CodingMethods',\n  0x0194: 'VersionYear',\n  0x0195: 'ModeNumber',\n  0x01b1: 'Decode',\n  0x01b2: 'DefaultImageColor',\n  0x0200: 'JPEGProc',\n  0x0201: 'JPEGInterchangeFormat',\n  0x0202: 'JPEGInterchangeFormatLength',\n  0x0203: 'JPEGRestartInterval',\n  0x0205: 'JPEGLosslessPredictors',\n  0x0206: 'JPEGPointTransforms',\n  0x0207: 'JPEGQTables',\n  0x0208: 'JPEGDCTables',\n  0x0209: 'JPEGACTables',\n  0x0211: 'YCbCrCoefficients',\n  0x0212: 'YCbCrSubSampling',\n  0x0213: 'YCbCrPositioning',\n  0x0214: 'ReferenceBlackWhite',\n  0x022f: 'StripRowCounts',\n  0x02bc: 'XMP',\n  0x800d: 'ImageID',\n  0x87ac: 'ImageLayer',\n\n  // Private tags\n  0x80a4: 'WangAnnotatio',\n  0x82a5: 'MDFileTag',\n  0x82a6: 'MDScalePixel',\n  0x82a7: 'MDColorTable',\n  0x82a8: 'MDLabName',\n  0x82a9: 'MDSampleInfo',\n  0x82aa: 'MDPrepDate',\n  0x82ab: 'MDPrepTime',\n  0x82ac: 'MDFileUnits',\n  0x830e: 'ModelPixelScaleTag',\n  0x83bb: 'IPTC',\n  0x847e: 'INGRPacketDataTag',\n  0x847f: 'INGRFlagRegisters',\n  0x8480: 'IrasBTransformationMatrix',\n  0x8482: 'ModelTiepointTag',\n  0x85d8: 'ModelTransformationTag',\n  0x8649: 'Photoshop',\n  0x8769: 'ExifIFD',\n  0x8773: 'ICCProfile',\n  0x87af: 'GeoKeyDirectoryTag',\n  0x87b0: 'GeoDoubleParamsTag',\n  0x87b1: 'GeoAsciiParamsTag',\n  0x8825: 'GPSIFD',\n  0x885c: 'HylaFAXFaxRecvParams',\n  0x885d: 'HylaFAXFaxSubAddress',\n  0x885e: 'HylaFAXFaxRecvTime',\n  0x935c: 'ImageSourceData',\n  0xa005: 'InteroperabilityIFD',\n  0xa480: 'GDAL_METADATA',\n  0xa481: 'GDAL_NODATA',\n  0xc427: 'OceScanjobDescription',\n  0xc428: 'OceApplicationSelector',\n  0xc429: 'OceIdentificationNumber',\n  0xc42a: 'OceImageLogicCharacteristics',\n  0xc612: 'DNGVersion',\n  0xc613: 'DNGBackwardVersion',\n  0xc614: 'UniqueCameraModel',\n  0xc615: 'LocalizedCameraModel',\n  0xc616: 'CFAPlaneColor',\n  0xc617: 'CFALayout',\n  0xc618: 'LinearizationTable',\n  0xc619: 'BlackLevelRepeatDim',\n  0xc61a: 'BlackLevel',\n  0xc61b: 'BlackLevelDeltaH',\n  0xc61c: 'BlackLevelDeltaV',\n  0xc61d: 'WhiteLevel',\n  0xc61e: 'DefaultScale',\n  0xc61f: 'DefaultCropOrigin',\n  0xc620: 'DefaultCropSize',\n  0xc621: 'ColorMatrix1',\n  0xc622: 'ColorMatrix2',\n  0xc623: 'CameraCalibration1',\n  0xc624: 'CameraCalibration2',\n  0xc625: 'ReductionMatrix1',\n  0xc626: 'ReductionMatrix2',\n  0xc627: 'AnalogBalance',\n  0xc628: 'AsShotNeutral',\n  0xc629: 'AsShotWhiteXY',\n  0xc62a: 'BaselineExposure',\n  0xc62b: 'BaselineNoise',\n  0xc62c: 'BaselineSharpness',\n  0xc62d: 'BayerGreenSplit',\n  0xc62e: 'LinearResponseLimit',\n  0xc62f: 'CameraSerialNumber',\n  0xc630: 'LensInfo',\n  0xc631: 'ChromaBlurRadius',\n  0xc632: 'AntiAliasStrength',\n  0xc634: 'DNGPrivateData',\n  0xc635: 'MakerNoteSafety',\n  0xc65a: 'CalibrationIlluminant1',\n  0xc65b: 'CalibrationIlluminant2',\n  0xc65c: 'BestQualityScale',\n  0xc660: 'AliasLayerMetadata',\n};\n\nconst tagsByName: Record<string, number> = {};\nfor (let i in tagsById) {\n  tagsByName[tagsById[i]] = Number(i);\n}\n\nexport { tagsById, tagsByName };\n","import * as exif from './tags/exif';\nimport * as gps from './tags/gps';\nimport * as standard from './tags/standard';\nimport { IFDKind, DataArray } from './types';\n\nconst tags = {\n  standard,\n  exif,\n  gps,\n};\n\nexport default class IFD {\n  public kind: IFDKind;\n  public data: DataArray;\n  public fields: Map<number, any>;\n  public exif: IFD | undefined;\n  public gps: IFD | undefined;\n\n  private _hasMap: boolean;\n  private _map: any;\n\n  public constructor(kind: IFDKind) {\n    if (!kind) {\n      throw new Error('missing kind');\n    }\n    this.data = new Uint8Array();\n    this.fields = new Map();\n    this.kind = kind;\n    this._hasMap = false;\n    this._map = {};\n  }\n\n  public get(tag: number | string): any {\n    if (typeof tag === 'number') {\n      return this.fields.get(tag);\n    } else if (typeof tag === 'string') {\n      return this.fields.get(tags[this.kind].tagsByName[tag]);\n    } else {\n      throw new Error('expected a number or string');\n    }\n  }\n\n  public get map(): Record<string, any> {\n    if (!this._hasMap) {\n      const taglist = tags[this.kind].tagsById;\n      for (let key of this.fields.keys()) {\n        if (taglist[key]) {\n          this._map[taglist[key]] = this.fields.get(key);\n        }\n      }\n      this._hasMap = true;\n    }\n    return this._map;\n  }\n}\n","import TIFFDecoder from './tiffDecoder';\n\nlet types = new Map<\n  number,\n  [number, (decoder: TIFFDecoder, count: number) => any]\n>([\n  [1, [1, readByte]], // BYTE\n  [2, [1, readASCII]], // ASCII\n  [3, [2, readShort]], // SHORT\n  [4, [4, readLong]], // LONG\n  [5, [8, readRational]], // RATIONAL\n  [6, [1, readSByte]], // SBYTE\n  [7, [1, readByte]], // UNDEFINED\n  [8, [2, readSShort]], // SSHORT\n  [9, [4, readSLong]], // SLONG\n  [10, [8, readSRational]], // SRATIONAL\n  [11, [4, readFloat]], // FLOAT\n  [12, [8, readDouble]], // DOUBLE\n]);\n\nexport function getByteLength(type: number, count: number): number {\n  const val = types.get(type);\n  if (!val) throw new Error(`type not found: ${type}`);\n  return val[0] * count;\n}\n\nexport function readData(\n  decoder: TIFFDecoder,\n  type: number,\n  count: number,\n): any {\n  const val = types.get(type);\n  if (!val) throw new Error(`type not found: ${type}`);\n  return val[1](decoder, count);\n}\n\nfunction readByte(decoder: TIFFDecoder, count: number): number | Uint8Array {\n  if (count === 1) return decoder.readUint8();\n  let array = new Uint8Array(count);\n  for (let i = 0; i < count; i++) {\n    array[i] = decoder.readUint8();\n  }\n  return array;\n}\n\nfunction readASCII(decoder: TIFFDecoder, count: number): string | string[] {\n  let strings = [];\n  let currentString = '';\n  for (let i = 0; i < count; i++) {\n    let char = String.fromCharCode(decoder.readUint8());\n    if (char === '\\0') {\n      strings.push(currentString);\n      currentString = '';\n    } else {\n      currentString += char;\n    }\n  }\n  if (strings.length === 1) {\n    return strings[0];\n  } else {\n    return strings;\n  }\n}\n\nfunction readShort(decoder: TIFFDecoder, count: number): number | Uint16Array {\n  if (count === 1) return decoder.readUint16();\n  let array = new Uint16Array(count);\n  for (let i = 0; i < count; i++) {\n    array[i] = decoder.readUint16();\n  }\n  return array;\n}\n\nfunction readLong(decoder: TIFFDecoder, count: number): number | Uint32Array {\n  if (count === 1) return decoder.readUint32();\n  let array = new Uint32Array(count);\n  for (let i = 0; i < count; i++) {\n    array[i] = decoder.readUint32();\n  }\n  return array;\n}\n\nfunction readRational(decoder: TIFFDecoder, count: number): number | number[] {\n  if (count === 1) {\n    return decoder.readUint32() / decoder.readUint32();\n  }\n  let rationals = new Array(count);\n  for (let i = 0; i < count; i++) {\n    rationals[i] = decoder.readUint32() / decoder.readUint32();\n  }\n  return rationals;\n}\n\nfunction readSByte(decoder: TIFFDecoder, count: number): number | Int8Array {\n  if (count === 1) return decoder.readInt8();\n  let array = new Int8Array(count);\n  for (let i = 0; i < count; i++) {\n    array[i] = decoder.readInt8();\n  }\n  return array;\n}\n\nfunction readSShort(decoder: TIFFDecoder, count: number): number | Int16Array {\n  if (count === 1) return decoder.readInt16();\n  let array = new Int16Array(count);\n  for (let i = 0; i < count; i++) {\n    array[i] = decoder.readInt16();\n  }\n  return array;\n}\n\nfunction readSLong(decoder: TIFFDecoder, count: number): number | Int32Array {\n  if (count === 1) return decoder.readInt32();\n  let array = new Int32Array(count);\n  for (let i = 0; i < count; i++) {\n    array[i] = decoder.readInt32();\n  }\n  return array;\n}\n\nfunction readSRational(decoder: TIFFDecoder, count: number): number | number[] {\n  if (count === 1) {\n    return decoder.readInt32() / decoder.readInt32();\n  }\n  let rationals = new Array(count);\n  for (let i = 0; i < count; i++) {\n    rationals[i] = decoder.readInt32() / decoder.readInt32();\n  }\n  return rationals;\n}\n\nfunction readFloat(decoder: TIFFDecoder, count: number): number | Float32Array {\n  if (count === 1) return decoder.readFloat32();\n  let array = new Float32Array(count);\n  for (let i = 0; i < count; i++) {\n    array[i] = decoder.readFloat32();\n  }\n  return array;\n}\n\nfunction readDouble(\n  decoder: TIFFDecoder,\n  count: number,\n): number | Float64Array {\n  if (count === 1) return decoder.readFloat64();\n  let array = new Float64Array(count);\n  for (let i = 0; i < count; i++) {\n    array[i] = decoder.readFloat64();\n  }\n  return array;\n}\n","import { IOBuffer } from 'iobuffer';\n\nconst CLEAR_CODE = 256;\nconst EOI_CODE = 257;\n// 0-255 from the table + 256 for clear code + 257 for end of information code.\nconst TABLE_START = 258;\nconst MIN_BIT_LENGTH = 9;\n\nlet stringTable: number[][] = [];\nfunction initializeStringTable() {\n  if (stringTable.length === 0) {\n    for (let i = 0; i < 256; i++) {\n      stringTable.push([i]);\n    }\n    // Fill the table with dummy data.\n    // Elements at indices > 257 will be replaced during decompression.\n    const dummyString: number[] = [];\n    for (let i = 256; i < 4096; i++) {\n      stringTable.push(dummyString);\n    }\n  }\n}\n\nconst andTable = [511, 1023, 2047, 4095];\nconst bitJumps = [0, 0, 0, 0, 0, 0, 0, 0, 0, 511, 1023, 2047, 4095];\n\nclass LzwDecoder {\n  private stripArray: Uint8Array;\n  private nextData = 0;\n  private nextBits = 0;\n  private bytePointer = 0;\n  private tableLength = TABLE_START;\n  private currentBitLength = MIN_BIT_LENGTH;\n  private outData: IOBuffer;\n\n  public constructor(data: DataView) {\n    this.stripArray = new Uint8Array(\n      data.buffer,\n      data.byteOffset,\n      data.byteLength,\n    );\n    this.outData = new IOBuffer(data.byteLength);\n    this.initializeTable();\n  }\n\n  public decode(): DataView {\n    let code = 0;\n    let oldCode = 0;\n    while ((code = this.getNextCode()) !== EOI_CODE) {\n      if (code === CLEAR_CODE) {\n        this.initializeTable();\n        code = this.getNextCode();\n        if (code === EOI_CODE) {\n          break;\n        }\n        this.writeString(this.stringFromCode(code));\n        oldCode = code;\n      } else if (this.isInTable(code)) {\n        this.writeString(this.stringFromCode(code));\n        this.addStringToTable(\n          this.stringFromCode(oldCode).concat(this.stringFromCode(code)[0]),\n        );\n        oldCode = code;\n      } else {\n        const outString = this.stringFromCode(oldCode).concat(\n          this.stringFromCode(oldCode)[0],\n        );\n        this.writeString(outString);\n        this.addStringToTable(outString);\n        oldCode = code;\n      }\n    }\n    const outArray = this.outData.toArray();\n\n    return new DataView(\n      outArray.buffer,\n      outArray.byteOffset,\n      outArray.byteLength,\n    );\n  }\n\n  private initializeTable(): void {\n    initializeStringTable();\n    this.tableLength = TABLE_START;\n    this.currentBitLength = MIN_BIT_LENGTH;\n  }\n\n  private writeString(string: number[]): void {\n    this.outData.writeBytes(string);\n  }\n\n  private stringFromCode(code: number): number[] {\n    // At this point, `code` must be defined in the table.\n    return stringTable[code];\n  }\n\n  private isInTable(code: number): boolean {\n    return code < this.tableLength;\n  }\n\n  private addStringToTable(string: number[]): void {\n    stringTable[this.tableLength++] = string;\n    if (stringTable.length > 4096) {\n      stringTable = [];\n      throw new Error(\n        'LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).',\n      );\n    }\n    if (this.tableLength === bitJumps[this.currentBitLength]) {\n      this.currentBitLength++;\n    }\n  }\n\n  private getNextCode(): number {\n    this.nextData =\n      (this.nextData << 8) | (this.stripArray[this.bytePointer++] & 0xff);\n    this.nextBits += 8;\n\n    if (this.nextBits < this.currentBitLength) {\n      this.nextData =\n        (this.nextData << 8) | (this.stripArray[this.bytePointer++] & 0xff);\n      this.nextBits += 8;\n    }\n\n    const code =\n      (this.nextData >> (this.nextBits - this.currentBitLength)) &\n      andTable[this.currentBitLength - 9];\n    this.nextBits -= this.currentBitLength;\n\n    // This should not really happen but is present in other codes as well.\n    // See: https://github.com/sugark/Tiffus/blob/15a60123813d1612f4ae9e4fab964f9f7d71cf63/src/org/eclipse/swt/internal/image/TIFFLZWDecoder.java\n    if (this.bytePointer > this.stripArray.length) {\n      return 257;\n    }\n\n    return code;\n  }\n}\n\nexport function decompressLzw(stripData: DataView): DataView {\n  return new LzwDecoder(stripData).decode();\n}\n","import Ifd from './ifd';\n\n// eslint-disable-next-line prefer-named-capture-group\nconst dateTimeRegex = /^(\\d{4}):(\\d{2}):(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})$/;\n\nexport default class TiffIfd extends Ifd {\n  public constructor() {\n    super('standard');\n  }\n\n  // Custom fields\n  public get size(): number {\n    return this.width * this.height;\n  }\n  public get width(): number {\n    return this.imageWidth;\n  }\n  public get height(): number {\n    return this.imageLength;\n  }\n  public get components(): number {\n    return this.samplesPerPixel;\n  }\n  public get date(): Date {\n    let date = new Date();\n    let result = dateTimeRegex.exec(this.dateTime);\n    if (result === null) {\n      throw new Error(`invalid dateTime: ${this.dateTime}`);\n    }\n    date.setFullYear(\n      Number(result[1]),\n      Number(result[2]) - 1,\n      Number(result[3]),\n    );\n    date.setHours(Number(result[4]), Number(result[5]), Number(result[6]));\n    return date;\n  }\n\n  // IFD fields\n  public get newSubfileType(): number {\n    return this.get('NewSubfileType');\n  }\n  public get imageWidth(): number {\n    return this.get('ImageWidth');\n  }\n  public get imageLength(): number {\n    return this.get('ImageLength');\n  }\n  public get bitsPerSample(): number {\n    const data = this.get('BitsPerSample');\n    if (data && typeof data !== 'number') {\n      return data[0];\n    }\n    return data;\n  }\n  public get alpha(): boolean {\n    const extraSamples = this.extraSamples;\n    if (!extraSamples) return false;\n    return extraSamples[0] !== 0;\n  }\n  public get associatedAlpha(): boolean {\n    const extraSamples = this.extraSamples;\n    if (!extraSamples) return false;\n    return extraSamples[0] === 1;\n  }\n  public get extraSamples(): number[] | undefined {\n    return alwaysArray(this.get('ExtraSamples'));\n  }\n  public get compression(): number {\n    return this.get('Compression') || 1;\n  }\n  public get type(): number {\n    return this.get('PhotometricInterpretation');\n  }\n  public get fillOrder(): number {\n    return this.get('FillOrder') || 1;\n  }\n  public get documentName(): string | undefined {\n    return this.get('DocumentName');\n  }\n  public get imageDescription(): string | undefined {\n    return this.get('ImageDescription');\n  }\n  public get stripOffsets(): number[] {\n    return alwaysArray(this.get('StripOffsets'));\n  }\n  public get orientation(): number {\n    return this.get('Orientation');\n  }\n  public get samplesPerPixel(): number {\n    return this.get('SamplesPerPixel') || 1;\n  }\n  public get rowsPerStrip(): number {\n    return this.get('RowsPerStrip');\n  }\n  public get stripByteCounts(): number[] {\n    return alwaysArray(this.get('StripByteCounts'));\n  }\n  public get minSampleValue(): number {\n    return this.get('MinSampleValue') || 0;\n  }\n  public get maxSampleValue(): number {\n    return this.get('MaxSampleValue') || Math.pow(2, this.bitsPerSample) - 1;\n  }\n  public get xResolution(): number {\n    return this.get('XResolution');\n  }\n  public get yResolution(): number {\n    return this.get('YResolution');\n  }\n  public get planarConfiguration(): number {\n    return this.get('PlanarConfiguration') || 1;\n  }\n  public get resolutionUnit(): number {\n    return this.get('ResolutionUnit') || 2;\n  }\n  public get dateTime(): string {\n    return this.get('DateTime');\n  }\n  public get predictor(): number {\n    return this.get('Predictor') || 1;\n  }\n  public get sampleFormat(): number {\n    return this.get('SampleFormat') || 1;\n  }\n  public get sMinSampleValue(): number {\n    return this.get('SMinSampleValue') || this.minSampleValue;\n  }\n  public get sMaxSampleValue(): number {\n    return this.get('SMaxSampleValue') || this.maxSampleValue;\n  }\n  public get palette(): [number, number, number][] | undefined {\n    const totalColors = 2 ** this.bitsPerSample;\n    const colorMap: number[] = this.get('ColorMap');\n    if (!colorMap) return undefined;\n    if (colorMap.length !== 3 * totalColors) {\n      throw new Error(`ColorMap size must be ${totalColors}`);\n    }\n    const palette: [number, number, number][] = [];\n    for (let i = 0; i < totalColors; i++) {\n      palette.push([\n        colorMap[i],\n        colorMap[i + totalColors],\n        colorMap[i + 2 * totalColors],\n      ]);\n    }\n    return palette;\n  }\n}\n\nfunction alwaysArray(value: number | number[]): number[] {\n  if (typeof value === 'number') return [value];\n  return value;\n}\n","import { inflate } from 'pako';\n\nexport function decompressZlib(stripData: DataView): DataView {\n  const stripUint8 = new Uint8Array(\n    stripData.buffer,\n    stripData.byteOffset,\n    stripData.byteLength,\n  );\n  const inflated = inflate(stripUint8);\n  return new DataView(\n    inflated.buffer,\n    inflated.byteOffset,\n    inflated.byteLength,\n  );\n}\n","import { IOBuffer } from 'iobuffer';\n\nimport { guessStripByteCounts } from './hacks';\nimport {\n  applyHorizontalDifferencing8Bit,\n  applyHorizontalDifferencing16Bit,\n} from './horizontalDifferencing';\nimport IFD from './ifd';\nimport { getByteLength, readData } from './ifdValue';\nimport { decompressLzw } from './lzw';\nimport TiffIfd from './tiffIfd';\nimport { BufferType, IDecodeOptions, IFDKind, DataArray } from './types';\nimport { decompressZlib } from './zlib';\n\nconst defaultOptions: IDecodeOptions = {\n  ignoreImageData: false,\n  onlyFirst: false,\n};\n\ninterface IInternalOptions extends IDecodeOptions {\n  kind?: IFDKind;\n}\n\nexport default class TIFFDecoder extends IOBuffer {\n  private _nextIFD: number;\n\n  public constructor(data: BufferType) {\n    super(data);\n    this._nextIFD = 0;\n  }\n\n  public get isMultiPage(): boolean {\n    let c = 0;\n    this.decodeHeader();\n    while (this._nextIFD) {\n      c++;\n      this.decodeIFD({ ignoreImageData: true }, true);\n      if (c === 2) {\n        return true;\n      }\n    }\n    if (c === 1) {\n      return false;\n    }\n    throw unsupported('ifdCount', c);\n  }\n\n  public get pageCount(): number {\n    let c = 0;\n    this.decodeHeader();\n    while (this._nextIFD) {\n      c++;\n      this.decodeIFD({ ignoreImageData: true }, true);\n    }\n    if (c > 0) {\n      return c;\n    }\n    throw unsupported('ifdCount', c);\n  }\n\n  public decode(options: IDecodeOptions = {}): TiffIfd[] {\n    options = Object.assign({}, defaultOptions, options);\n    const result = [];\n    this.decodeHeader();\n    while (this._nextIFD) {\n      result.push(this.decodeIFD(options, true));\n      if (options.onlyFirst) {\n        return [result[0]];\n      }\n    }\n    return result;\n  }\n\n  private decodeHeader(): void {\n    // Byte offset\n    const value = this.readUint16();\n    if (value === 0x4949) {\n      this.setLittleEndian();\n    } else if (value === 0x4d4d) {\n      this.setBigEndian();\n    } else {\n      throw new Error(`invalid byte order: 0x${value.toString(16)}`);\n    }\n\n    // Magic number\n    if (this.readUint16() !== 42) {\n      throw new Error('not a TIFF file');\n    }\n\n    // Offset of the first IFD\n    this._nextIFD = this.readUint32();\n  }\n\n  private decodeIFD(options: IInternalOptions, tiff: true): TiffIfd;\n  private decodeIFD(options: IInternalOptions, tiff: false): IFD;\n  private decodeIFD(options: IInternalOptions, tiff: boolean): TiffIfd | IFD {\n    this.seek(this._nextIFD);\n\n    let ifd: TiffIfd | IFD;\n    if (tiff) {\n      ifd = new TiffIfd();\n    } else {\n      if (!options.kind) {\n        throw new Error(`kind is missing`);\n      }\n      ifd = new IFD(options.kind);\n    }\n\n    const numEntries = this.readUint16();\n    for (let i = 0; i < numEntries; i++) {\n      this.decodeIFDEntry(ifd);\n    }\n    if (!options.ignoreImageData) {\n      if (!(ifd instanceof TiffIfd)) {\n        throw new Error('must be a tiff ifd');\n      }\n      this.decodeImageData(ifd);\n    }\n    this._nextIFD = this.readUint32();\n    return ifd;\n  }\n\n  private decodeIFDEntry(ifd: IFD): void {\n    const offset = this.offset;\n    const tag = this.readUint16();\n    const type = this.readUint16();\n    const numValues = this.readUint32();\n\n    if (type < 1 || type > 12) {\n      this.skip(4); // unknown type, skip this value\n      return;\n    }\n\n    const valueByteLength = getByteLength(type, numValues);\n    if (valueByteLength > 4) {\n      this.seek(this.readUint32());\n    }\n\n    const value = readData(this, type, numValues);\n    ifd.fields.set(tag, value);\n\n    // Read sub-IFDs\n    if (tag === 0x8769 || tag === 0x8825) {\n      let currentOffset = this.offset;\n      let kind: IFDKind = 'exif';\n      if (tag === 0x8769) {\n        kind = 'exif';\n      } else if (tag === 0x8825) {\n        kind = 'gps';\n      }\n      this._nextIFD = value;\n      ifd[kind] = this.decodeIFD(\n        {\n          kind,\n          ignoreImageData: true,\n        },\n        false,\n      );\n      this.offset = currentOffset;\n    }\n\n    // go to the next entry\n    this.seek(offset);\n    this.skip(12);\n  }\n\n  private decodeImageData(ifd: TiffIfd): void {\n    const orientation = ifd.orientation;\n    if (orientation && orientation !== 1) {\n      throw unsupported('orientation', orientation);\n    }\n    switch (ifd.type) {\n      case 0: // WhiteIsZero\n      case 1: // BlackIsZero\n      case 2: // RGB\n      case 3: // Palette color\n        this.readStripData(ifd);\n        break;\n      default:\n        throw unsupported('image type', ifd.type);\n    }\n    this.applyPredictor(ifd);\n    this.convertAlpha(ifd);\n    if (ifd.type === 0) {\n      // WhiteIsZero: we invert the values\n      const bitDepth = ifd.bitsPerSample;\n      const maxValue = Math.pow(2, bitDepth) - 1;\n      for (let i = 0; i < ifd.data.length; i++) {\n        ifd.data[i] = maxValue - ifd.data[i];\n      }\n    }\n  }\n\n  private readStripData(ifd: TiffIfd): void {\n    const width = ifd.width;\n    const height = ifd.height;\n\n    const bitDepth = ifd.bitsPerSample;\n    const sampleFormat = ifd.sampleFormat;\n    const size = width * height * ifd.samplesPerPixel;\n    const data = getDataArray(size, bitDepth, sampleFormat);\n\n    const rowsPerStrip = ifd.rowsPerStrip;\n    const maxPixels = rowsPerStrip * width * ifd.samplesPerPixel;\n    const stripOffsets = ifd.stripOffsets;\n    const stripByteCounts = ifd.stripByteCounts || guessStripByteCounts(ifd);\n\n    let remainingPixels = size;\n    let pixel = 0;\n    for (let i = 0; i < stripOffsets.length; i++) {\n      let stripData = new DataView(\n        this.buffer,\n        this.byteOffset + stripOffsets[i],\n        stripByteCounts[i],\n      );\n\n      // Last strip can be smaller\n      let length = remainingPixels > maxPixels ? maxPixels : remainingPixels;\n      remainingPixels -= length;\n\n      let dataToFill = stripData;\n\n      switch (ifd.compression) {\n        case 1: {\n          // No compression, nothing to do\n          break;\n        }\n        case 5: {\n          // LZW compression\n          dataToFill = decompressLzw(stripData);\n          break;\n        }\n        case 8: {\n          // Zlib compression\n          dataToFill = decompressZlib(stripData);\n          break;\n        }\n        case 2: // CCITT Group 3 1-Dimensional Modified Huffman run length encoding\n          throw unsupported('Compression', 'CCITT Group 3');\n        case 32773: // PackBits compression\n          throw unsupported('Compression', 'PackBits');\n        default:\n          throw unsupported('Compression', ifd.compression);\n      }\n\n      pixel = this.fillUncompressed(\n        bitDepth,\n        sampleFormat,\n        data,\n        dataToFill,\n        pixel,\n        length,\n      );\n    }\n\n    ifd.data = data;\n  }\n\n  private fillUncompressed(\n    bitDepth: number,\n    sampleFormat: number,\n    data: DataArray,\n    stripData: DataView,\n    pixel: number,\n    length: number,\n  ): number {\n    if (bitDepth === 8) {\n      return fill8bit(data, stripData, pixel, length);\n    } else if (bitDepth === 16) {\n      return fill16bit(data, stripData, pixel, length, this.isLittleEndian());\n    } else if (bitDepth === 32 && sampleFormat === 3) {\n      return fillFloat32(data, stripData, pixel, length, this.isLittleEndian());\n    } else {\n      throw unsupported('bitDepth', bitDepth);\n    }\n  }\n\n  private applyPredictor(ifd: TiffIfd): void {\n    const bitDepth = ifd.bitsPerSample;\n    switch (ifd.predictor) {\n      case 1: {\n        // No prediction scheme, nothing to do\n        break;\n      }\n      case 2: {\n        if (bitDepth === 8) {\n          applyHorizontalDifferencing8Bit(\n            ifd.data as Uint8Array,\n            ifd.width,\n            ifd.components,\n          );\n        } else if (bitDepth === 16) {\n          applyHorizontalDifferencing16Bit(\n            ifd.data as Uint16Array,\n            ifd.width,\n            ifd.components,\n          );\n        } else {\n          throw new Error(\n            `Horizontal differencing is only supported for images with a bit depth of ${bitDepth}`,\n          );\n        }\n        break;\n      }\n      default:\n        throw new Error(`invalid predictor: ${ifd.predictor}`);\n    }\n  }\n\n  private convertAlpha(ifd: TiffIfd): void {\n    if (ifd.alpha && ifd.associatedAlpha) {\n      const { data, components, maxSampleValue } = ifd;\n      for (let i = 0; i < data.length; i += components) {\n        const alphaValue = data[i + components - 1];\n        for (let j = 0; j < components - 1; j++) {\n          data[i + j] = Math.round((data[i + j] * maxSampleValue) / alphaValue);\n        }\n      }\n    }\n  }\n}\n\nfunction getDataArray(\n  size: number,\n  bitDepth: number,\n  sampleFormat: number,\n): DataArray {\n  if (bitDepth === 8) {\n    return new Uint8Array(size);\n  } else if (bitDepth === 16) {\n    return new Uint16Array(size);\n  } else if (bitDepth === 32 && sampleFormat === 3) {\n    return new Float32Array(size);\n  } else {\n    throw unsupported(\n      'bit depth / sample format',\n      `${bitDepth} / ${sampleFormat}`,\n    );\n  }\n}\n\nfunction fill8bit(\n  dataTo: DataArray,\n  dataFrom: DataView,\n  index: number,\n  length: number,\n): number {\n  for (let i = 0; i < length; i++) {\n    dataTo[index++] = dataFrom.getUint8(i);\n  }\n  return index;\n}\n\nfunction fill16bit(\n  dataTo: DataArray,\n  dataFrom: DataView,\n  index: number,\n  length: number,\n  littleEndian: boolean,\n): number {\n  for (let i = 0; i < length * 2; i += 2) {\n    dataTo[index++] = dataFrom.getUint16(i, littleEndian);\n  }\n  return index;\n}\n\nfunction fillFloat32(\n  dataTo: DataArray,\n  dataFrom: DataView,\n  index: number,\n  length: number,\n  littleEndian: boolean,\n): number {\n  for (let i = 0; i < length * 4; i += 4) {\n    dataTo[index++] = dataFrom.getFloat32(i, littleEndian);\n  }\n  return index;\n}\n\nfunction unsupported(type: string, value: any): Error {\n  return new Error(`Unsupported ${type}: ${value}`);\n}\n","import TiffIfd from './tiffIfd';\n\nexport function guessStripByteCounts(ifd: TiffIfd): number[] {\n  if (ifd.compression !== 1) {\n    throw new Error(\n      'missing mandatory StripByteCounts field in compressed image',\n    );\n  }\n  const bytesPerStrip =\n    ifd.rowsPerStrip *\n    ifd.width *\n    ifd.samplesPerPixel *\n    (ifd.bitsPerSample / 8);\n  return new Array(ifd.stripOffsets.length).fill(bytesPerStrip);\n}\n","// Section 14: Differencing Predictor (p. 64)\n\nexport function applyHorizontalDifferencing8Bit(\n  data: Uint8Array,\n  width: number,\n  components: number,\n): void {\n  let i = 0;\n  while (i < data.length) {\n    for (let j = components; j < width * components; j += components) {\n      for (let k = 0; k < components; k++) {\n        data[i + j + k] =\n          (data[i + j + k] + data[i + j - (components - k)]) & 255;\n      }\n    }\n    i += width * components;\n  }\n}\n\nexport function applyHorizontalDifferencing16Bit(\n  data: Uint16Array,\n  width: number,\n  components: number,\n): void {\n  let i = 0;\n  while (i < data.length) {\n    for (let j = components; j < width * components; j += components) {\n      for (let k = 0; k < components; k++) {\n        data[i + j + k] =\n          (data[i + j + k] + data[i + j - (components - k)]) & 65535;\n      }\n    }\n    i += width * components;\n  }\n}\n","import Stack from '../Stack';\n\n// TODO this code seems buggy if it is not 0,0\n/**\n * We will try to move a set of images in order to get only the best common part of them.\n * In a stack, we compare 2 consecutive images or directly to a parent.\n * Ignoring border may be dangerous ! If there is a shape on the side of the image there will be a\n * continuous shift if you ignore border. By default it is better to leave it to 0,0\n * Now if the background is not black there will also be no way to shift ...\n * It may therefore be much better to make a background correction before trying to match and crop.\n * @memberof Stack\n * @instance\n * @param {object} [options]\n * @param {string} [options.algorithm='matchToPrevious'] - matchToPrevious or matchToFirst\n * @param {number[]} [options.ignoreBorder=[0, 0]]\n * @return {Stack}\n */\nexport default function matchAndCrop(options = {}) {\n  let { algorithm = 'matchToPrevious', ignoreBorder = [0, 0] } = options;\n\n  this.checkProcessable('matchAndCrop', {\n    bitDepth: [8, 16],\n  });\n\n  let matchToPrevious = algorithm === 'matchToPrevious';\n\n  let parent = this[0];\n  let results = [];\n  results[0] = {\n    position: [0, 0],\n    image: this[0],\n  };\n\n  let relativePosition = [0, 0];\n\n  // we calculate the best relative position to the parent image\n  for (let i = 1; i < this.length; i++) {\n    let position = parent.getBestMatch(this[i], { border: ignoreBorder });\n\n    results[i] = {\n      position: [\n        position[0] + relativePosition[0],\n        position[1] + relativePosition[1],\n      ],\n      image: this[i],\n    };\n    if (matchToPrevious) {\n      relativePosition[0] += position[0];\n      relativePosition[1] += position[1];\n      parent = this[i];\n    }\n  }\n  // now we can calculate the cropping that we need to do\n\n  let leftShift = 0;\n  let rightShift = 0;\n  let topShift = 0;\n  let bottomShift = 0;\n\n  for (let i = 0; i < results.length; i++) {\n    let result = results[i];\n    if (result.position[0] > leftShift) {\n      leftShift = result.position[0];\n    }\n    if (result.position[0] < rightShift) {\n      rightShift = result.position[0];\n    }\n    if (result.position[1] > topShift) {\n      topShift = result.position[1];\n    }\n    if (result.position[1] < bottomShift) {\n      bottomShift = result.position[1];\n    }\n  }\n  rightShift = 0 - rightShift;\n  bottomShift = 0 - bottomShift;\n\n  for (let i = 0; i < results.length; i++) {\n    let result = results[i];\n\n    result.crop = result.image.crop({\n      x: leftShift - result.position[0],\n      y: topShift - result.position[1],\n      width: parent.width - rightShift - leftShift,\n      height: parent.height - bottomShift - topShift,\n    });\n  }\n\n  // finally we crop and create a new array of images\n  let newImages = [];\n  for (let i = 0; i < results.length; i++) {\n    newImages[i] = results[i].crop;\n  }\n\n  return new Stack(newImages);\n}\n","/**\n * @memberof Stack\n * @instance\n * @return {number[]}\n */\nexport default function min() {\n  this.checkProcessable('min', {\n    bitDepth: [8, 16],\n  });\n\n  let min = this[0].min;\n  for (let i = 1; i < this.length; i++) {\n    for (let j = 0; j < min.length; j++) {\n      min[j] = Math.min(min[j], this[i].min[j]);\n    }\n  }\n  return min;\n}\n","/**\n * @memberof Stack\n * @instance\n * @return {number[]}\n */\nexport default function max() {\n  this.checkProcessable('min', {\n    bitDepth: [8, 16],\n  });\n\n  let max = this[0].max;\n  for (let i = 1; i < this.length; i++) {\n    for (let j = 0; j < max.length; j++) {\n      max[j] = Math.max(max[j], this[i].max[j]);\n    }\n  }\n  return max;\n}\n","/**\n * Returns the median of an histogram\n * @param {number[]} histogram\n * @return {number}\n * @private\n */\nexport function median(histogram) {\n  let total = histogram.reduce((sum, x) => sum + x);\n\n  if (total === 0) {\n    throw new Error('unreachable');\n  }\n\n  let position = 0;\n  let currentTotal = 0;\n  let middle = total / 2;\n  let previous;\n\n  while (true) {\n    if (histogram[position] > 0) {\n      if (previous !== undefined) {\n        return (previous + position) / 2;\n      }\n      currentTotal += histogram[position];\n      if (currentTotal > middle) {\n        return position;\n      } else if (currentTotal === middle) {\n        previous = position;\n      }\n    }\n    position++;\n  }\n}\n\n/**\n * Retuns the mean of an histogram\n * @param {number[]} histogram\n * @return {number}\n * @private\n */\nexport function mean(histogram) {\n  let total = 0;\n  let sum = 0;\n\n  for (let i = 0; i < histogram.length; i++) {\n    total += histogram[i];\n    sum += histogram[i] * i;\n  }\n\n  if (total === 0) {\n    return 0;\n  }\n\n  return sum / total;\n}\n","import { median as medianFromHistogram } from '../../util/histogram';\n\n/**\n * @memberof Stack\n * @instance\n * @return {number[]}\n */\nexport default function median() {\n  this.checkProcessable('median', {\n    bitDepth: [8, 16],\n  });\n\n  let histograms = this.getHistograms({ maxSlots: this[0].maxValue + 1 });\n  let result = new Array(histograms.length);\n  for (let c = 0; c < histograms.length; c++) {\n    let histogram = histograms[c];\n    result[c] = medianFromHistogram(histogram);\n  }\n  return result;\n}\n","/**\n * @memberof Stack\n * @instance\n * @param {object} [options]\n * @return {number[]}\n */\nexport default function histogram(options) {\n  this.checkProcessable('min', {\n    bitDepth: [8, 16],\n  });\n\n  let histogram = this[0].getHistogram(options);\n  for (let i = 1; i < this.length; i++) {\n    let secondHistogram = this[i].getHistogram(options);\n    for (let j = 0; j < histogram.length; j++) {\n      histogram[j] += secondHistogram[j];\n    }\n  }\n  return histogram;\n}\n","/**\n * @memberof Stack\n * @instance\n * @param {object} [options]\n * @return {Array<Array<number>>}\n */\nexport default function histograms(options) {\n  this.checkProcessable('min', {\n    bitDepth: [8, 16],\n  });\n\n  let histograms = this[0].getHistograms(options);\n  let histogramLength = histograms[0].length;\n  for (let i = 1; i < this.length; i++) {\n    let secondHistograms = this[i].getHistograms(options);\n    for (let c = 0; c < histograms.length; c++) {\n      for (let j = 0; j < histogramLength; j++) {\n        histograms[c][j] += secondHistograms[c][j];\n      }\n    }\n  }\n  return histograms;\n}\n","import Image from '../../image/Image';\n\n/**\n * @memberof Stack\n * @instance\n * @return {Image}\n */\nexport default function averageImage() {\n  this.checkProcessable('averageImage', {\n    bitDepth: [8, 16],\n  });\n\n  let data = new Uint32Array(this[0].data.length);\n  for (let i = 0; i < this.length; i++) {\n    let current = this[i];\n    for (let j = 0; j < this[0].data.length; j++) {\n      data[j] += current.data[j];\n    }\n  }\n\n  let image = Image.createFrom(this[0]);\n  let newData = image.data;\n\n  for (let i = 0; i < this[0].data.length; i++) {\n    newData[i] = data[i] / this.length;\n  }\n\n  return image;\n}\n","import Image from '../../image/Image';\n\n/**\n * @memberof Stack\n * @instance\n * @return {Image}\n */\nexport default function maxImage() {\n  this.checkProcessable('max', {\n    bitDepth: [8, 16],\n  });\n\n  let image = Image.createFrom(this[0]);\n  image.data.fill(0);\n  for (const current of this) {\n    for (let j = 0; j < image.data.length; j++) {\n      image.data[j] = Math.max(current.data[j], image.data[j]);\n    }\n  }\n\n  return image;\n}\n","import Image from '../../image/Image';\n\n/**\n * @memberof Stack\n * @instance\n * @return {Image}\n */\nexport default function minImage() {\n  this.checkProcessable('max', {\n    bitDepth: [8, 16],\n  });\n\n  let image = Image.createFrom(this[0]);\n  image.data.fill(image.maxValue);\n  for (const current of this) {\n    for (let j = 0; j < image.data.length; j++) {\n      image.data[j] = Math.min(current.data[j], image.data[j]);\n    }\n  }\n\n  return image;\n}\n","import hasOwn from 'has-own';\n\nimport Image from '../image/Image';\n\nimport extend from './extend';\n\nlet computedPropertyDescriptor = {\n  configurable: true,\n  enumerable: false,\n  get: undefined,\n};\n\n/**\n * Class representing stack of images\n * @class Stack\n */\nexport default class Stack extends Array {\n  constructor(images) {\n    if (Array.isArray(images)) {\n      super(images.length);\n      for (let i = 0; i < images.length; i++) {\n        this[i] = images[i];\n      }\n    } else if (typeof images === 'number') {\n      super(images);\n    } else {\n      super();\n    }\n    this.computed = null;\n  }\n\n  static load(urls) {\n    return Promise.all(urls.map(Image.load)).then(\n      (images) => new Stack(images),\n    );\n  }\n\n  static extendMethod(name, method, options = {}) {\n    let { inPlace = false, returnThis = true, partialArgs = [] } = options;\n\n    if (inPlace) {\n      Stack.prototype[name] = function (...args) {\n        // remove computed properties\n        this.computed = null;\n        let result = method.apply(this, [...partialArgs, ...args]);\n        if (returnThis) {\n          return this;\n        }\n        return result;\n      };\n    } else {\n      Stack.prototype[name] = function (...args) {\n        return method.apply(this, [...partialArgs, ...args]);\n      };\n    }\n    return Stack;\n  }\n\n  static extendProperty(name, method, options = {}) {\n    let { partialArgs = [] } = options;\n\n    computedPropertyDescriptor.get = function () {\n      if (this.computed === null) {\n        this.computed = {};\n      } else if (hasOwn(name, this.computed)) {\n        return this.computed[name];\n      }\n      let result = method.apply(this, partialArgs);\n      this.computed[name] = result;\n      return result;\n    };\n    Object.defineProperty(Stack.prototype, name, computedPropertyDescriptor);\n    return Stack;\n  }\n\n  /**\n   * Check if a process can be applied on the stack\n   * @param {string} processName\n   * @param {object} [options]\n   * @private\n   */\n  checkProcessable(processName, options = {}) {\n    if (typeof processName !== 'string') {\n      throw new TypeError(\n        'checkProcessable requires as first parameter the processName (a string)',\n      );\n    }\n    if (this.size === 0) {\n      throw new TypeError(\n        `The process: ${processName} can not be applied on an empty stack`,\n      );\n    }\n    this[0].checkProcessable(processName, options);\n    for (let i = 1; i < this.length; i++) {\n      if (\n        (options.sameSize === undefined || options.sameSize) &&\n        this[0].width !== this[i].width\n      ) {\n        throw new TypeError(\n          `The process: ${processName} can not be applied if width is not identical in all images`,\n        );\n      }\n      if (\n        (options.sameSize === undefined || options.sameSize) &&\n        this[0].height !== this[i].height\n      ) {\n        throw new TypeError(\n          `The process: ${processName} can not be applied if height is not identical in all images`,\n        );\n      }\n      if (\n        (options.sameAlpha === undefined || options.sameAlpha) &&\n        this[0].alpha !== this[i].alpha\n      ) {\n        throw new TypeError(\n          `The process: ${processName} can not be applied if alpha is not identical in all images`,\n        );\n      }\n      if (\n        (options.sameBitDepth === undefined || options.sameBitDepth) &&\n        this[0].bitDepth !== this[i].bitDepth\n      ) {\n        throw new TypeError(\n          `The process: ${processName} can not be applied if bitDepth is not identical in all images`,\n        );\n      }\n      if (\n        (options.sameColorModel === undefined || options.sameColorModel) &&\n        this[0].colorModel !== this[i].colorModel\n      ) {\n        throw new TypeError(\n          `The process: ${processName} can not be applied if colorModel is not identical in all images`,\n        );\n      }\n      if (\n        (options.sameNumberChannels === undefined ||\n          options.sameNumberChannels) &&\n        this[0].channels !== this[i].channels\n      ) {\n        throw new TypeError(\n          `The process: ${processName} can not be applied if channels is not identical in all images`,\n        );\n      }\n    }\n  }\n}\n\nif (!Array[Symbol.species]) {\n  // support old engines\n  Stack.prototype.map = function (cb, thisArg) {\n    if (typeof cb !== 'function') {\n      throw new TypeError(`${cb} is not a function`);\n    }\n    let newStack = new Stack(this.length);\n    for (let i = 0; i < this.length; i++) {\n      newStack[i] = cb.call(thisArg, this[i], i, this);\n    }\n    return newStack;\n  };\n}\n\nextend(Stack);\n","/* eslint-disable import/order */\nimport matchAndCrop from './transform/matchAndCrop';\n\nimport min from './compute/min';\nimport max from './compute/max';\nimport median from './compute/median';\nimport histogram from './compute/histogram';\nimport histograms from './compute/histograms';\n\nimport averageImage from './utility/averageImage';\nimport maxImage from './utility/maxImage';\nimport minImage from './utility/minImage';\n\nexport default function extend(Stack) {\n  // let inPlace = {inPlace: true};\n  Stack.extendMethod('matchAndCrop', matchAndCrop);\n\n  Stack.extendMethod('getMin', min);\n  Stack.extendMethod('getMax', max);\n  Stack.extendMethod('getMedian', median);\n  Stack.extendMethod('getHistogram', histogram);\n  Stack.extendMethod('getHistograms', histograms);\n\n  Stack.extendMethod('getAverage', averageImage); // to be removed but will be a breaking change\n\n  Stack.extendMethod('getAverageImage', averageImage);\n  Stack.extendMethod('getMaxImage', maxImage);\n  Stack.extendMethod('getMinImage', minImage);\n}\n","import { decode as decodeJpegExif } from 'fast-jpeg';\nimport { decode as decodePng } from 'fast-png';\nimport imageType from 'image-type';\nimport { decode as decodeJpeg } from 'jpeg-js';\nimport { decode as decodeTiff } from 'tiff';\n\nimport Stack from '../../stack/Stack';\nimport { decode as base64Decode, toBase64URL } from '../../util/base64';\nimport Image from '../Image';\nimport { GREY, RGB } from '../model/model';\n\nimport { fetchBinary, DOMImage, createCanvas } from './environment';\n\nconst isDataURL = /^data:[a-z]+\\/(?:[a-z]+);base64,/;\n\n/**\n * Load an image\n * @memberof Image\n * @static\n * @param {string|ArrayBuffer|Buffer|Uint8Array} image - URL of the image (browser, can be a dataURL) or path (Node.js)\n * or buffer containing the binary data\n * @param {object} [options] - In the browser, the options object is passed to the underlying `fetch` call, along with\n * the data URL. For binary data, the option specify decoding options.\n * @param {boolean} [options.ignorePalette] - When set to true and loading a tiff from binary data, if the tiff is of\n * type 3 (palette), load as single channel greyscale rather than as a pseudo-colored RGB.\n * @return {Promise<Image>}\n * @example\n * const image = await Image.load('https://example.com/image.png');\n */\nexport default function load(image, options) {\n  if (typeof image === 'string') {\n    return loadURL(image, options);\n  } else if (image instanceof ArrayBuffer) {\n    return Promise.resolve(\n      loadBinary(\n        new Uint8Array(image),\n        undefined,\n        options && options.ignorePalette,\n      ),\n    );\n  } else if (image.buffer) {\n    return Promise.resolve(\n      loadBinary(image, undefined, options && options.ignorePalette),\n    );\n  } else {\n    throw new Error('argument to \"load\" must be a string or buffer.');\n  }\n}\n\nfunction loadBinary(image, base64Url, ignorePalette) {\n  const type = imageType(image);\n  if (type) {\n    switch (type.mime) {\n      case 'image/png':\n        return loadPNG(image);\n      case 'image/jpeg':\n        return loadJPEG(image);\n      case 'image/tiff':\n        return loadTIFF(image, ignorePalette);\n      default:\n        return loadGeneric(getBase64(type.mime));\n    }\n  }\n  return loadGeneric(getBase64('application/octet-stream'));\n\n  function getBase64(type) {\n    if (base64Url) {\n      return base64Url;\n    } else {\n      return toBase64URL(image, type);\n    }\n  }\n}\n\nfunction loadURL(url, options) {\n  const dataURL = url.slice(0, 64).match(isDataURL);\n  let binaryDataP;\n  if (dataURL !== null) {\n    binaryDataP = Promise.resolve(base64Decode(url.slice(dataURL[0].length)));\n  } else {\n    binaryDataP = fetchBinary(url, options);\n  }\n  return binaryDataP.then((binaryData) => {\n    const uint8 = new Uint8Array(binaryData);\n    return loadBinary(\n      uint8,\n      dataURL ? url : undefined,\n      options && options.ignorePalette,\n    );\n  });\n}\n\nfunction loadPNG(data) {\n  const png = decodePng(data);\n  let channels = png.channels;\n  let components;\n  let alpha = 0;\n  if (channels === 2 || channels === 4) {\n    components = channels - 1;\n    alpha = 1;\n  } else {\n    components = channels;\n  }\n  if (png.palette) {\n    return loadPNGFromPalette(png);\n  }\n\n  return new Image(png.width, png.height, png.data, {\n    components,\n    alpha,\n    bitDepth: png.depth,\n  });\n}\n\nfunction loadPNGFromPalette(png) {\n  const pixels = png.width * png.height;\n  const channels = png.palette[0].length;\n  const data = new Uint8Array(pixels * channels);\n  const pixelsPerByte = 8 / png.depth;\n  const factor = png.depth < 8 ? pixelsPerByte : 1;\n  const mask = parseInt('1'.repeat(png.depth), 2);\n  const hasAlpha = channels === 4;\n  let dataIndex = 0;\n\n  for (let i = 0; i < pixels; i++) {\n    const index = Math.floor(i / factor);\n    let value = png.data[index];\n    if (png.depth < 8) {\n      value =\n        (value >>> (png.depth * (pixelsPerByte - 1 - (i % pixelsPerByte)))) &\n        mask;\n    }\n    const paletteValue = png.palette[value];\n    data[dataIndex++] = paletteValue[0];\n    data[dataIndex++] = paletteValue[1];\n    data[dataIndex++] = paletteValue[2];\n    if (hasAlpha) {\n      data[dataIndex++] = paletteValue[3];\n    }\n  }\n\n  return new Image(png.width, png.height, data, {\n    components: 3,\n    alpha: hasAlpha,\n    bitDepth: 8,\n  });\n}\n\nfunction loadJPEG(data) {\n  const decodedExif = decodeJpegExif(data);\n  let meta;\n  if (decodedExif.exif) {\n    meta = getMetadata(decodedExif.exif);\n  }\n  const jpeg = decodeJpeg(data, { useTArray: true, maxMemoryUsageInMB: 1024 });\n  let image = new Image(jpeg.width, jpeg.height, jpeg.data, { meta });\n  if (meta && meta.tiff.tags.Orientation) {\n    const orientation = meta.tiff.tags.Orientation;\n    if (orientation > 2) {\n      image = image.rotate(\n        {\n          3: 180,\n          4: 180,\n          5: 90,\n          6: 90,\n          7: 270,\n          8: 270,\n        }[orientation],\n      );\n    }\n    if ([2, 4, 5, 7].includes(orientation)) {\n      image = image.flipX();\n    }\n  }\n  return image;\n}\n\nfunction loadTIFF(data, ignorePalette) {\n  let result = decodeTiff(data);\n  if (result.length === 1) {\n    return getImageFromIFD(result[0], ignorePalette);\n  } else {\n    return new Stack(\n      result.map(function (image) {\n        return getImageFromIFD(image, ignorePalette);\n      }),\n    );\n  }\n}\n\nfunction getMetadata(image) {\n  const metadata = {\n    tiff: {\n      fields: image.fields,\n      tags: image.map,\n    },\n  };\n  if (image.exif) {\n    metadata.exif = image.exif;\n  }\n  if (image.gps) {\n    metadata.gps = image.gps;\n  }\n  return metadata;\n}\n\nfunction getImageFromIFD(image, ignorePalette) {\n  if (!ignorePalette && image.type === 3) {\n    // Palette\n    const data = new Uint16Array(3 * image.width * image.height);\n    const palette = image.palette;\n    let ptr = 0;\n    for (let i = 0; i < image.data.length; i++) {\n      const index = image.data[i];\n      const color = palette[index];\n      data[ptr++] = color[0];\n      data[ptr++] = color[1];\n      data[ptr++] = color[2];\n    }\n    return new Image(image.width, image.height, data, {\n      components: 3,\n      alpha: image.alpha,\n      colorModel: RGB,\n      bitDepth: 16,\n      meta: getMetadata(image),\n    });\n  } else {\n    return new Image(image.width, image.height, image.data, {\n      components: image.type === 2 ? 3 : 1,\n      alpha: image.alpha,\n      colorModel: image.type === 2 ? RGB : GREY,\n      bitDepth: image.bitsPerSample.length\n        ? image.bitsPerSample[0]\n        : image.bitsPerSample,\n      meta: getMetadata(image),\n    });\n  }\n}\n\nfunction loadGeneric(url, options) {\n  options = options || {};\n  return new Promise(function (resolve, reject) {\n    let image = new DOMImage();\n    image.onload = function () {\n      let w = image.width;\n      let h = image.height;\n      let canvas = createCanvas(w, h);\n      let ctx = canvas.getContext('2d');\n      ctx.drawImage(image, 0, 0, w, h);\n      let data = ctx.getImageData(0, 0, w, h).data;\n      resolve(new Image(w, h, data, options));\n    };\n    image.onerror = function () {\n      reject(new Error(`Could not load ${url}`));\n    };\n    image.src = url;\n  });\n}\n","import TIFFDecoder from './tiffDecoder';\nimport TiffIfd from './tiffIfd';\nimport { BufferType, IDecodeOptions } from './types';\n\nfunction decodeTIFF(data: BufferType, options?: IDecodeOptions): TiffIfd[] {\n  const decoder = new TIFFDecoder(data);\n  return decoder.decode(options);\n}\n\nfunction isMultiPage(data: BufferType): boolean {\n  const decoder = new TIFFDecoder(data);\n  return decoder.isMultiPage;\n}\n\nfunction pageCount(data: BufferType): number {\n  const decoder = new TIFFDecoder(data);\n  return decoder.pageCount;\n}\n\nexport { decodeTIFF as decode, isMultiPage, pageCount, IDecodeOptions };\n","const valueMethods = {\n  /**\n   * Get the value of specific pixel channel\n   * @memberof Image\n   * @instance\n   * @param {number} x - x coordinate (0 = left)\n   * @param {number} y - y coordinate (0 = top)\n   * @param {number} channel\n   * @return {number} - the value of this pixel channel\n   */\n  getValueXY(x, y, channel) {\n    return this.data[(y * this.width + x) * this.channels + channel];\n  },\n\n  /**\n   * Set the value of specific pixel channel\n   * @memberof Image\n   * @instance\n   * @param {number} x - x coordinate (0 = left)\n   * @param {number} y - y coordinate (0 = top)\n   * @param {number} channel\n   * @param {number} value - the new value of this pixel channel\n   * @return {this}\n   */\n  setValueXY(x, y, channel, value) {\n    this.data[(y * this.width + x) * this.channels + channel] = value;\n    this.computed = null;\n    return this;\n  },\n\n  /**\n   * Get the value of specific pixel channel\n   * @memberof Image\n   * @instance\n   * @param {number} index - 1D index of the pixel\n   * @param {number} channel\n   * @return {number} - the value of this pixel channel\n   */\n  getValue(index, channel) {\n    return this.data[index * this.channels + channel];\n  },\n\n  /**\n   * Set the value of specific pixel channel\n   * @memberof Image\n   * @instance\n   * @param {number} index - 1D index of the pixel\n   * @param {number} channel\n   * @param {number} value - the new value of this pixel channel\n   * @return {this}\n   */\n  setValue(index, channel, value) {\n    this.data[index * this.channels + channel] = value;\n    this.computed = null;\n    return this;\n  },\n\n  /**\n   * Get the value of an entire pixel\n   * @memberof Image\n   * @instance\n   * @param {number} x - x coordinate (0 = left)\n   * @param {number} y - y coordinate (0 = top)\n   * @return {number[]} the value of this pixel\n   */\n  getPixelXY(x, y) {\n    return this.getPixel(y * this.width + x);\n  },\n\n  /**\n   * Set the value of an entire pixel\n   * @memberof Image\n   * @instance\n   * @param {number} x - x coordinate (0 = left)\n   * @param {number} y - y coordinate (0 = top)\n   * @param {number[]} value - the new value of this pixel\n   * @return {this}\n   */\n  setPixelXY(x, y, value) {\n    return this.setPixel(y * this.width + x, value);\n  },\n\n  /**\n   * Get the value of an entire pixel\n   * @memberof Image\n   * @instance\n   * @param {number} index - 1D index of the pixel\n   * @return {number[]} the value of this pixel\n   */\n  getPixel(index) {\n    const value = new Array(this.channels);\n    const target = index * this.channels;\n    for (let i = 0; i < this.channels; i++) {\n      value[i] = this.data[target + i];\n    }\n    return value;\n  },\n\n  /**\n   * Set the value of an entire pixel\n   * @memberof Image\n   * @instance\n   * @param {number} index - 1D index of the pixel\n   * @param {number[]} value - the new value of this pixel\n   * @return {this}\n   */\n  setPixel(index, value) {\n    const target = index * this.channels;\n    for (let i = 0; i < value.length; i++) {\n      this.data[target + i] = value[i];\n    }\n    this.computed = null;\n    return this;\n  },\n};\n\nexport default function setValueMethods(Image) {\n  for (const i in valueMethods) {\n    Image.prototype[i] = valueMethods[i];\n  }\n}\n","export default function getImageParameters(image) {\n  return {\n    width: image.width,\n    height: image.height,\n    components: image.components,\n    alpha: image.alpha,\n    colorModel: image.colorModel,\n    bitDepth: image.bitDepth,\n  };\n}\n","import Image from '../Image';\n\nimport getImageParameters from './getImageParameters';\n\n/**\n * Use this function to support getting the output image of an algorithm from user-supplied\n * options.\n * @private\n * @param {Image} thisImage - Original image on which the algorithm will be applied\n * @param {object} options - Options object received by the algorithm\n * @param {Image} [options.out] - If set, must be an image compatible with the algorithm\n * @param {object} newParameters - Parameters that will be combined with the ones from `thisImage`.\n * @param {object} internalOptions - Some additional options on the way to create the output image\n * @return {Image}\n */\nexport function getOutputImage(\n  thisImage,\n  options,\n  newParameters,\n  internalOptions = {},\n) {\n  const { out } = options;\n  if (out === undefined) {\n    if (internalOptions.copy) {\n      return thisImage.clone();\n    } else {\n      return Image.createFrom(thisImage, newParameters);\n    }\n  } else {\n    if (!Image.isImage(out)) {\n      throw new TypeError('out must be an Image object');\n    }\n    const requirements = Object.assign(\n      getImageParameters(thisImage),\n      newParameters,\n    );\n    for (const property in requirements) {\n      if (out[property] !== requirements[property]) {\n        throw new RangeError(\n          `cannot use out. Its ${property} must be \"${requirements[property]}\" (found \"${out[property]}\")`,\n        );\n      }\n    }\n    return out;\n  }\n}\n\n/**\n * Same as getOutputImage but allows for an `inPlace` option.\n * @private\n * @param {Image} thisImage\n * @param {object} options\n * @param {boolean} [options.inPlace=false] - If true, thisImage is returned\n * @param {Image} [options.out]\n * @param {object} internalOptions - Additional internal options on how to create the output image\n * @param {boolean} [interalOptions.copy] - If true will copy the original image instead of creating a new empty image\n * @return {Image}\n */\nexport function getOutputImageOrInPlace(thisImage, options, internalOptions) {\n  if (options.inPlace !== undefined && typeof options.inPlace !== 'boolean') {\n    throw new TypeError('inPlace option must be a boolean');\n  }\n  if (options.inPlace) {\n    if (options.out !== undefined) {\n      throw new TypeError(\n        'out option must not be set if inPlace option is true',\n      );\n    }\n    return thisImage;\n  }\n  return getOutputImage(thisImage, options, null, internalOptions);\n}\n","import { getOutputImageOrInPlace } from '../internal/getOutputImage';\n\n/**\n * Calculate the absolute values of an image.\n * Only works on 32-bit images.\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {boolean} [options.inPlace=false]\n * @param {Image} [options.out]\n * @return {Image}\n */\nexport default function abs(options = {}) {\n  this.checkProcessable('abs', {\n    bitDepth: [32],\n  });\n  const out = getOutputImageOrInPlace(this, options);\n  absolute(this, out);\n  return out;\n}\n\nfunction absolute(image, out) {\n  for (let i = 0; i < image.data.length; i++) {\n    out.data[i] = Math.abs(image.data[i]);\n  }\n}\n","import copyAlphaChannel from '../internal/copyAlphaChannel';\nimport { getOutputImageOrInPlace } from '../internal/getOutputImage';\n\n/**\n * Invert the colors of an image\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {boolean} [options.inPlace=false]\n * @param {Image} [options.out]\n * @return {Image}\n */\nexport default function invert(options = {}) {\n  this.checkProcessable('invert', {\n    bitDepth: [1, 8, 16],\n  });\n\n  const out = getOutputImageOrInPlace(this, options);\n\n  if (this.bitDepth === 1) {\n    invertBinary(this, out);\n  } else {\n    invertColor(this, out);\n    if (this !== out) {\n      copyAlphaChannel(this, out);\n    }\n  }\n  return out;\n}\n\nfunction invertBinary(image, out) {\n  for (let i = 0; i < image.data.length; i++) {\n    out.data[i] = ~image.data[i];\n  }\n}\n\nfunction invertColor(image, out) {\n  for (let pixel = 0; pixel < image.data.length; pixel += image.channels) {\n    for (let c = 0; c < image.components; c++) {\n      out.data[pixel + c] = image.maxValue - image.data[pixel + c];\n    }\n  }\n}\n","/**\n * Copies the alpha channel from an image to another. no-op if one of the images has no alpha\n * @private\n * @param {Image} from\n * @param {Image} to\n */\nexport default function copyAlphaChannel(from, to) {\n  if (from.alpha === 1 && to.alpha === 1) {\n    for (let i = 0; i < from.size; i++) {\n      to.data[i * to.channels + to.components] =\n        from.data[i * from.channels + from.components];\n    }\n  }\n}\n","/**\n * Flip an image horizontally.\n * @memberof Image\n * @instance\n * @return {this}\n */\nexport default function flipX() {\n  this.checkProcessable('flipX', {\n    bitDepth: [8, 16],\n  });\n\n  for (let i = 0; i < this.height; i++) {\n    let offsetY = i * this.width * this.channels;\n\n    for (let j = 0; j < Math.floor(this.width / 2); j++) {\n      let posCurrent = j * this.channels + offsetY;\n      let posOpposite = (this.width - j - 1) * this.channels + offsetY;\n\n      for (let k = 0; k < this.channels; k++) {\n        let tmp = this.data[posCurrent + k];\n        this.data[posCurrent + k] = this.data[posOpposite + k];\n        this.data[posOpposite + k] = tmp;\n      }\n    }\n  }\n\n  return this;\n}\n","/**\n * Flip an image vertically. The image\n * @memberof Image\n * @instance\n * @return {this}\n */\nexport default function flipY() {\n  this.checkProcessable('flipY', {\n    bitDepth: [8, 16],\n  });\n\n  for (let i = 0; i < Math.floor(this.height / 2); i++) {\n    for (let j = 0; j < this.width; j++) {\n      let posCurrent = j * this.channels + i * this.width * this.channels;\n      let posOpposite =\n        j * this.channels + (this.height - 1 - i) * this.channels * this.width;\n\n      for (let k = 0; k < this.channels; k++) {\n        let tmp = this.data[posCurrent + k];\n        this.data[posCurrent + k] = this.data[posOpposite + k];\n        this.data[posOpposite + k] = tmp;\n      }\n    }\n  }\n\n  return this;\n}\n","/**\n * Blurs the image by averaging the neighboring pixels.\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.radius=1] - Number of pixels around the current pixel to average\n * @return {Image}\n */\nexport default function blurFilter(options = {}) {\n  const { radius = 1 } = options;\n\n  if (radius < 1) {\n    throw new Error('radius must be greater than 1');\n  }\n\n  const n = 2 * radius + 1;\n  const kernel = new Array(n);\n  for (let i = 0; i < n; i++) {\n    kernel[i] = new Array(n);\n    for (let j = 0; j < n; j++) {\n      kernel[i][j] = 1 / (n * n);\n    }\n  }\n\n  return this.convolution(kernel);\n}\n","import * as Model from '../image/model/model';\n\n/**\n * Specify which channels should be processed\n * * undefined : we take all the channels but alpha\n * * number : this specific channel\n * * string : converted to a channel based on rgb, cmyk, hsl or hsv (one letter code)\n * * [number] : array of channels as numbers\n * * [string] : array of channels as one letter string\n * @typedef {undefined|number|string|Array<number>|Array<string>} SelectedChannels\n */\n\nexport function validateArrayOfChannels(image, options = {}) {\n  let {\n    channels,\n    allowAlpha, // are we allowing the selection of an alpha channel ?\n    defaultAlpha, // if no channels are selected should we take the alpha channel ?\n  } = options;\n\n  if (typeof allowAlpha !== 'boolean') {\n    allowAlpha = true;\n  }\n\n  if (typeof channels === 'undefined') {\n    return allChannels(image, defaultAlpha);\n  } else {\n    return validateChannels(image, channels, allowAlpha);\n  }\n}\n\nfunction allChannels(image, defaultAlpha) {\n  let length = defaultAlpha ? image.channels : image.components;\n  let array = new Array(length);\n  for (let i = 0; i < length; i++) {\n    array[i] = i;\n  }\n  return array;\n}\n\nfunction validateChannels(image, channels, allowAlpha) {\n  if (!Array.isArray(channels)) {\n    channels = [channels];\n  }\n  for (let c = 0; c < channels.length; c++) {\n    channels[c] = validateChannel(image, channels[c], allowAlpha);\n  }\n  return channels;\n}\n\nexport function validateChannel(image, channel, allowAlpha = true) {\n  if (channel === undefined) {\n    throw new RangeError(\n      `validateChannel : the channel has to be >=0 and <${image.channels}`,\n    );\n  }\n\n  if (typeof channel === 'string') {\n    switch (image.colorModel) {\n      case Model.GREY:\n        break;\n      case Model.RGB:\n        if ('rgb'.includes(channel)) {\n          switch (channel) {\n            case 'r':\n              channel = 0;\n              break;\n            case 'g':\n              channel = 1;\n              break;\n            case 'b':\n              channel = 2;\n              break;\n            // no default\n          }\n        }\n        break;\n      case Model.HSL:\n        if ('hsl'.includes(channel)) {\n          switch (channel) {\n            case 'h':\n              channel = 0;\n              break;\n            case 's':\n              channel = 1;\n              break;\n            case 'l':\n              channel = 2;\n              break;\n            // no default\n          }\n        }\n        break;\n      case Model.HSV:\n        if ('hsv'.includes(channel)) {\n          switch (channel) {\n            case 'h':\n              channel = 0;\n              break;\n            case 's':\n              channel = 1;\n              break;\n            case 'v':\n              channel = 2;\n              break;\n            // no default\n          }\n        }\n        break;\n      case Model.CMYK:\n        if ('cmyk'.includes(channel)) {\n          switch (channel) {\n            case 'c':\n              channel = 0;\n              break;\n            case 'm':\n              channel = 1;\n              break;\n            case 'y':\n              channel = 2;\n              break;\n            case 'k':\n              channel = 3;\n              break;\n            // no default\n          }\n        }\n        break;\n      default:\n        throw new Error(`Unexpected color model: ${image.colorModel}`);\n    }\n\n    if (channel === 'a') {\n      if (!image.alpha) {\n        throw new Error(\n          'validateChannel : the image does not contain alpha channel',\n        );\n      }\n      channel = image.components;\n    }\n\n    if (typeof channel === 'string') {\n      throw new Error(`validateChannel : undefined channel: ${channel}`);\n    }\n  }\n\n  if (channel >= image.channels) {\n    throw new RangeError(\n      `validateChannel : the channel has to be >=0 and <${image.channels}`,\n    );\n  }\n\n  if (!allowAlpha && channel >= image.components) {\n    throw new RangeError('validateChannel : alpha channel may not be selected');\n  }\n\n  return channel;\n}\n","import quickSelectMedian from 'median-quickselect';\n\nimport { validateArrayOfChannels } from '../../util/channel';\nimport Image from '../Image';\n\n/**\n * Each pixel of the image becomes the median of the neighbor pixels.\n * @memberof Image\n * @instance\n * @param {object} options\n * @param {SelectedChannels} [options.channels] - Specify which channels should be processed.\n * @param {number} [options.radius=1] - Distance of the square to take the mean of.\n * @param {string} [options.border='copy'] - Algorithm that will be applied after to deal with borders.\n * @return {Image}\n */\nexport default function medianFilter(options = {}) {\n  let { radius = 1, border = 'copy', channels } = options;\n\n  this.checkProcessable('medianFilter', {\n    bitDepth: [8, 16],\n  });\n\n  if (radius < 1) {\n    throw new Error('radius must be greater than 0');\n  }\n\n  channels = validateArrayOfChannels(this, channels, true);\n\n  let kWidth = radius;\n  let kHeight = radius;\n  let newImage = Image.createFrom(this);\n\n  let size = (kWidth * 2 + 1) * (kHeight * 2 + 1);\n  let kernel = new Array(size);\n\n  for (let channel = 0; channel < channels.length; channel++) {\n    let c = channels[channel];\n    for (let y = kHeight; y < this.height - kHeight; y++) {\n      for (let x = kWidth; x < this.width - kWidth; x++) {\n        let n = 0;\n        for (let j = -kHeight; j <= kHeight; j++) {\n          for (let i = -kWidth; i <= kWidth; i++) {\n            let index = ((y + j) * this.width + x + i) * this.channels + c;\n            kernel[n++] = this.data[index];\n          }\n        }\n\n        let index = (y * this.width + x) * this.channels + c;\n\n        newImage.data[index] = quickSelectMedian(kernel);\n      }\n    }\n  }\n  if (this.alpha && !channels.includes(this.channels)) {\n    for (let i = this.components; i < this.data.length; i = i + this.channels) {\n      newImage.data[i] = this.data[i];\n    }\n  }\n\n  newImage.setBorder({ size: [kWidth, kHeight], algorithm: border });\n\n  return newImage;\n}\n","/**\n * Apply a gaussian filter to the image.\n * @memberof Image\n * @instance\n * @param {object} options\n * @param {number} [options.radius=1] - Number of pixels around the current pixel.\n * @param {number} [options.sigma] - Sigma parameter for the gaussian.\n * @param {number[]|string[]} [options.channels] - To which channel to apply the filter.\n * @param {string} [options.border='copy']\n * @return {Image}\n */\nexport default function gaussianFilter(options = {}) {\n  let { radius = 1, sigma, channels, border = 'copy' } = options;\n\n  this.checkProcessable('gaussian', {\n    bitDepth: [8, 16],\n  });\n\n  const kernel = getKernel(radius, sigma);\n  return this.convolution([kernel, kernel], {\n    border,\n    channels,\n    algorithm: 'separable',\n  });\n}\n\nfunction getKernel(radius, sigma) {\n  const n = radius * 2 + 1;\n  const kernel = new Array(n);\n  const sigmaX = sigma ? sigma : ((n - 1) * 0.5 - 1) * 0.3 + 0.8;\n  const scale2X = -0.5 / (sigmaX * sigmaX);\n  let sum = 0;\n  for (let i = 0; i < n; i++) {\n    const x = i - radius;\n    const t = Math.exp(scale2X * x * x);\n    kernel[i] = t;\n    sum += t;\n  }\n\n  for (let i = 0; i < n; i++) {\n    kernel[i] /= sum;\n  }\n  return kernel;\n}\n","export const DISCRETE_LAPLACE_4 = [\n  [0, 1, 0],\n  [1, -4, 1],\n  [0, 1, 0],\n];\n\nexport const DISCRETE_LAPLACE_8 = [\n  [1, 1, 1],\n  [1, -8, 1],\n  [1, 1, 1],\n];\n\nexport const SOBEL_X = [\n  [-1, 0, +1],\n  [-2, 0, +2],\n  [-1, 0, +1],\n];\n\nexport const SOBEL_Y = [\n  [-1, -2, -1],\n  [0, 0, 0],\n  [+1, +2, +1],\n];\n\nexport const SCHARR_X = [\n  [3, 0, -3],\n  [10, 0, -10],\n  [3, 0, -3],\n];\n\nexport const SCHARR_Y = [\n  [3, 10, 3],\n  [0, 0, 0],\n  [-3, -10, -3],\n];\n\nexport const SECOND_DERIVATIVE = [\n  [-1, -2, 0, 2, 1],\n  [-2, -4, 0, 4, 2],\n  [0, 0, 0, 0, 0],\n  [1, 2, 0, -2, -1],\n  [2, 4, 0, -4, -2],\n];\n\nexport const SECOND_DERIVATIVE_INV = [\n  [1, 2, 0, -2, -1],\n  [2, 4, 0, -4, -2],\n  [0, 0, 0, 0, 0],\n  [-2, -4, 0, 4, 2],\n  [-1, -2, 0, 2, 1],\n];\n","export function clamp(value, image) {\n  return Math.round(Math.min(Math.max(value, 0), image.maxValue));\n}\n","export default function directConvolution(input, kernel, output) {\n    if (output === undefined) {\n        const length = input.length + kernel.length - 1;\n        output = new Array(length);\n    }\n    fill(output);\n    for (var i = 0; i < input.length; i++) {\n        for (var j = 0; j < kernel.length; j++) {\n            output[i + j] += input[i] * kernel[j];\n        }\n    }\n    return output;\n}\n\nfunction fill(array) {\n    for (var i = 0; i < array.length; i++) {\n        array[i] = 0;\n    }\n}\n","import { directConvolution } from 'ml-convolution';\n\nexport default function convolutionSeparable(\n  data,\n  separatedKernel,\n  width,\n  height,\n) {\n  const result = new Array(data.length);\n  let tmp, conv, offset, kernel;\n\n  kernel = separatedKernel[1];\n  offset = (kernel.length - 1) / 2;\n  conv = new Array(width + kernel.length - 1);\n  tmp = new Array(width);\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      tmp[x] = data[y * width + x];\n    }\n    directConvolution(tmp, kernel, conv);\n    for (let x = 0; x < width; x++) {\n      result[y * width + x] = conv[offset + x];\n    }\n  }\n\n  kernel = separatedKernel[0];\n  offset = (kernel.length - 1) / 2;\n  conv = new Array(height + kernel.length - 1);\n  tmp = new Array(height);\n  for (let x = 0; x < width; x++) {\n    for (let y = 0; y < height; y++) {\n      tmp[y] = result[y * width + x];\n    }\n    directConvolution(tmp, kernel, conv);\n    for (let y = 0; y < height; y++) {\n      result[y * width + x] = conv[offset + y];\n    }\n  }\n  return result;\n}\n","import * as matrix from './matrix.js';\n\nexport const AbstractMatrix = matrix.AbstractMatrix;\nexport const CHO = matrix.CHO;\nexport const CholeskyDecomposition = matrix.CholeskyDecomposition;\nexport const DistanceMatrix = matrix.DistanceMatrix;\nexport const EVD = matrix.EVD;\nexport const EigenvalueDecomposition = matrix.EigenvalueDecomposition;\nexport const LU = matrix.LU;\nexport const LuDecomposition = matrix.LuDecomposition;\nexport const Matrix = matrix.Matrix;\nexport const MatrixColumnSelectionView = matrix.MatrixColumnSelectionView;\nexport const MatrixColumnView = matrix.MatrixColumnView;\nexport const MatrixFlipColumnView = matrix.MatrixFlipColumnView;\nexport const MatrixFlipRowView = matrix.MatrixFlipRowView;\nexport const MatrixRowSelectionView = matrix.MatrixRowSelectionView;\nexport const MatrixRowView = matrix.MatrixRowView;\nexport const MatrixSelectionView = matrix.MatrixSelectionView;\nexport const MatrixSubView = matrix.MatrixSubView;\nexport const MatrixTransposeView = matrix.MatrixTransposeView;\nexport const NIPALS = matrix.NIPALS;\nexport const Nipals = matrix.Nipals;\nexport const QR = matrix.QR;\nexport const QrDecomposition = matrix.QrDecomposition;\nexport const SVD = matrix.SVD;\nexport const SingularValueDecomposition = matrix.SingularValueDecomposition;\nexport const SymmetricMatrix = matrix.SymmetricMatrix;\nexport const WrapperMatrix1D = matrix.WrapperMatrix1D;\nexport const WrapperMatrix2D = matrix.WrapperMatrix2D;\nexport const correlation = matrix.correlation;\nexport const covariance = matrix.covariance;\nexport default matrix.default.Matrix ? matrix.default.Matrix : matrix.Matrix;\nexport const determinant = matrix.determinant;\nexport const inverse = matrix.inverse;\nexport const linearDependencies = matrix.linearDependencies;\nexport const pseudoInverse = matrix.pseudoInverse;\nexport const solve = matrix.solve;\nexport const wrap = matrix.wrap;\n","import { direct, fft } from 'ml-matrix-convolution';\n\nimport { validateArrayOfChannels } from '../../util/channel';\nimport { validateKernel } from '../../util/kernel';\nimport Image from '../Image';\nimport { clamp } from '../internal/clamp';\n\nimport convolutionSeparable from './convolutionSeparable';\nimport getSeparatedKernel from './getSeparatedKernel';\n\n/**\n * @memberof Image\n * @instance\n * @param {Array<Array<number>>} kernel\n * @param {object} [options] - options\n * @param {Array} [options.channels] - Array of channels to treat. Defaults to all channels\n * @param {number} [options.bitDepth=this.bitDepth] - A new bit depth can be specified. This allows to use 32 bits to avoid clamping of floating-point numbers.\n * @param {boolean} [options.normalize=false]\n * @param {number} [options.divisor=1]\n * @param {string} [options.border='copy']\n * @param {string} [options.algorithm='auto'] - Either 'auto', 'direct', 'fft' or 'separable'. fft is much faster for large kernel.\n * If the separable algorithm is used, one must provide as kernel an array of two 1D kernels.\n * The 'auto' option will try to separate the kernel if that is possible.\n * @return {Image}\n */\nexport default function convolution(kernel, options = {}) {\n  let {\n    channels,\n    bitDepth,\n    normalize = false,\n    divisor = 1,\n    border = 'copy',\n    algorithm = 'auto',\n  } = options;\n  let createOptions = {};\n  if (bitDepth) createOptions.bitDepth = bitDepth;\n  let newImage = Image.createFrom(this, createOptions);\n\n  channels = validateArrayOfChannels(this, channels, true);\n\n  if (algorithm !== 'separable') {\n    ({ kernel } = validateKernel(kernel));\n  } else if (!Array.isArray(kernel) || kernel.length !== 2) {\n    throw new RangeError(\n      'separable convolution requires two arrays of numbers to represent the kernel',\n    );\n  }\n\n  if (algorithm === 'auto') {\n    let separatedKernel = getSeparatedKernel(kernel);\n    if (separatedKernel !== null) {\n      algorithm = 'separable';\n      kernel = separatedKernel;\n    } else if (\n      (kernel.length > 9 || kernel[0].length > 9) &&\n      this.width <= 4096 &&\n      this.height <= 4096\n    ) {\n      algorithm = 'fft';\n    } else {\n      algorithm = 'direct';\n    }\n  }\n\n  let halfHeight, halfWidth;\n  if (algorithm === 'separable') {\n    halfHeight = Math.floor(kernel[0].length / 2);\n    halfWidth = Math.floor(kernel[1].length / 2);\n  } else {\n    halfHeight = Math.floor(kernel.length / 2);\n    halfWidth = Math.floor(kernel[0].length / 2);\n  }\n  let clamped = newImage.isClamped;\n\n  let tmpData = new Array(this.height * this.width);\n  let index, x, y, channel, c, tmpResult;\n  for (channel = 0; channel < channels.length; channel++) {\n    c = channels[channel];\n    // Copy the channel in a single array\n    for (y = 0; y < this.height; y++) {\n      for (x = 0; x < this.width; x++) {\n        index = y * this.width + x;\n        tmpData[index] = this.data[index * this.channels + c];\n      }\n    }\n    if (algorithm === 'direct') {\n      tmpResult = direct(tmpData, kernel, {\n        rows: this.height,\n        cols: this.width,\n        normalize: normalize,\n        divisor: divisor,\n      });\n    } else if (algorithm === 'separable') {\n      tmpResult = convolutionSeparable(\n        tmpData,\n        kernel,\n        this.width,\n        this.height,\n      );\n      if (normalize) {\n        divisor = 0;\n        for (let i = 0; i < kernel[0].length; i++) {\n          for (let j = 0; j < kernel[1].length; j++) {\n            divisor += kernel[0][i] * kernel[1][j];\n          }\n        }\n      }\n      if (divisor !== 1) {\n        for (let i = 0; i < tmpResult.length; i++) {\n          tmpResult[i] /= divisor;\n        }\n      }\n    } else {\n      tmpResult = fft(tmpData, kernel, {\n        rows: this.height,\n        cols: this.width,\n        normalize: normalize,\n        divisor: divisor,\n      });\n    }\n\n    // Copy the result to the output image\n    for (y = 0; y < this.height; y++) {\n      for (x = 0; x < this.width; x++) {\n        index = y * this.width + x;\n        if (clamped) {\n          newImage.data[index * this.channels + c] = clamp(\n            tmpResult[index],\n            newImage,\n          );\n        } else {\n          newImage.data[index * this.channels + c] = tmpResult[index];\n        }\n      }\n    }\n  }\n  // if the kernel was not applied on the alpha channel we just copy it\n  // TODO: in general we should copy the channels that where not changed\n  // TODO: probably we should just copy the image at the beginning ?\n  if (this.alpha && !channels.includes(this.channels)) {\n    for (x = this.components; x < this.data.length; x = x + this.channels) {\n      newImage.data[x] = this.data[x];\n    }\n  }\n\n  // I only can have 3 types of borders:\n  //  1. Considering the image as periodic: periodic\n  //  2. Extend the interior borders: copy\n  //  3. fill with a color: set\n  if (border !== 'periodic') {\n    newImage.setBorder({ size: [halfWidth, halfHeight], algorithm: border });\n  }\n\n  return newImage;\n}\n","import isInteger from 'is-integer';\n\nexport function validateKernel(kernel) {\n  let kHeight, kWidth;\n  if (Array.isArray(kernel)) {\n    if (Array.isArray(kernel[0])) {\n      // 2D array\n      if ((kernel.length & 1) === 0 || (kernel[0].length & 1) === 0) {\n        throw new RangeError(\n          'validateKernel: Kernel rows and columns should be odd numbers',\n        );\n      } else {\n        kHeight = Math.floor(kernel.length / 2);\n        kWidth = Math.floor(kernel[0].length / 2);\n      }\n    } else {\n      let kernelWidth = Math.sqrt(kernel.length);\n      if (isInteger(kernelWidth)) {\n        kWidth = kHeight = Math.floor(Math.sqrt(kernel.length) / 2);\n      } else {\n        throw new RangeError('validateKernel: Kernel array should be a square');\n      }\n      // we convert the array to a matrix\n      let newKernel = new Array(kernelWidth);\n      for (let i = 0; i < kernelWidth; i++) {\n        newKernel[i] = new Array(kernelWidth);\n        for (let j = 0; j < kernelWidth; j++) {\n          newKernel[i][j] = kernel[i * kernelWidth + j];\n        }\n      }\n      kernel = newKernel;\n    }\n  } else {\n    throw new Error(`validateKernel: Invalid Kernel: ${kernel}`);\n  }\n  return { kernel, kWidth, kHeight };\n}\n","import { SVD } from 'ml-matrix';\n\nexport default function getSeparatedKernel(kernel) {\n  const svd = new SVD(kernel, { autoTranspose: true });\n  if (svd.rank !== 1) return null;\n  const s = Math.sqrt(svd.s[0]);\n  const v = svd.U.to2DArray().map((v) => v[0] * s);\n  const h = svd.V.to2DArray().map((h) => h[0] * s);\n  return [v, h];\n}\n","import convolution from '../operator/convolution';\n\n/**\n * Direction of a gradient filter\n * @typedef {('x'|'y'|'xy')} GradientDirection\n */\n\n/**\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {GradientDirection} [options.direction]\n * @param {Array<Array<number>>} [options.kernelX]\n * @param {Array<Array<number>>} [options.kernelY]\n * @param {string} [options.border='copy']\n * @param {*} [options.channels]\n * @param {number} [options.bitDepth=this.bitDepth] Specify the bitDepth of the resulting image\n * @return {Image}\n */\nexport default function gradientFilter(options = {}) {\n  let {\n    direction = 'xy',\n    border = 'copy',\n    kernelX,\n    kernelY,\n    channels,\n    bitDepth = this.bitDepth,\n  } = options;\n\n  this.checkProcessable('gradientFilter', {\n    bitDepth: [8, 16],\n  });\n\n  switch (direction) {\n    case 'x':\n      if (!kernelX) throw new Error('kernelX option is missing');\n      return convolution.call(this, kernelX, {\n        channels: channels,\n        border: border,\n        bitDepth,\n      });\n    case 'y':\n      if (!kernelY) throw new Error('kernelY option is missing');\n      return convolution.call(this, kernelY, {\n        channels: channels,\n        border: border,\n        bitDepth,\n      });\n    case 'xy': {\n      if (!kernelX) throw new Error('kernelX option is missing');\n      if (!kernelY) throw new Error('kernelY option is missing');\n      const gX = convolution.call(this, kernelX, {\n        channels: channels,\n        border: border,\n        bitDepth: 32,\n      });\n      const gY = convolution.call(this, kernelY, {\n        channels: channels,\n        border: border,\n        bitDepth: 32,\n      });\n      return gX.hypotenuse(gY, { bitDepth, channels: channels });\n    }\n    default:\n      throw new Error(`Unknown parameter direction: ${direction}`);\n  }\n}\n","import { SOBEL_X, SOBEL_Y } from '../../util/kernels';\n\nimport gradientFilter from './gradientFilter';\n\n/**\n * Applies the Sobel operator.\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {GradientDirection} [options.direction]\n * @param {string} [options.border='copy']\n * @param {*} [options.channels]\n * @param {number} [options.bitDepth=this.bitDepth] Specify the bitDepth of the resulting image\n * @return {Image}\n * @see {@link https://en.wikipedia.org/wiki/Sobel_operator}\n */\nexport default function sobelFilter(options) {\n  return gradientFilter.call(\n    this,\n    Object.assign({}, options, {\n      kernelX: SOBEL_X,\n      kernelY: SOBEL_Y,\n    }),\n  );\n}\n","import { SCHARR_X, SCHARR_Y } from '../../util/kernels';\n\nimport gradientFilter from './gradientFilter';\n\n/**\n * Applies the Scharr operator.\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {GradientDirection} [options.direction]\n * @param {string} [options.border='copy']\n * @param {*} [options.channels]\n * @param {number} [options.bitDepth=this.bitDepth] Specify the bitDepth of the resulting image\n * @return {Image}\n * @see {@link https://en.wikipedia.org/wiki/Sobel_operator#Alternative_operators}\n */\nexport default function scharrFilter(options) {\n  return gradientFilter.call(\n    this,\n    Object.assign({}, options, {\n      kernelX: SCHARR_X,\n      kernelY: SCHARR_Y,\n    }),\n  );\n}\n","import newArray from 'new-array';\n\nimport { validateArrayOfChannels } from '../../util/channel';\n\n/**\n * Level the image for by default have the minimal and maximal values.\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {string} [options.algorithm='range']\n * @param {SelectedChannels} [options.channels] Specify which channels should be processed\n * @param {number} [options.min=this.min] minimal value after levelling\n * @param {number} [options.max=this.max] maximal value after levelling\n * @return {this}\n */\nexport default function level(options = {}) {\n  let {\n    algorithm = 'range',\n    channels,\n    min = this.min,\n    max = this.max,\n  } = options;\n\n  this.checkProcessable('level', {\n    bitDepth: [8, 16, 32],\n  });\n\n  channels = validateArrayOfChannels(this, { channels: channels });\n\n  if (channels.length !== this.channel) {\n    // if we process only part of the channels and the min or max length corresponds to the number of channels\n    // we need to take the corresponding values\n    if (Array.isArray(min) && min.length === this.channels) {\n      min = min.filter((a, index) => channels.includes(index));\n    }\n    if (Array.isArray(max) && max.length === this.channels) {\n      max = max.filter((a, index) => channels.includes(index));\n    }\n  }\n\n  switch (algorithm) {\n    case 'range':\n      if (min < 0) {\n        min = 0;\n      }\n      if (max > this.maxValue) {\n        max = this.maxValue;\n      }\n\n      if (!Array.isArray(min)) {\n        min = newArray(channels.length, min);\n      }\n      if (!Array.isArray(max)) {\n        max = newArray(channels.length, max);\n      }\n\n      processImage(this, min, max, channels);\n      break;\n\n    default:\n      throw new Error(`level: algorithm not implement: ${algorithm}`);\n  }\n\n  return this;\n}\n\nfunction processImage(image, min, max, channels) {\n  let delta = 1e-5; // sorry no better value that this \"best guess\"\n  let factor = new Array(channels.length);\n\n  for (let i = 0; i < channels.length; i++) {\n    if (min[i] === 0 && max[i] === image.maxValue) {\n      factor[i] = 0;\n    } else if (max[i] === min[i]) {\n      factor[i] = 0;\n    } else {\n      factor[i] = (image.maxValue + 1 - delta) / (max[i] - min[i]);\n    }\n    min[i] += (0.5 - delta / 2) / factor[i];\n  }\n\n  /*\n     Note on border effect\n     For 8 bits images we should calculate for the space between -0.5 and 255.5\n     so that after ronding the first and last points still have the same population\n     But doing this we need to deal with Math.round that gives 256 if the value is 255.5\n     */\n\n  for (let j = 0; j < channels.length; j++) {\n    let c = channels[j];\n    if (factor[j] !== 0) {\n      for (let i = 0; i < image.data.length; i += image.channels) {\n        image.data[i + c] = Math.min(\n          Math.max(0, ((image.data[i + c] - min[j]) * factor[j] + 0.5) | 0),\n          image.maxValue,\n        );\n      }\n    }\n  }\n}\n","import isArray from 'is-array-type';\n\nimport Image from '../image/Image';\n\nexport function checkNumberArray(value) {\n  if (!isNaN(value)) {\n    if (value <= 0) {\n      throw new Error('checkNumberArray: the value must be greater than 0');\n    }\n    return value;\n  } else {\n    if (value instanceof Image) {\n      return value.data;\n    }\n    if (!isArray(value)) {\n      throw new Error(\n        'checkNumberArray: the value should be either a number, array or Image',\n      );\n    }\n    return value;\n  }\n}\n","import { validateArrayOfChannels } from '../../util/channel';\nimport { checkNumberArray } from '../../util/value';\n\n/**\n * Add a specific integer on the specified points of the specified channels\n * @memberof Image\n * @instance\n * @param {*} value\n * @param {object} [options]\n * @return {this} Modified current image\n */\nexport default function add(value, options = {}) {\n  let { channels } = options;\n  this.checkProcessable('add', {\n    bitDepth: [8, 16],\n  });\n\n  channels = validateArrayOfChannels(this, { channels: channels });\n  value = checkNumberArray(value);\n\n  // we allow 3 cases, the value may be an array (1D), an image or a single value\n  if (!isNaN(value)) {\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.min(\n          this.maxValue,\n          (this.data[i + c] + value) >> 0,\n        );\n      }\n    }\n  } else {\n    if (this.data.length !== value.length) {\n      throw new Error('add: the data size is different');\n    }\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.max(\n          0,\n          Math.min(this.maxValue, (this.data[i + c] + value[i + c]) >> 0),\n        );\n      }\n    }\n  }\n\n  return this;\n}\n","import { validateArrayOfChannels } from '../../util/channel';\nimport { checkNumberArray } from '../../util/value';\n\n/**\n * @memberof Image\n * @instance\n * @param {*} value\n * @param {object} [options]\n * @return {this}\n */\nexport default function subtract(value, options = {}) {\n  let { channels } = options;\n  this.checkProcessable('subtract', {\n    bitDepth: [8, 16],\n  });\n\n  channels = validateArrayOfChannels(this, { channels: channels });\n  value = checkNumberArray(value);\n\n  if (!isNaN(value)) {\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.max(0, (this.data[i + c] - value) >> 0);\n      }\n    }\n  } else {\n    if (this.data.length !== value.length) {\n      throw new Error('subtract: the data size is different');\n    }\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.max(\n          0,\n          Math.min(this.maxValue, (this.data[i + c] - value[i + c]) >> 0),\n        );\n      }\n    }\n  }\n\n  return this;\n}\n","import { validateArrayOfChannels } from '../../util/channel';\n\n/**\n * Calculate a new image that is the subtraction between the current image and the otherImage.\n * @memberof Image\n * @instance\n * @param {Image} otherImage\n * @param {object} [options={}]\n * @param {number[]|string[]} [options.channels] : to which channel to apply the filter. By default all but alpha.\n * @param {number[]|string[]} [options.absolute=false] :.take the absolute value of the difference (default minimum=0)\n * @return {Image}\n */\nexport default function subtractImage(otherImage, options = {}) {\n  let { channels, absolute = false } = options;\n  this.checkProcessable('subtractImage', {\n    bitDepth: [8, 16],\n  });\n  if (this.width !== otherImage.width || this.height !== otherImage.height) {\n    throw new Error('subtractImage: both images must have the same size');\n  }\n  if (\n    this.alpha !== otherImage.alpha ||\n    this.bitDepth !== otherImage.bitDepth\n  ) {\n    throw new Error(\n      'subtractImage: both images must have the same alpha and bitDepth',\n    );\n  }\n  if (this.channels !== otherImage.channels) {\n    throw new Error(\n      'subtractImage: both images must have the same number of channels',\n    );\n  }\n\n  let newImage = this.clone();\n\n  channels = validateArrayOfChannels(this, { channels: channels });\n\n  for (let j = 0; j < channels.length; j++) {\n    let c = channels[j];\n    for (let i = c; i < this.data.length; i += this.channels) {\n      let value = this.data[i] - otherImage.data[i];\n      if (absolute) {\n        newImage.data[i] = Math.abs(value);\n      } else {\n        newImage.data[i] = Math.max(value, 0);\n      }\n    }\n  }\n\n  return newImage;\n}\n","import { validateArrayOfChannels } from '../../util/channel';\nimport Image from '../Image';\n\n/**\n * Calculate a new image that is the hypotenuse between the current image and the otherImage.\n * @memberof Image\n * @instance\n * @param {Image} otherImage\n * @param {object} [options={}]\n * @param {number} [options.bitDepth=this.bitDepth]\n * @param {number[]|string[]} [options.channels] : to which channel to apply the filter. By default all but alpha.\n * @return {Image}\n */\nexport default function hypotenuse(otherImage, options = {}) {\n  let { bitDepth = this.bitDepth, channels } = options;\n  this.checkProcessable('hypotenuse', {\n    bitDepth: [8, 16, 32],\n  });\n  if (this.width !== otherImage.width || this.height !== otherImage.height) {\n    throw new Error('hypotenuse: both images must have the same size');\n  }\n  if (\n    this.alpha !== otherImage.alpha ||\n    this.bitDepth !== otherImage.bitDepth\n  ) {\n    throw new Error(\n      'hypotenuse: both images must have the same alpha and bitDepth',\n    );\n  }\n  if (this.channels !== otherImage.channels) {\n    throw new Error(\n      'hypotenuse: both images must have the same number of channels',\n    );\n  }\n\n  let newImage = Image.createFrom(this, { bitDepth: bitDepth });\n\n  channels = validateArrayOfChannels(this, { channels: channels });\n\n  let clamped = newImage.isClamped;\n\n  for (let j = 0; j < channels.length; j++) {\n    let c = channels[j];\n    for (let i = c; i < this.data.length; i += this.channels) {\n      let value = Math.hypot(this.data[i], otherImage.data[i]);\n      if (clamped) {\n        // we calculate the clamped result\n        newImage.data[i] = Math.min(\n          Math.max(Math.round(value), 0),\n          newImage.maxValue,\n        );\n      } else {\n        newImage.data[i] = value;\n      }\n    }\n  }\n\n  return newImage;\n}\n","import { validateArrayOfChannels } from '../../util/channel';\nimport { checkNumberArray } from '../../util/value';\n\n/**\n * @memberof Image\n * @instance\n * @param {*} value\n * @param {object} [options]\n * @return {this}\n */\nexport default function multiply(value, options = {}) {\n  let { channels } = options;\n  this.checkProcessable('multiply', {\n    bitDepth: [8, 16],\n  });\n  if (value <= 0) {\n    throw new Error('multiply: the value must be greater than 0');\n  }\n\n  channels = validateArrayOfChannels(this, { channels: channels });\n  value = checkNumberArray(value);\n\n  if (!isNaN(value)) {\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.min(\n          this.maxValue,\n          (this.data[i + c] * value) >> 0,\n        );\n      }\n    }\n  } else {\n    if (this.data.length !== value.length) {\n      throw new Error('multiply: the data size is different');\n    }\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.max(\n          0,\n          Math.min(this.maxValue, (this.data[i + c] * value[i + c]) >> 0),\n        );\n      }\n    }\n  }\n\n  return this;\n}\n","import { validateArrayOfChannels } from '../../util/channel';\nimport { checkNumberArray } from '../../util/value';\n\n/**\n * @memberof Image\n * @instance\n * @param {*} value\n * @param {object} [options]\n * @return {this}\n */\nexport default function divide(value, options = {}) {\n  let { channels } = options;\n  this.checkProcessable('divide', {\n    bitDepth: [8, 16],\n  });\n\n  channels = validateArrayOfChannels(this, { channels: channels });\n  value = checkNumberArray(value);\n\n  if (!isNaN(value)) {\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.min(\n          this.maxValue,\n          (this.data[i + c] / value) >> 0,\n        );\n      }\n    }\n  } else {\n    if (this.data.length !== value.length) {\n      throw new Error('divide: the: the data size is different');\n    }\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.max(\n          0,\n          Math.min(this.maxValue, (this.data[i + c] / value[i + c]) >> 0),\n        );\n      }\n    }\n  }\n\n  return this;\n}\n","import { isAnyArray } from 'is-any-array';\n\nexport { default as maybeToPrecision } from './maybeToPrecision';\nexport { default as checkArrayLength } from './checkArrayLength';\n\nexport default class BaseRegression {\n  constructor() {\n    if (new.target === BaseRegression) {\n      throw new Error('BaseRegression must be subclassed');\n    }\n  }\n\n  predict(x) {\n    if (typeof x === 'number') {\n      return this._predict(x);\n    } else if (isAnyArray(x)) {\n      const y = [];\n      for (let i = 0; i < x.length; i++) {\n        y.push(this._predict(x[i]));\n      }\n      return y;\n    } else {\n      throw new TypeError('x must be a number or array');\n    }\n  }\n\n  _predict() {\n    throw new Error('_predict must be implemented');\n  }\n\n  train() {\n    // Do nothing for this package\n  }\n\n  toString() {\n    return '';\n  }\n\n  toLaTeX() {\n    return '';\n  }\n\n  /**\n   * Return the correlation coefficient of determination (r) and chi-square.\n   * @param {Array<number>} x\n   * @param {Array<number>} y\n   * @return {object}\n   */\n  score(x, y) {\n    if (!isAnyArray(x) || !isAnyArray(y) || x.length !== y.length) {\n      throw new Error('x and y must be arrays of the same length');\n    }\n\n    const n = x.length;\n    const y2 = new Array(n);\n    for (let i = 0; i < n; i++) {\n      y2[i] = this._predict(x[i]);\n    }\n\n    let xSum = 0;\n    let ySum = 0;\n    let chi2 = 0;\n    let rmsd = 0;\n    let xSquared = 0;\n    let ySquared = 0;\n    let xY = 0;\n    for (let i = 0; i < n; i++) {\n      xSum += y2[i];\n      ySum += y[i];\n      xSquared += y2[i] * y2[i];\n      ySquared += y[i] * y[i];\n      xY += y2[i] * y[i];\n      if (y[i] !== 0) {\n        chi2 += ((y[i] - y2[i]) * (y[i] - y2[i])) / y[i];\n      }\n      rmsd += (y[i] - y2[i]) * (y[i] - y2[i]);\n    }\n\n    const r =\n      (n * xY - xSum * ySum) /\n      Math.sqrt((n * xSquared - xSum * xSum) * (n * ySquared - ySum * ySum));\n\n    return {\n      r: r,\n      r2: r * r,\n      chi2: chi2,\n      rmsd: Math.sqrt(rmsd / n),\n    };\n  }\n}\n","import { Matrix, solve } from 'ml-matrix';\nimport Kernel from 'ml-kernel';\nimport BaseRegression from 'ml-regression-base';\n\nconst defaultOptions = {\n  lambda: 0.1,\n  kernelType: 'gaussian',\n  kernelOptions: {},\n  computeCoefficient: false\n};\n\n// Implements the Kernel ridge regression algorithm.\n// http://www.ics.uci.edu/~welling/classnotes/papers_class/Kernel-Ridge.pdf\nexport default class KernelRidgeRegression extends BaseRegression {\n  constructor(inputs, outputs, options) {\n    super();\n    if (inputs === true) {\n      // reloading model\n      this.alpha = outputs.alpha;\n      this.inputs = outputs.inputs;\n      this.kernelType = outputs.kernelType;\n      this.kernelOptions = outputs.kernelOptions;\n      this.kernel = new Kernel(outputs.kernelType, outputs.kernelOptions);\n    } else {\n      inputs = Matrix.checkMatrix(inputs);\n      options = Object.assign({}, defaultOptions, options);\n\n      const kernelFunction = new Kernel(\n        options.kernelType,\n        options.kernelOptions\n      );\n      const K = kernelFunction.compute(inputs);\n      const n = inputs.rows;\n      K.add(Matrix.eye(n, n).mul(options.lambda));\n\n      this.alpha = solve(K, outputs);\n      this.inputs = inputs;\n      this.kernelType = options.kernelType;\n      this.kernelOptions = options.kernelOptions;\n      this.kernel = kernelFunction;\n    }\n  }\n\n  _predict(newInputs) {\n    return this.kernel\n      .compute([newInputs], this.inputs)\n      .mmul(this.alpha)\n      .getRow(0);\n  }\n\n  toJSON() {\n    return {\n      name: 'kernelRidgeRegression',\n      alpha: this.alpha,\n      inputs: this.inputs,\n      kernelType: this.kernelType,\n      kernelOptions: this.kernelOptions\n    };\n  }\n\n  static load(json) {\n    if (json.name !== 'kernelRidgeRegression') {\n      throw new TypeError('not a KRR model');\n    }\n    return new KernelRidgeRegression(true, json);\n  }\n}\n","import { KernelRidgeRegression } from 'ml-regression';\n\nimport Image from '../Image';\n\n/**\n * @memberof Image\n * @instance\n * @param {Array<Array<number>>} coordinates\n * @param {Array<Array<number>>} values;\n * @param {object} [options]\n * @return {Image}\n */\nexport default function background(coordinates, values, options) {\n  const model = new KernelRidgeRegression(coordinates, values, options);\n  const allCoordinates = new Array(this.size);\n  for (let i = 0; i < this.width; i++) {\n    for (let j = 0; j < this.height; j++) {\n      allCoordinates[j * this.width + i] = [i, j];\n    }\n  }\n  const result = model.predict(allCoordinates);\n  const background = Image.createFrom(this);\n  for (let i = 0; i < this.size; i++) {\n    background.data[i] = Math.min(this.maxValue, Math.max(0, result[i][0]));\n  }\n  return background;\n}\n","import Image from '../Image';\n\n/**\n * Dilatation is one of two fundamental operations (with erosion) in morphological\n * image processing from which all other morphological operations are based (from Wikipedia).\n * Replaces each value with it's local maximum among the pixels with a kernel value of 1.\n * http://docs.opencv.org/2.4/doc/tutorials/imgproc/erosion_dilatation/erosion_dilatation.html\n * https://en.wikipedia.org/wiki/Dilation_(morphology)\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Array<Array<number>>} [options.kernel] - The kernel can only have ones and zeros. Default: [[1, 1, 1], [1, 1, 1], [1, 1, 1]]\n * @param {number} [options.iterations=1] - The number of successive erosions\n * @return {Image}\n */\nexport default function dilate(options = {}) {\n  let {\n    kernel = [\n      [1, 1, 1],\n      [1, 1, 1],\n      [1, 1, 1],\n    ],\n    iterations = 1,\n  } = options;\n\n  this.checkProcessable('dilate', {\n    bitDepth: [1, 8, 16],\n    components: 1,\n    alpha: 0,\n  });\n  if (kernel.columns % 2 === 0 || kernel.rows % 2 === 0) {\n    throw new TypeError(\n      'dilate: The number of rows and columns of the kernel must be odd',\n    );\n  }\n\n  let onlyOnes = true;\n  outer: for (const row of kernel) {\n    for (const value of row) {\n      if (value !== 1) {\n        onlyOnes = false;\n        break outer;\n      }\n    }\n  }\n\n  let result = this;\n  for (let i = 0; i < iterations; i++) {\n    if (this.bitDepth === 1) {\n      if (onlyOnes) {\n        const newImage = result.clone();\n        result = dilateOnceBinaryOnlyOnes(\n          result,\n          newImage,\n          kernel.length,\n          kernel[0].length,\n        );\n      } else {\n        const newImage = Image.createFrom(result);\n        result = dilateOnceBinary(result, newImage, kernel);\n      }\n    } else if (onlyOnes) {\n      const newImage = Image.createFrom(result);\n      result = dilateOnceGreyOnlyOnes(\n        result,\n        newImage,\n        kernel.length,\n        kernel[0].length,\n      );\n    } else {\n      const newImage = Image.createFrom(result);\n      result = dilateOnceGrey(result, newImage, kernel);\n    }\n  }\n  return result;\n}\n\nfunction dilateOnceGrey(img, newImage, kernel) {\n  const kernelWidth = kernel.length;\n  const kernelHeight = kernel[0].length;\n  let radiusX = (kernelWidth - 1) / 2;\n  let radiusY = (kernelHeight - 1) / 2;\n  for (let y = 0; y < img.height; y++) {\n    for (let x = 0; x < img.width; x++) {\n      let max = 0;\n      for (let jj = 0; jj < kernelHeight; jj++) {\n        for (let ii = 0; ii < kernelWidth; ii++) {\n          if (kernel[ii][jj] !== 1) continue;\n          let i = ii - radiusX + x;\n          let j = jj - radiusY + y;\n          if (i < 0 || j < 0 || i >= img.width || j >= img.height) continue;\n          const value = img.getValueXY(i, j, 0);\n          if (value > max) max = value;\n        }\n      }\n      newImage.setValueXY(x, y, 0, max);\n    }\n  }\n  return newImage;\n}\n\nfunction dilateOnceGreyOnlyOnes(img, newImage, kernelWidth, kernelHeight) {\n  const radiusX = (kernelWidth - 1) / 2;\n  const radiusY = (kernelHeight - 1) / 2;\n\n  const maxList = [];\n  for (let x = 0; x < img.width; x++) {\n    maxList.push(0);\n  }\n\n  for (let y = 0; y < img.height; y++) {\n    for (let x = 0; x < img.width; x++) {\n      let max = 0;\n      for (\n        let h = Math.max(0, y - radiusY);\n        h < Math.min(img.height, y + radiusY + 1);\n        h++\n      ) {\n        const value = img.getValueXY(x, h, 0);\n        if (value > max) {\n          max = value;\n        }\n      }\n      maxList[x] = max;\n    }\n\n    for (let x = 0; x < img.width; x++) {\n      let max = 0;\n      for (\n        let i = Math.max(0, x - radiusX);\n        i < Math.min(img.width, x + radiusX + 1);\n        i++\n      ) {\n        if (maxList[i] > max) {\n          max = maxList[i];\n        }\n      }\n      newImage.setValueXY(x, y, 0, max);\n    }\n  }\n  return newImage;\n}\n\nfunction dilateOnceBinary(img, newImage, kernel) {\n  const kernelWidth = kernel.length;\n  const kernelHeight = kernel[0].length;\n  let radiusX = (kernelWidth - 1) / 2;\n  let radiusY = (kernelHeight - 1) / 2;\n  for (let y = 0; y < img.height; y++) {\n    for (let x = 0; x < img.width; x++) {\n      let max = 0;\n      intLoop: for (let jj = 0; jj < kernelHeight; jj++) {\n        for (let ii = 0; ii < kernelWidth; ii++) {\n          if (kernel[ii][jj] !== 1) continue;\n          let i = ii - radiusX + x;\n          let j = jj - radiusY + y;\n          if (j < 0 || i < 0 || i >= img.width || j >= img.height) continue;\n          const value = img.getBitXY(i, j);\n          if (value === 1) {\n            max = 1;\n            break intLoop;\n          }\n        }\n      }\n      if (max === 1) {\n        newImage.setBitXY(x, y);\n      }\n    }\n  }\n  return newImage;\n}\n\nfunction dilateOnceBinaryOnlyOnes(img, newImage, kernelWidth, kernelHeight) {\n  const radiusX = (kernelWidth - 1) / 2;\n  const radiusY = (kernelHeight - 1) / 2;\n\n  const maxList = [];\n  for (let x = 0; x < img.width; x++) {\n    maxList.push(1);\n  }\n\n  for (let y = 0; y < img.height; y++) {\n    for (let x = 0; x < img.width; x++) {\n      maxList[x] = 0;\n      for (\n        let h = Math.max(0, y - radiusY);\n        h < Math.min(img.height, y + radiusY + 1);\n        h++\n      ) {\n        if (img.getBitXY(x, h) === 1) {\n          maxList[x] = 1;\n          break;\n        }\n      }\n    }\n\n    for (let x = 0; x < img.width; x++) {\n      if (newImage.getBitXY(x, y) === 1) continue;\n      for (\n        let i = Math.max(0, x - radiusX);\n        i < Math.min(img.width, x + radiusX + 1);\n        i++\n      ) {\n        if (maxList[i] === 1) {\n          newImage.setBitXY(x, y);\n          break;\n        }\n      }\n    }\n  }\n  return newImage;\n}\n","import Image from '../Image';\n\n/**\n * Erosion is one of two fundamental operations (with dilatation) in morphological\n * image processing from which all other morphological operations are based (from Wikipedia).\n * Replaces each value with it's local minimum among the pixels with a kernel value of 1.\n * http://docs.opencv.org/2.4/doc/tutorials/imgproc/erosion_dilatation/erosion_dilatation.html\n * https://en.wikipedia.org/wiki/Erosion_(morphology)\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Array<Array<number>>} [options.kernel] - The kernel can only have ones and zeros. Default: [[1, 1, 1], [1, 1, 1], [1, 1, 1]]\n * @param {number} [options.iterations=1] - The number of successive erosions\n * @return {Image}\n */\nexport default function erode(options = {}) {\n  let {\n    kernel = [\n      [1, 1, 1],\n      [1, 1, 1],\n      [1, 1, 1],\n    ],\n    iterations = 1,\n  } = options;\n\n  this.checkProcessable('erode', {\n    bitDepth: [1, 8, 16],\n    components: 1,\n    alpha: 0,\n  });\n  if (kernel.columns % 2 === 0 || kernel.rows % 2 === 0) {\n    throw new TypeError(\n      'erode: The number of rows and columns of the kernel must be odd',\n    );\n  }\n\n  let onlyOnes = true;\n  outer: for (const row of kernel) {\n    for (const value of row) {\n      if (value !== 1) {\n        onlyOnes = false;\n        break outer;\n      }\n    }\n  }\n\n  let result = this;\n  for (let i = 0; i < iterations; i++) {\n    if (this.bitDepth === 1) {\n      if (onlyOnes) {\n        const newImage = result.clone();\n        result = erodeOnceBinaryOnlyOnes(\n          result,\n          newImage,\n          kernel.length,\n          kernel[0].length,\n        );\n      } else {\n        const newImage = Image.createFrom(result);\n        result = erodeOnceBinary(result, newImage, kernel);\n      }\n    } else if (onlyOnes) {\n      const newImage = Image.createFrom(result);\n      result = erodeOnceGreyOnlyOnes(\n        result,\n        newImage,\n        kernel.length,\n        kernel[0].length,\n      );\n    } else {\n      const newImage = Image.createFrom(result);\n      result = erodeOnceGrey(result, newImage, kernel);\n    }\n  }\n  return result;\n}\n\nfunction erodeOnceGrey(img, newImage, kernel) {\n  const kernelWidth = kernel.length;\n  const kernelHeight = kernel[0].length;\n  let radiusX = (kernelWidth - 1) / 2;\n  let radiusY = (kernelHeight - 1) / 2;\n  for (let y = 0; y < img.height; y++) {\n    for (let x = 0; x < img.width; x++) {\n      let min = img.maxValue;\n      for (let jj = 0; jj < kernelHeight; jj++) {\n        for (let ii = 0; ii < kernelWidth; ii++) {\n          if (kernel[ii][jj] !== 1) continue;\n          let i = ii - radiusX + x;\n          let j = jj - radiusY + y;\n          if (i < 0 || j < 0 || i >= img.width || j >= img.height) continue;\n          const value = img.getValueXY(i, j, 0);\n          if (value < min) min = value;\n        }\n      }\n      newImage.setValueXY(x, y, 0, min);\n    }\n  }\n  return newImage;\n}\n\nfunction erodeOnceGreyOnlyOnes(img, newImage, kernelWidth, kernelHeight) {\n  const radiusX = (kernelWidth - 1) / 2;\n  const radiusY = (kernelHeight - 1) / 2;\n\n  const minList = [];\n  for (let x = 0; x < img.width; x++) {\n    minList.push(0);\n  }\n\n  for (let y = 0; y < img.height; y++) {\n    for (let x = 0; x < img.width; x++) {\n      let min = img.maxValue;\n      for (\n        let h = Math.max(0, y - radiusY);\n        h < Math.min(img.height, y + radiusY + 1);\n        h++\n      ) {\n        const value = img.getValueXY(x, h, 0);\n        if (value < min) {\n          min = value;\n        }\n      }\n      minList[x] = min;\n    }\n\n    for (let x = 0; x < img.width; x++) {\n      let min = img.maxValue;\n      for (\n        let i = Math.max(0, x - radiusX);\n        i < Math.min(img.width, x + radiusX + 1);\n        i++\n      ) {\n        if (minList[i] < min) {\n          min = minList[i];\n        }\n      }\n      newImage.setValueXY(x, y, 0, min);\n    }\n  }\n  return newImage;\n}\n\nfunction erodeOnceBinary(img, newImage, kernel) {\n  const kernelWidth = kernel.length;\n  const kernelHeight = kernel[0].length;\n  let radiusX = (kernelWidth - 1) / 2;\n  let radiusY = (kernelHeight - 1) / 2;\n  for (let y = 0; y < img.height; y++) {\n    for (let x = 0; x < img.width; x++) {\n      let min = 1;\n      intLoop: for (let jj = 0; jj < kernelHeight; jj++) {\n        for (let ii = 0; ii < kernelWidth; ii++) {\n          if (kernel[ii][jj] !== 1) continue;\n          let i = ii - radiusX + x;\n          let j = jj - radiusY + y;\n          if (j < 0 || i < 0 || i >= img.width || j >= img.height) continue;\n          const value = img.getBitXY(i, j);\n          if (value === 0) {\n            min = 0;\n            break intLoop;\n          }\n        }\n      }\n      if (min === 1) {\n        newImage.setBitXY(x, y);\n      }\n    }\n  }\n  return newImage;\n}\n\nfunction erodeOnceBinaryOnlyOnes(img, newImage, kernelWidth, kernelHeight) {\n  const radiusX = (kernelWidth - 1) / 2;\n  const radiusY = (kernelHeight - 1) / 2;\n\n  const minList = [];\n  for (let x = 0; x < img.width; x++) {\n    minList.push(0);\n  }\n\n  for (let y = 0; y < img.height; y++) {\n    for (let x = 0; x < img.width; x++) {\n      minList[x] = 1;\n      for (\n        let h = Math.max(0, y - radiusY);\n        h < Math.min(img.height, y + radiusY + 1);\n        h++\n      ) {\n        if (img.getBitXY(x, h) === 0) {\n          minList[x] = 0;\n          break;\n        }\n      }\n    }\n\n    for (let x = 0; x < img.width; x++) {\n      if (newImage.getBitXY(x, y) === 0) continue;\n      for (\n        let i = Math.max(0, x - radiusX);\n        i < Math.min(img.width, x + radiusX + 1);\n        i++\n      ) {\n        if (minList[i] === 0) {\n          newImage.clearBitXY(x, y);\n          break;\n        }\n      }\n    }\n  }\n  return newImage;\n}\n","/**\n * In mathematical morphology, opening is the dilation of the erosion of a set A by a structuring element B.\n * Together with closing, the opening serves in computer vision and image processing as a basic workhorse of morphological noise removal.\n * Opening removes small objects from the foreground (usually taken as the bright pixels) of an image,\n * placing them in the background, while closing removes small holes in the foreground, changing small islands of background into foreground. (Wikipedia)\n * http://docs.opencv.org/2.4/doc/tutorials/imgproc/opening_closing_hats/opening_closing_hats.html\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Array<Array<number>>} [options.kernel] - The kernel can only have ones and zeros. Default: [[1, 1, 1], [1, 1, 1], [1, 1, 1]]\n * @param {number} [options.iterations=1] - Number of iterations of the morphological transform\n * @return {Image}\n */\nexport default function open(options = {}) {\n  let {\n    kernel = [\n      [1, 1, 1],\n      [1, 1, 1],\n      [1, 1, 1],\n    ],\n    iterations = 1,\n  } = options;\n\n  this.checkProcessable('open', {\n    bitDepth: [8, 16],\n    components: 1,\n    alpha: 0,\n  });\n  if (kernel.columns % 2 === 0 || kernel.rows % 2 === 0) {\n    throw new TypeError(\n      'open: The number of rows and columns of the kernel must be odd',\n    );\n  }\n\n  let newImage = this;\n  for (let i = 0; i < iterations; i++) {\n    newImage = newImage.erode({ kernel });\n    newImage = newImage.dilate({ kernel });\n  }\n  return newImage;\n}\n","/**\n * In mathematical morphology, the closing of a set A by a structuring element B is the erosion of the dilation of that set (Wikipedia).\n * In image processing, closing is, together with opening, the basic workhorse of morphological noise removal.\n * Opening removes small objects, while closing removes small holes.\n * http://docs.opencv.org/2.4/doc/tutorials/imgproc/opening_closing_hats/opening_closing_hats.html\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Array<Array<number>>} [options.kernel] - The kernel can only have ones and zeros. Default: [[1, 1, 1], [1, 1, 1], [1, 1, 1]]\n * @param {number} [options.iterations=1] - Number of iterations of the morphological transform\n * @return {Image}\n */\nexport default function close(options = {}) {\n  let {\n    kernel = [\n      [1, 1, 1],\n      [1, 1, 1],\n      [1, 1, 1],\n    ],\n    iterations = 1,\n  } = options;\n\n  this.checkProcessable('close', {\n    bitDepth: [1, 8, 16],\n    components: 1,\n    alpha: 0,\n  });\n  if (kernel.columns % 2 === 0 || kernel.rows % 2 === 0) {\n    throw new TypeError(\n      'close: The number of rows and columns of the kernel must be odd',\n    );\n  }\n\n  let newImage = this;\n  for (let i = 0; i < iterations; i++) {\n    newImage = newImage.dilate({ kernel }).erode({ kernel });\n  }\n  return newImage;\n}\n","/**\n * This function is the white top hat (also called top hat). In mathematical morphology and digital image processing,\n * top-hat transform is an operation that extracts small elements and details from given images.\n * The white top-hat transform is defined as the difference between the input image and its opening by some structuring element.\n * Top-hat transforms are used for various image processing tasks, such as feature extraction, background equalization, image enhancement, and others. (Wikipedia)\n * http://docs.opencv.org/2.4/doc/tutorials/imgproc/opening_closing_hats/opening_closing_hats.html\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Array<Array<number>>} [options.kernel] - The kernel can only have ones and zeros. Default: [[1, 1, 1], [1, 1, 1], [1, 1, 1]]\n * @param {number} [options.iterations=1] - Number of iterations of the morphological transform\n * @return {Image}\n */\nexport default function topHat(options = {}) {\n  let {\n    kernel = [\n      [1, 1, 1],\n      [1, 1, 1],\n      [1, 1, 1],\n    ],\n    iterations = 1,\n  } = options;\n\n  this.checkProcessable('topHat', {\n    bitDepth: [8, 16],\n    components: 1,\n    alpha: 0,\n  });\n  if (kernel.length % 2 === 0 || kernel[0].length % 2 === 0) {\n    throw new TypeError(\n      'topHat: The number of rows and columns of the kernel must be odd',\n    );\n  }\n\n  let newImage = this;\n  for (let i = 0; i < iterations; i++) {\n    let openImage = newImage.open({ kernel });\n    newImage = openImage.subtractImage(newImage, { absolute: true });\n  }\n  return newImage;\n}\n","/**\n * This function is the black top hat (also called black hat).\n * In mathematical morphology and digital image processing,\n * top-hat transform is an operation that extracts small elements and details from given images.\n * The black top-hat transform is defined dually as the difference between the closed and the input image.\n * Top-hat transforms are used for various image processing tasks, such as feature extraction, background equalization,\n * image enhancement, and others. (Wikipedia)\n * http://docs.opencv.org/2.4/doc/tutorials/imgproc/opening_closing_hats/opening_closing_hats.html\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Array<Array<number>>} [options.kernel] - The kernel can only have ones and zeros. Default: [[1, 1, 1], [1, 1, 1], [1, 1, 1]]\n * @param {number} [options.iterations=1] - Number of iterations of the morphological transform\n * @return {Image}\n */\nexport default function blackHat(options = {}) {\n  let {\n    kernel = [\n      [1, 1, 1],\n      [1, 1, 1],\n      [1, 1, 1],\n    ],\n    iterations = 1,\n  } = options;\n\n  this.checkProcessable('blackHat', {\n    bitDepth: [8, 16],\n    components: 1,\n    alpha: 0,\n  });\n  if (kernel.columns % 2 === 0 || kernel.rows % 2 === 0) {\n    throw new TypeError(\n      'blackHat: The number of rows and columns of the kernel must be odd',\n    );\n  }\n\n  let newImage = this;\n  for (let i = 0; i < iterations; i++) {\n    const closeImage = newImage.close({ kernel });\n    newImage = closeImage.subtractImage(newImage, { absolute: true });\n  }\n  return newImage;\n}\n","/**\n * In mathematical morphology and digital image processing, a morphological gradient is the difference between the dilation and the erosion of a given image. It is an image where each pixel value (typically non-negative) indicates the contrast intensity in the close neighborhood of that pixel. It is useful for edge detection and segmentation applications.\n * http://docs.opencv.org/2.4/doc/tutorials/imgproc/opening_closing_hats/opening_closing_hats.html\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Array<Array<number>>} [options.kernel] - The kernel can only have ones and zeros. Default: [[1, 1, 1], [1, 1, 1], [1, 1, 1]]\n * @param {number} [options.iterations=1] - Number of iterations of the morphological transform\n * @return {Image}\n */\nexport default function morphologicalGradient(options = {}) {\n  let {\n    kernel = [\n      [1, 1, 1],\n      [1, 1, 1],\n      [1, 1, 1],\n    ],\n    iterations = 1,\n  } = options;\n\n  this.checkProcessable('morphologicalGradient', {\n    bitDepth: [8, 16],\n    components: 1,\n    alpha: 0,\n  });\n  if (kernel.columns % 2 === 0 || kernel.rows % 2 === 0) {\n    throw new TypeError(\n      'morphologicalGradient: The number of rows and columns of the kernel must be odd',\n    );\n  }\n\n  let newImage = this;\n  for (let i = 0; i < iterations; i++) {\n    let dilatedImage = newImage.dilate({ kernel });\n    let erodedImage = newImage.erode({ kernel });\n    newImage = dilatedImage.subtractImage(erodedImage, { absolute: true });\n  }\n\n  return newImage;\n}\n","// REFERENCES :\n// https://stackoverflow.com/questions/38285229/calculating-aspect-ratio-of-perspective-transform-destination-image/38402378#38402378\n// http://www.corrmap.com/features/homography_transformation.php\n// https://ags.cs.uni-kl.de/fileadmin/inf_ags/3dcv-ws11-12/3DCV_WS11-12_lec04.pdf\n// http://graphics.cs.cmu.edu/courses/15-463/2011_fall/Lectures/morphing.pdf\n\nimport { Matrix, inverse, SingularValueDecomposition } from 'ml-matrix';\n\nimport Image from '../Image';\n\nfunction order4Points(pts) {\n  let tl = 0;\n  let tr = 0;\n  let br = 0;\n  let bl = 0;\n\n  let minX = pts[0][0];\n  let indexMinX = 0;\n\n  for (let i = 1; i < pts.length; i++) {\n    if (pts[i][0] < minX) {\n      minX = pts[i][0];\n      indexMinX = i;\n    }\n  }\n\n  let minX2 = pts[(indexMinX + 1) % pts.length][0];\n  let indexMinX2 = (indexMinX + 1) % pts.length;\n\n  for (let i = 1; i < pts.length; i++) {\n    if (pts[i][0] < minX2 && i !== indexMinX) {\n      minX2 = pts[i][0];\n      indexMinX2 = i;\n    }\n  }\n\n  if (pts[indexMinX2][1] < pts[indexMinX][1]) {\n    tl = pts[indexMinX2];\n    bl = pts[indexMinX];\n    if (indexMinX !== (indexMinX2 + 1) % 4) {\n      tr = pts[(indexMinX2 + 1) % 4];\n      br = pts[(indexMinX2 + 2) % 4];\n    } else {\n      tr = pts[(indexMinX2 + 2) % 4];\n      br = pts[(indexMinX2 + 3) % 4];\n    }\n  } else {\n    bl = pts[indexMinX2];\n    tl = pts[indexMinX];\n    if (indexMinX2 !== (indexMinX + 1) % 4) {\n      tr = pts[(indexMinX + 1) % 4];\n      br = pts[(indexMinX + 2) % 4];\n    } else {\n      tr = pts[(indexMinX + 2) % 4];\n      br = pts[(indexMinX + 3) % 4];\n    }\n  }\n\n  return [tl, tr, br, bl];\n}\n\nfunction distance2Points(p1, p2) {\n  return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2));\n}\n\nfunction crossVect(u, v) {\n  let result = [\n    u[1] * v[2] - u[2] * v[1],\n    u[2] * v[0] - u[0] * v[2],\n    u[0] * v[1] - u[1] * v[0],\n  ];\n  return result;\n}\n\nfunction dotVect(u, v) {\n  let result = u[0] * v[0] + u[1] * v[1] + u[2] * v[2];\n  return result;\n}\n\nfunction computeWidthAndHeigth(tl, tr, br, bl, widthImage, heightImage) {\n  let w = Math.max(distance2Points(tl, tr), distance2Points(bl, br));\n  let h = Math.max(distance2Points(tl, bl), distance2Points(tr, br));\n  let finalW = 0;\n  let finalH = 0;\n  let u0 = Math.ceil(widthImage / 2);\n  let v0 = Math.ceil(heightImage / 2);\n  let arVis = w / h;\n\n  let m1 = [tl[0], tl[1], 1];\n  let m2 = [tr[0], tr[1], 1];\n  let m3 = [bl[0], bl[1], 1];\n  let m4 = [br[0], br[1], 1];\n\n  let k2 = dotVect(crossVect(m1, m4), m3) / dotVect(crossVect(m2, m4), m3);\n  let k3 = dotVect(crossVect(m1, m4), m2) / dotVect(crossVect(m3, m4), m2);\n\n  let n2 = [k2 * m2[0] - m1[0], k2 * m2[1] - m1[1], k2 * m2[2] - m1[2]];\n  let n3 = [k3 * m3[0] - m1[0], k3 * m3[1] - m1[1], k3 * m3[2] - m1[2]];\n\n  let n21 = n2[0];\n  let n22 = n2[1];\n  let n23 = n2[2];\n\n  let n31 = n3[0];\n  let n32 = n3[1];\n  let n33 = n3[2];\n\n  let f =\n    (1.0 / (n23 * n33)) *\n    (n21 * n31 -\n      (n21 * n33 + n23 * n31) * u0 +\n      n23 * n33 * u0 * u0 +\n      (n22 * n32 - (n22 * n33 + n23 * n32) * v0 + n23 * n33 * v0 * v0));\n  if (f >= 0) {\n    f = Math.sqrt(f);\n  } else {\n    f = Math.sqrt(-f);\n  }\n\n  let A = new Matrix([\n    [f, 0, u0],\n    [0, f, v0],\n    [0, 0, 1],\n  ]);\n  let At = A.transpose();\n  let Ati = inverse(At);\n  let Ai = inverse(A);\n\n  let n2R = Matrix.rowVector(n2);\n  let n3R = Matrix.rowVector(n3);\n\n  let arReal = Math.sqrt(\n    dotVect(n2R.mmul(Ati).mmul(Ai).to1DArray(), n2) /\n      dotVect(n3R.mmul(Ati).mmul(Ai).to1DArray(), n3),\n  );\n\n  if (arReal === 0 || arVis === 0) {\n    finalW = Math.ceil(w);\n    finalH = Math.ceil(h);\n  } else if (arReal < arVis) {\n    finalW = Math.ceil(w);\n    finalH = Math.ceil(finalW / arReal);\n  } else {\n    finalH = Math.ceil(h);\n    finalW = Math.ceil(arReal * finalH);\n  }\n  return [finalW, finalH];\n}\n\nfunction projectionPoint(x, y, a, b, c, d, e, f, g, h, image, channel) {\n  let [newX, newY] = [\n    (a * x + b * y + c) / (g * x + h * y + 1),\n    (d * x + e * y + f) / (g * x + h * y + 1),\n  ];\n  return image.getValueXY(Math.floor(newX), Math.floor(newY), channel);\n}\n\n/**\n * Transform a quadrilateral into a rectangle\n * @memberof Image\n * @instance\n * @param {Array<Array<number>>} [pts] - Array of the four corners.\n * @param {object} [options]\n * @param {boolean} [options.calculateRatio=true] - true if you want to calculate the aspect ratio \"width x height\" by taking the perspectiv into consideration.\n * @return {Image} The new image, which is a rectangle\n * @example\n * var cropped = image.warpingFourPoints({\n *   pts: [[0,0], [100, 0], [80, 50], [10, 50]]\n * });\n */\n\nexport default function warpingFourPoints(pts, options = {}) {\n  let { calculateRatio = true } = options;\n\n  if (pts.length !== 4) {\n    throw new Error(\n      `The array pts must have four elements, which are the four corners. Currently, pts have ${pts.length} elements`,\n    );\n  }\n\n  let [pt1, pt2, pt3, pt4] = pts;\n\n  let quadrilaterial = [pt1, pt2, pt3, pt4];\n  let [tl, tr, br, bl] = order4Points(quadrilaterial);\n  let widthRect;\n  let heightRect;\n  if (calculateRatio) {\n    [widthRect, heightRect] = computeWidthAndHeigth(\n      tl,\n      tr,\n      br,\n      bl,\n      this.width,\n      this.height,\n    );\n  } else {\n    widthRect = Math.ceil(\n      Math.max(distance2Points(tl, tr), distance2Points(bl, br)),\n    );\n    heightRect = Math.ceil(\n      Math.max(distance2Points(tl, bl), distance2Points(tr, br)),\n    );\n  }\n  let newImage = Image.createFrom(this, {\n    width: widthRect,\n    height: heightRect,\n  });\n\n  let [X1, Y1] = tl;\n  let [X2, Y2] = tr;\n  let [X3, Y3] = br;\n  let [X4, Y4] = bl;\n  let [x1, y1] = [0, 0];\n  let [x2, y2] = [0, widthRect - 1];\n  let [x3, y3] = [heightRect - 1, widthRect - 1];\n  let [x4, y4] = [heightRect - 1, 0];\n\n  let S = new Matrix([\n    [x1, y1, 1, 0, 0, 0, -x1 * X1, -y1 * X1],\n    [x2, y2, 1, 0, 0, 0, -x2 * X2, -y2 * X2],\n    [x3, y3, 1, 0, 0, 0, -x3 * X3, -y1 * X3],\n    [x4, y4, 1, 0, 0, 0, -x4 * X4, -y4 * X4],\n    [0, 0, 0, x1, y1, 1, -x1 * Y1, -y1 * Y1],\n    [0, 0, 0, x2, y2, 1, -x2 * Y2, -y2 * Y2],\n    [0, 0, 0, x3, y3, 1, -x3 * Y3, -y3 * Y3],\n    [0, 0, 0, x4, y4, 1, -x4 * Y4, -y4 * Y4],\n  ]);\n\n  let D = Matrix.columnVector([X1, X2, X3, X4, Y1, Y2, Y3, Y4]);\n\n  let svd = new SingularValueDecomposition(S);\n  let T = svd.solve(D); // solve S*T = D\n  let [a, b, c, d, e, f, g, h] = T.to1DArray();\n\n  let Xt = new Matrix(heightRect, widthRect);\n\n  for (let channel = 0; channel < this.channels; channel++) {\n    for (let i = 0; i < heightRect; i++) {\n      for (let j = 0; j < widthRect; j++) {\n        Xt.set(\n          i,\n          j,\n          projectionPoint(i, j, a, b, c, d, e, f, g, h, this, channel),\n        );\n      }\n    }\n    newImage.setMatrix(Xt, { channel: channel });\n  }\n\n  return newImage;\n}\n","import Image from '../Image';\n\n/**\n * Crops the image\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.x=0] - x coordinate to place the zero of the new image\n * @param {number} [options.y=0] - y coordinate to place the zero of the new image\n * @param {number} [options.width=this.width-x] - width of the new image\n * @param {number} [options.height=this.height-y] - height of the new image\n * @return {Image} The new cropped image\n * @example\n * var cropped = image.crop({\n *   x:0,\n *   y:0\n * });\n */\nexport default function crop(options = {}) {\n  let {\n    x = 0,\n    y = 0,\n    width = this.width - x,\n    height = this.height - y,\n  } = options;\n  this.checkProcessable('crop', {\n    bitDepth: [1, 8, 16],\n  });\n  x = Math.round(x);\n  y = Math.round(y);\n  width = Math.round(width);\n  height = Math.round(height);\n\n  if (x > this.width - 1 || y > this.height - 1) {\n    throw new RangeError(\n      `crop: origin (x:${x}, y:${y}) out of range (${this.width - 1}; ${\n        this.height - 1\n      })`,\n    );\n  }\n\n  if (width <= 0 || height <= 0) {\n    throw new RangeError(\n      `crop: width and height (width:${width}; height:${height}) must be positive numbers`,\n    );\n  }\n\n  if (x < 0 || y < 0) {\n    throw new RangeError(\n      `crop: x and y (x:${x}, y:${y}) must be positive numbers`,\n    );\n  }\n\n  if (width > this.width - x || height > this.height - y) {\n    throw new RangeError(\n      `crop: (x: ${x}, y:${y}, width:${width}, height:${height}) size is out of range`,\n    );\n  }\n\n  let result = this;\n  if (this.bitDepth === 1) {\n    const newImage = new Image(width, height, {\n      kind: 'BINARY',\n      parent: this,\n    });\n    result = cropBinary(this, newImage, x, y, width, height);\n  } else {\n    const newImage = Image.createFrom(this, {\n      width,\n      height,\n      position: [x, y],\n    });\n    result = cropDefault(this, newImage, x, y, width, height);\n  }\n\n  return result;\n}\n\nfunction cropDefault(img, newImage, x, y, width, height) {\n  let xWidth = width * img.channels;\n  let y1 = y + height;\n  let ptr = 0; // pointer for new array\n\n  let jLeft = x * img.channels;\n\n  for (let i = y; i < y1; i++) {\n    let j = i * img.width * img.channels + jLeft;\n    let jL = j + xWidth;\n\n    for (; j < jL; j++) {\n      newImage.data[ptr++] = img.data[j];\n    }\n  }\n\n  return newImage;\n}\n\nfunction cropBinary(img, newImage, x, y, width, height) {\n  let xWidth = width * img.channels;\n  let y1 = y + height;\n  let ptr = 0; // pointer for new array\n\n  let jLeft = x * img.channels;\n\n  for (let i = y; i < y1; i++) {\n    let j = i * img.width * img.channels + jLeft;\n    let jL = j + xWidth;\n\n    for (; j < jL; j++) {\n      if (img.getBit(j)) {\n        newImage.setBit(ptr);\n      }\n      ++ptr;\n    }\n  }\n\n  return newImage;\n}\n","/**\n * Crops the image based on the alpha channel\n * This removes lines and columns where the alpha channel is lower than a threshold value.\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.threshold=this.maxValue]\n * @return {Image}\n */\nexport default function cropAlpha(options = {}) {\n  this.checkProcessable('cropAlpha', {\n    alpha: 1,\n  });\n\n  const { threshold = this.maxValue } = options;\n\n  let left = findLeft(this, threshold, this.components);\n\n  if (left === -1) {\n    throw new Error(\n      'Could not find new dimensions. Threshold may be too high.',\n    );\n  }\n\n  let top = findTop(this, threshold, this.components, left);\n  let bottom = findBottom(this, threshold, this.components, left);\n  let right = findRight(this, threshold, this.components, left, top, bottom);\n\n  return this.crop({\n    x: left,\n    y: top,\n    width: right - left + 1,\n    height: bottom - top + 1,\n  });\n}\n\nfunction findLeft(image, threshold, channel) {\n  for (let x = 0; x < image.width; x++) {\n    for (let y = 0; y < image.height; y++) {\n      if (image.getValueXY(x, y, channel) >= threshold) {\n        return x;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction findTop(image, threshold, channel, left) {\n  for (let y = 0; y < image.height; y++) {\n    for (let x = left; x < image.width; x++) {\n      if (image.getValueXY(x, y, channel) >= threshold) {\n        return y;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction findBottom(image, threshold, channel, left) {\n  for (let y = image.height - 1; y >= 0; y--) {\n    for (let x = left; x < image.width; x++) {\n      if (image.getValueXY(x, y, channel) >= threshold) {\n        return y;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction findRight(image, threshold, channel, left, top, bottom) {\n  for (let x = image.width - 1; x >= left; x--) {\n    for (let y = top; y <= bottom; y++) {\n      if (image.getValueXY(x, y, channel) >= threshold) {\n        return x;\n      }\n    }\n  }\n  return -1;\n}\n","/**\n * Converts a factor value to a number between 0 and 1\n * @private\n * @param {string|number} value\n * @return {number}\n */\nexport function getFactor(value) {\n  if (typeof value === 'string') {\n    const last = value[value.length - 1];\n    value = parseFloat(value);\n    if (last === '%') {\n      value /= 100;\n    }\n  }\n  return value;\n}\n\n/**\n * We can specify a threshold as \"0.4\", \"40%\" or 123\n * @private\n * @param {string|number} value\n * @param {number} maxValue\n * @return {number}\n */\nexport function getThreshold(value, maxValue) {\n  if (!maxValue) {\n    throw Error('getThreshold : the maxValue should be specified');\n  }\n  if (typeof value === 'string') {\n    let last = value[value.length - 1];\n    if (last !== '%') {\n      throw Error(\n        'getThreshold : if the value is a string it must finish by %',\n      );\n    }\n    return (parseFloat(value) / 100) * maxValue;\n  } else if (typeof value === 'number') {\n    if (value < 1) {\n      return value * maxValue;\n    }\n    return value;\n  } else {\n    throw Error('getThreshold : the value is not valid');\n  }\n}\n\nexport function factorDimensions(factor, width, height) {\n  factor = getFactor(factor);\n  let newWidth = Math.round(factor * width);\n  let newHeight = Math.round(factor * height);\n\n  if (newWidth <= 0) {\n    newWidth = 1;\n  }\n  if (newHeight <= 0) {\n    newHeight = 1;\n  }\n  return {\n    width: newWidth,\n    height: newHeight,\n  };\n}\n","export function checkRow(image, row) {\n  if (row < 0 || row >= image.height) {\n    throw new RangeError(\n      `row must be included between 0 and ${\n        image.height - 1\n      }. Current value: ${row}`,\n    );\n  }\n}\n\nexport function checkColumn(image, column) {\n  if (column < 0 || column >= image.width) {\n    throw new RangeError(\n      `column must be included between 0 and ${\n        image.width - 1\n      }. Current value: ${column}`,\n    );\n  }\n}\n\nexport function checkChannel(image, channel) {\n  if (channel < 0 || channel >= image.channels) {\n    throw new RangeError(\n      `channel must be included between 0 and ${\n        image.channels - 1\n      }. Current value: ${channel}`,\n    );\n  }\n}\n\n/**\n * @typedef {('nearestNeighbor'|'bilinear')} InterpolationAlgorithm\n */\nexport const validInterpolations = {\n  nearestneighbor: 'nearestNeighbor',\n  nearestneighbour: 'nearestNeighbor',\n  bilinear: 'bilinear',\n};\n\nexport function checkInterpolation(interpolation) {\n  if (typeof interpolation !== 'string') {\n    throw new TypeError('interpolation must be a string');\n  }\n  interpolation = interpolation.toLowerCase();\n  if (!validInterpolations[interpolation]) {\n    throw new RangeError(`invalid interpolation algorithm: ${interpolation}`);\n  }\n  return validInterpolations[interpolation];\n}\n","/**\n * Nearest neighbor resizing algorithm\n * @private\n * @param {Image} newImage\n * @param {number} newWidth\n * @param {number} newHeight\n */\nexport default function nearestNeighbor(newImage, newWidth, newHeight) {\n  const wRatio = this.width / newWidth;\n  const hRatio = this.height / newHeight;\n\n  if (this.bitDepth > 1) {\n    for (let i = 0; i < newWidth; i++) {\n      const w = Math.floor((i + 0.5) * wRatio);\n      for (let j = 0; j < newHeight; j++) {\n        const h = Math.floor((j + 0.5) * hRatio);\n        for (let c = 0; c < this.channels; c++) {\n          newImage.setValueXY(i, j, c, this.getValueXY(w, h, c));\n        }\n      }\n    }\n  } else {\n    for (let i = 0; i < newWidth; i++) {\n      const w = Math.floor((i + 0.5) * wRatio);\n      for (let j = 0; j < newHeight; j++) {\n        const h = Math.floor((j + 0.5) * hRatio);\n        if (this.getBitXY(w, h)) {\n          newImage.setBitXY(i, j);\n        }\n      }\n    }\n  }\n}\n","import { factorDimensions } from '../../../util/converter';\nimport Image from '../../Image';\nimport { validInterpolations, checkInterpolation } from '../../internal/checks';\n\nimport nearestNeighbor from './nearestNeighbor';\n\n/**\n * Resize an image\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.width=this.width] - new width\n * @param {number} [options.height=this.height] - new height\n * @param {number} [options.factor=1] - scaling factor (applied to the new width and height values)\n * @param {InterpolationAlgorithm} [options.interpolation='nearestNeighbor']\n * @param {boolean} [options.preserveAspectRatio=true] - preserve width/height ratio if only one of them is defined\n * @return {Image}\n */\nexport default function resize(options = {}) {\n  const {\n    factor = 1,\n    interpolation = validInterpolations.nearestneighbor,\n    preserveAspectRatio = true,\n  } = options;\n\n  const interpolationToUse = checkInterpolation(interpolation);\n\n  let width = options.width;\n  let height = options.height;\n\n  if (!width) {\n    if (height && preserveAspectRatio) {\n      width = Math.round(height * (this.width / this.height));\n    } else {\n      width = this.width;\n    }\n  }\n  if (!height) {\n    if (preserveAspectRatio) {\n      height = Math.round(width * (this.height / this.width));\n    } else {\n      height = this.height;\n    }\n  }\n\n  ({ width, height } = factorDimensions(factor, width, height));\n\n  if (width === this.width && height === this.height) {\n    const newImage = this.clone();\n    newImage.position = [0, 0];\n    return newImage;\n  }\n\n  let shiftX = Math.round((this.width - width) / 2);\n  let shiftY = Math.round((this.height - height) / 2);\n  const newImage = Image.createFrom(this, {\n    width,\n    height,\n    position: [shiftX, shiftY],\n  });\n\n  switch (interpolationToUse) {\n    case validInterpolations.nearestneighbor:\n      nearestNeighbor.call(this, newImage, width, height);\n      break;\n    default:\n      throw new Error(\n        `unsupported resize interpolation: ${interpolationToUse}`,\n      );\n  }\n\n  return newImage;\n}\n","// based on https://bgrins.github.io/TinyColor/docs/tinycolor.html\n\nimport Image from '../Image';\nimport { RGB, HSV } from '../model/model';\n\n/**\n * Make a copy of the current image and convert the color model to HSV\n * The source image has to be RGB !\n * @memberof Image\n * @instance\n * @return {Image} - New image in HSV color model\n * @example\n * var hsvImage = image.hsv();\n * // we can create one image per channel\n * var channels = hsvImage.split();\n */\nexport default function hsv() {\n  this.checkProcessable('hsv', {\n    bitDepth: [8, 16],\n    alpha: [0, 1],\n    colorModel: [RGB],\n  });\n\n  let newImage = Image.createFrom(this, {\n    colorModel: HSV,\n  });\n\n  let ptr = 0;\n  let data = this.data;\n  for (let i = 0; i < data.length; i += this.channels) {\n    let red = data[i];\n    let green = data[i + 1];\n    let blue = data[i + 2];\n\n    let min = Math.min(red, green, blue);\n    let max = Math.max(red, green, blue);\n    let delta = max - min;\n    let hue = 0;\n    let saturation = max === 0 ? 0 : delta / max;\n    let value = max;\n\n    if (max !== min) {\n      switch (max) {\n        case red:\n          hue = (green - blue) / delta + (green < blue ? 6 : 0);\n          break;\n        case green:\n          hue = (blue - red) / delta + 2;\n          break;\n        case blue:\n          hue = (red - green) / delta + 4;\n          break;\n        default:\n          throw new Error('unreachable');\n      }\n      hue /= 6;\n    }\n\n    newImage.data[ptr++] = hue * this.maxValue;\n    newImage.data[ptr++] = saturation * this.maxValue;\n    newImage.data[ptr++] = value;\n    if (this.alpha) {\n      newImage.data[ptr++] = data[i + 3];\n    }\n  }\n\n  return newImage;\n}\n","// http://www.easyrgb.com/index.php?X=MATH&H=18#text18\n// check rgbToHsl : https://bgrins.github.io/TinyColor/docs/tinycolor.html\n\nimport Image from '../Image';\nimport { RGB, HSL } from '../model/model';\n\n/**\n * Make a copy of the current image and convert the color model to HSL\n * The source image has to be RGB !\n * @memberof Image\n * @instance\n * @return {Image} - New image in HSL color model\n * @example\n * var hslImage = image.hsl();\n * // we can create one image per channel\n * var channels = hslImage.split();\n */\nexport default function hsl() {\n  this.checkProcessable('hsl', {\n    bitDepth: [8, 16],\n    alpha: [0, 1],\n    colorModel: [RGB],\n  });\n\n  let newImage = Image.createFrom(this, {\n    colorModel: HSL,\n  });\n\n  let threshold = Math.floor(this.maxValue / 2);\n  let ptr = 0;\n  let data = this.data;\n  for (let i = 0; i < data.length; i += this.channels) {\n    let red = data[i];\n    let green = data[i + 1];\n    let blue = data[i + 2];\n\n    let max = Math.max(red, green, blue);\n    let min = Math.min(red, green, blue);\n    let hue = 0;\n    let saturation = 0;\n    let luminance = (max + min) / 2;\n    if (max !== min) {\n      let delta = max - min;\n      saturation =\n        luminance > threshold ? delta / (2 - max - min) : delta / (max + min);\n      switch (max) {\n        case red:\n          hue = (green - blue) / delta + (green < blue ? 6 : 0);\n          break;\n        case green:\n          hue = (blue - red) / delta + 2;\n          break;\n        case blue:\n          hue = (red - green) / delta + 4;\n          break;\n        default:\n          throw new Error('unreachable');\n      }\n      hue /= 6;\n    }\n\n    newImage.data[ptr++] = hue * this.maxValue;\n    newImage.data[ptr++] = saturation * this.maxValue;\n    newImage.data[ptr++] = luminance;\n    if (this.alpha) {\n      newImage.data[ptr++] = data[i + 3];\n    }\n  }\n\n  return newImage;\n}\n","// http://www.easyrgb.com/index.php?X=MATH&H=18#text18\n// check rgbToHsl : https://bgrins.github.io/TinyColor/docs/tinycolor.html\n\nimport Image from '../Image';\nimport { RGB, CMYK } from '../model/model';\n\n/**\n * Make a copy of the current image and convert the color model to CMYK\n * The source image has to be RGB !\n * @memberof Image\n * @instance\n * @return {Image} - New image in CMYK color model\n * @example\n * var cmykImage = image.cmyk();\n * // we can create one image per channel\n * var channels = cmykImage.split();\n */\nexport default function cmyk() {\n  this.checkProcessable('cmyk', {\n    bitDepth: [8, 16],\n    alpha: [0, 1],\n    colorModel: [RGB],\n  });\n\n  let newImage = Image.createFrom(this, {\n    components: 4,\n    colorModel: CMYK,\n  });\n\n  let ptr = 0;\n  let data = this.data;\n  for (let i = 0; i < data.length; i += this.channels) {\n    let red = data[i];\n    let green = data[i + 1];\n    let blue = data[i + 2];\n\n    let black = Math.min(\n      this.maxValue - red,\n      this.maxValue - green,\n      this.maxValue - blue,\n    );\n    let cyan = (this.maxValue - red - black) / (1 - black / this.maxValue);\n    let magenta = (this.maxValue - green - black) / (1 - black / this.maxValue);\n    let yellow = (this.maxValue - blue - black) / (1 - black / this.maxValue);\n\n    newImage.data[ptr++] = Math.round(cyan);\n    newImage.data[ptr++] = Math.round(magenta);\n    newImage.data[ptr++] = Math.round(yellow);\n    newImage.data[ptr++] = Math.round(black);\n    if (this.alpha) {\n      newImage.data[ptr++] = data[i + 3];\n    }\n  }\n\n  return newImage;\n}\n","import Image from '../Image';\n\n/**\n * Make a copy of the current image and convert to RGBA 8 bits\n * Those images are the one that are displayed in a canvas.\n * RGB model in 8 bits per channel and containing as well an alpha channel.\n * The source image may be:\n * * a mask (binary image)\n * * a grey image (8, 16 or 32 bits) with or without alpha channel\n * * a color image (8, 16 or 32 bits) with or without alpha channel in with RGB model\n * * when the image is 32 bits, a rescaling is performed from the min and max values\n * * to map values from 0 to 255\n * The conversion is based on {@link Image#getRGBAData}.\n * @memberof Image\n * @instance\n * @return {Image} - New image in RGB color model with alpha channel\n * @example\n * var rgbaImage = image.rgba8();\n */\nexport default function rgba8() {\n  return new Image(this.width, this.height, this.getRGBAData(), {\n    kind: 'RGBA',\n    parent: this,\n  });\n}\n","/**\n * @typedef {('luma709'|'luma601'|'maximum'|'minimum'|'average'|'minmax'|'red'|'green'|'blue'|'cyan'|'magenta'|'yellow'|'black'|'hue'|'saturation'|'lightness')} GreyAlgorithm\n */\n\nexport const methods = {\n  luma709(red, green, blue) {\n    // sRGB\n    // return red * 0.2126 + green * 0.7152 + blue * 0.0722;\n    // Let's do a little trick ... in order not convert the integer to a double we do\n    // the multiplication with integer to reach a total of 32768 and then shift the bits\n    // of 15 to the right\n    // This does a Math.floor and may lead to small (max 1) difference\n    // Same result, > 10% faster on the full grey conversion\n    return (red * 6966 + green * 23436 + blue * 2366) >> 15;\n  },\n  luma601(red, green, blue) {\n    // NTSC\n    // return this.red * 0.299 + green * 0.587 + blue * 0.114;\n    return (red * 9798 + green * 19235 + blue * 3735) >> 15;\n  },\n  maximum(red, green, blue) {\n    return Math.max(red, green, blue);\n  },\n  minimum(red, green, blue) {\n    return Math.min(red, green, blue);\n  },\n  average(red, green, blue) {\n    return ((red + green + blue) / 3) >> 0;\n  },\n  minmax(red, green, blue) {\n    return (Math.max(red, green, blue) + Math.min(red, green, blue)) / 2;\n  },\n  red(red) {\n    return red;\n  },\n  green(red, green) {\n    return green;\n  },\n  blue(red, green, blue) {\n    return blue;\n  },\n  cyan(red, green, blue, image) {\n    let black = methods.black(red, green, blue, image);\n    return ((image.maxValue - red - black) / (1 - black / image.maxValue)) >> 0;\n  },\n  magenta(red, green, blue, image) {\n    let black = methods.black(red, green, blue, image);\n    return (\n      ((image.maxValue - green - black) / (1 - black / image.maxValue)) >> 0\n    );\n  },\n  yellow(red, green, blue, image) {\n    let black = methods.black(red, green, blue, image);\n    return (\n      ((image.maxValue - blue - black) / (1 - black / image.maxValue)) >> 0\n    );\n  },\n  black(red, green, blue, image) {\n    return Math.min(\n      image.maxValue - red,\n      image.maxValue - green,\n      image.maxValue - blue,\n    );\n  },\n  hue(red, green, blue, image) {\n    let min = methods.min(red, green, blue);\n    let max = methods.max(red, green, blue);\n    if (max === min) {\n      return 0;\n    }\n    let hue = 0;\n    let delta = max - min;\n\n    switch (max) {\n      case red:\n        hue = (green - blue) / delta + (green < blue ? 6 : 0);\n        break;\n      case green:\n        hue = (blue - red) / delta + 2;\n        break;\n      case blue:\n        hue = (red - green) / delta + 4;\n        break;\n      default:\n        throw new Error('unreachable');\n    }\n    return ((hue / 6) * image.maxValue) >> 0;\n  },\n  saturation(red, green, blue, image) {\n    // from HSV model\n    let min = methods.min(red, green, blue);\n    let max = methods.max(red, green, blue);\n    let delta = max - min;\n    return max === 0 ? 0 : (delta / max) * image.maxValue;\n  },\n  lightness(red, green, blue) {\n    let min = methods.min(red, green, blue);\n    let max = methods.max(red, green, blue);\n    return (max + min) / 2;\n  },\n};\n\nObject.defineProperty(methods, 'luminosity', {\n  enumerable: false,\n  value: methods.lightness,\n});\nObject.defineProperty(methods, 'luminance', {\n  enumerable: false,\n  value: methods.lightness,\n});\nObject.defineProperty(methods, 'min', {\n  enumerable: false,\n  value: methods.minimum,\n});\nObject.defineProperty(methods, 'max', {\n  enumerable: false,\n  value: methods.maximum,\n});\nObject.defineProperty(methods, 'brightness', {\n  enumerable: false,\n  value: methods.maximum,\n});\n\nexport const names = {};\nObject.keys(methods).forEach((name) => {\n  names[name] = name;\n});\n","import { clamp } from '../internal/clamp';\nimport { getOutputImage } from '../internal/getOutputImage';\nimport { GREY } from '../model/model';\n\nimport { methods } from './greyAlgorithms';\n\n/**\n * Call back that converts the RGB channels to grey. It will be clamped after.\n * @callback GreyAlgorithmCallback\n * @param {number} red - value of the red channel\n * @param {number} green - value of the green channel\n * @param {number} blue - value of the blue channel\n * @return {number} value of the grey channel\n */\n\n/**\n * Converts the current image to greyscale.\n * The source image has to be RGB.\n * If there is an alpha channel we need to decide what to do:\n * * keepAlpha : we will keep the alpha channel and you will get a GREY / A image\n * * mergeAlpha : we will multiply each pixel of the image by the alpha\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {GreyAlgorithm|GreyAlgorithmCallback} [options.algorithm='luma709'] - Algorithm to get the grey value from RGB values\n * @param {boolean} [options.keepAlpha=false] - If true, the RGB values are treated\n *          separately from the alpha channel and the method returns a GREYA image.\n * @param {boolean} [options.mergeAlpha=true] - If true, the alpha channel will be used to scale the grey pixel.\n * @param {Image} [options.out]\n * @return {Image}\n */\nexport default function grey(options = {}) {\n  let { algorithm = 'luma709', keepAlpha = false, mergeAlpha = true } = options;\n\n  if (typeof algorithm !== 'string' && typeof algorithm !== 'function') {\n    throw new TypeError('algorithm must be a string or a function');\n  }\n\n  this.checkProcessable('grey', {\n    bitDepth: [8, 16],\n    alpha: [0, 1],\n  });\n\n  if (this.components === 1) {\n    algorithm = 'red'; // actually we just take the first channel if it is a grey image\n  }\n\n  keepAlpha &= this.alpha;\n  mergeAlpha &= this.alpha;\n  if (keepAlpha) {\n    mergeAlpha = false;\n  }\n\n  let newImage = getOutputImage(this, options, {\n    components: 1,\n    alpha: keepAlpha,\n    colorModel: GREY,\n  });\n\n  let method;\n  if (typeof algorithm === 'function') {\n    method = algorithm;\n  } else {\n    method = methods[algorithm.toLowerCase()];\n    if (!method) {\n      throw new Error(`unsupported grey algorithm: ${algorithm}`);\n    }\n  }\n\n  let ptr = 0;\n  for (let i = 0; i < this.data.length; i += this.channels) {\n    if (mergeAlpha) {\n      newImage.data[ptr++] = clamp(\n        (method(this.data[i], this.data[i + 1], this.data[i + 2], this) *\n          this.data[i + this.components]) /\n          this.maxValue,\n        this,\n      );\n    } else {\n      newImage.data[ptr++] = clamp(\n        method(this.data[i], this.data[i + 1], this.data[i + 2], this),\n        this,\n      );\n      if (newImage.alpha) {\n        newImage.data[ptr++] = this.data[i + this.components];\n      }\n    }\n  }\n\n  return newImage;\n}\n","/*\n *\n * see https://github.com/fiji/Auto_Threshold/blob/master/src/main/java/fiji/threshold/Auto_Threshold.java\n * Intermodes: This assumes a bimodal histogram. Implements the thresholding Prewitt, JMS & Mendelsohn, ML (1966),\n * \"The analysis of cell images\", Annals of the NewYork Academy of Sciences 128: 1035-1053\n *\n */\n\nexport default function intermodes(histogram) {\n  let iHisto = histogram.slice();\n  let iter = 0;\n  while (!bimodalTest(iHisto)) {\n    // smooth with a 3 point running mean filter\n    let previous = 0;\n    let current = 0;\n    let next = iHisto[0];\n    for (let i = 0; i < histogram.length - 1; i++) {\n      previous = current;\n      current = next;\n      next = iHisto[i + 1];\n      iHisto[i] = (previous + current + next) / 3;\n    }\n    iHisto[histogram.length - 1] = (current + next) / 3;\n    iter++;\n    if (iter > 10000) {\n      throw new Error('Intermodes Threshold not found after 10000 iterations');\n    }\n  }\n\n  // The threshold is the mean between the two peaks.\n  let tt = 0;\n  for (let i = 1; i < histogram.length - 1; i++) {\n    if (iHisto[i - 1] < iHisto[i] && iHisto[i + 1] < iHisto[i]) {\n      tt += i;\n    }\n  }\n  return Math.floor(tt / 2.0);\n}\n\nfunction bimodalTest(iHisto) {\n  let b = false;\n  let modes = 0;\n\n  for (let k = 1; k < iHisto.length - 1; k++) {\n    if (iHisto[k - 1] < iHisto[k] && iHisto[k + 1] < iHisto[k]) {\n      modes++;\n      if (modes > 2) {\n        return false;\n      }\n    }\n  }\n  if (modes === 2) {\n    b = true;\n  }\n  return b;\n}\n","/*\n * see http://rsb.info.nih.gov/ij/developer/source/ij/process/AutoThresholder.java.html\n * The method is present in: An iterative implementation of Kittler and Illingworth's Minimum Error\n * thresholding:Kittler, J & Illingworth, J (1986), \"Minimum error thresholding\", Pattern Recognition 19: 41-47\n * @param histogram - the histogram of the image\n * @param total - the number of pixels in the image\n * @returns {number} - the threshold\n */\n\nexport default function minError(histogram, total) {\n  let threshold;\n  let Tprev = -2;\n  let mu, nu, p, q, sigma2, tau2, w0, w1, w2, sqterm, temp;\n\n  /* Calculate the mean gray-level */\n  let mean = 0.0;\n  for (let ih = 0; ih < histogram.length; ih++) {\n    mean += ih * histogram[ih];\n  }\n\n  mean /= total;\n\n  threshold = mean;\n\n  while (threshold !== Tprev) {\n    // Calculate some statistics.\n    let sumA1 = sumA(histogram, threshold);\n    let sumA2 = sumA(histogram, histogram.length - 1);\n    let sumB1 = sumB(histogram, threshold);\n    let sumB2 = sumB(histogram, histogram.length - 1);\n    let sumC1 = sumC(histogram, threshold);\n    let sumC2 = sumC(histogram, histogram.length - 1);\n\n    mu = sumB1 / sumA1;\n    nu = (sumB2 - sumB1) / (sumA2 - sumA1);\n    p = sumA1 / sumA2;\n    q = (sumA2 - sumA1) / sumA2;\n    sigma2 = sumC1 / sumA1 - mu * mu;\n    tau2 = (sumC2 - sumC1) / (sumA2 - sumA1) - nu * nu;\n\n    // The terms of the quadratic equation to be solved.\n    w0 = 1.0 / sigma2 - 1.0 / tau2;\n    w1 = mu / sigma2 - nu / tau2;\n    w2 =\n      (mu * mu) / sigma2 -\n      (nu * nu) / tau2 +\n      Math.log10((sigma2 * (q * q)) / (tau2 * (p * p)));\n\n    // If the next threshold would be imaginary, return with the current one.\n    sqterm = w1 * w1 - w0 * w2;\n    if (sqterm < 0) {\n      return threshold;\n    }\n\n    // The updated threshold is the integer part of the solution of the quadratic equation.\n    Tprev = threshold;\n    temp = (w1 + Math.sqrt(sqterm)) / w0;\n\n    if (isNaN(temp)) {\n      threshold = Tprev;\n    } else {\n      threshold = Math.floor(temp);\n    }\n  }\n  return threshold;\n}\n\n// aux func\n\nfunction sumA(y, j) {\n  let x = 0;\n  for (let i = 0; i <= j; i++) {\n    x += y[i];\n  }\n  return x;\n}\n\nfunction sumB(y, j) {\n  let x = 0;\n  for (let i = 0; i <= j; i++) {\n    x += i * y[i];\n  }\n  return x;\n}\n\nfunction sumC(y, j) {\n  let x = 0;\n  for (let i = 0; i <= j; i++) {\n    x += i * i * y[i];\n  }\n  return x;\n}\n","// see https://github.com/fiji/Auto_Threshold/blob/master/src/main/java/fiji/threshold/Auto_Threshold.java\n// J. M. S. Prewitt and M. L. Mendelsohn, \"The analysis of cell images,\" in\n// Annals of the New York Academy of Sciences, vol. 128, pp. 1035-1053, 1966.\n// ported to ImageJ plugin by G.Landini from Antti Niemisto's Matlab code (GPL)\n// Original Matlab code Copyright (C) 2004 Antti Niemisto\n// See http://www.cs.tut.fi/~ant/histthresh/ for an excellent slide presentation\n// and the original Matlab code\nexport default function minimum(histogram) {\n  if (histogram.length < 2) {\n    // validate that the histogram has at least two color values\n    return 0;\n  }\n  let iterations = 0; // number of iterations of the smoothing process\n  let threshold = -1;\n  let max = -1; // maximum color value with a greater number of pixels to 0\n  let histogramCopy = new Array(histogram.length); // a copy of the histogram\n  for (let i = 0; i < histogram.length; i++) {\n    histogramCopy[i] = histogram[i];\n    if (histogram[i] > 0) {\n      max = i;\n    }\n  }\n  while (!bimodalTest(histogramCopy)) {\n    histogramCopy = smoothed(histogramCopy);\n    iterations++;\n    if (iterations > 10000) {\n      // if they occur more than 10000 iterations it returns -1\n      return threshold;\n    }\n  }\n  threshold = minimumBetweenPeeks(histogramCopy, max);\n  return threshold;\n}\n\nfunction smoothed(histogram) {\n  // Smooth with a 3 point running mean filter\n  let auHistogram = new Array(histogram.length); // a copy of the histograma for the smoothing process\n  for (let i = 1; i < histogram.length - 1; i++) {\n    auHistogram[i] = (histogram[i - 1] + histogram[i] + histogram[i + 1]) / 3;\n  }\n  auHistogram[0] = (histogram[0] + histogram[1]) / 3;\n  auHistogram[histogram.length - 1] =\n    (histogram[histogram.length - 2] + histogram[histogram.length - 1]) / 3;\n  return auHistogram;\n}\n\nfunction minimumBetweenPeeks(histogramBimodal, max) {\n  let threshold;\n  for (let i = 1; i < max; i++) {\n    if (\n      histogramBimodal[i - 1] > histogramBimodal[i] &&\n      histogramBimodal[i + 1] >= histogramBimodal[i]\n    ) {\n      threshold = i;\n      break;\n    }\n  }\n  return threshold;\n}\n\nfunction bimodalTest(histogram) {\n  // It is responsible for determining if a histogram is bimodal\n  let len = histogram.length;\n  let isBimodal = false;\n  let peaks = 0;\n  for (let k = 1; k < len - 1; k++) {\n    if (histogram[k - 1] < histogram[k] && histogram[k + 1] < histogram[k]) {\n      peaks++;\n      if (peaks > 2) {\n        return false;\n      }\n    }\n  }\n  if (peaks === 2) {\n    isBimodal = true;\n  }\n  return isBimodal;\n}\n","// See http://imagej.nih.gov/ij/download/tools/source/ij/process/AutoThresholder.java\n// W. Doyle, \"Operation useful for similarity-invariant pattern recognition,\"\n// Journal of the Association for Computing Machinery, vol. 9,pp. 259-267, 1962.\n// ported to ImageJ plugin by G.Landini from Antti Niemisto's Matlab code (GPL)\n// Original Matlab code Copyright (C) 2004 Antti Niemisto\n// See http://www.cs.tut.fi/~ant/histthresh/ for an excellent slide presentation\n// and the original Matlab code.\nexport default function percentile(histogram) {\n  let threshold = -1;\n  let percentile = 0.5; // default fraction of foreground pixels\n  let avec = new Array(histogram.length);\n\n  let total = partialSum(histogram, histogram.length - 1);\n  let temp = 1.0;\n\n  for (let i = 0; i < histogram.length; i++) {\n    avec[i] = Math.abs(partialSum(histogram, i) / total - percentile);\n    if (avec[i] < temp) {\n      temp = avec[i];\n      threshold = i;\n    }\n  }\n\n  return threshold;\n}\n\nfunction partialSum(histogram, endIndex) {\n  let x = 0;\n  for (let i = 0; i <= endIndex; i++) {\n    x += histogram[i];\n  }\n  return x;\n}\n","import huang from './huang';\nimport intermodes from './intermodes';\nimport isodata from './isodata';\nimport li from './li';\nimport maxEntropy from './maxEntropy';\nimport mean from './mean';\nimport minError from './minError';\nimport minimum from './minimum';\nimport moments from './moments';\nimport otsu from './otsu';\nimport percentile from './percentile';\nimport renyiEntropy from './renyiEntropy.js';\nimport shanbhag from './shanbhag';\nimport triangle from './triangle';\nimport yen from './yen';\n\n/**\n * @typedef {('huang'|'intermodes'|'isodata'|'li'|'maxentropy'|'mean'|'minerror'|'minimum'|'moments'|'otsu'|'percentile'|'renyientropy'|'shanbhag'|'triangle'|'yen')} ThresholdAlgorithm\n */\n\nexport const methods = {\n  huang,\n  intermodes,\n  isodata,\n  li,\n  maxentropy: maxEntropy,\n  mean,\n  minerror: minError,\n  minimum,\n  moments,\n  otsu,\n  percentile,\n  renyientropy: renyiEntropy,\n  shanbhag,\n  triangle,\n  yen,\n};\n\nexport const names = {};\nObject.keys(methods).forEach((name) => {\n  names[name] = name;\n});\n","/*\n *\n * see http://rsb.info.nih.gov/ij/developer/source/ij/process/AutoThresholder.java.html.\n * Huang: Implements Huang's fuzzy thresholding method: Huang, L-K & Wang, M-J J (1995),\n * \"Image thresholding by minimizing the measure of fuzziness\", Pattern Recognition 28(1): 41-51\n *\n */\n\nexport default function huang(histogram) {\n  /* Determine the first non-zero bin */\n  let firstBin = 0;\n  for (let ih = 0; ih < histogram.length; ih++) {\n    if (histogram[ih] !== 0) {\n      firstBin = ih;\n      break;\n    }\n  }\n\n  /* Determine the last non-zero bin */\n  let lastBin = histogram.length - 1;\n  for (let ih = histogram.length - 1; ih >= firstBin; ih--) {\n    if (histogram[ih] !== 0) {\n      lastBin = ih;\n      break;\n    }\n  }\n\n  let term = 1.0 / (lastBin - firstBin);\n  let mu0 = new Array(histogram.length);\n  let sumPix = 0;\n  let numPix = 0;\n  for (let ih = firstBin; ih < histogram.length; ih++) {\n    sumPix += ih * histogram[ih];\n    numPix += histogram[ih];\n    mu0[ih] = sumPix / numPix;\n  }\n\n  let mu1 = new Array(histogram.length);\n  sumPix = numPix = 0;\n  for (let ih = lastBin; ih > 0; ih--) {\n    sumPix += ih * histogram[ih];\n    numPix += histogram[ih];\n    mu1[ih - 1] = sumPix / numPix;\n  }\n\n  /* Determine the threshold that minimizes the fuzzy entropy*/\n  let threshold = -1;\n  let minEnt = Number.MAX_VALUE;\n  for (let it = 0; it < histogram.length; it++) {\n    let ent = 0;\n    let muX;\n    for (let ih = 0; ih <= it; ih++) {\n      /* Equation (4) in Ref. 1 */\n      muX = 1 / (1 + term * Math.abs(ih - mu0[it]));\n      if (!(muX < 1e-6 || muX > 0.999999)) {\n        /* Equation (6) & (8) in Ref. 1 */\n        ent +=\n          histogram[ih] *\n          (-muX * Math.log(muX) - (1 - muX) * Math.log(1 - muX));\n      }\n    }\n\n    for (let ih = it + 1; ih < histogram.length; ih++) {\n      /* Equation (4) in Ref. 1 */\n      muX = 1 / (1 + term * Math.abs(ih - mu1[it]));\n      if (!(muX < 1e-6 || muX > 0.999999)) {\n        /* Equation (6) & (8) in Ref. 1 */\n        ent +=\n          histogram[ih] *\n          (-muX * Math.log(muX) - (1 - muX) * Math.log(1 - muX));\n      }\n    }\n\n    if (ent < minEnt) {\n      minEnt = ent;\n      threshold = it;\n    }\n  }\n  return threshold;\n}\n","/*\n * see https://github.com/fiji/Auto_Threshold/blob/master/src/main/java/fiji/threshold/Auto_Threshold.java\n * Isodata: Ridler, TW & Calvard, S (1978), \"Picture thresholding using an iterative selection method\"\n * IEEE Transactions on Systems, Man and Cybernetics 8: 630-632.\n *\n */\nexport default function isodata(histogram) {\n  let l; // the average grey value of pixels with intensities < g\n  let toth; // the the average grey value of pixels with intensities > g\n  let totl; // the total the average grey value of pixels with intensities < g\n  let h; // the average grey value of pixels with intensities > g\n  let g = 0; // threshold value\n\n  for (let i = 1; i < histogram.length; i++) {\n    if (histogram[i] > 0) {\n      g = i + 1;\n      break;\n    }\n  }\n\n  while (true) {\n    l = 0;\n    totl = 0;\n    for (let i = 0; i < g; i++) {\n      totl = totl + histogram[i];\n      l = l + histogram[i] * i;\n    }\n    h = 0;\n    toth = 0;\n    for (let i = g + 1; i < histogram.length; i++) {\n      toth += histogram[i];\n      h += histogram[i] * i;\n    }\n    if (totl > 0 && toth > 0) {\n      l /= totl;\n      h /= toth;\n      if (g === Math.round((l + h) / 2.0)) {\n        break;\n      }\n    }\n    g++;\n    if (g > histogram.length - 2) {\n      throw new Error('Threshold not found');\n    }\n  }\n  return g;\n}\n","/*\n * see http://rsb.info.nih.gov/ij/developer/source/ij/process/AutoThresholder.java.html\n * The method is present in: Implements Li's Minimum Cross Entropy thresholding method\n * This implementation is based on the iterative version (Ref. 2nd reference below) of the algorithm.\n *  1) Li, CH & Lee, CK (1993), \"Minimum Cross Entropy Thresholding\", Pattern Recognition 26(4): 61 625\n *  2) Li, CH & Tam, PKS (1998), \"An Iterative Algorithm for Minimum Cross Entropy Thresholding\",\n *     Pattern Recognition Letters 18(8): 771-776\n *  3) Sezgin, M & Sankur, B (2004), \"Survey over Image Thresholding Techniques and Quantitative Performance\n *     Evaluation\",Journal of Electronic Imaging 13(1): 146-165\n * @param histogram - the histogram of the image\n * @param total - the number of pixels in the image\n * @returns {number} - the threshold\n */\n\nexport default function li(histogram, total) {\n  let threshold;\n  let sumBack; /* sum of the background pixels at a given threshold */\n  let sumObj; /* sum of the object pixels at a given threshold */\n  let numBack; /* number of background pixels at a given threshold */\n  let numObj; /* number of object pixels at a given threshold */\n  let oldThresh;\n  let newThresh;\n  let meanBack; /* mean of the background pixels at a given threshold */\n  let meanObj; /* mean of the object pixels at a given threshold */\n  let mean; /* mean gray-level in the image */\n  let tolerance; /* threshold tolerance */\n  let temp;\n  tolerance = 0.5;\n\n  /* Calculate the mean gray-level */\n  mean = 0.0;\n  for (let ih = 0; ih < histogram.length; ih++) {\n    mean += ih * histogram[ih];\n  }\n\n  mean /= total;\n  /* Initial estimate */\n  newThresh = mean;\n\n  do {\n    oldThresh = newThresh;\n    threshold = (oldThresh + 0.5) | 0; /* range */\n\n    /* Calculate the means of background and object pixels */\n    /* Background */\n    sumBack = 0;\n    numBack = 0;\n\n    for (let ih = 0; ih <= threshold; ih++) {\n      sumBack += ih * histogram[ih];\n      numBack += histogram[ih];\n    }\n    meanBack = numBack === 0 ? 0.0 : sumBack / numBack;\n\n    /* Object */\n    sumObj = 0;\n    numObj = 0;\n    for (let ih = threshold + 1; ih < histogram.length; ih++) {\n      sumObj += ih * histogram[ih];\n      numObj += histogram[ih];\n    }\n    meanObj = numObj === 0 ? 0.0 : sumObj / numObj;\n    temp = (meanBack - meanObj) / (Math.log(meanBack) - Math.log(meanObj));\n\n    if (temp < -Number.EPSILON) {\n      newThresh = (temp - 0.5) | 0;\n    } else {\n      newThresh = (temp + 0.5) | 0;\n    }\n    /*  Stop the iterations when the difference between the\n         new and old threshold values is less than the tolerance */\n  } while (Math.abs(newThresh - oldThresh) > tolerance);\n\n  return threshold;\n}\n","/*\n * see http://rsb.info.nih.gov/ij/developer/source/ij/process/AutoThresholder.java.html\n * The method is present in: Implements Kapur-Sahoo-Wong (Maximum Entropy) thresholding method:\n * Kapur, JN; Sahoo, PK & Wong, ACK (1985), \"A New Method for Gray-Level Picture Thresholding Using the Entropy of the Histogram\",\n * Graphical Models and Image Processing 29(3): 273-285\n * @param histogram - the histogram of the image\n *        total - the number of pixels in the image\n * @returns {number} - the threshold\n */\n\nexport default function maxEntropy(histogram, total) {\n  let normHisto = new Array(histogram.length); // normalized histogram\n  for (let ih = 0; ih < histogram.length; ih++) {\n    normHisto[ih] = histogram[ih] / total;\n  }\n\n  let P1 = new Array(histogram.length); // cumulative normalized histogram\n  let P2 = new Array(histogram.length);\n  P1[0] = normHisto[0];\n  P2[0] = 1.0 - P1[0];\n\n  for (let ih = 1; ih < histogram.length; ih++) {\n    P1[ih] = P1[ih - 1] + normHisto[ih];\n    P2[ih] = 1.0 - P1[ih];\n  }\n\n  /* Determine the first non-zero bin */\n  let firstBin = 0;\n  for (let ih = 0; ih < histogram.length; ih++) {\n    if (Math.abs(P1[ih]) >= Number.EPSILON) {\n      firstBin = ih;\n      break;\n    }\n  }\n\n  /* Determine the last non-zero bin */\n  let lastBin = histogram.length - 1;\n  for (let ih = histogram.length - 1; ih >= firstBin; ih--) {\n    if (Math.abs(P2[ih]) >= Number.EPSILON) {\n      lastBin = ih;\n      break;\n    }\n  }\n\n  // Calculate the total entropy each gray-level\n  // and find the threshold that maximizes it\n  let threshold = -1;\n  let totEnt; // total entropy\n  let maxEnt = Number.MIN_VALUE; // max entropy\n  let entBack; // entropy of the background pixels at a given threshold\n  let entObj; // entropy of the object pixels at a given threshold\n\n  for (let it = firstBin; it <= lastBin; it++) {\n    /* Entropy of the background pixels */\n    entBack = 0.0;\n    for (let ih = 0; ih <= it; ih++) {\n      if (histogram[ih] !== 0) {\n        entBack -= (normHisto[ih] / P1[it]) * Math.log(normHisto[ih] / P1[it]);\n      }\n    }\n\n    /* Entropy of the object pixels */\n    entObj = 0.0;\n    for (let ih = it + 1; ih < histogram.length; ih++) {\n      if (histogram[ih] !== 0) {\n        entObj -= (normHisto[ih] / P2[it]) * Math.log(normHisto[ih] / P2[it]);\n      }\n    }\n\n    /* Total entropy */\n    totEnt = entBack + entObj;\n\n    if (maxEnt < totEnt) {\n      maxEnt = totEnt;\n      threshold = it;\n    }\n  }\n  return threshold;\n}\n","/*\n * The method is present in: Uses the mean of grey levels as the threshold. It is described in:\n * Glasbey, CA (1993), \"An analysis of histogram-based thresholding algorithms\",\n * CVGIP: Graphical Models and Image Processing 55: 532-537\n * @param histogram - the histogram of the image\n * @param total - the number of pixels in the image\n * @returns {number} - the threshold\n */\n\nexport default function mean(histogram, total) {\n  let sum = 0;\n  for (let i = 0; i < histogram.length; i++) {\n    sum += i * histogram[i];\n  }\n  return Math.floor(sum / total);\n}\n","// see https://github.com/fiji/Auto_Threshold/blob/master/src/main/java/fiji/threshold/Auto_Threshold.java\n// W. Tsai, \"Moment-preserving thresholding: a new approach,\" Computer Vision,\n// Graphics, and Image Processing, vol. 29, pp. 377-393, 1985.\n// Ported to ImageJ plugin by G.Landini from the the open source project FOURIER 0.8\n// by M. Emre Celebi , Department of Computer Science, Louisiana State University in Shreveport\n// Shreveport, LA 71115, USA\n// http://sourceforge.net/projects/fourier-ipal\n// http://www.lsus.edu/faculty/~ecelebi/fourier.htm\nexport default function moments(histogram, total) {\n  // moments\n  let m0 = 1.0;\n  let m1 = 0.0;\n  let m2 = 0.0;\n  let m3 = 0.0;\n  let sum = 0.0;\n  let p0;\n  let cd, c0, c1, z0, z1; /* auxiliary variables */\n  let threshold = -1;\n  let histogramLength = histogram.length;\n  let normalizedHistogram = new Array(histogramLength);\n  for (let i = 0; i < histogramLength; i++) {\n    normalizedHistogram[i] = histogram[i] / total;\n  }\n  /* Calculate the first, second, and third order moments */\n  for (let i = 0; i < histogramLength; i++) {\n    m1 += i * normalizedHistogram[i];\n    m2 += i * i * normalizedHistogram[i];\n    m3 += i * i * i * normalizedHistogram[i];\n  }\n  /*\n     First 4 moments of the gray-level image should match the first 4 moments\n     of the target binary image. This leads to 4 equalities whose solutions\n     are given in the Appendix of Ref. 1\n     */\n  cd = m0 * m2 - m1 * m1; // determinant of the matriz of hankel for moments 2x2\n  c0 = (-m2 * m2 + m1 * m3) / cd;\n  c1 = (m0 * -m3 + m2 * m1) / cd;\n  // new two gray values where z0<z1\n  z0 = 0.5 * (-c1 - Math.sqrt(c1 * c1 - 4.0 * c0));\n  z1 = 0.5 * (-c1 + Math.sqrt(c1 * c1 - 4.0 * c0));\n  p0 =\n    (z1 - m1) /\n    (z1 -\n      z0); /* Fraction of the object pixels in the target binary image (p0z0+p1z1=m1) */\n  // The threshold is the gray-level closest to the p0-tile of the normalized histogram\n  for (let i = 0; i < histogramLength; i++) {\n    sum += normalizedHistogram[i];\n    if (sum > p0) {\n      threshold = i;\n      break;\n    }\n  }\n  return threshold;\n}\n","/*\n * The method is present in: Otsu, N (1979), \"A threshold selection method from gray-level histograms\", IEEE Trans. Sys., Man., Cyber. 9: 62-66\n * The Otsu implementation is based on: https://en.wikipedia.org/wiki/Otsu's_method\n * @param histogram - the histogram of the image\n * @returns {number} - the threshold\n */\n\nexport default function otsu(histogramCounts, total) {\n  let sumB = 0;\n  let wB = 0;\n  let maximum = 0;\n  let level = 0;\n\n  let sum1 = 0;\n  for (let i = 0; i < histogramCounts.length; i++) {\n    sum1 += i * histogramCounts[i];\n  }\n\n  for (let ii = 0; ii < histogramCounts.length; ii++) {\n    wB = wB + histogramCounts[ii];\n    const wF = total - wB;\n    if (wB === 0 || wF === 0) {\n      continue;\n    }\n    sumB = sumB + ii * histogramCounts[ii];\n    const mF = (sum1 - sumB) / wF;\n    const between = wB * wF * (sumB / wB - mF) * (sumB / wB - mF);\n    if (between >= maximum) {\n      level = ii;\n      maximum = between;\n    }\n  }\n\n  return level;\n}\n","// see https://github.com/fiji/Auto_Threshold/blob/master/src/main/java/fiji/threshold/Auto_Threshold.java\n// Kapur J.N., Sahoo P.K., and Wong A.K.C. (1985) \"A New Method for\n// Gray-Level Picture Thresholding Using the Entropy of the Histogram\"\n// Graphical Models and Image Processing, 29(3): 273-285\n// M. Emre Celebi\n// 06.15.2007\n// Ported to ImageJ plugin by G.Landini from E Celebi's fourier_0.8 routines\nexport default function renyiEntropy(histogram, total) {\n  let optThreshold; // Optimal threshold\n  let firstBin; // First non-zero bin\n  let lastBin; // last non-zero bin\n\n  let normHisto = new Array(histogram.length); // normalized histogram\n  let P1 = new Array(histogram.length); // acumulative normalized histogram\n  let P2 = new Array(histogram.length); // acumulative normalized histogram\n\n  // Entropy Variables\n  let threshold1 = 0;\n  let threshold2 = 0;\n  let threshold3 = 0;\n  let maxEnt1 = 0.0;\n  let maxEnt2 = 0.0;\n  let maxEnt3 = 0.0;\n  let alpha2 = 0.5;\n  let term2 = 1.0 / (1.0 - alpha2);\n  let alpha3 = 2.0;\n  let term3 = 1.0 / (1.0 - alpha3);\n\n  for (let ih = 0; ih < histogram.length; ih++) {\n    normHisto[ih] = histogram[ih] / total;\n  }\n\n  P1[0] = normHisto[0];\n  P2[0] = 1.0 - P1[0];\n  for (let ih = 1; ih < histogram.length; ih++) {\n    P1[ih] = P1[ih - 1] + normHisto[ih];\n    P2[ih] = 1.0 - P1[ih];\n  }\n\n  /* Determine the first non-zero bin */\n  firstBin = 0;\n  for (let ih = 0; ih < histogram.length; ih++) {\n    if (Math.abs(P1[ih]) >= Number.EPSILON) {\n      firstBin = ih;\n      break;\n    }\n  }\n\n  /* Determine the last non-zero bin */\n  lastBin = histogram.length - 1;\n  for (let ih = histogram.length - 1; ih >= firstBin; ih--) {\n    if (Math.abs(P2[ih]) >= Number.EPSILON) {\n      lastBin = ih;\n      break;\n    }\n  }\n\n  /* Maximum Entropy Thresholding - BEGIN */\n  /* ALPHA = 1.0 */\n  /* Calculate the total entropy each gray-level\n     and find the threshold that maximizes it\n     */\n  for (let it = firstBin; it <= lastBin; it++) {\n    /* Entropy of the background pixels */\n    let entBack1 = 0.0;\n    let entBack2 = 0.0;\n    let entBack3 = 0.0;\n    for (let ih = 0; ih <= it; ih++) {\n      if (histogram[ih] !== 0) {\n        entBack1 -= (normHisto[ih] / P1[it]) * Math.log(normHisto[ih] / P1[it]);\n      }\n      entBack2 += Math.sqrt(normHisto[ih] / P1[it]);\n      entBack3 += (normHisto[ih] * normHisto[ih]) / (P1[it] * P1[it]);\n    }\n\n    /* Entropy of the object pixels */\n    let entObj1 = 0.0;\n    let entObj2 = 0.0;\n    let entObj3 = 0.0;\n    for (let ih = it + 1; ih < histogram.length; ih++) {\n      if (histogram[ih] !== 0) {\n        entObj1 -= (normHisto[ih] / P2[it]) * Math.log(normHisto[ih] / P2[it]);\n      }\n      entObj2 += Math.sqrt(normHisto[ih] / P2[it]);\n      entObj3 += (normHisto[ih] * normHisto[ih]) / (P2[it] * P2[it]);\n    }\n\n    /* Total entropy */\n    let totEnt1 = entBack1 + entObj1;\n    let totEnt2 =\n      term2 * (entBack2 * entObj2 > 0.0 ? Math.log(entBack2 * entObj2) : 0.0);\n    let totEnt3 =\n      term3 * (entBack3 * entObj3 > 0.0 ? Math.log(entBack3 * entObj3) : 0.0);\n\n    if (totEnt1 > maxEnt1) {\n      maxEnt1 = totEnt1;\n      threshold1 = it;\n    }\n\n    if (totEnt2 > maxEnt2) {\n      maxEnt2 = totEnt2;\n      threshold2 = it;\n    }\n\n    if (totEnt3 > maxEnt3) {\n      maxEnt3 = totEnt3;\n      threshold3 = it;\n    }\n  }\n  /* End Maximum Entropy Thresholding */\n\n  let tStars = [threshold1, threshold2, threshold3];\n  tStars.sort((a, b) => a - b);\n\n  let betas;\n\n  /* Adjust beta values */\n  if (Math.abs(tStars[0] - tStars[1]) <= 5) {\n    if (Math.abs(tStars[1] - tStars[2]) <= 5) {\n      betas = [1, 2, 1];\n    } else {\n      betas = [0, 1, 3];\n    }\n  } else {\n    if (Math.abs(tStars[1] - tStars[2]) <= 5) {\n      betas = [3, 1, 0];\n    } else {\n      betas = [1, 2, 1];\n    }\n  }\n\n  /* Determine the optimal threshold value */\n  let omega = P1[tStars[2]] - P1[tStars[0]];\n  optThreshold = Math.round(\n    tStars[0] * (P1[tStars[0]] + 0.25 * omega * betas[0]) +\n      0.25 * tStars[1] * omega * betas[1] +\n      tStars[2] * (P2[tStars[2]] + 0.25 * omega * betas[2]),\n  );\n\n  return optThreshold;\n}\n","// see https://github.com/fiji/Auto_Threshold/blob/master/src/main/java/fiji/threshold/Auto_Threshold.java\n// Shanhbag A.G. (1994) \"Utilization of Information Measure as a Means of\n// Image Thresholding\" Graphical Models and Image Processing, 56(5): 414-419\n// Ported to ImageJ plugin by G.Landini from E Celebi's fourier_0.8 routines\n\nexport default function shanbhag(histogram, total) {\n  let normHisto = new Array(histogram.length); // normalized histogram\n  for (let ih = 0; ih < histogram.length; ih++) {\n    normHisto[ih] = histogram[ih] / total;\n  }\n\n  let P1 = new Array(histogram.length); // cumulative normalized histogram\n  let P2 = new Array(histogram.length);\n  P1[0] = normHisto[0];\n  P2[0] = 1.0 - P1[0];\n  for (let ih = 1; ih < histogram.length; ih++) {\n    P1[ih] = P1[ih - 1] + normHisto[ih];\n    P2[ih] = 1.0 - P1[ih];\n  }\n\n  /* Determine the first non-zero bin */\n  let firstBin = 0;\n  for (let ih = 0; ih < histogram.length; ih++) {\n    if (Math.abs(P1[ih]) >= Number.EPSILON) {\n      firstBin = ih;\n      break;\n    }\n  }\n\n  /* Determine the last non-zero bin */\n  let lastBin = histogram.length - 1;\n  for (let ih = histogram.length - 1; ih >= firstBin; ih--) {\n    if (Math.abs(P2[ih]) >= Number.EPSILON) {\n      lastBin = ih;\n      break;\n    }\n  }\n\n  // Calculate the total entropy each gray-level\n  // and find the threshold that maximizes it\n  let threshold = -1;\n  let minEnt = Number.MAX_VALUE; // min entropy\n\n  let term;\n  let totEnt; // total entropy\n  let entBack; // entropy of the background pixels at a given threshold\n  let entObj; // entropy of the object pixels at a given threshold\n  for (let it = firstBin; it <= lastBin; it++) {\n    /* Entropy of the background pixels */\n    entBack = 0.0;\n    term = 0.5 / P1[it];\n    for (let ih = 1; ih <= it; ih++) {\n      entBack -= normHisto[ih] * Math.log(1.0 - term * P1[ih - 1]);\n    }\n    entBack *= term;\n\n    /* Entropy of the object pixels */\n    entObj = 0.0;\n    term = 0.5 / P2[it];\n    for (let ih = it + 1; ih < histogram.length; ih++) {\n      entObj -= normHisto[ih] * Math.log(1.0 - term * P2[ih]);\n    }\n    entObj *= term;\n\n    /* Total entropy */\n    totEnt = Math.abs(entBack - entObj);\n\n    if (totEnt < minEnt) {\n      minEnt = totEnt;\n      threshold = it;\n    }\n  }\n  return threshold;\n}\n","// see https://github.com/fiji/Auto_Threshold/blob/master/src/main/java/fiji/threshold/Auto_Threshold.java\n// Zack, G. W., Rogers, W. E. and Latt, S. A., 1977,\n// Automatic Measurement of Sister Chromatid Exchange Frequency,\n// Journal of Histochemistry and Cytochemistry 25 (7), pp. 741-753\n//\n//  modified from Johannes Schindelin plugin\nexport default function triangle(histogram) {\n  // find min and max\n  let min = 0;\n  let dmax = 0;\n  let max = 0;\n  let min2 = 0;\n  for (let i = 0; i < histogram.length; i++) {\n    if (histogram[i] > 0) {\n      min = i;\n      break;\n    }\n  }\n  if (min > 0) {\n    // line to the (p==0) point, not to histogram[min]\n    min--;\n  }\n\n  // The Triangle algorithm cannot tell whether the data is skewed to one side or another.\n  // This causes a problem as there are 2 possible thresholds between the max and the 2 extremes\n  // of the histogram.\n  // Here I propose to find out to which side of the max point the data is furthest, and use that as\n  //  the other extreme.\n  for (let i = histogram.length - 1; i > 0; i--) {\n    if (histogram[i] > 0) {\n      min2 = i;\n      break;\n    }\n  }\n  if (min2 < histogram.length - 1) {\n    // line to the (p==0) point, not to data[min]\n    min2++;\n  }\n\n  for (let i = 0; i < histogram.length; i++) {\n    if (histogram[i] > dmax) {\n      max = i;\n      dmax = histogram[i];\n    }\n  }\n\n  // find which is the furthest side\n  let inverted = false;\n  if (max - min < min2 - max) {\n    // reverse the histogram\n    inverted = true;\n    let left = 0; // index of leftmost element\n    let right = histogram.length - 1; // index of rightmost element\n    while (left < right) {\n      // exchange the left and right elements\n      let temp = histogram[left];\n      histogram[left] = histogram[right];\n      histogram[right] = temp;\n      // move the bounds toward the center\n      left++;\n      right--;\n    }\n    min = histogram.length - 1 - min2;\n    max = histogram.length - 1 - max;\n  }\n\n  if (min === max) {\n    return min;\n  }\n\n  // describe line by nx * x + ny * y - d = 0\n  let nx, ny, d;\n  // nx is just the max frequency as the other point has freq=0\n  nx = histogram[max]; // -min; // data[min]; //  lowest value bmin = (p=0)% in the image\n  ny = min - max;\n  d = Math.sqrt(nx * nx + ny * ny);\n  nx /= d;\n  ny /= d;\n  d = nx * min + ny * histogram[min];\n\n  // find split point\n  let split = min;\n  let splitDistance = 0;\n  for (let i = min + 1; i <= max; i++) {\n    let newDistance = nx * i + ny * histogram[i] - d;\n    if (newDistance > splitDistance) {\n      split = i;\n      splitDistance = newDistance;\n    }\n  }\n  split--;\n\n  if (inverted) {\n    // The histogram might be used for something else, so let's reverse it back\n    let left = 0;\n    let right = histogram.length - 1;\n    while (left < right) {\n      let temp = histogram[left];\n      histogram[left] = histogram[right];\n      histogram[right] = temp;\n      left++;\n      right--;\n    }\n    return histogram.length - 1 - split;\n  } else {\n    return split;\n  }\n}\n","// see https://github.com/fiji/Auto_Threshold/blob/master/src/main/java/fiji/threshold/Auto_Threshold.java\n// Implements Yen  thresholding method\n// 1) Yen J.C., Chang F.J., and Chang S. (1995) \"A New Criterion\n//    for Automatic Multilevel Thresholding\" IEEE Trans. on Image\n//    Processing, 4(3): 370-378\n// 2) Sezgin M. and Sankur B. (2004) \"Survey over Image Thresholding\n//    Techniques and Quantitative Performance Evaluation\" Journal of\n//    Electronic Imaging, 13(1): 146-165\n//    http://citeseer.ist.psu.edu/sezgin04survey.html\n//\n// M. Emre Celebi\n// 06.15.2007\n// Ported to ImageJ plugin by G.Landini from E Celebi's fourier_0.8 routines\n\nexport default function yen(histogram, total) {\n  let normHisto = new Array(histogram.length); // normalized histogram\n  for (let ih = 0; ih < histogram.length; ih++) {\n    normHisto[ih] = histogram[ih] / total;\n  }\n\n  let P1 = new Array(histogram.length); // cumulative normalized histogram\n  P1[0] = normHisto[0];\n  for (let ih = 1; ih < histogram.length; ih++) {\n    P1[ih] = P1[ih - 1] + normHisto[ih];\n  }\n\n  let P1Sq = new Array(histogram.length);\n  P1Sq[0] = normHisto[0] * normHisto[0];\n  for (let ih = 1; ih < histogram.length; ih++) {\n    P1Sq[ih] = P1Sq[ih - 1] + normHisto[ih] * normHisto[ih];\n  }\n\n  let P2Sq = new Array(histogram.length);\n  P2Sq[histogram.length - 1] = 0.0;\n  for (let ih = histogram.length - 2; ih >= 0; ih--) {\n    P2Sq[ih] = P2Sq[ih + 1] + normHisto[ih + 1] * normHisto[ih + 1];\n  }\n\n  /* Find the threshold that maximizes the criterion */\n  let threshold = -1;\n  let maxCrit = Number.MIN_VALUE;\n  let crit;\n  for (let it = 0; it < histogram.length; it++) {\n    crit =\n      -1.0 * (P1Sq[it] * P2Sq[it] > 0.0 ? Math.log(P1Sq[it] * P2Sq[it]) : 0.0) +\n      2 *\n        (P1[it] * (1.0 - P1[it]) > 0.0\n          ? Math.log(P1[it] * (1.0 - P1[it]))\n          : 0.0);\n    if (crit > maxCrit) {\n      maxCrit = crit;\n      threshold = it;\n    }\n  }\n  return threshold;\n}\n","import { methods, names } from '../transform/mask/thresholdAlgorithms';\n\n/**\n * Returns a threshold for the creation of a binary mask with the `mask()` method.\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {ThresholdAlgorithm} [options.algorithm='otsu']\n * @return {number}\n */\nexport default function getThreshold(options = {}) {\n  let { algorithm = names.otsu } = options;\n\n  this.checkProcessable('getThreshold', {\n    components: 1,\n    bitDepth: [8, 16],\n  });\n\n  let method = methods[algorithm.toLowerCase()];\n  if (method) {\n    let histogram = this.getHistogram();\n    return method(histogram, this.size);\n  } else {\n    throw new Error(`unknown thresholding algorithm: ${algorithm}`);\n  }\n}\n","import { getThreshold as convertThreshold } from '../../../util/converter';\nimport Image from '../../Image';\nimport getThreshold from '../../utility/getThreshold';\n\nconst THRESHOLD = 'threshold';\n\n/**\n * Creation of binary mask is based on the determination of a threshold\n * You may either choose among the provided algorithm or just specify a threshold value\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {ThresholdAlgorithm|'threshold'} [options.algorithm='threshold']\n * @param {number} [options.threshold=0.5] - If the algorithm is 'threshold' specify here the value (0 to 1).\n * @param {boolean} [options.useAlpha=true] - Apply the alpha channel to determine the intensity of the pixel.\n * @param {boolean} [options.invert=false] - Invert the resulting image\n * @return {Image} - Binary image containing the mask\n */\nexport default function mask(options = {}) {\n  let {\n    algorithm = THRESHOLD,\n    threshold = 0.5,\n    useAlpha = true,\n    invert = false,\n  } = options;\n\n  this.checkProcessable('mask', {\n    components: 1,\n    bitDepth: [8, 16],\n  });\n\n  if (algorithm === THRESHOLD) {\n    threshold = convertThreshold(threshold, this.maxValue);\n  } else {\n    threshold = getThreshold.call(this, options);\n  }\n\n  let newImage = new Image(this.width, this.height, {\n    kind: 'BINARY',\n    parent: this,\n  });\n\n  let ptr = 0;\n  if (this.alpha && useAlpha) {\n    for (let i = 0; i < this.data.length; i += this.channels) {\n      let value =\n        this.data[i] +\n        ((this.maxValue - this.data[i]) * (this.maxValue - this.data[i + 1])) /\n          this.maxValue;\n      if ((invert && value <= threshold) || (!invert && value >= threshold)) {\n        newImage.setBit(ptr);\n      }\n      ptr++;\n    }\n  } else {\n    for (let i = 0; i < this.data.length; i += this.channels) {\n      if (\n        (invert && this.data[i] <= threshold) ||\n        (!invert && this.data[i] >= threshold)\n      ) {\n        newImage.setBit(ptr);\n      }\n      ptr++;\n    }\n  }\n\n  return newImage;\n}\n","import array from 'new-array';\n\nimport Image from '../Image';\nimport copy from '../internal/copy';\n\n/**\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.size=0]\n * @param {string} [options.algorithm='copy']\n * @param {array<number>} [options.color]\n * @return {Image}\n */\nexport default function pad(options = {}) {\n  let { size = 0, algorithm = 'copy', color } = options;\n\n  this.checkProcessable('pad', {\n    bitDepth: [8, 16],\n  });\n\n  if (algorithm === 'set') {\n    if (color.length !== this.channels) {\n      throw new Error(\n        `pad: the color array must have the same length as the number of channels. Here: ${this.channels}`,\n      );\n    }\n    for (let i = 0; i < color.length; i++) {\n      if (color[i] === 0) {\n        color[i] = 0.001;\n      }\n    }\n  } else {\n    color = array(this.channels, null);\n  }\n\n  if (!Array.isArray(size)) {\n    size = [size, size];\n  }\n\n  let newWidth = this.width + size[0] * 2;\n  let newHeight = this.height + size[1] * 2;\n  let channels = this.channels;\n\n  let newImage = Image.createFrom(this, { width: newWidth, height: newHeight });\n\n  copy(this, newImage, size[0], size[1]);\n\n  for (let i = size[0]; i < newWidth - size[0]; i++) {\n    for (let k = 0; k < channels; k++) {\n      let value =\n        color[k] || newImage.data[(size[1] * newWidth + i) * channels + k];\n      for (let j = 0; j < size[1]; j++) {\n        newImage.data[(j * newWidth + i) * channels + k] = value;\n      }\n      value =\n        color[k] ||\n        newImage.data[\n          ((newHeight - size[1] - 1) * newWidth + i) * channels + k\n        ];\n      for (let j = newHeight - size[1]; j < newHeight; j++) {\n        newImage.data[(j * newWidth + i) * channels + k] = value;\n      }\n    }\n  }\n\n  for (let j = 0; j < newHeight; j++) {\n    for (let k = 0; k < channels; k++) {\n      let value =\n        color[k] || newImage.data[(j * newWidth + size[0]) * channels + k];\n      for (let i = 0; i < size[0]; i++) {\n        newImage.data[(j * newWidth + i) * channels + k] = value;\n      }\n      value =\n        color[k] ||\n        newImage.data[(j * newWidth + newWidth - size[0] - 1) * channels + k];\n      for (let i = newWidth - size[0]; i < newWidth; i++) {\n        newImage.data[(j * newWidth + i) * channels + k] = value;\n      }\n    }\n  }\n\n  return newImage;\n}\n","/**\n * Make a copy of the current image\n * @memberof Image\n * @instance\n * @param {Image} fromImage\n * @param {Image} toImage\n * @param {number} x\n * @param {number} y\n */\nexport default function copyImage(fromImage, toImage, x, y) {\n  let fromWidth = fromImage.width;\n  let fromHeight = fromImage.height;\n  let toWidth = toImage.width;\n  let channels = fromImage.channels;\n  for (let i = 0; i < fromWidth; i++) {\n    for (let j = 0; j < fromHeight; j++) {\n      for (let k = 0; k < channels; k++) {\n        let source = (j * fromWidth + i) * channels + k;\n        let target = ((y + j) * toWidth + x + i) * channels + k;\n        toImage.data[target] = fromImage.data[source];\n      }\n    }\n  }\n}\n","import Image from '../Image';\n\n/**\n * Change the image color depth.\n * The color depth is the number of bits that is assigned to each point of a channel.\n * For normal images it is 8 bits meaning the value is between 0 and 255.\n * Currently only conversion from 1, 8 or 16 bits towards 8 or 16 bits are allowed.\n * @memberof Image\n * @instance\n * @param {number} [newColorDepth=8]\n * @return {Image} The new image\n * @example\n * var newImage = image.colorDepth(8);\n */\nexport default function colorDepth(newColorDepth = 8) {\n  this.checkProcessable('colorDepth', {\n    bitDepth: [1, 8, 16],\n  });\n\n  if (![8, 16].includes(newColorDepth)) {\n    throw Error('You need to specify the new colorDepth as 8 or 16');\n  }\n\n  if (this.bitDepth === newColorDepth) {\n    return this.clone();\n  }\n\n  let newImage = Image.createFrom(this, { bitDepth: newColorDepth });\n\n  switch (newColorDepth) {\n    case 8:\n      if (this.bitDepth === 1) {\n        for (let i = 0; i < this.size; i++) {\n          if (this.getBit(i)) {\n            newImage.data[i] = 255;\n          }\n        }\n      } else {\n        for (let i = 0; i < this.data.length; i++) {\n          newImage.data[i] = this.data[i] >> 8;\n        }\n      }\n      break;\n    case 16:\n      if (this.bitDepth === 1) {\n        for (let i = 0; i < this.size; i++) {\n          if (this.getBit(i)) {\n            newImage.data[i] = 65535;\n          }\n        }\n      } else {\n        for (let i = 0; i < this.data.length; i++) {\n          newImage.data[i] = (this.data[i] << 8) | this.data[i];\n        }\n      }\n      break;\n    default:\n      throw new Error('colorDepth conversion unexpected case');\n  }\n  return newImage;\n}\n","import Image from '../Image';\nimport { validInterpolations, checkInterpolation } from '../internal/checks';\n\nexport default function rotateFree(degrees, options = {}) {\n  const {\n    interpolation = validInterpolations.nearestneighbor,\n    width = this.width,\n    height = this.height,\n  } = options;\n\n  if (typeof degrees !== 'number') {\n    throw new TypeError('degrees must be a number');\n  }\n\n  const interpolationToUse = (0, checkInterpolation)(interpolation);\n  const radians = (degrees * Math.PI) / 180;\n  const newWidth = Math.floor(\n    Math.abs(width * Math.cos(radians)) + Math.abs(height * Math.sin(radians)),\n  );\n  const newHeight = Math.floor(\n    Math.abs(height * Math.cos(radians)) + Math.abs(width * Math.sin(radians)),\n  );\n\n  const cos = Math.cos(-radians);\n  const sin = Math.sin(-radians);\n  let x0 = newWidth / 2;\n  let y0 = newHeight / 2;\n\n  if (newWidth % 2 === 0) {\n    x0 = x0 - 0.5;\n\n    if (newHeight % 2 === 0) {\n      y0 = y0 - 0.5;\n    } else {\n      y0 = Math.floor(y0);\n    }\n  } else {\n    x0 = Math.floor(x0);\n\n    if (newHeight % 2 === 0) {\n      y0 = y0 - 0.5;\n    } else {\n      y0 = Math.floor(y0);\n    }\n  }\n\n  const incrementX = Math.floor(width / 2 - x0);\n  const incrementY = Math.floor(height / 2 - y0);\n\n  if (this.bitDepth === 1) {\n    const newImage = new Image(newWidth, newHeight, {\n      kind: 'BINARY',\n      parent: this,\n    });\n\n    switch (interpolationToUse) {\n      case validInterpolations.nearestneighbor:\n        return rotateBinaryNearestNeighbor(\n          this,\n          newImage,\n          incrementX,\n          incrementY,\n          x0,\n          y0,\n          cos,\n          sin,\n        );\n\n      case validInterpolations.bilinear:\n        return rotateBinaryBilinear(\n          this,\n          newImage,\n          incrementX,\n          incrementY,\n          x0,\n          y0,\n          cos,\n          sin,\n        );\n\n      default:\n        throw new Error(\n          `unsupported rotate interpolation: ${interpolationToUse}`,\n        );\n    }\n  } else {\n    const newImage = Image.createFrom(this, {\n      width: newWidth,\n      height: newHeight,\n    });\n\n    switch (interpolationToUse) {\n      case validInterpolations.nearestneighbor:\n        return rotateNearestNeighbor(\n          this,\n          newImage,\n          incrementX,\n          incrementY,\n          x0,\n          y0,\n          cos,\n          sin,\n        );\n\n      case validInterpolations.bilinear:\n        return rotateBilinear(\n          this,\n          newImage,\n          incrementX,\n          incrementY,\n          x0,\n          y0,\n          cos,\n          sin,\n        );\n\n      default:\n        throw new Error(\n          `unsupported rotate interpolation: ${interpolationToUse}`,\n        );\n    }\n  }\n}\n\nfunction rotateNearestNeighbor(\n  thisImage,\n  newImage,\n  incrementX,\n  incrementY,\n  x0,\n  y0,\n  cos,\n  sin,\n) {\n  for (let i = 0; i < newImage.width; i += 1) {\n    for (let j = 0; j < newImage.height; j += 1) {\n      for (let c = 0; c < thisImage.channels; c++) {\n        let x = Math.round((i - x0) * cos - (j - y0) * sin + x0) + incrementX;\n        let y = Math.round((j - y0) * cos + (i - x0) * sin + y0) + incrementY;\n\n        if (x < 0 || x >= thisImage.width || y < 0 || y >= thisImage.height) {\n          if (thisImage.alpha === 1 && c === thisImage.channels - 1) {\n            newImage.setValueXY(i, j, c, 0);\n          } else {\n            newImage.setValueXY(i, j, c, thisImage.maxValue);\n          }\n        } else {\n          newImage.setValueXY(i, j, c, thisImage.getValueXY(x, y, c));\n        }\n      }\n    }\n  }\n\n  return newImage;\n}\n\nfunction rotateBinaryNearestNeighbor(\n  thisImage,\n  newImage,\n  incrementX,\n  incrementY,\n  x0,\n  y0,\n  cos,\n  sin,\n) {\n  for (let i = 0; i < newImage.width; i += 1) {\n    for (let j = 0; j < newImage.height; j += 1) {\n      let x = Math.round((i - x0) * cos - (j - y0) * sin + x0) + incrementX;\n      let y = Math.round((j - y0) * cos + (i - x0) * sin + y0) + incrementY;\n\n      if (\n        x < 0 ||\n        x >= thisImage.width ||\n        y < 0 ||\n        y >= thisImage.height ||\n        thisImage.getBitXY(x, y)\n      ) {\n        newImage.setBitXY(i, j);\n      }\n    }\n  }\n\n  return newImage;\n}\n\nfunction rotateBilinear(\n  thisImage,\n  newImage,\n  incrementX,\n  incrementY,\n  x0,\n  y0,\n  cos,\n  sin,\n) {\n  let stride = thisImage.width * thisImage.channels;\n\n  for (let j = 0; j < newImage.height; j++) {\n    for (let i = 0; i < newImage.width; i++) {\n      let x = (i - x0) * cos - (j - y0) * sin + x0 + incrementX;\n      let y = (j - y0) * cos + (i - x0) * sin + y0 + incrementY;\n      let x1 = x | 0;\n      let y1 = y | 0;\n      let xDiff = x - x1;\n      let yDiff = y - y1;\n\n      for (let c = 0; c < thisImage.channels; c++) {\n        if (x < 0 || x >= thisImage.width || y < 0 || y >= thisImage.height) {\n          if (thisImage.alpha === 1 && c === thisImage.channels - 1) {\n            newImage.setValueXY(i, j, c, 0);\n          } else {\n            newImage.setValueXY(i, j, c, thisImage.maxValue);\n          }\n        } else {\n          let index = (y1 * thisImage.width + x1) * thisImage.channels + c;\n          let A = thisImage.data[index];\n          let B = thisImage.data[index + thisImage.channels];\n          let C = thisImage.data[index + stride];\n          let D = thisImage.data[index + stride + thisImage.channels];\n          let result =\n            (A +\n              xDiff * (B - A) +\n              yDiff * (C - A) +\n              xDiff * yDiff * (A - B - C + D)) |\n            0;\n          newImage.setValueXY(i, j, c, result);\n        }\n      }\n    }\n  }\n\n  return newImage;\n}\n\nfunction rotateBinaryBilinear(\n  thisImage,\n  newImage,\n  incrementX,\n  incrementY,\n  x0,\n  y0,\n  cos,\n  sin,\n) {\n  let stride = thisImage.width;\n\n  for (let j = 0; j < newImage.height; j++) {\n    for (let i = 0; i < newImage.width; i++) {\n      let x = (i - x0) * cos - (j - y0) * sin + x0 + incrementX;\n      let y = (j - y0) * cos + (i - x0) * sin + y0 + incrementY;\n      let x1 = x | 0;\n      let y1 = y | 0;\n      let xDiff = x - x1;\n      let yDiff = y - y1;\n\n      if (x < 0 || x >= thisImage.width || y < 0 || y >= thisImage.height) {\n        newImage.setBitXY(i, j);\n      } else {\n        let index = y1 * thisImage.width + x1;\n        let A = thisImage.getBit(index);\n        let B = thisImage.getBit(index + 1);\n        let C = thisImage.getBit(index + stride);\n        let D = thisImage.getBit(index + 1 + stride);\n        let result =\n          A |\n          (xDiff & (B - A)) |\n          (yDiff & (C - A)) |\n          (xDiff & yDiff & (A - B - C + D));\n        if (result > 0) newImage.setBitXY(i, j);\n      }\n    }\n  }\n\n  return newImage;\n}\n","import Image from '../Image';\n\nimport rotateFree from './rotateFree';\n\n/**\n * Rotates an image.\n * @memberof Image\n * @instance\n * @param {number} angle - Angle of the rotation in degrees\n * @param {object} [options]\n * @param {InterpolationAlgorithm} [options.interpolation='nearestNeighbor'] - Interpolation algorithm to use if `angle` is not a multiple of 90\n * @return {Image} The new rotated image\n */\nexport function rotate(angle, options) {\n  this.checkProcessable('rotate', {\n    bitDepth: [1, 8, 16],\n  });\n  if (typeof angle !== 'number') {\n    throw new TypeError('angle must be a number');\n  }\n\n  if (angle < 0) {\n    angle = Math.ceil(-angle / 360) * 360 + angle;\n  }\n\n  switch (angle % 360) {\n    case 0:\n      return this.clone();\n\n    case 90:\n      return rotateRight.call(this);\n\n    case 180:\n      return rotate180.call(this);\n\n    case 270:\n      return rotateLeft.call(this);\n\n    default:\n      return rotateFree.call(this, angle, options);\n  }\n}\n/**\n * Rotates an image counter-clockwise\n * @memberof Image\n * @instance\n * @return {Image} The new rotated image\n */\n\nexport function rotateLeft() {\n  if (this.bitDepth === 1) {\n    const newImage = new Image(this.height, this.width, {\n      kind: 'BINARY',\n      parent: this,\n    });\n\n    const newMaxHeight = newImage.height - 1;\n\n    for (let i = 0; i < this.height; i++) {\n      for (let j = 0; j < this.width; j++) {\n        if (this.getBitXY(j, i)) {\n          newImage.setBitXY(i, newMaxHeight - j);\n        }\n      }\n    }\n\n    return newImage;\n  } else {\n    const newImage = Image.createFrom(this, {\n      width: this.height,\n      height: this.width,\n    });\n\n    const newMaxHeight = newImage.height - 1;\n\n    for (let i = 0; i < this.height; i++) {\n      for (let j = 0; j < this.width; j++) {\n        for (let k = 0; k < this.channels; k++) {\n          newImage.setValueXY(i, newMaxHeight - j, k, this.getValueXY(j, i, k));\n        }\n      }\n    }\n\n    return newImage;\n  }\n}\n/**\n * Rotates an image clockwise\n * @memberof Image\n * @instance\n * @return {Image} The new rotated image\n */\n\nexport function rotateRight() {\n  if (this.bitDepth === 1) {\n    const newImage = new Image(this.height, this.width, {\n      kind: 'BINARY',\n      parent: this,\n    });\n\n    const newMaxWidth = newImage.width - 1;\n\n    for (let i = 0; i < this.height; i++) {\n      for (let j = 0; j < this.width; j++) {\n        if (this.getBitXY(j, i)) {\n          newImage.setBitXY(newMaxWidth - i, j);\n        }\n      }\n    }\n\n    return newImage;\n  } else {\n    const newImage = Image.createFrom(this, {\n      width: this.height,\n      height: this.width,\n    });\n\n    const newMaxWidth = newImage.width - 1;\n\n    for (let i = 0; i < this.height; i++) {\n      for (let j = 0; j < this.width; j++) {\n        for (let k = 0; k < this.channels; k++) {\n          newImage.setValueXY(newMaxWidth - i, j, k, this.getValueXY(j, i, k));\n        }\n      }\n    }\n\n    return newImage;\n  }\n}\n\nfunction rotate180() {\n  if (this.bitDepth === 1) {\n    const newImage = new Image(this.width, this.height, {\n      kind: 'BINARY',\n      parent: this,\n    });\n\n    const newMaxWidth = newImage.width - 1;\n    const newMaxHeight = newImage.height - 1;\n\n    for (let i = 0; i < this.height; i++) {\n      for (let j = 0; j < this.width; j++) {\n        if (this.getBitXY(j, i)) {\n          newImage.setBitXY(newMaxWidth - j, newMaxHeight - i);\n        }\n      }\n    }\n\n    return newImage;\n  } else {\n    const newImage = Image.createFrom(this);\n\n    const newMaxWidth = newImage.width - 1;\n    const newMaxHeight = newImage.height - 1;\n\n    for (let i = 0; i < this.height; i++) {\n      for (let j = 0; j < this.width; j++) {\n        for (let k = 0; k < this.channels; k++) {\n          newImage.setValueXY(\n            newMaxWidth - j,\n            newMaxHeight - i,\n            k,\n            this.getValueXY(j, i, k),\n          );\n        }\n      }\n    }\n\n    return newImage;\n  }\n}\n","import getImageParameters from '../internal/getImageParameters';\nimport { getOutputImageOrInPlace } from '../internal/getOutputImage';\n\n/**\n * Inserts an image within another image.\n * @memberof Image\n * @instance\n * @param {Image} toInsert The image to insert. Out of boundary pixel will be ignored.\n * @param {object} [options]\n * @param {number} [options.x=0] x offset\n * @param {number} [options.y=0] y offset\n * @param {boolean} [options.inPlace=false] - If true modifies the image. If false the insertion is performed on a copy of the image.\n * @return {Image} The modified image or the new image.\n */\nexport default function insert(toInsert, options = {}) {\n  const parameters = getImageParameters(toInsert);\n  this.checkProcessable('insert', parameters);\n  let { x = 0, y = 0 } = options;\n\n  const out = getOutputImageOrInPlace(this, options, { copy: true });\n  const maxY = Math.min(out.height, y + toInsert.height);\n  const maxX = Math.min(out.width, x + toInsert.width);\n  if (out.bitDepth === 1) {\n    for (let j = y; j < maxY; j++) {\n      for (let i = x; i < maxX; i++) {\n        const val = toInsert.getBitXY(i - x, j - y);\n        if (val) out.setBitXY(i, j);\n        else out.clearBitXY(i, j);\n      }\n    }\n  } else {\n    for (let j = y; j < maxY; j++) {\n      for (let i = x; i < maxX; i++) {\n        out.setPixelXY(i, j, toInsert.getPixelXY(i - x, j - y));\n      }\n    }\n  }\n\n  return out;\n}\n","import array from 'new-array';\n\n/**\n * This method will change the border\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.size=0]\n * @param {string} [options.algorithm='copy']\n * @param {number[]} [options.color]\n * @return {this}\n */\nexport default function setBorder(options = {}) {\n  let { size = 0, algorithm = 'copy', color } = options;\n\n  this.checkProcessable('setBorder', {\n    bitDepth: [8, 16, 32, 64],\n  });\n\n  if (algorithm === 'set') {\n    if (color.length !== this.channels) {\n      throw new Error(\n        `setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`,\n      );\n    }\n    for (let i = 0; i < color.length; i++) {\n      if (color[i] === 0) {\n        color[i] = 0.001;\n      }\n    }\n  } else {\n    color = array(this.channels, null);\n  }\n\n  if (!Array.isArray(size)) {\n    size = [size, size];\n  }\n\n  let leftRightSize = size[0];\n  let topBottomSize = size[1];\n  let channels = this.channels;\n\n  for (let i = leftRightSize; i < this.width - leftRightSize; i++) {\n    for (let k = 0; k < channels; k++) {\n      let value =\n        color[k] || this.data[(i + this.width * topBottomSize) * channels + k];\n      for (let j = 0; j < topBottomSize; j++) {\n        this.data[(j * this.width + i) * channels + k] = value;\n      }\n      value =\n        color[k] ||\n        this.data[\n          (i + this.width * (this.height - topBottomSize - 1)) * channels + k\n        ];\n      for (let j = this.height - topBottomSize; j < this.height; j++) {\n        this.data[(j * this.width + i) * channels + k] = value;\n      }\n    }\n  }\n\n  for (let j = 0; j < this.height; j++) {\n    for (let k = 0; k < channels; k++) {\n      let value =\n        color[k] || this.data[(j * this.width + leftRightSize) * channels + k];\n      for (let i = 0; i < leftRightSize; i++) {\n        this.data[(j * this.width + i) * channels + k] = value;\n      }\n      value =\n        color[k] ||\n        this.data[\n          (j * this.width + this.width - leftRightSize - 1) * channels + k\n        ];\n      for (let i = this.width - leftRightSize; i < this.width; i++) {\n        this.data[(j * this.width + i) * channels + k] = value;\n      }\n    }\n  }\n\n  return this;\n}\n","import Stack from '../../stack/Stack';\nimport Image from '../Image';\nimport { GREY } from '../model/model';\n\n/**\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {boolean} [options.preserveAlpha=true]\n * @return {Stack}\n */\nexport default function split(options = {}) {\n  let { preserveAlpha = true } = options;\n\n  this.checkProcessable('split', {\n    bitDepth: [8, 16],\n  });\n\n  // split will always return a stack of images\n  if (this.components === 1) {\n    return new Stack([this.clone()]);\n  }\n\n  let images = new Stack();\n\n  let data = this.data;\n  if (this.alpha && preserveAlpha) {\n    for (let i = 0; i < this.components; i++) {\n      let newImage = Image.createFrom(this, {\n        components: 1,\n        alpha: true,\n        colorModel: GREY,\n      });\n      let ptr = 0;\n      for (let j = 0; j < data.length; j += this.channels) {\n        newImage.data[ptr++] = data[j + i];\n        newImage.data[ptr++] = data[j + this.components];\n      }\n      images.push(newImage);\n    }\n  } else {\n    for (let i = 0; i < this.channels; i++) {\n      let newImage = Image.createFrom(this, {\n        components: 1,\n        alpha: false,\n        colorModel: GREY,\n      });\n      let ptr = 0;\n      for (let j = 0; j < data.length; j += this.channels) {\n        newImage.data[ptr++] = data[j + i];\n      }\n      images.push(newImage);\n    }\n  }\n\n  return images;\n}\n","import { validateChannel } from '../../util/channel';\nimport Image from '../Image';\nimport { GREY } from '../model/model';\n\n/**\n * Create a grey image based on the selected channel\n * @memberof Image\n * @instance\n * @param {number|string} channel\n * @param {object} [options]\n * @param {boolean} [options.keepAlpha]\n * @param {boolean} [options.mergeAlpha]\n * @return {Image} A grey image with the extracted channel\n */\nexport default function getChannel(channel, options = {}) {\n  let { keepAlpha = false, mergeAlpha = false } = options;\n\n  keepAlpha &= this.alpha;\n  mergeAlpha &= this.alpha;\n\n  this.checkProcessable('getChannel', {\n    bitDepth: [8, 16],\n  });\n\n  channel = validateChannel(this, channel);\n\n  let newImage = Image.createFrom(this, {\n    components: 1,\n    alpha: keepAlpha,\n    colorModel: GREY,\n  });\n  let ptr = 0;\n  for (let j = 0; j < this.data.length; j += this.channels) {\n    if (mergeAlpha) {\n      newImage.data[ptr++] =\n        (this.data[j + channel] * this.data[j + this.components]) /\n        this.maxValue;\n    } else {\n      newImage.data[ptr++] = this.data[j + channel];\n      if (keepAlpha) {\n        newImage.data[ptr++] = this.data[j + this.components];\n      }\n    }\n  }\n\n  return newImage;\n}\n","import Image from '../Image';\nimport { GREY } from '../model/model';\n\n/**\n * Create a new grey Image by combining the channels of the current image.\n * @memberof Image\n * @instance\n * @param {function} method\n * @param {object} [options]\n * @param {boolean} [options.mergeAlpha=false]\n * @param {boolean} [options.keepAlpha=false]\n * @return {Image}\n */\nexport default function combineChannels(\n  method = defaultCombineMethod,\n  options = {},\n) {\n  let { mergeAlpha = false, keepAlpha = false } = options;\n\n  mergeAlpha &= this.alpha;\n  keepAlpha &= this.alpha;\n\n  this.checkProcessable('combineChannels', {\n    bitDepth: [8, 16],\n  });\n\n  let newImage = Image.createFrom(this, {\n    components: 1,\n    alpha: keepAlpha,\n    colorModel: GREY,\n  });\n\n  let ptr = 0;\n  for (let i = 0; i < this.size; i++) {\n    // TODO quite slow because we create a new pixel each time\n    let value = method(this.getPixel(i));\n    if (mergeAlpha) {\n      newImage.data[ptr++] =\n        (value * this.data[i * this.channels + this.components]) /\n        this.maxValue;\n    } else {\n      newImage.data[ptr++] = value;\n      if (keepAlpha) {\n        newImage.data[ptr++] = this.data[i * this.channels + this.components];\n      }\n    }\n  }\n\n  return newImage;\n}\n\nfunction defaultCombineMethod(pixel) {\n  return (pixel[0] + pixel[1] + pixel[2]) / 3;\n}\n","import { validateChannel } from '../../util/channel';\n\n/**\n * @memberof Image\n * @instance\n * @param {*} channel\n * @param {Image} image\n *\n * @return {this}\n */\nexport default function setChannel(channel, image) {\n  this.checkProcessable('setChannel', {\n    bitDepth: [8, 16],\n  });\n\n  image.checkProcessable('setChannel (image parameter check)', {\n    bitDepth: [this.bitDepth],\n    alpha: [0],\n    components: [1],\n  });\n\n  if (image.width !== this.width || image.height !== this.height) {\n    throw new Error('Images must have exactly the same width and height');\n  }\n\n  channel = validateChannel(this, channel);\n\n  let ptr = channel;\n  for (let i = 0; i < image.data.length; i++) {\n    this.data[ptr] = image.data[i];\n    ptr += this.channels;\n  }\n\n  return this;\n}\n","import newArray from 'new-array';\n\nimport { validateArrayOfChannels } from '../../util/channel';\n\n/**\n * Try to match the current pictures with another one. If normalize we normalize separately the 2 images.\n * @memberof Image\n * @instance\n * @param {Image} image - Other image\n * @param {object} [options]\n * @return {number[]|number}\n */\nexport default function getSimilarity(image, options = {}) {\n  let {\n    shift = [0, 0],\n    average,\n    channels,\n    defaultAlpha,\n    normalize,\n    border = [0, 0],\n  } = options;\n\n  this.checkProcessable('getSimilarity', {\n    bitDepth: [8, 16],\n  });\n\n  if (!Array.isArray(border)) {\n    border = [border, border];\n  }\n  channels = validateArrayOfChannels(this, {\n    channels: channels,\n    defaultAlpha: defaultAlpha,\n  });\n\n  if (this.bitDepth !== image.bitDepth) {\n    throw new Error('Both images must have the same bitDepth');\n  }\n  if (this.channels !== image.channels) {\n    throw new Error('Both images must have the same number of channels');\n  }\n  if (this.colorModel !== image.colorModel) {\n    throw new Error('Both images must have the same colorModel');\n  }\n\n  if (typeof average === 'undefined') {\n    average = true;\n  }\n\n  // we allow a shift\n  // we need to find the minX, maxX, minY, maxY\n  let minX = Math.max(border[0], -shift[0]);\n  let maxX = Math.min(this.width - border[0], this.width - shift[0]);\n  let minY = Math.max(border[1], -shift[1]);\n  let maxY = Math.min(this.height - border[1], this.height - shift[1]);\n\n  let results = newArray(channels.length, 0);\n  for (let i = 0; i < channels.length; i++) {\n    let c = channels[i];\n    let sumThis = normalize ? this.sum[c] : Math.max(this.sum[c], image.sum[c]);\n    let sumImage = normalize\n      ? image.sum[c]\n      : Math.max(this.sum[c], image.sum[c]);\n\n    if (sumThis !== 0 && sumImage !== 0) {\n      for (let x = minX; x < maxX; x++) {\n        for (let y = minY; y < maxY; y++) {\n          let indexThis = x * this.multiplierX + y * this.multiplierY + c;\n          let indexImage =\n            indexThis +\n            shift[0] * this.multiplierX +\n            shift[1] * this.multiplierY;\n          results[i] += Math.min(\n            this.data[indexThis] / sumThis,\n            image.data[indexImage] / sumImage,\n          );\n        }\n      }\n    }\n  }\n\n  if (average) {\n    return results.reduce((sum, x) => sum + x) / results.length;\n  }\n  return results;\n}\n","/**\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number[]} [options.sampling=[10, 10]]\n * @param {boolean} [options.painted=false]\n * @param {Image} [options.mask]\n * @return {object}\n */\nexport default function getPixelsGrid(options = {}) {\n  let { sampling = [10, 10], painted = false, mask } = options;\n\n  this.checkProcessable('getPixelsGrid', {\n    bitDepth: [8, 16],\n    channels: 1,\n  });\n\n  if (!Array.isArray(sampling)) {\n    sampling = [sampling, sampling];\n  }\n\n  const xSampling = sampling[0];\n  const ySampling = sampling[1];\n\n  const xyS = [];\n  const zS = [];\n\n  const xStep = this.width / xSampling;\n  const yStep = this.height / ySampling;\n  let currentX = Math.floor(xStep / 2);\n\n  for (let i = 0; i < xSampling; i++) {\n    let currentY = Math.floor(yStep / 2);\n    for (let j = 0; j < ySampling; j++) {\n      let x = Math.round(currentX);\n      let y = Math.round(currentY);\n      if (!mask || mask.getBitXY(x, y)) {\n        xyS.push([x, y]);\n        zS.push(this.getPixelXY(x, y));\n      }\n      currentY += yStep;\n    }\n    currentX += xStep;\n  }\n\n  const toReturn = { xyS, zS };\n\n  if (painted) {\n    toReturn.painted = this.rgba8().paintPoints(xyS);\n  }\n\n  return toReturn;\n}\n","export default function Matrix(width, height, defaultValue) {\n  const matrix = new Array(width);\n  for (let x = 0; x < width; x++) {\n    matrix[x] = new Array(height);\n  }\n  if (defaultValue) {\n    for (let x = 0; x < width; x++) {\n      for (let y = 0; y < height; y++) {\n        matrix[x][y] = defaultValue;\n      }\n    }\n  }\n  matrix.width = width;\n  matrix.height = height;\n  Object.setPrototypeOf(matrix, Matrix.prototype);\n  return matrix;\n}\n\nMatrix.prototype.localMin = function (x, y) {\n  let min = this[x][y];\n  let position = [x, y];\n  for (let i = Math.max(0, x - 1); i < Math.min(this.length, x + 2); i++) {\n    for (let j = Math.max(0, y - 1); j < Math.min(this[0].length, y + 2); j++) {\n      if (this[i][j] < min) {\n        min = this[i][j];\n        position = [i, j];\n      }\n    }\n  }\n  return {\n    position: position,\n    value: min,\n  };\n};\n\nMatrix.prototype.localMax = function (x, y) {\n  let max = this[x][y];\n  let position = [x, y];\n  for (let i = Math.max(0, x - 1); i < Math.min(this.length, x + 2); i++) {\n    for (let j = Math.max(0, y - 1); j < Math.min(this[0].length, y + 2); j++) {\n      if (this[i][j] > max) {\n        max = this[i][j];\n        position = [i, j];\n      }\n    }\n  }\n  return {\n    position: position,\n    value: max,\n  };\n};\n\nMatrix.prototype.localSearch = function (x, y, value) {\n  let results = [];\n  for (let i = Math.max(0, x - 1); i < Math.min(this.length, x + 2); i++) {\n    for (let j = Math.max(0, y - 1); j < Math.min(this[0].length, y + 2); j++) {\n      if (this[i][j] === value) {\n        results.push([i, j]);\n      }\n    }\n  }\n  return results;\n};\n","import Matrix from '../../util/matrix';\n\n/**\n * Try to match the current pictures with another one\n * @memberof Image\n * @instance\n * @param {Image} image - Other image to match\n * @param {object} [options]\n * @return {number[]}\n */\nexport default function getBestMatch(image, options = {}) {\n  let { border } = options;\n\n  this.checkProcessable('getChannel', {\n    bitDepth: [8, 16],\n  });\n\n  if (this.bitDepth !== image.bitDepth) {\n    throw new Error('Both images must have the same bitDepth');\n  }\n  if (this.channels !== image.channels) {\n    throw new Error('Both images must have the same number of channels');\n  }\n  if (this.colorModel !== image.colorModel) {\n    throw new Error('Both images must have the same colorModel');\n  }\n\n  // there could be many names\n  let similarityMatrix = new Matrix(image.width, image.height, -Infinity);\n\n  let currentX = Math.floor(image.width / 2);\n  let currentY = Math.floor(image.height / 2);\n  let middleX = currentX;\n  let middleY = currentY;\n  let theEnd = false;\n\n  while (!theEnd) {\n    let toCalculatePositions = similarityMatrix.localSearch(\n      currentX,\n      currentY,\n      -Infinity,\n    );\n    for (let i = 0; i < toCalculatePositions.length; i++) {\n      let position = toCalculatePositions[i];\n      let similarity = this.getSimilarity(image, {\n        border: border,\n        shift: [middleX - position[0], middleY - position[1]],\n      });\n      similarityMatrix[position[0]][position[1]] = similarity;\n    }\n\n    let max = similarityMatrix.localMax(currentX, currentY);\n    if (max.position[0] !== currentX || max.position[1] !== currentY) {\n      currentX = max.position[0];\n      currentY = max.position[1];\n    } else {\n      theEnd = true;\n    }\n  }\n\n  return [currentX - middleX, currentY - middleY];\n}\n","import { checkRow, checkChannel } from '../internal/checks';\n\n/**\n * @memberof Image\n * @instance\n * @param {number} row\n * @param {number} [channel=0]\n * @return {number[]}\n */\nexport default function getRow(row, channel = 0) {\n  this.checkProcessable('getRow', {\n    bitDepth: [8, 16],\n  });\n\n  checkRow(this, row);\n  checkChannel(this, channel);\n\n  let array = new Array(this.width);\n  let ptr = 0;\n  let begin = row * this.width * this.channels + channel;\n  let end = begin + this.width * this.channels;\n  for (let j = begin; j < end; j += this.channels) {\n    array[ptr++] = this.data[j];\n  }\n\n  return array;\n}\n","import { checkColumn, checkChannel } from '../internal/checks';\n\n/**\n * @memberof Image\n * @instance\n * @param {number} column\n * @param {number} [channel=0]\n * @return {number[]}\n */\nexport default function getColumn(column, channel = 0) {\n  this.checkProcessable('getColumn', {\n    bitDepth: [8, 16],\n  });\n\n  checkColumn(this, column);\n  checkChannel(this, channel);\n\n  let array = new Array(this.height);\n  let ptr = 0;\n  let step = this.width * this.channels;\n  for (\n    let j = channel + column * this.channels;\n    j < this.data.length;\n    j += step\n  ) {\n    array[ptr++] = this.data[j];\n  }\n  return array;\n}\n","import { Matrix } from 'ml-matrix';\n\n/**\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.channel]\n * @return {Matrix}\n */\nexport default function getMatrix(options = {}) {\n  let { channel } = options;\n  this.checkProcessable('getMatrix', {\n    bitDepth: [8, 16],\n  });\n\n  if (channel === undefined) {\n    if (this.components > 1) {\n      throw new RangeError(\n        'You need to define the channel for an image that contains more than one channel',\n      );\n    }\n    channel = 0;\n  }\n\n  let matrix = new Matrix(this.height, this.width);\n  for (let x = 0; x < this.height; x++) {\n    for (let y = 0; y < this.width; y++) {\n      matrix.set(x, y, this.getValueXY(y, x, channel));\n    }\n  }\n\n  return matrix;\n}\n","import { Matrix } from 'ml-matrix';\n\n/**\n * We set the data of the image from a matrix. The size of the matrix and the data have to be the same.\n * @memberof Image\n * @instance\n * @param {Matrix} matrix\n * @param {object} [options]\n * @param {number} [options.channel]\n *\n * @return {this}\n */\nexport default function setMatrix(matrix, options = {}) {\n  matrix = new Matrix(matrix);\n  let { channel } = options;\n  this.checkProcessable('getMatrix', {\n    bitDepth: [8, 16],\n  });\n\n  if (channel === undefined) {\n    if (this.components > 1) {\n      throw new RangeError(\n        'You need to define the channel for an image that contains more than one channel',\n      );\n    }\n    channel = 0;\n  }\n\n  if (this.width !== matrix.columns || this.height !== matrix.rows) {\n    throw new RangeError(\n      'The size of the matrix must be equal to the size of the image',\n    );\n  }\n\n  for (let x = 0; x < this.height; x++) {\n    for (let y = 0; y < this.width; y++) {\n      this.setValueXY(y, x, channel, matrix.get(x, y));\n    }\n  }\n\n  return this;\n}\n","/**\n * Returns an array of arrays containing the pixel values in the form\n * [[R1, G1, B1], [R2, G2, B2], ...]\n * @memberof Image\n * @instance\n * @return {Array<Array<number>>}\n */\nexport default function getPixelsArray() {\n  this.checkProcessable('getPixelsArray', {\n    bitDepth: [8, 16, 32],\n  });\n\n  let array = new Array(this.size);\n  let ptr = 0;\n  for (let i = 0; i < this.data.length; i += this.channels) {\n    let pixel = new Array(this.components);\n    for (let j = 0; j < this.components; j++) {\n      pixel[j] = this.data[i + j];\n    }\n    array[ptr++] = pixel;\n  }\n\n  return array;\n}\n","/**\n * Find intersection of points between two different masks\n * @memberof Image\n * @instance\n * @param {Image} mask2 - a mask (1 bit image)\n * @return {object} - object containing number of white pixels for mask1, for mask 2 and for them both\n */\nexport default function getIntersection(mask2) {\n  let mask1 = this;\n  let closestParent = mask1.getClosestCommonParent(mask2);\n\n  let startPos1 = mask1.getRelativePosition(closestParent, {\n    defaultFurther: true,\n  });\n  let allRelPos1 = getRelativePositionForAllPixels(mask1, startPos1);\n  let startPos2 = mask2.getRelativePosition(closestParent, {\n    defaultFurther: true,\n  });\n  let allRelPos2 = getRelativePositionForAllPixels(mask2, startPos2);\n\n  let commonSurface = getCommonSurface(allRelPos1, allRelPos2);\n  let intersection = {\n    whitePixelsMask1: [],\n    whitePixelsMask2: [],\n    commonWhitePixels: [],\n  };\n\n  for (let i = 0; i < commonSurface.length; i++) {\n    let currentRelativePos = commonSurface[i];\n    let realPos1 = [\n      currentRelativePos[0] - startPos1[0],\n      currentRelativePos[1] - startPos1[1],\n    ];\n    let realPos2 = [\n      currentRelativePos[0] - startPos2[0],\n      currentRelativePos[1] - startPos2[1],\n    ];\n    let valueBitMask1 = mask1.getBitXY(realPos1[0], realPos1[1]);\n    let valueBitMask2 = mask2.getBitXY(realPos2[0], realPos2[1]);\n\n    if (valueBitMask1 === 1 && valueBitMask2 === 1) {\n      intersection.commonWhitePixels.push(currentRelativePos);\n    }\n  }\n\n  for (let i = 0; i < allRelPos1.length; i++) {\n    let posX;\n    let posY;\n    if (i !== 0) {\n      posX = Math.floor(i / mask1.width);\n      posY = i % mask1.width;\n    }\n    if (mask1.getBitXY(posX, posY) === 1) {\n      intersection.whitePixelsMask1.push(allRelPos1[i]);\n    }\n  }\n\n  for (let i = 0; i < allRelPos2.length; i++) {\n    let posX = 0;\n    let posY = 0;\n    if (i !== 0) {\n      posX = Math.floor(i / mask2.width);\n      posY = i % mask2.width;\n    }\n    if (mask2.getBitXY(posX, posY) === 1) {\n      intersection.whitePixelsMask2.push(allRelPos2[i]);\n    }\n  }\n\n  return intersection;\n}\n\n/**\n * Get relative position array for all pixels in masks\n * @param {Image} mask - a mask (1 bit image)\n * @param {Array<number>} startPosition - start position of mask relative to parent\n * @return {Array} - relative position of all pixels\n * @private\n */\nfunction getRelativePositionForAllPixels(mask, startPosition) {\n  let relativePositions = [];\n  for (let i = 0; i < mask.height; i++) {\n    for (let j = 0; j < mask.width; j++) {\n      let originalPos = [i, j];\n      relativePositions.push([\n        originalPos[0] + startPosition[0],\n        originalPos[1] + startPosition[1],\n      ]);\n    }\n  }\n  return relativePositions;\n}\n\n/**\n * Finds common surface for two arrays containing the positions of the pixels relative to parent image\n * @param {Array<number>} positionArray1 - positions of pixels relative to parent\n * @param {Array<number>} positionArray2 - positions of pixels relative to parent\n * @return {Array<number>} - positions of common pixels for both arrays\n * @private\n */\nfunction getCommonSurface(positionArray1, positionArray2) {\n  let i = 0;\n  let j = 0;\n  let commonSurface = [];\n  while (i < positionArray1.length && j < positionArray2.length) {\n    if (\n      positionArray1[i][0] === positionArray2[j][0] &&\n      positionArray1[i][1] === positionArray2[j][1]\n    ) {\n      commonSurface.push(positionArray1[i]);\n      i++;\n      j++;\n    } else if (\n      positionArray1[i][0] < positionArray2[j][0] ||\n      (positionArray1[i][0] === positionArray2[j][0] &&\n        positionArray1[i][1] < positionArray2[j][1])\n    ) {\n      i++;\n    } else {\n      j++;\n    }\n  }\n  return commonSurface;\n}\n","/**\n * Finds common parent between two different masks\n * @memberof Image\n * @instance\n * @param {Image} mask - a mask (1 bit image)\n * @return {Image} - the lowest common parent of both masks\n */\nexport default function getClosestCommonParent(mask) {\n  let depthMask1 = getDepth(this);\n  let depthMask2 = getDepth(mask);\n\n  let furthestParent;\n  if (depthMask1 >= depthMask2) {\n    furthestParent = getFurthestParent(this, depthMask1);\n  } else {\n    furthestParent = getFurthestParent(mask, depthMask2);\n  }\n\n  if (depthMask1 === 0 || depthMask2 === 0) {\n    // comparing with at least one original image -> no common parent\n    return furthestParent;\n  }\n  let m1 = this;\n  let m2 = mask;\n\n  while (depthMask1 !== depthMask2) {\n    if (depthMask1 > depthMask2) {\n      m1 = m1.parent;\n      if (m1 === null) {\n        return furthestParent;\n      }\n      depthMask1 = depthMask1 - 1;\n    } else {\n      m2 = m2.parent;\n      if (m2 === null) {\n        return furthestParent;\n      }\n      depthMask2 = depthMask2 - 1;\n    }\n  }\n\n  while (m1 !== m2 && m1 !== null && m2 !== null) {\n    m1 = m1.parent;\n    m2 = m2.parent;\n    if (m1 === null || m2 === null) {\n      return furthestParent;\n    }\n  }\n\n  // TODO\n  // no common parent, use parent at top of hierarchy of m1\n  // we assume it works for now\n  if (m1 !== m2) {\n    return furthestParent;\n  }\n\n  return m1;\n}\n\n/**\n * Find the depth of the mask with respect to its arborescence.\n * Helper function to find the common parent between two masks.\n * @param {Image} mask - a mask (1 bit Image)\n * @return {number} - depth of mask\n * @private\n */\nfunction getDepth(mask) {\n  let d = 0;\n  let m = mask;\n  // a null parent means it's the original image\n  while (m.parent != null) {\n    m = m.parent;\n    d++;\n  }\n  return d;\n}\n\nfunction getFurthestParent(mask, depth) {\n  let m = mask;\n  while (depth > 0) {\n    m = m.parent;\n    depth = depth - 1;\n  }\n  return m;\n}\n","const defaultOptions = {\n    lowThreshold: 10,\n    highThreshold: 30,\n    gaussianBlur: 1.1\n};\n\nconst Gx = [\n    [-1, 0, +1],\n    [-2, 0, +2],\n    [-1, 0, +1]\n];\n\nconst Gy = [\n    [-1, -2, -1],\n    [0, 0, 0],\n    [+1, +2, +1]\n];\n\nconst convOptions = {\n    bitDepth: 32,\n    mode: 'periodic'\n};\n\nexport default function cannyEdgeDetector(image, options) {\n    image.checkProcessable('Canny edge detector', {\n        bitDepth: 8,\n        channels: 1,\n        components: 1\n    });\n\n    options = Object.assign({}, defaultOptions, options);\n\n    const width = image.width;\n    const height = image.height;\n    const brightness = image.maxValue;\n\n    const gfOptions = {\n        sigma: options.gaussianBlur,\n        radius: 3\n    };\n\n    const gf = image.gaussianFilter(gfOptions);\n\n    const gradientX = gf.convolution(Gy, convOptions);\n    const gradientY = gf.convolution(Gx, convOptions);\n\n    const G = gradientY.hypotenuse(gradientX);\n\n    const Image = image.constructor;\n\n    const nms = new Image(width, height, {\n        kind: 'GREY',\n        bitDepth: 32\n    });\n\n    const edges = new Image(width, height, {\n        kind: 'GREY',\n        bitDepth: 32\n    });\n\n    const finalImage = new Image(width, height, {\n        kind: 'GREY'\n    });\n\n    // Non-Maximum supression\n    for (var i = 1; i < width - 1; i++) {\n        for (var j = 1; j < height - 1; j++) {\n\n            var dir = (Math.round(Math.atan2(gradientY.getValueXY(i, j, 0), gradientX.getValueXY(i, j, 0)) * (5.0 / Math.PI)) + 5) % 5;\n\n            if (\n                !((dir === 0 && (G.getValueXY(i, j, 0) <= G.getValueXY(i, j - 1, 0) || G.getValueXY(i, j, 0) <= G.getValueXY(i, j + 1, 0)))\n                    || (dir === 1 && (G.getValueXY(i, j, 0) <= G.getValueXY(i - 1, j + 1, 0) || G.getValueXY(i, j, 0) <= G.getValueXY(i + 1, j - 1, 0)))\n                    || (dir === 2 && (G.getValueXY(i, j, 0) <= G.getValueXY(i - 1, j, 0) || G.getValueXY(i, j, 0) <= G.getValueXY(i + 1, j, 0)))\n                    || (dir === 3 && (G.getValueXY(i, j, 0) <= G.getValueXY(i - 1, j - 1, 0) || G.getValueXY(i, j, 0) <= G.getValueXY(i + 1, j + 1, 0))))\n            ) {\n                nms.setValueXY(i, j, 0, G.getValueXY(i, j, 0));\n            }\n        }\n    }\n\n    for (i = 0; i < width * height; ++i) {\n        var currentNms = nms.data[i];\n        var currentEdge = 0;\n        if (currentNms > options.highThreshold) {\n            currentEdge++;\n            finalImage.data[i] = brightness;\n        }\n        if (currentNms > options.lowThreshold) {\n            currentEdge++;\n        }\n\n        edges.data[i] = currentEdge;\n    }\n\n    // Hysteresis: first pass\n    var currentPixels = [];\n    for (i = 1; i < width - 1; ++i) {\n        for (j = 1; j < height - 1; ++j) {\n            if (edges.getValueXY(i, j, 0) !== 1) {\n                continue;\n            }\n\n            outer: for (var k = i - 1; k < i + 2; ++k) {\n                for (var l = j - 1; l < j + 2; ++l) {\n                    if (edges.getValueXY(k, l, 0) === 2) {\n                        currentPixels.push([i, j]);\n                        finalImage.setValueXY(i, j, 0, brightness);\n                        break outer;\n                    }\n                }\n            }\n        }\n    }\n\n    // Hysteresis: second pass\n    while (currentPixels.length > 0) {\n        var newPixels = [];\n        for (i = 0; i < currentPixels.length; ++i) {\n            for (j = -1; j < 2; ++j) {\n                for (k = -1; k < 2; ++k) {\n                    if (j === 0 && k === 0) {\n                        continue;\n                    }\n                    var row = currentPixels[i][0] + j;\n                    var col = currentPixels[i][1] + k;\n                    if (edges.getValueXY(row, col, 0) === 1 && finalImage.getValueXY(row, col, 0) === 0) {\n                        newPixels.push([row, col]);\n                        finalImage.setValueXY(row, col, 0, brightness);\n                    }\n                }\n            }\n        }\n        currentPixels = newPixels;\n    }\n\n    return finalImage;\n}\n","import cannyEdgeDetector from 'canny-edge-detector';\n\n/**\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @return {Image}\n */\nexport default function cannyEdge(options) {\n  return cannyEdgeDetector(this, options);\n}\n","import Image from '../Image';\n\n/**\n * Extracts a part of an original image based on a mask. By default the mask may contain\n * a relative position and this part of the original image will be extracted.\n * @memberof Image\n * @instance\n * @param {Image} mask - Image containing a binary mask\n * @param {object} [options]\n * @param {number[]} [options.position] - Array of 2 elements to force the x,y coordinates\n * @return {Image} A new image\n */\nexport default function extract(mask, options = {}) {\n  let { position } = options;\n  this.checkProcessable('extract', {\n    bitDepth: [1, 8, 16],\n  });\n\n  // we need to find the relative position to the parent\n  if (!position) {\n    position = mask.getRelativePosition(this);\n    if (!position) {\n      throw new Error(\n        'extract : can not extract an image because the relative position can not be ' +\n          'determined, try to specify manually the position as an array of 2 elements [x,y].',\n      );\n    }\n  }\n\n  if (this.bitDepth > 1) {\n    let extract = Image.createFrom(this, {\n      width: mask.width,\n      height: mask.height,\n      alpha: 1, // we force the alpha, otherwise difficult to extract a mask ...\n      position: position,\n      parent: this,\n    });\n\n    for (let x = 0; x < mask.width; x++) {\n      for (let y = 0; y < mask.height; y++) {\n        // we copy the point\n        for (let channel = 0; channel < this.channels; channel++) {\n          let value = this.getValueXY(\n            x + position[0],\n            y + position[1],\n            channel,\n          );\n          extract.setValueXY(x, y, channel, value);\n        }\n        // we make it transparent in case it is not in the mask\n        if (!mask.getBitXY(x, y)) {\n          extract.setValueXY(x, y, this.components, 0);\n        }\n      }\n    }\n\n    return extract;\n  } else {\n    let extract = Image.createFrom(this, {\n      width: mask.width,\n      height: mask.height,\n      position: position,\n      parent: this,\n    });\n    for (let y = 0; y < mask.height; y++) {\n      for (let x = 0; x < mask.width; x++) {\n        if (mask.getBitXY(x, y)) {\n          if (this.getBitXY(x + position[0], y + position[1])) {\n            extract.setBitXY(x, y);\n          }\n        }\n      }\n    }\n\n    return extract;\n  }\n}\n","import LinkedList from 'fast-list';\n\nimport Image from '../Image';\n\nexport default function floodFill(options = {}) {\n  const { x = 0, y = 0, inPlace = true } = options;\n\n  const destination = inPlace ? this : Image.createFrom(this);\n\n  this.checkProcessable('floodFill', { bitDepth: 1 });\n\n  const bit = this.getBitXY(x, y);\n  if (bit) return destination;\n  const queue = new LinkedList();\n  queue.push(new Node(x, y));\n  while (queue.length > 0) {\n    const node = queue.shift();\n    destination.setBitXY(node.x, node.y);\n    for (let i = node.x + 1; i < this.width; i++) {\n      if (!destination.getBitXY(i, node.y) && !this.getBitXY(i, node.y)) {\n        destination.setBitXY(i, node.y);\n        if (node.y + 1 < this.height && !this.getBitXY(i, node.y + 1)) {\n          queue.push(new Node(i, node.y + 1));\n        }\n        if (node.y - 1 >= 0 && !this.getBitXY(i, node.y - 1)) {\n          queue.push(new Node(i, node.y - 1));\n        }\n      } else {\n        break;\n      }\n    }\n    // eslint-disable-next-line for-direction\n    for (let i = node.x - 1; i >= 0; i++) {\n      if (!destination.getBitXY(i, node.y) && !this.getBitXY(i, node.y)) {\n        destination.setBitXY(i, node.y);\n        if (node.y + 1 < this.height && !this.getBitXY(i, node.y + 1)) {\n          queue.push(new Node(i, node.y + 1));\n        }\n        if (node.y - 1 >= 0 && !this.getBitXY(i, node.y - 1)) {\n          queue.push(new Node(i, node.y - 1));\n        }\n      } else {\n        break;\n      }\n    }\n  }\n\n  return destination;\n}\n\nfunction Node(x, y) {\n  this.x = x;\n  this.y = y;\n}\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","import _extends from '@babel/runtime/helpers/extends';\n\nfunction hex2rgb (hex) {\n  if (hex[0] === '#') hex = hex.substr(1);\n\n  if (hex.length === 3) {\n    return {\n      r: parseInt(hex[0] + hex[0], 16),\n      g: parseInt(hex[1] + hex[1], 16),\n      b: parseInt(hex[2] + hex[2], 16)\n    };\n  }\n\n  return {\n    r: parseInt(hex.substr(0, 2), 16),\n    g: parseInt(hex.substr(2, 2), 16),\n    b: parseInt(hex.substr(4, 2), 16)\n  };\n}\n\nfunction hsv2rgb (h, s, v) {\n  s = s / 100;\n  v = v / 100;\n  var rgb = [];\n  var c = v * s;\n  var hh = h / 60;\n  var x = c * (1 - Math.abs(hh % 2 - 1));\n  var m = v - c;\n\n  if (hh >= 0 && hh < 1) {\n    rgb = [c, x, 0];\n  } else if (hh >= 1 && hh < 2) {\n    rgb = [x, c, 0];\n  } else if (hh >= 2 && hh < 3) {\n    rgb = [0, c, x];\n  } else if (h >= 3 && hh < 4) {\n    rgb = [0, x, c];\n  } else if (h >= 4 && hh < 5) {\n    rgb = [x, 0, c];\n  } else if (h >= 5 && hh <= 6) {\n    rgb = [c, 0, x];\n  } else {\n    rgb = [0, 0, 0];\n  }\n\n  return {\n    r: Math.round(255 * (rgb[0] + m)),\n    g: Math.round(255 * (rgb[1] + m)),\n    b: Math.round(255 * (rgb[2] + m))\n  };\n}\n\nfunction convert(num) {\n  var hex = num.toString(16);\n  return hex.length === 1 ? '0' + hex : hex;\n}\n\nfunction rgb2hex (r, g, b) {\n  return '#' + [convert(r), convert(g), convert(b)].join('');\n}\n\nfunction hsv2hex (h, s, v) {\n  var rgb = hsv2rgb(h, s, v);\n  return rgb2hex(rgb.r, rgb.g, rgb.b);\n}\n\nfunction rgb2hsv (r, g, b) {\n  var h, s, v;\n  var max = Math.max(r, g, b);\n  var min = Math.min(r, g, b);\n  var delta = max - min;\n\n  if (delta === 0) {\n    h = 0;\n  } else if (r === max) {\n    h = (g - b) / delta % 6;\n  } else if (g === max) {\n    h = (b - r) / delta + 2;\n  } else {\n    h = (r - g) / delta + 4;\n  }\n\n  h = Math.round(h * 60);\n  if (h < 0) h += 360;\n  s = Math.round((max === 0 ? 0 : delta / max) * 100);\n  v = Math.round(max / 255 * 100);\n  return {\n    h: h,\n    s: s,\n    v: v\n  };\n}\n\nfunction rgba (r, g, b, a) {\n  return 'rgba(' + [r, g, b, a / 100].join(',') + ')';\n}\n\nfunction rgba2rgb (r, g, b, a) {\n  a = a / 100;\n  return {\n    r: parseInt((1 - a) * 255 + a * r, 10),\n    g: parseInt((1 - a) * 255 + a * g, 10),\n    b: parseInt((1 - a) * 255 + a * b, 10)\n  };\n}\n\nfunction rgba2hex (r, g, b, a) {\n  var rgb = rgba2rgb(r, g, b, a);\n  return rgb2hex(rgb.r, rgb.g, rgb.b);\n}\n\nfunction hsl2hsv (h, s, l) {\n  s *= (l < 50 ? l : 100 - l) / 100;\n  return {\n    h: h,\n    s: 2 * s / (l + s) * 100,\n    v: l + s\n  };\n}\n\nfunction hsv2hsl (h, s, v) {\n  var hh = (200 - s) * v / 100;\n  return {\n    h: h,\n    s: s * v / (hh < 100 ? hh : 200 - hh),\n    l: hh / 2\n  };\n}\n\nfunction hsl2rgb (h, s, l) {\n  var hsv = hsl2hsv(h, s, l);\n  return hsv2rgb(hsv.h, hsv.s, hsv.v);\n}\n\nvar colors = {\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 132, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 255, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  grey: [128, 128, 128],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 203],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  rebeccapurple: [102, 51, 153],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [119, 128, 144],\n  slategrey: [119, 128, 144],\n  snow: [255, 255, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 5]\n};\n\nfunction parse(str) {\n  return named(str) || hex3(str) || hex6(str) || rgb(str) || rgba$1(str) || hsl(str) || hsla(str);\n}\n\nfunction named(str) {\n  var c = colors[str.toLowerCase()];\n  if (!c) return;\n  return {\n    r: c[0],\n    g: c[1],\n    b: c[2],\n    a: 100\n  };\n}\n\nfunction rgb(str) {\n  var m = str.match(/rgb\\(([^)]+)\\)/);\n\n  if (m) {\n    var parts = m[1].split(/ *, */).map(Number);\n    return {\n      r: parts[0],\n      g: parts[1],\n      b: parts[2],\n      a: 100\n    };\n  }\n}\n\nfunction rgba$1(str) {\n  var m = str.match(/rgba\\(([^)]+)\\)/);\n\n  if (m) {\n    var parts = m[1].split(/ *, */).map(Number);\n    return {\n      r: parts[0],\n      g: parts[1],\n      b: parts[2],\n      a: parts[3] * 100\n    };\n  }\n}\n\nfunction hex6(str) {\n  if ('#' === str[0] && 7 === str.length) {\n    return {\n      r: parseInt(str.slice(1, 3), 16),\n      g: parseInt(str.slice(3, 5), 16),\n      b: parseInt(str.slice(5, 7), 16),\n      a: 100\n    };\n  }\n}\n\nfunction hex3(str) {\n  if ('#' === str[0] && 4 === str.length) {\n    return {\n      r: parseInt(str[1] + str[1], 16),\n      g: parseInt(str[2] + str[2], 16),\n      b: parseInt(str[3] + str[3], 16),\n      a: 100\n    };\n  }\n}\n\nfunction hsl(str) {\n  var m = str.match(/hsl\\(([^)]+)\\)/);\n\n  if (m) {\n    var parts = m[1].split(/ *, */);\n    var h = parseInt(parts[0], 10);\n    var s = parseInt(parts[1], 10);\n    var l = parseInt(parts[2], 10);\n\n    var _rgb = hsl2rgb(h, s, l);\n\n    return _extends({}, _rgb, {\n      a: 100\n    });\n  }\n}\n\nfunction hsla(str) {\n  var m = str.match(/hsla\\(([^)]+)\\)/);\n\n  if (m) {\n    var parts = m[1].split(/ *, */);\n    var h = parseInt(parts[0], 10);\n    var s = parseInt(parts[1], 10);\n    var l = parseInt(parts[2], 10);\n    var a = parseInt(parseFloat(parts[3]) * 100, 10);\n\n    var _rgb2 = hsl2rgb(h, s, l);\n\n    return _extends({}, _rgb2, {\n      a: a\n    });\n  }\n}\n\nfunction hex2hsv (hex) {\n  var _hex2rgb = hex2rgb(hex),\n      r = _hex2rgb.r,\n      g = _hex2rgb.g,\n      b = _hex2rgb.b;\n\n  return rgb2hsv(r, g, b);\n}\n\nfunction hex2hsl (hex) {\n  var _hex2hsv = hex2hsv(hex),\n      h = _hex2hsv.h,\n      s = _hex2hsv.s,\n      v = _hex2hsv.v;\n\n  return hsv2hsl(h, s, v);\n}\n\nfunction hex2alpha(aa) {\n  return Math.round(parseInt('0x' + aa, 16) / 255 * 100);\n}\n\nexport { parse as cssColor, hex2alpha, hex2hsl, hex2hsv, hex2rgb, hsl2hsv, hsl2rgb, hsv2hex, hsv2hsl, hsv2rgb, rgb2hex, rgb2hsv, rgba, rgba2hex, rgba2rgb };\n","import { cssColor } from '@swiftcarrot/color-fns';\n\nexport function css2array(string) {\n  let color = cssColor(string);\n  return [color.r, color.g, color.b, Math.round((color.a * 255) / 100)];\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) {\n    t += 1;\n  }\n  if (t > 1) {\n    t -= 1;\n  }\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  if (t < 1 / 2) {\n    return q;\n  }\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return p;\n}\n\nfunction hsl2rgb(h, s, l) {\n  let m1, m2, hue, r, g, b;\n  s /= 100;\n  l /= 100;\n\n  if (s === 0) {\n    r = g = b = l * 255;\n  } else {\n    if (l <= 0.5) {\n      m2 = l * (s + 1);\n    } else {\n      m2 = l + s - l * s;\n    }\n\n    m1 = l * 2 - m2;\n    hue = h / 360;\n    r = hue2rgb(m1, m2, hue + 1 / 3);\n    g = hue2rgb(m1, m2, hue);\n    b = hue2rgb(m1, m2, hue - 1 / 3);\n  }\n  return { r: r, g: g, b: b };\n}\n\nexport function getDistinctColors(numColors) {\n  let colors = new Array(numColors);\n  let j = 0;\n  for (let i = 0; i < 360; i += 360 / numColors) {\n    j++;\n    let color = hsl2rgb(i, 100, 30 + (j % 4) * 15);\n    colors[j - 1] = [\n      Math.round(color.r * 255),\n      Math.round(color.g * 255),\n      Math.round(color.b * 255),\n    ];\n  }\n  return colors;\n}\n\nexport function getRandomColor() {\n  return [\n    Math.floor(Math.random() * 256),\n    Math.floor(Math.random() * 256),\n    Math.floor(Math.random() * 256),\n  ];\n}\n\n/**\n * returns an array of colors based on various options\n * by default this methods return 50 distinct colors\n * @param {object} [options]\n * @param {Array<number>|string}     [options.color] - Array of 3 elements (R, G, B) or a valid css color.\n * @param {Array<Array<number>>|Array<string>} [options.colors] - Array of Array of 3 elements (R, G, B) for each color of each mask\n * @param {boolean}             [options.randomColors=true] - To paint each mask with a random color if color and colors are undefined\n * @param {boolean}             [options.distinctColors=false] - To paint each mask with a different color if color and colors are undefined\n * @param {boolean}             [options.numberColors=50] - number of colors to generate by default\n * @return {Array} Array of colors\n * @private\n */\nexport function getColors(options) {\n  let {\n    color,\n    colors,\n    randomColors, // true / false\n    numberColors = 50,\n  } = options;\n\n  if (color && !Array.isArray(color)) {\n    color = css2array(color);\n  }\n\n  if (color) {\n    return [color];\n  }\n\n  if (colors) {\n    colors = colors.map(function (color) {\n      if (!Array.isArray(color)) {\n        return css2array(color);\n      }\n      return color;\n    });\n    return colors;\n  }\n\n  if (randomColors) {\n    colors = new Array(numberColors);\n    for (let i = 0; i < numberColors; i++) {\n      colors[i] = getRandomColor();\n    }\n  }\n\n  return getDistinctColors(numberColors);\n}\n","import { css2array } from '../../util/color';\nimport { RGB } from '../model/model';\n\n/**\n * Paint a label or labels on the current image.\n * @memberof Image\n * @instance\n *\n * @param {Array<string>}           [labels] - Array of labels to display.\n * @param {Array<Array<number>>}    [positions] - Array of points [x,y] where the labels should be displayed.\n * @param {object}                  [options]\n * @param {Array<number>|string}    [options.color='red'] - Array of 3 elements (R, G, B) or a valid css color.\n * @param {Array<Array<number>>|Array<string>} [options.colors] - Array of Array of 3 elements (R, G, B) for each color of each label.\n * @param {string|Array<string>} [options.font='12px Helvetica'] - Paint the labels in a different CSS style\n * @param {number|Array<number>} [options.rotate=0] - Rotate each label of a define angle\n * @return {this} The original painted image\n */\nexport default function paintLabels(labels, positions, options = {}) {\n  let { color = 'blue', colors, font = '12px Helvetica', rotate = 0 } = options;\n\n  this.checkProcessable('paintMasks', {\n    channels: [3, 4],\n    bitDepth: [8, 16],\n    colorModel: RGB,\n  });\n\n  if (!Array.isArray(labels)) {\n    throw Error('paintLabels: labels must be an array');\n  }\n\n  if (!Array.isArray(positions)) {\n    throw Error('paintLabels: positions must be an array');\n  }\n\n  if (color && !Array.isArray(color)) {\n    color = css2array(color);\n  }\n\n  if (colors) {\n    colors = colors.map(function (color) {\n      if (!Array.isArray(color)) {\n        return css2array(color);\n      }\n      return color;\n    });\n  } else {\n    colors = [color];\n  }\n\n  if (labels.length !== positions.length) {\n    throw Error(\n      'paintLabels: positions and labels must be arrays from the same size',\n    );\n  }\n\n  // We convert everything to array so that we can simply loop thourgh all the labels\n  if (!Array.isArray(font)) font = [font];\n  if (!Array.isArray(rotate)) rotate = [rotate];\n\n  let canvas = this.getCanvas();\n  let ctx = canvas.getContext('2d');\n  for (let i = 0; i < labels.length; i++) {\n    ctx.save();\n    let color = colors[i % colors.length];\n    ctx.fillStyle = `rgba(${color[0]},${color[1]},${color[2]},${\n      color[3] / this.maxValue\n    })`;\n    ctx.font = font[i % font.length];\n    let position = positions[i];\n    ctx.translate(position[0], position[1]);\n    ctx.rotate((rotate[i % rotate.length] / 180) * Math.PI);\n    ctx.fillText(labels[i], 0, 0);\n    ctx.restore();\n  }\n  this.data = Uint8Array.from(\n    ctx.getImageData(0, 0, this.width, this.height).data,\n  );\n\n  return this;\n}\n","import { getColors } from '../../util/color';\nimport { RGB } from '../model/model';\n\n/**\n * Paint a mask or masks on the current image.\n * @memberof Image\n * @instance\n * @param {(Image|Array<Image>)}     masks - Image containing a binary mask\n * @param {object}              [options]\n * @param {Array<number>|string}     [options.color] - Array of 3 elements (R, G, B) or a valid css color.\n * @param {Array<Array<number>>|Array<string>} [options.colors] - Array of Array of 3 elements (R, G, B) for each color of each mask\n * @param {boolean}             [options.randomColors=true] - To paint each mask with a random color if color and colors are undefined\n * @param {boolean}             [options.distinctColors=false] - To paint each mask with a different color if color and colors are undefined\n * @param {number}              [options.alpha=255] - Value from 0 to 255 to specify the alpha.\n * @param {Array<string>}       [options.labels] - Array of labels to display. Should the the same size as masks.\n * @param {Array<Array<number>>} [options.labelsPosition] - Array of points [x,y] where the labels should be displayed.\n *                                      By default it is the 0,0 position of the correesponding mask.\n * @param {string}              [options.labelColor='blue'] - Define the color to paint the labels\n * @param {string}              [options.labelFont='12px Helvetica'] - Paint the labels in a different CSS style\n * @return {this} The original painted image\n */\nexport default function paintMasks(masks, options = {}) {\n  let {\n    alpha = 255,\n    labels = [],\n    labelsPosition = [],\n    labelColor = 'blue',\n    labelFont = '12px Helvetica',\n  } = options;\n\n  this.checkProcessable('paintMasks', {\n    channels: [3, 4],\n    bitDepth: [8, 16],\n    colorModel: RGB,\n  });\n\n  let colors = getColors(\n    Object.assign({}, options, { numberColors: masks.length }),\n  );\n\n  if (!Array.isArray(masks)) {\n    masks = [masks];\n  }\n\n  for (let i = 0; i < masks.length; i++) {\n    let mask = masks[i];\n    // we need to find the parent image to calculate the relative position\n    let color = colors[i % colors.length];\n    for (let x = 0; x < mask.width; x++) {\n      for (let y = 0; y < mask.height; y++) {\n        if (mask.getBitXY(x, y)) {\n          for (\n            let component = 0;\n            component < Math.min(this.components, color.length);\n            component++\n          ) {\n            if (alpha === 255) {\n              this.setValueXY(\n                x + mask.position[0],\n                y + mask.position[1],\n                component,\n                color[component],\n              );\n            } else {\n              let value = this.getValueXY(\n                x + mask.position[0],\n                y + mask.position[1],\n                component,\n              );\n              value = Math.round(\n                (value * (255 - alpha) + color[component] * alpha) / 255,\n              );\n              this.setValueXY(\n                x + mask.position[0],\n                y + mask.position[1],\n                component,\n                value,\n              );\n            }\n          }\n        }\n      }\n    }\n  }\n\n  if (Array.isArray(labels) && labels.length > 0) {\n    let canvas = this.getCanvas();\n    let ctx = canvas.getContext('2d');\n    ctx.fillStyle = labelColor;\n    ctx.font = labelFont;\n    for (let i = 0; i < Math.min(masks.length, labels.length); i++) {\n      let position = labelsPosition[i] ? labelsPosition[i] : masks[i].position;\n      ctx.fillText(labels[i], position[0], position[1]);\n    }\n    this.data = Uint8Array.from(\n      ctx.getImageData(0, 0, this.width, this.height).data,\n    );\n  }\n\n  return this;\n}\n","export default function zerosMatrix(height, width) {\n  let matrix = new Array(height);\n  for (let i = 0; i < height; i++) {\n    matrix[i] = new Array(width).fill(0);\n  }\n  return matrix;\n}\n","import Image from '../image/Image';\nimport { BINARY } from '../image/core/kindNames';\n\nimport zerosMatrix from './zerosMatrix';\n\nconst cross = [\n  [0, 0, 1, 0, 0],\n  [0, 0, 1, 0, 0],\n  [1, 1, 1, 1, 1],\n  [0, 0, 1, 0, 0],\n  [0, 0, 1, 0, 0],\n];\n\nconst smallCross = [\n  [0, 1, 0],\n  [1, 1, 1],\n  [0, 1, 0],\n];\n\n/**\n * Class representing a shape\n * @class Shape\n * @param {object} [options]\n * @param {string} [options.kind='cross'] - Predefined matrix shape, 'cross' or 'smallCross'\n * @param {string} [options.shape] - Value may be 'square', 'rectangle', 'circle', 'ellipse' or 'triangle'\n *                                  The size of the shape will be determined by the size, width and height.\n *                                  A Shape is by default filled.\n * @param {number} [options.size]\n * @param {number} [options.width=options.size] - width of the shape. Must be odd.\n * @param {number} [options.height=options.size] - width of the shape. Must be odd.\n * @param {boolean} [options.filled=true] - If false only the border ot the shape is taken into account.\n */\nexport default class Shape {\n  constructor(options = {}) {\n    let { kind = 'cross', shape, size, width, height, filled = true } = options;\n    if (size) {\n      width = size;\n      height = size;\n    }\n\n    if (shape) {\n      switch (shape.toLowerCase()) {\n        case 'square':\n        case 'rectangle':\n          this.matrix = rectangle(width, height, { filled });\n          break;\n        case 'circle':\n        case 'ellipse':\n          this.matrix = ellipse(width, height, { filled });\n          break;\n        case 'triangle':\n          this.matrix = triangle(width, height, { filled });\n          break;\n        default:\n          throw new Error(`Shape: unexpected shape: ${shape}`);\n      }\n    } else if (kind) {\n      switch (kind.toLowerCase()) {\n        case 'cross':\n          this.matrix = cross;\n          break;\n        case 'smallcross':\n          this.matrix = smallCross;\n          break;\n        default:\n          throw new Error(`Shape: unexpected kind: ${kind}`);\n      }\n    } else {\n      throw new Error('Shape: expected a kind or a shape option');\n    }\n    this.height = this.matrix.length;\n    this.width = this.matrix[0].length;\n    this.halfHeight = (this.height / 2) >> 0;\n    this.halfWidth = (this.width / 2) >> 0;\n  }\n\n  /**\n   * Returns an array of [x,y] points\n   * @return {Array<Array<number>>} - Array of [x,y] points\n   */\n  getPoints() {\n    let matrix = this.matrix;\n    let points = [];\n    for (let y = 0; y < matrix.length; y++) {\n      for (let x = 0; x < matrix[0].length; x++) {\n        if (matrix[y][x]) {\n          points.push([x - this.halfWidth, y - this.halfHeight]);\n        }\n      }\n    }\n    return points;\n  }\n\n  /**\n   * Returns a Mask (1 bit Image) corresponding to this shape.\n   * @return {Image}\n   */\n  getMask() {\n    let img = new Image(this.width, this.height, {\n      kind: BINARY,\n    });\n    for (let y = 0; y < this.matrix.length; y++) {\n      for (let x = 0; x < this.matrix[0].length; x++) {\n        if (this.matrix[y][x]) {\n          img.setBitXY(x, y);\n        }\n      }\n    }\n    return img;\n  }\n}\n\nfunction rectangle(width, height, options) {\n  const matrix = zerosMatrix(height, width);\n  if (options.filled) {\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        matrix[y][x] = 1;\n      }\n    }\n  } else {\n    for (let y of [0, height - 1]) {\n      for (let x = 0; x < width; x++) {\n        matrix[y][x] = 1;\n      }\n    }\n    for (let y = 0; y < height; y++) {\n      for (let x of [0, width - 1]) {\n        matrix[y][x] = 1;\n      }\n    }\n  }\n\n  return matrix;\n}\n\nfunction ellipse(width, height, options) {\n  const matrix = zerosMatrix(height, width, options);\n  let yEven = 1 - (height % 2);\n  let xEven = 1 - (width % 2);\n  let a = Math.floor((width - 1) / 2); // horizontal ellipse axe\n  let b = Math.floor((height - 1) / 2); // vertical ellipse axe\n  let a2 = a * a;\n  let b2 = b * b;\n  if (options.filled) {\n    for (let y = 0; y <= b; y++) {\n      let shift = Math.floor(Math.sqrt(a2 - (a2 * y * y) / b2));\n      for (let x = a - shift; x <= a; x++) {\n        matrix[b - y][x] = 1;\n        matrix[b + y + yEven][x] = 1;\n        matrix[b - y][width - x - 1] = 1;\n        matrix[b + y + yEven][width - x - 1] = 1;\n      }\n    }\n  } else {\n    for (let y = 0; y <= b; y++) {\n      let shift = Math.floor(Math.sqrt(a2 - (a2 * y * y) / b2));\n      let x = a - shift;\n      matrix[b - y][x] = 1;\n      matrix[b + y + yEven][x] = 1;\n      matrix[b - y][width - x - 1] = 1;\n      matrix[b + y + yEven][width - x - 1] = 1;\n    }\n\n    for (let x = 0; x <= a; x++) {\n      let shift = Math.floor(Math.sqrt(b2 - (b2 * x * x) / a2));\n      let y = b - shift;\n      matrix[y][a - x] = 1;\n      matrix[y][a + x + xEven] = 1;\n      matrix[height - y - 1][a - x] = 1;\n      matrix[height - y - 1][a + x + xEven] = 1;\n    }\n  }\n  return matrix;\n}\n\nfunction triangle(width, height, options) {\n  if (!options.filled) {\n    throw new Error('Non filled triangle is not implemented');\n  }\n  const matrix = zerosMatrix(height, width, options);\n  for (let y = 0; y < height; y++) {\n    let shift = Math.floor(((1 - y / height) * width) / 2);\n    for (let x = shift; x < width - shift; x++) {\n      matrix[y][x] = 1;\n    }\n  }\n  return matrix;\n}\n","import Shape from '../../util/Shape';\nimport { getColors } from '../../util/color';\n\n/**\n * Paint pixels on the current image.\n * @memberof Image\n * @instance\n * @param {Array<Array<number>>} points - Array of [x,y] points\n * @param {object} [options]\n * @param {Array<number>|string}     [options.color] - Array of 3 elements (R, G, B) or a valid css color.\n * @param {Array<Array<number>>|Array<string>} [options.colors] - Array of Array of 3 elements (R, G, B) for each color of each mask\n * @param {boolean}             [options.randomColors=true] - To paint each mask with a random color if color and colors are undefined\n * @param {boolean}             [options.distinctColors=false] - To paint each mask with a different color if color and colors are undefined\n * @param {object} [options.shape] - Definition of the shape, see Shape contructor.\n * @return {this} The original painted image\n */\nexport default function paintPoints(points, options = {}) {\n  let { shape } = options;\n\n  this.checkProcessable('paintPoints', {\n    bitDepth: [8, 16],\n  });\n\n  let colors = getColors(\n    Object.assign({}, options, { numberColors: points.length }),\n  );\n\n  let shapePixels = new Shape(shape).getPoints();\n\n  let numberChannels = Math.min(this.channels, colors[0].length);\n\n  for (let i = 0; i < points.length; i++) {\n    let color = colors[i % colors.length];\n    let xP = points[i][0];\n    let yP = points[i][1];\n    for (let j = 0; j < shapePixels.length; j++) {\n      let xS = shapePixels[j][0];\n      let yS = shapePixels[j][1];\n      if (\n        xP + xS >= 0 &&\n        yP + yS >= 0 &&\n        xP + xS < this.width &&\n        yP + yS < this.height\n      ) {\n        let position = (xP + xS + (yP + yS) * this.width) * this.channels;\n        for (let channel = 0; channel < numberChannels; channel++) {\n          this.data[position + channel] = color[channel];\n        }\n      }\n    }\n  }\n\n  return this;\n}\n","/**\n * Paint a polyline defined by an array of points.\n * @memberof Image\n * @instance\n * @param {Array<Array<number>>} points - Array of [x,y] points\n * @param {object} [options]\n * @param {Array<number>} [options.color=[max,0,0]] - Array of 3 elements (R, G, B), default is red.\n * @param {boolean} [options.closed=false] - Close the polyline.\n * @return {this} The original painted image\n */\nexport default function paintPolyline(points, options = {}) {\n  let { color = [this.maxValue, 0, 0], closed = false } = options;\n\n  this.checkProcessable('paintPoints', {\n    bitDepth: [1, 8, 16],\n  });\n\n  let numberChannels = Math.min(this.channels, color.length);\n\n  for (let i = 0; i < points.length - 1 + closed; i++) {\n    let from = points[i];\n    let to = points[(i + 1) % points.length];\n\n    let dx = to[0] - from[0];\n    let dy = to[1] - from[1];\n    let steps = Math.max(Math.abs(dx), Math.abs(dy));\n\n    let xIncrement = dx / steps;\n    let yIncrement = dy / steps;\n\n    let x = from[0];\n    let y = from[1];\n\n    for (let j = 0; j <= steps; j++) {\n      let xPoint = Math.round(x);\n      let yPoint = Math.round(y);\n      if (\n        xPoint >= 0 &&\n        yPoint >= 0 &&\n        xPoint < this.width &&\n        yPoint < this.height\n      ) {\n        if (this.bitDepth === 1) {\n          this.setBitXY(xPoint, yPoint);\n        } else {\n          let position = (xPoint + yPoint * this.width) * this.channels;\n          for (let channel = 0; channel < numberChannels; channel++) {\n            this.data[position + channel] = color[channel];\n          }\n        }\n      }\n\n      x = x + xIncrement;\n      y = y + yIncrement;\n    }\n  }\n\n  return this;\n}\n","import { getColors } from '../../util/color';\n\n/**\n * Paint polylines on the current image.\n * @memberof Image\n * @instance\n * @param {Array<Array<Array<number>>>} polylines - Array of array of [x,y] points\n * @param {object} [options]\n * @param {Array<number>|string}     [options.color] - Array of 3 elements (R, G, B) or a valid css color.\n * @param {Array<Array<number>>|Array<string>} [options.colors] - Array of Array of 3 elements (R, G, B) for each color of each mask\n * @param {boolean}             [options.randomColors=true] - To paint each mask with a random color if color and colors are undefined\n * @param {boolean}             [options.distinctColors=false] - To paint each mask with a different color if color and colors are undefined\n * @param {object} [options.shape] - Definition of the shape, see Shape contructor.\n * @return {this} The original painted image\n */\nexport default function paintPolylines(polylines, options = {}) {\n  let optionsCopy = Object.assign({}, options);\n\n  this.checkProcessable('paintPolylines', {\n    bitDepth: [8, 16],\n  });\n\n  let colors = getColors(\n    Object.assign({}, options, { numberColors: polylines.length }),\n  );\n\n  for (let i = 0; i < polylines.length; i++) {\n    optionsCopy.color = colors[i % colors.length];\n    this.paintPolyline(polylines[i], optionsCopy);\n  }\n\n  return this;\n}\n","/**\n * Paint a polygon defined by an array of points.\n * @memberof Image\n * @instance\n * @param {Array<Array<number>>} points - Array of [x,y] points\n * @param {object} [options]\n * @param {Array<number>} [options.color=[max,0,0]] - Array of 3 elements (R, G, B), default is red.\n * @param {boolean} [options.filled=false] - If you want the polygon to be filled or not.\n * @return {this} The original painted image\n */\nexport default function paintPolygon(points, options = {}) {\n  let { color = [this.maxValue, 0, 0], filled = false } = options;\n\n  this.checkProcessable('paintPoints', {\n    bitDepth: [1, 8, 16],\n  });\n\n  options.closed = true;\n\n  let filteredPoints = deleteDouble(points);\n  if (filled === false) {\n    return this.paintPolyline(points, options);\n  } else {\n    let matrixBinary = Array(this.height);\n    for (let i = 0; i < this.height; i++) {\n      matrixBinary[i] = [];\n      for (let j = 0; j < this.width; j++) {\n        matrixBinary[i].push(0);\n      }\n    }\n    for (let p = 0; p < filteredPoints.length; p++) {\n      const line = lineBetweenTwoPoints(\n        filteredPoints[p],\n        filteredPoints[(p + 1) % filteredPoints.length],\n      );\n      for (let y = 0; y < this.height; y++) {\n        for (let x = 0; x < this.width; x++) {\n          if (isAtTheRightOfTheLine(x, y, line, this.height)) {\n            matrixBinary[y][x] = matrixBinary[y][x] === 0 ? 1 : 0;\n          }\n        }\n      }\n    }\n    for (let y = 0; y < this.height; y++) {\n      for (let x = 0; x < this.width; x++) {\n        if (matrixBinary[y][x] === 1) {\n          if (this.bitDepth === 1) {\n            this.setBitXY(x, y);\n          } else {\n            let numberChannels = Math.min(this.channels, color.length);\n            let position = (x + y * this.width) * this.channels;\n            for (let channel = 0; channel < numberChannels; channel++) {\n              this.data[position + channel] = color[channel];\n            }\n          }\n        }\n      }\n    }\n    return this.paintPolyline(points, options);\n  }\n}\n\nfunction deleteDouble(points) {\n  let finalPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (\n      points[i][0] === points[(i + 1) % points.length][0] &&\n      points[i][1] === points[(i + 1) % points.length][1]\n    ) {\n      continue;\n    } else if (\n      points[i][0] === points[(i - 1 + points.length) % points.length][0] &&\n      points[i][1] === points[(i - 1 + points.length) % points.length][1]\n    ) {\n      continue;\n    } else if (\n      points[(i + 1) % points.length][0] ===\n        points[(i - 1 + points.length) % points.length][0] &&\n      points[(i - 1 + points.length) % points.length][1] ===\n        points[(i + 1) % points.length][1]\n    ) {\n      continue; // we don't consider this point only\n    } else {\n      finalPoints.push(points[i]);\n    }\n  }\n  return finalPoints;\n}\n\nfunction lineBetweenTwoPoints(p1, p2) {\n  if (p1[0] === p2[0]) {\n    return { a: 0, b: p1[0], vertical: true }; // we store the x of the vertical line into b\n  } else {\n    const coeffA = (p2[1] - p1[1]) / (p2[0] - p1[0]);\n    const coeffB = p1[1] - coeffA * p1[0];\n    return { a: coeffA, b: coeffB, vertical: false };\n  }\n}\n\nfunction isAtTheRightOfTheLine(x, y, line, height) {\n  if (line.vertical === true) {\n    return line.b <= x;\n  } else {\n    if (line.a === 0) {\n      return false;\n    } else {\n      const xline = (y - line.b) / line.a;\n      return xline < x && xline >= 0 && xline <= height;\n    }\n  }\n}\n","import { getColors } from '../../util/color';\n\n/**\n * Paint an array of polygons on the current image.\n * @memberof Image\n * @instance\n * @param {Array<Array<Array<number>>>} polygons - Array of array of [x,y] points\n * @param {object} [options]\n * @param {Array<number>|string}     [options.color] - Array of 3 elements (R, G, B) or a valid css color.\n * @param {Array<Array<number>>|Array<string>} [options.colors] - Array of Array of 3 elements (R, G, B) for each color of each mask\n * @param {boolean}             [options.randomColors=true] - To paint each mask with a random color if color and colors are undefined\n * @param {boolean}             [options.distinctColors=false] - To paint each mask with a different color if color and colors are undefined\n * @param {object} [options.shape] - Definition of the shape, see Shape contructor.\n * @return {this} The original painted image\n */\nexport default function paintPolygons(polygons, options = {}) {\n  let optionsCopy = Object.assign({}, options);\n\n  this.checkProcessable('paintPolygons', {\n    bitDepth: [8, 16],\n  });\n\n  let colors = getColors(\n    Object.assign({}, options, { numberColors: polygons.length }),\n  );\n\n  for (let i = 0; i < polygons.length; i++) {\n    optionsCopy.color = colors[i % colors.length];\n    this.paintPolygon(polygons[i], optionsCopy);\n  }\n\n  return this;\n}\n","import isInteger from 'is-integer';\nimport newArray from 'new-array';\n\n/**\n * Returns a histogram for the specified channel\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.maxSlots=256]\n * @param {number} [options.channel]\n * @param {boolean} [options.useAlpha=true]\n * @return {number[]}\n */\nexport function getHistogram(options = {}) {\n  let { maxSlots = 256, channel, useAlpha = true } = options;\n  this.checkProcessable('getHistogram', {\n    bitDepth: [1, 8, 16],\n  });\n  if (channel === undefined) {\n    if (this.components > 1) {\n      throw new RangeError(\n        'You need to define the channel for an image that contains more than one channel',\n      );\n    }\n    channel = 0;\n  }\n  return getChannelHistogram.call(this, channel, { useAlpha, maxSlots });\n}\n\n/**\n * Returns an array (number of channels) of array (number of slots) containing\n * the number of data of a specific intensity.\n * Intensity may be grouped by the maxSlots parameter.\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.maxSlots] - Number of slots in the resulting\n *      array. The intensity will be evently distributed between 0 and\n *      the maxValue allowed for this image (255 for usual images).\n *      If maxSlots = 8, all the intensities between 0 and 31 will be\n *      placed in the slot 0, 32 to 63 in slot 1, ...\n * @return {Array<Array<number>>}\n * @example\n *      image.getHistograms({\n *          maxSlots: 8,\n *          useAlpha: false\n *      });\n */\nexport function getHistograms(options = {}) {\n  const { maxSlots = 256, useAlpha = true } = options;\n  this.checkProcessable('getHistograms', {\n    bitDepth: [8, 16],\n  });\n  let results = new Array(useAlpha ? this.components : this.channels);\n  for (let i = 0; i < results.length; i++) {\n    results[i] = getChannelHistogram.call(this, i, { useAlpha, maxSlots });\n  }\n  return results;\n}\n\nfunction getChannelHistogram(channel, options) {\n  let { useAlpha, maxSlots } = options;\n\n  // for a mask, return a number array containing count of black and white points (black = array[0], white = array[1])\n\n  if (this.bitDepth === 1) {\n    let blackWhiteCount = [0, 0];\n    for (let i = 0; i < this.height; i++) {\n      for (let j = 0; j < this.width; j++) {\n        let value = this.getBitXY(i, j);\n        if (value === 0) {\n          blackWhiteCount[0] += 1;\n        } else if (value === 1) {\n          blackWhiteCount[1] += 1;\n        }\n      }\n    }\n    return blackWhiteCount;\n  }\n\n  let bitSlots = Math.log2(maxSlots);\n  if (!isInteger(bitSlots)) {\n    throw new RangeError(\n      'maxSlots must be a power of 2, for example: 64, 256, 1024',\n    );\n  }\n  // we will compare the bitSlots to the bitDepth of the image\n  // based on this we will shift the values. This allows to generate a histogram\n  // of 16 grey even if the images has 256 shade of grey\n\n  let bitShift = 0;\n  if (this.bitDepth > bitSlots) {\n    bitShift = this.bitDepth - bitSlots;\n  }\n\n  let data = this.data;\n  let result = newArray(Math.pow(2, Math.min(this.bitDepth, bitSlots)), 0);\n  if (useAlpha && this.alpha) {\n    let alphaChannelDiff = this.channels - channel - 1;\n\n    for (let i = channel; i < data.length; i += this.channels) {\n      result[data[i] >> bitShift] += data[i + alphaChannelDiff] / this.maxValue;\n    }\n  } else {\n    for (let i = channel; i < data.length; i += this.channels) {\n      result[data[i] >> bitShift]++;\n    }\n  }\n\n  return result;\n}\n","import newArray from 'new-array';\n\n/**\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {boolean} [options.useAlpha=true]\n * @param {number} [options.nbSlots=512]\n * @return {number[]}\n */\nexport default function getColorHistogram(options = {}) {\n  let { useAlpha = true, nbSlots = 512 } = options;\n\n  this.checkProcessable('getColorHistogram', {\n    bitDepth: [8, 16],\n    components: [3],\n  });\n\n  let nbSlotsCheck = Math.log(nbSlots) / Math.log(8);\n  if (nbSlotsCheck !== Math.floor(nbSlotsCheck)) {\n    throw new RangeError(\n      'nbSlots must be a power of 8. Usually 8, 64, 512 or 4096',\n    );\n  }\n\n  let bitShift = this.bitDepth - nbSlotsCheck;\n\n  let data = this.data;\n  let result = newArray(Math.pow(8, nbSlotsCheck), 0);\n  let factor2 = Math.pow(2, nbSlotsCheck * 2);\n  let factor1 = Math.pow(2, nbSlotsCheck);\n\n  for (let i = 0; i < data.length; i += this.channels) {\n    let slot =\n      (data[i] >> bitShift) * factor2 +\n      (data[i + 1] >> bitShift) * factor1 +\n      (data[i + 2] >> bitShift);\n    if (useAlpha && this.alpha) {\n      result[slot] += data[i + this.channels - 1] / this.maxValue;\n    } else {\n      result[slot]++;\n    }\n  }\n\n  return result;\n}\n","import newArray from 'new-array';\n\n/**\n * Returns an array with the minimal value of each channel\n * @memberof Image\n * @instance\n * @return {number[]} Array having has size the number of channels\n */\nexport default function min() {\n  this.checkProcessable('min', {\n    bitDepth: [8, 16, 32],\n  });\n\n  let result = newArray(this.channels, +Infinity);\n\n  for (let i = 0; i < this.data.length; i += this.channels) {\n    for (let c = 0; c < this.channels; c++) {\n      if (this.data[i + c] < result[c]) {\n        result[c] = this.data[i + c];\n      }\n    }\n  }\n  return result;\n}\n","import newArray from 'new-array';\n\n/**\n * Returns an array with the maximal value of each channel\n * @memberof Image\n * @instance\n * @return {number[]} Array having has size the number of channels\n */\nexport default function max() {\n  this.checkProcessable('max', {\n    bitDepth: [8, 16, 32],\n  });\n\n  let result = newArray(this.channels, -Infinity);\n\n  for (let i = 0; i < this.data.length; i += this.channels) {\n    for (let c = 0; c < this.channels; c++) {\n      if (this.data[i + c] > result[c]) {\n        result[c] = this.data[i + c];\n      }\n    }\n  }\n  return result;\n}\n","import newArray from 'new-array';\n\n/**\n * Returns an array with the sum of the values of each channel\n * @memberof Image\n * @instance\n * @return {number[]} Array having has size the number of channels\n */\nexport default function sum() {\n  this.checkProcessable('sum', {\n    bitDepth: [8, 16],\n  });\n\n  let result = newArray(this.channels, 0);\n\n  for (let i = 0; i < this.data.length; i += this.channels) {\n    for (let c = 0; c < this.channels; c++) {\n      result[c] += this.data[i + c];\n    }\n  }\n  return result;\n}\n","/**\n * Returns the moment of an image (https://en.wikipedia.org/wiki/Image_moment)\n * @memberof Image\n * @instance\n * @param {number} [xPower=0]\n * @param {number} [yPower=0]\n * @return {number}\n */\nexport default function getMoment(xPower = 0, yPower = 0) {\n  this.checkProcessable('getMoment', {\n    bitDepth: [1],\n  });\n\n  let m = 0;\n\n  for (let x = 0; x < this.width; x++) {\n    for (let y = 0; y < this.height; y++) {\n      if (this.getBitXY(x, y) === 1) {\n        m += x ** xPower * y ** yPower;\n      }\n    }\n  }\n  return m;\n}\n","/**\n * Returns an array of object with position.\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Image} [options.mask] - Region of the image that is analyzed. The rest is omitted.\n * @param {number} [options.region=3] -  1, 2 or 3. Define the region around each points that is analyzed. 1 corresponds to 4 cross points, 2 to\n *        the 8 points around and 3 to the 12 points around the central pixel.\n * @param {number} [options.removeClosePoints=0] - Remove pts which have a distance between them smaller than this param.\n * @param {boolean} [options.invert=false] - Search for minima instead of maxima\n * @param {number} [options.maxEquals=2] - Maximal number of values that may be equal to the maximum\n * @return {number[]} Array whose size is the number of channels\n */\nexport default function localMaxima(options = {}) {\n  let {\n    mask,\n    region = 3,\n    removeClosePoints = 0,\n    invert = false,\n    maxEquals = 2,\n  } = options;\n  let image = this;\n  this.checkProcessable('localMaxima', {\n    bitDepth: [8, 16],\n    components: 1,\n  });\n  region *= 4;\n\n  let maskExpectedValue = invert ? 0 : 1;\n\n  let dx = [+1, 0, -1, 0, +1, +1, -1, -1, +2, 0, -2, 0, +2, +2, -2, -2];\n  let dy = [0, +1, 0, -1, +1, -1, +1, -1, 0, +2, 0, -2, +2, -2, +2, -2];\n  let shift = region <= 8 ? 1 : 2;\n  let points = [];\n  for (let currentY = shift; currentY < image.height - shift; currentY++) {\n    for (let currentX = shift; currentX < image.width - shift; currentX++) {\n      if (mask && mask.getBitXY(currentX, currentY) !== maskExpectedValue) {\n        continue;\n      }\n      let counter = 0;\n      let nbEquals = 0;\n      let currentValue = image.data[currentX + currentY * image.width];\n      for (let dir = 0; dir < region; dir++) {\n        if (invert) {\n          // we search for minima\n          if (\n            image.data[\n              currentX + dx[dir] + (currentY + dy[dir]) * image.width\n            ] > currentValue\n          ) {\n            counter++;\n          }\n        } else {\n          if (\n            image.data[\n              currentX + dx[dir] + (currentY + dy[dir]) * image.width\n            ] < currentValue\n          ) {\n            counter++;\n          }\n        }\n        if (\n          image.data[\n            currentX + dx[dir] + (currentY + dy[dir]) * image.width\n          ] === currentValue\n        ) {\n          nbEquals++;\n        }\n      }\n      if (counter + nbEquals === region && nbEquals <= maxEquals) {\n        points.push([currentX, currentY]);\n      }\n    }\n  }\n  // TODO How to make a more performant and general way\n  // we don't deal correctly here with groups of points that should be grouped if at the\n  // beginning one of them is closer to another\n  // Seems that we would ened to calculate a matrix and then split this matrix in 'independant matrices'\n  // Or to assign a cluster to each point and regroup them if 2 clusters are close to each other\n  // later approach seems much better\n  if (removeClosePoints > 0) {\n    for (let i = 0; i < points.length; i++) {\n      for (let j = i + 1; j < points.length; j++) {\n        if (\n          Math.sqrt(\n            Math.pow(points[i][0] - points[j][0], 2) +\n              Math.pow(points[i][1] - points[j][1], 2),\n          ) < removeClosePoints\n        ) {\n          points[i][0] = (points[i][0] + points[j][0]) >> 1;\n          points[i][1] = (points[i][1] + points[j][1]) >> 1;\n          points.splice(j, 1);\n          j--;\n        }\n      }\n    }\n  }\n  return points;\n}\n","import { mean as histogramMean } from '../../util/histogram';\n\n/**\n * Returns an array with the average value of each channel\n * @memberof Image\n * @instance\n * @return {number[]} Array having has size the number of channels\n */\nexport default function mean() {\n  let histograms = this.getHistograms({ maxSlots: this.maxValue + 1 });\n  let result = new Array(histograms.length);\n  for (let c = 0; c < histograms.length; c++) {\n    let histogram = histograms[c];\n    result[c] = histogramMean(histogram);\n  }\n  return result;\n}\n","import { median as histogramMedian } from '../../util/histogram';\n\n/**\n * Returns an array with the median value of each channel\n * @memberof Image\n * @instance\n * @return {number[]} Array having has size the number of channels\n */\nexport default function median() {\n  let histograms = this.getHistograms({ maxSlots: this.maxValue + 1 });\n  let result = new Array(histograms.length);\n  for (let c = 0; c < histograms.length; c++) {\n    let histogram = histograms[c];\n    result[c] = histogramMedian(histogram);\n  }\n  return result;\n}\n","/**\n * Allows to generate an array of points for a binary image (bit depth = 1)\n * @memberof Image\n * @instance\n * @return {Array<Array<number>>} - an array of [x,y] corresponding to the set pixels in the binary image\n */\nexport default function points() {\n  this.checkProcessable('points', {\n    bitDepth: [1],\n  });\n\n  const pixels = [];\n  for (let x = 0; x < this.width; x++) {\n    for (let y = 0; y < this.height; y++) {\n      if (this.getBitXY(x, y) === 1) {\n        pixels.push([x, y]);\n      }\n    }\n  }\n  return pixels;\n}\n","/**\n * Allows to generate an array of points for a binary image (bit depth = 1)\n * The points consider the beginning and the end of each pixel\n * This method is only used to calculate minimalBoundRectangle\n * @memberof Image\n * @instance\n * @return {Array<Array<number>>} - an array of [x,y] corresponding to the set pixels in the binary image\n */\nexport default function extendedPoints() {\n  this.checkProcessable('extendedPoints', {\n    bitDepth: [1],\n  });\n\n  const pixels = [];\n  for (let y = 0; y < this.height; y++) {\n    for (let x = 0; x < this.width; x++) {\n      if (this.getBitXY(x, y) === 1) {\n        pixels.push([x, y]);\n\n        if (this.getBitXY(x + 1, y) !== 1) {\n          pixels.push([x + 1, y]);\n          pixels.push([x + 1, y + 1]);\n          if (this.getBitXY(x, y + 1) !== 1) {\n            pixels.push([x, y + 1]);\n          }\n        } else {\n          if (this.getBitXY(x, y + 1) !== 1) {\n            pixels.push([x, y + 1]);\n            pixels.push([x + 1, y + 1]);\n          }\n        }\n\n        // this small optimization allows to reduce dramatically the number of points for MBR calculation\n        while (\n          x < this.width - 2 &&\n          this.getBitXY(x + 1, y) === 1 &&\n          this.getBitXY(x + 2, y) === 1\n        ) {\n          x++;\n        }\n      }\n    }\n  }\n  return pixels;\n}\n","/**\n * An image may be derived from another image either by a crop\n * or because it is a ROI (region of interest)\n * Also a region of interest can be reprocessed to generated another\n * set of region of interests.\n * It is therefore important to keep the hierarchy of images to know\n * which image is derived from which one and be able to get the\n * relative position of one image in another\n * This methods takes care of this.\n * @memberof Image\n * @instance\n * @param {Image} targetImage\n * @param {object} [options={}]\n * @param {boolean} [options.defaultFurther=false] If set to true and no parent found returns the relative position\n *      to the further parent\n * @return {number[]|boolean}\n */\nexport default function getRelativePosition(targetImage, options = {}) {\n  if (this === targetImage) {\n    return [0, 0];\n  }\n  let position = [0, 0];\n\n  let currentImage = this;\n  while (currentImage) {\n    if (currentImage === targetImage) {\n      return position;\n    }\n    if (currentImage.position) {\n      position[0] += currentImage.position[0];\n      position[1] += currentImage.position[1];\n    }\n    currentImage = currentImage.parent;\n  }\n  // we should never reach this place, this means we could not find the parent\n  // throw Error('Parent image was not found, can not get relative position.')\n  if (options.defaultFurther) return position;\n\n  return false;\n}\n","/**\n * Returns the number of transparent pixels\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {number} [options.alpha=1] - Value of the alpha value to count.\n * @return {number} Number of transparent pixels\n */\nexport default function countAlphaPixels(options = {}) {\n  let { alpha = 1 } = options;\n  this.checkProcessable('countAlphaPixels', {\n    bitDepth: [8, 16],\n    alpha: 1,\n  });\n\n  let count = 0;\n\n  if (alpha !== undefined) {\n    for (let i = this.components; i < this.data.length; i += this.channels) {\n      if (this.data[i] === alpha) {\n        count++;\n      }\n    }\n    return count;\n  } else {\n    // because there is an alpha channel all the pixels have an alpha\n    return this.size;\n  }\n}\n","interface MCCHOptions {\n  sorted?: boolean;\n}\ntype Point = [number, number];\n/**\n * Computes the convex hull of a binary image using Andrew's Monotone Chain Algorithm\n * http://www.algorithmist.com/index.php/Monotone_Chain_Convex_Hull\n *\n * @param points - An array of points.\n * @param options - MCCH Algorithm options.\n * @return Coordinates of the convex hull in clockwise order\n */\nexport default function monotoneChainConvexHull(\n  points: Point[],\n  options: MCCHOptions = {},\n): Point[] {\n  const { sorted } = options;\n  if (!sorted) {\n    points = points.slice().sort(byXThenY);\n  }\n\n  const n = points.length;\n  const result = new Array(n * 2);\n  let k = 0;\n\n  for (let i = 0; i < n; i++) {\n    const point = points[i];\n    while (k >= 2 && cw(result[k - 2], result[k - 1], point) <= 0) {\n      k--;\n    }\n    result[k++] = point;\n  }\n\n  const t = k + 1;\n  for (let i = n - 2; i >= 0; i--) {\n    const point = points[i];\n    while (k >= t && cw(result[k - 2], result[k - 1], point) <= 0) {\n      k--;\n    }\n    result[k++] = point;\n  }\n\n  return result.slice(0, k - 1);\n}\n\nfunction cw(p1: Point, p2: Point, p3: Point) {\n  return (p2[1] - p1[1]) * (p3[0] - p1[0]) - (p2[0] - p1[0]) * (p3[1] - p1[1]);\n}\n\nfunction byXThenY(point1: Point, point2: Point) {\n  if (point1[0] === point2[0]) {\n    return point1[1] - point2[1];\n  }\n  return point1[0] - point2[0];\n}\n","import mcch from 'monotone-chain-convex-hull';\n\n/**\n * Returns the convex hull of a binary image\n * @memberof Image\n * @instance\n * @return {Array<Array<number>>}\n */\nexport default function monotoneChainConvexHull() {\n  return mcch(this.extendedPoints, { sorted: false });\n}\n","/**\n * Rounds all the x and y values of an array of points\n * @param {Array<Array<number>>} points\n * @return {Array<Array<number>>} modified input value\n * @private\n */\nexport function round(points) {\n  for (let i = 0; i < points.length; i++) {\n    points[i][0] = Math.round(points[i][0]);\n    points[i][1] = Math.round(points[i][1]);\n  }\n  return points;\n}\n\n/**\n * Calculates a new point that is the difference p1 - p2\n * @param {Array<number>} p1\n * @param {Array<number>} p2\n * @return {Array<number>}\n * @private\n */\nexport function difference(p1, p2) {\n  return [p1[0] - p2[0], p1[1] - p2[1]];\n}\n\n/**\n * Normalize a point\n * @param {Array<number>} p\n * @return {Array<number>}\n * @private\n */\nexport function normalize(p) {\n  let length = Math.sqrt(p[0] ** 2 + p[1] ** 2);\n  return [p[0] / length, p[1] / length];\n}\n\n/**\n * We rotate an array of points\n * @param {number} radians\n * @param {Array<Array<number>>} srcPoints\n * @param {Array<Array<number>>} destPoints\n * @return {Array<Array<number>>}\n * @private\n */\nexport function rotate(radians, srcPoints, destPoints) {\n  if (destPoints === undefined) destPoints = new Array(srcPoints.length);\n  let cos = Math.cos(radians);\n  let sin = Math.sin(radians);\n  for (let i = 0; i < destPoints.length; ++i) {\n    destPoints[i] = [\n      cos * srcPoints[i][0] - sin * srcPoints[i][1],\n      sin * srcPoints[i][0] + cos * srcPoints[i][1],\n    ];\n  }\n  return destPoints;\n}\n\n/**\n * Dot products of 2 points assuming vectors starting from (0,0)\n * @param {Array<number>} p1\n * @param {Array<number>} p2\n * @return {number}\n * @private\n */\nexport function dot(p1, p2) {\n  return p1[0] * p2[0] + p1[1] * p2[1];\n}\n\n/**\n * Returns the angle between 3 points. The first one is a common point\n * @param {Array<number>} origin\n * @param {Array<number>} p1\n * @param {Array<number>} p2\n * @return {number}\n * @private\n */\nexport function angle(origin, p1, p2) {\n  let v1 = normalize(difference(p1, origin));\n  let v2 = normalize(difference(p2, origin));\n  let dotProduct = dot(v1, v2);\n  // TODO this code is not correct because it may yield the opposite angle\n  return Math.acos(dotProduct);\n}\n\n/**\n * Returns the 4 points of an horizontal rectangle that includes all the points\n * @param {Array<Array<number>>} points\n * @return {Array<Array<number>>}\n * @private\n */\nexport function boundary(points) {\n  let minMaxValues = minMax(points);\n  let xMin = minMaxValues[0][0];\n  let yMin = minMaxValues[0][1];\n  let xMax = minMaxValues[1][0];\n  let yMax = minMaxValues[1][1];\n  return [\n    [xMin, yMin],\n    [xMax, yMin],\n    [xMax, yMax],\n    [xMin, yMax],\n  ];\n}\n\n/**\n * Returns the perimeter represented by the points (a polygon)\n * @param {Array<Array<number>>} points\n */\nexport function perimeter(vertices) {\n  let total = 0;\n  for (let i = 0; i < vertices.length; i++) {\n    let fromX = vertices[i][0];\n    let fromY = vertices[i][1];\n    let toX = vertices[i === vertices.length - 1 ? 0 : i + 1][0];\n    let toY = vertices[i === vertices.length - 1 ? 0 : i + 1][1];\n    total += Math.sqrt((toX - fromX) ** 2 + (toY - fromY) ** 2);\n  }\n  return total;\n}\n\n/**\n * Returns the surface represented by the points (a polygon)\n * @param {Array<Array<number>>} points\n */\nexport function surface(vertices) {\n  let total = 0;\n\n  for (let i = 0; i < vertices.length; i++) {\n    let addX = vertices[i][0];\n    let addY = vertices[i === vertices.length - 1 ? 0 : i + 1][1];\n    let subX = vertices[i === vertices.length - 1 ? 0 : i + 1][0];\n    let subY = vertices[i][1];\n\n    total += addX * addY * 0.5;\n    total -= subX * subY * 0.5;\n  }\n\n  return Math.abs(total);\n}\n\n/**\n * Returns 2 points with minimal and maximal XY\n * @param {Array<Array<number>>} points\n * @return {Array<Array<number>>}\n * @private\n */\nexport function minMax(points) {\n  let xMin = +Infinity;\n  let yMin = +Infinity;\n  let xMax = -Infinity;\n  let yMax = -Infinity;\n  for (let i = 0; i < points.length; i++) {\n    if (points[i][0] < xMin) xMin = points[i][0];\n    if (points[i][0] > xMax) xMax = points[i][0];\n    if (points[i][1] < yMin) yMin = points[i][1];\n    if (points[i][1] > yMax) yMax = points[i][1];\n  }\n  return [\n    [xMin, yMin],\n    [xMax, yMax],\n  ];\n}\n\n/**\n * Moves the minX, minY to 0,0\n * All the points will be positive after this move\n * @param {Array<Array<number>>} srcPoints\n * @param {Array<Array<number>>} destPoints\n * @return {Array<Array<number>>}\n * @private\n */\nexport function moveToZeroZero(srcPoints, destPoints) {\n  if (destPoints === undefined) {\n    destPoints = new Array(srcPoints.length).fill(0).map(() => []);\n  }\n  let minMaxValues = minMax(srcPoints);\n  let xMin = minMaxValues[0][0];\n  let yMin = minMaxValues[0][1];\n  for (let i = 0; i < srcPoints.length; i++) {\n    destPoints[i][0] = srcPoints[i][0] - xMin;\n    destPoints[i][1] = srcPoints[i][1] - yMin;\n  }\n  return destPoints;\n}\n","import { rotate, difference, normalize } from '../../util/points';\n\nimport convexHullFunction from './monotoneChainConvexHull';\n\n/**\n * Computes the minimum bounding box around a binary image\n * https://www.researchgate.net/profile/Lennert_Den_Boer2/publication/303783472_A_Fast_Algorithm_for_Generating_a_Minimal_Bounding_Rectangle/links/5751a14108ae6807fafb2aa5.pdf\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Array<Array<number>>} [options.originalPoints]\n * @return {Array<Array<number>>}\n */\nexport default function minimalBoundingRectangle(options = {}) {\n  const { originalPoints = convexHullFunction.call(this) } = options;\n  if (originalPoints.length === 0) {\n    return [];\n  }\n\n  if (originalPoints.length === 1) {\n    return [\n      originalPoints[0],\n      originalPoints[0],\n      originalPoints[0],\n      originalPoints[0],\n    ];\n  }\n\n  const p = new Array(originalPoints.length);\n\n  let minSurface = +Infinity;\n  let minSurfaceAngle = 0;\n  let mbr;\n\n  for (let i = 0; i < p.length; i++) {\n    let angle = getAngle(originalPoints[i], originalPoints[(i + 1) % p.length]);\n\n    rotate(-angle, originalPoints, p);\n\n    // we rotate and translate so that this axe is in the bottom\n    let aX = p[i][0];\n    let aY = p[i][1];\n    let bX = p[(i + 1) % p.length][0];\n    let bY = p[(i + 1) % p.length][1];\n\n    let tUndefined = true;\n    let tMin = 0;\n    let tMax = 0;\n    let maxWidth = 0;\n    for (let j = 0; j < p.length; j++) {\n      let cX = p[j][0];\n      let cY = p[j][1];\n      let t = (cX - aX) / (bX - aX);\n      if (tUndefined === true) {\n        tUndefined = false;\n        tMin = t;\n        tMax = t;\n      } else {\n        if (t < tMin) tMin = t;\n        if (t > tMax) tMax = t;\n      }\n      let width = (-(bX - aX) * cY + bX * aY - bY * aX) / (bX - aX);\n\n      if (Math.abs(width) > Math.abs(maxWidth)) maxWidth = width;\n    }\n    let pMin = [aX + tMin * (bX - aX), aY];\n    let pMax = [aX + tMax * (bX - aX), aY];\n\n    let currentSurface = Math.abs(maxWidth * (tMin - tMax) * (bX - aX));\n\n    if (currentSurface < minSurface) {\n      minSurfaceAngle = angle;\n      minSurface = currentSurface;\n      mbr = [\n        pMin,\n        pMax,\n        [pMax[0], pMax[1] - maxWidth],\n        [pMin[0], pMin[1] - maxWidth],\n      ];\n    }\n  }\n  rotate(minSurfaceAngle, mbr, mbr);\n  return mbr;\n}\n\n// the angle that allows to make the line going through p1 and p2 horizontal\n// this is an optimized version because it assume one vector is horizontal\nfunction getAngle(p1, p2) {\n  let diff = difference(p2, p1);\n  let vector = normalize(diff);\n  let angle = Math.acos(vector[0]);\n  if (vector[1] < 0) return -angle;\n  return angle;\n}\n","import { rotate, difference, normalize } from '../../util/points';\nimport convexHullFunction from '../compute/monotoneChainConvexHull';\n\n/**\n * Computes the Feret diameters\n * https://www.sympatec.com/en/particle-measurement/glossary/particle-shape/#\n * http://portal.s2nano.org:8282/files/TEM_protocol_NANoREG.pdf\n * @memberof Image\n * @instance\n * @param {object} [options]\n * @param {Array<Array<number>>} [options.originalPoints]\n * @return {object} Object with {min, max, minLine: {Array<Array<number>>}, maxLine: {Array<Array<number>>}}\n */\nexport default function feretDiameters(options = {}) {\n  const { originalPoints = convexHullFunction.call(this) } = options;\n  if (originalPoints.length === 0) {\n    return { min: 0, max: 0, minLine: [], maxLine: [], aspectRatio: 1 };\n  }\n\n  if (originalPoints.length === 1) {\n    return {\n      min: 1,\n      max: 1,\n      minLine: [originalPoints[0], originalPoints[0]],\n      maxLine: [originalPoints[0], originalPoints[0]],\n      aspectRatio: 1,\n    };\n  }\n\n  const temporaryPoints = new Array(originalPoints.length);\n\n  // CALCULATE MIN VALUE\n  let minWidth = +Infinity;\n  let minWidthAngle = 0;\n  let minLine = [];\n\n  for (let i = 0; i < originalPoints.length; i++) {\n    let angle = getAngle(\n      originalPoints[i],\n      originalPoints[(i + 1) % originalPoints.length],\n    );\n\n    // we rotate so that it is parallel to X axis\n    rotate(-angle, originalPoints, temporaryPoints);\n\n    let currentWidth = 0;\n    let currentMinLine = [];\n    for (let j = 0; j < originalPoints.length; j++) {\n      let absWidth = Math.abs(temporaryPoints[i][1] - temporaryPoints[j][1]);\n      if (absWidth > currentWidth) {\n        currentWidth = absWidth;\n        currentMinLine = [];\n        currentMinLine.push(\n          [temporaryPoints[j][0], temporaryPoints[i][1]],\n          [temporaryPoints[j][0], temporaryPoints[j][1]],\n        );\n      }\n    }\n    if (currentWidth < minWidth) {\n      minWidth = currentWidth;\n      minWidthAngle = angle;\n      minLine = currentMinLine;\n    }\n  }\n  rotate(minWidthAngle, minLine, minLine);\n\n  // CALCULATE MAX VALUE\n  let maxWidth = 0;\n  let maxLine = [];\n  let maxSquaredWidth = 0;\n  for (let i = 0; i < originalPoints.length - 1; i++) {\n    for (let j = i + 1; j < originalPoints.length; j++) {\n      let currentSquaredWidth =\n        (originalPoints[i][0] - originalPoints[j][0]) ** 2 +\n        (originalPoints[i][1] - originalPoints[j][1]) ** 2;\n      if (currentSquaredWidth > maxSquaredWidth) {\n        maxSquaredWidth = currentSquaredWidth;\n        maxWidth = Math.sqrt(currentSquaredWidth);\n        maxLine = [originalPoints[i], originalPoints[j]];\n      }\n    }\n  }\n\n  return {\n    min: minWidth,\n    minLine,\n    max: maxWidth,\n    maxLine,\n    aspectRatio: minWidth / maxWidth,\n  };\n}\n\n// the angle that allows to make the line going through p1 and p2 horizontal\n// this is an optimized version because it assume one vector is horizontal\nfunction getAngle(p1, p2) {\n  let diff = difference(p2, p1);\n  let vector = normalize(diff);\n  let angle = Math.acos(vector[0]);\n  if (vector[1] < 0) return -angle;\n  return angle;\n}\n","import mcch from 'monotone-chain-convex-hull';\nimport robustPointInPolygon from 'robust-point-in-polygon';\n\nimport Shape from '../../util/Shape';\nimport {\n  round,\n  minMax as minMaxFct,\n  moveToZeroZero,\n  perimeter,\n  surface,\n} from '../../util/points';\nimport Image from '../Image';\nimport minimalBoundingRectangle from '../compute/minimalBoundingRectangle';\nimport * as KindNames from '../core/kindNames';\n\nimport feretDiameters from './feretDiameters';\n\n// Many measurements:\n// https://www.sympatec.com/en/particle-measurement/glossary/particle-shape/#\n\n/**\n * Class to manage Region Of Interests\n * @class Roi\n */\nexport default class Roi {\n  constructor(map, id) {\n    this.map = map;\n    this.id = id;\n    this.minX = Number.POSITIVE_INFINITY;\n    this.maxX = Number.NEGATIVE_INFINITY;\n    this.minY = Number.POSITIVE_INFINITY;\n    this.maxY = Number.NEGATIVE_INFINITY;\n    this.meanX = 0;\n    this.meanY = 0;\n    this.surface = 0;\n    this.computed = {};\n  }\n\n  /**\n   * Returns a binary image (mask) for the corresponding ROI\n   * @param {object} [options]\n   * @param {number} [options.scale=1] - Scaling factor to apply to the mask\n   * @param {string} [options.kind='normal'] - 'contour', 'box', 'filled', 'center', 'hull' or 'normal'\n   * @return {Image} - Returns a mask (1 bit Image)\n   */\n  getMask(options = {}) {\n    const { scale = 1, kind = '' } = options;\n    let mask;\n    switch (kind) {\n      case 'contour':\n        mask = this.contourMask;\n        break;\n      case 'box':\n        mask = this.boxMask;\n        break;\n      case 'filled':\n        mask = this.filledMask;\n        break;\n      case 'center':\n        mask = this.centerMask;\n        break;\n      case 'mbr':\n        mask = this.mbrFilledMask;\n        break;\n      case 'hull':\n        mask = this.convexHullFilledMask;\n        break;\n      case 'hullContour':\n        mask = this.convexHullMask;\n        break;\n      case 'mbrContour':\n        mask = this.mbrMask;\n        break;\n      case 'feret':\n        mask = this.feretMask;\n        break;\n      default:\n        mask = this.mask;\n    }\n\n    if (scale < 1) {\n      // by reassigning the mask we loose the parent and therefore the position\n      // we will have to force it back\n      mask = mask.resize({ factor: scale });\n      mask.parent = this.mask.parent;\n      mask.position[0] += this.minX;\n      mask.position[1] += this.minY;\n    }\n\n    return mask;\n  }\n\n  get mean() {\n    throw new Error('Roi mean not implemented yet');\n    // return [this.meanX,this.meanY];\n  }\n\n  get center() {\n    if (!this.computed.center) {\n      this.computed.center = [(this.width / 2) >> 0, (this.height / 2) >> 0];\n    }\n    return this.computed.center;\n  }\n\n  get ratio() {\n    return this.width / this.height;\n  }\n\n  get width() {\n    return this.maxX - this.minX + 1;\n  }\n\n  get height() {\n    return this.maxY - this.minY + 1;\n  }\n\n  _computExternalIDs() {\n    // take all the borders and remove the internal one ...\n    let borders = this.borderIDs;\n    let lengths = this.borderLengths;\n\n    this.computed.externalIDs = [];\n    this.computed.externalLengths = [];\n\n    let internals = this.internalIDs;\n\n    for (let i = 0; i < borders.length; i++) {\n      if (!internals.includes(borders[i])) {\n        this.computed.externalIDs.push(borders[i]);\n        this.computed.externalLengths.push(lengths[i]);\n      }\n    }\n  }\n\n  get externalIDs() {\n    if (this.computed.externalIDs) {\n      return this.computed.externalIDs;\n    }\n    this._computExternalIDs();\n    return this.computed.externalIDs;\n  }\n\n  get externalLengths() {\n    if (this.computed.externalLengths) {\n      return this.computed.externalLengths;\n    }\n    this._computExternalIDs();\n    return this.computed.externalLengths;\n  }\n\n  _computeBorderIDs() {\n    let borders = getBorders(this);\n    this.computed.borderIDs = borders.ids;\n    this.computed.borderLengths = borders.lengths;\n  }\n\n  /**\n     Retrieve all the IDs (array of number) of the regions that are in contact with this\n     specific region. It may be external or internal\n     */\n  get borderIDs() {\n    if (this.computed.borderIDs) {\n      return this.computed.borderIDs;\n    }\n    this._computeBorderIDs();\n    return this.computed.borderIDs;\n  }\n\n  /**\n     Retrieve all the length (array of number) of the contacts with this\n     specific region. It may be external or internal\n     */\n  get borderLengths() {\n    if (this.computed.borderLengths) {\n      return this.computed.borderLengths;\n    }\n    this._computeBorderIDs();\n    return this.computed.borderLengths;\n  }\n\n  /**\n     Retrieve all the IDs or the Roi touching the box surrouding the region\n\n     It should really be an array to solve complex cases related to border effect\n\n     Like the image\n     <pre>\n     0000\n     1111\n     0000\n     1111\n     </pre>\n\n     The first row of 1 will be surrouned by 2 differents zones\n\n     Or even worse\n     <pre>\n     010\n     111\n     010\n     </pre>\n     The cross will be surrouned by 4 differents zones\n\n     However in most of the cases it will be an array of one element\n     */\n  get boxIDs() {\n    if (!this.computed.boxIDs) {\n      this.computed.boxIDs = getBoxIDs(this);\n    }\n    return this.computed.boxIDs;\n  }\n\n  get internalIDs() {\n    if (!this.computed.internalIDs) {\n      this.computed.internalIDs = getInternalIDs(this);\n    }\n    return this.computed.internalIDs;\n  }\n\n  /**\n     Number of pixels of the Roi that touch the rectangle\n     This is useful for the calculation of the border\n     because we will ignore those special pixels of the rectangle\n     border that don't have neighbours all around them.\n     */\n  get box() {\n    // points of the Roi that touch the rectangular shape\n    if (!this.computed.box) {\n      this.computed.box = getBox(this);\n    }\n    return this.computed.box;\n  }\n\n  /**\n     Calculates the number of pixels that are in the external border of the Roi\n     Contour are all the pixels that touch an external \"zone\".\n     All the pixels that touch the box are part of the border and\n     are calculated in the getBoxPixels procedure\n     */\n  get external() {\n    if (!this.computed.external) {\n      this.computed.external = getExternal(this);\n    }\n    return this.computed.external;\n  }\n\n  /**\n     Calculates information about holes\n     */\n  get holesInfo() {\n    if (!this.computed.holesInfo) {\n      this.computed.holesInfo = getHolesInfo(this);\n    }\n    return this.computed.holesInfo;\n  }\n\n  /**\n     Calculates the number of pixels that are involved in border\n     Border are all the pixels that touch another \"zone\". It could be external\n     or internal. If there is a hole in the zone it will be counted as a border.\n     All the pixels that touch the box are part of the border and\n     are calculated in the getBoxPixels procedure\n     */\n  get border() {\n    if (!this.computed.border) {\n      this.computed.border = getBorder(this);\n    }\n    return this.computed.border;\n  }\n\n  /**\n    Returns a binary image (mask) containing only the border of the mask\n  */\n  get contourMask() {\n    if (!this.computed.contourMask) {\n      let img = new Image(this.width, this.height, {\n        kind: KindNames.BINARY,\n        position: [this.minX, this.minY],\n        parent: this.map.parent,\n      });\n\n      for (let x = 0; x < this.width; x++) {\n        for (let y = 0; y < this.height; y++) {\n          if (\n            this.map.data[x + this.minX + (y + this.minY) * this.map.width] ===\n            this.id\n          ) {\n            // it also has to be on a border ...\n            if (x > 0 && x < this.width - 1 && y > 0 && y < this.height - 1) {\n              if (\n                this.map.data[\n                  x - 1 + this.minX + (y + this.minY) * this.map.width\n                ] !== this.id ||\n                this.map.data[\n                  x + 1 + this.minX + (y + this.minY) * this.map.width\n                ] !== this.id ||\n                this.map.data[\n                  x + this.minX + (y - 1 + this.minY) * this.map.width\n                ] !== this.id ||\n                this.map.data[\n                  x + this.minX + (y + 1 + this.minY) * this.map.width\n                ] !== this.id\n              ) {\n                img.setBitXY(x, y);\n              }\n            } else {\n              img.setBitXY(x, y);\n            }\n          }\n        }\n      }\n      this.computed.contourMask = img;\n    }\n    return this.computed.contourMask;\n  }\n\n  get boxMask() {\n    if (!this.computed.boxMask) {\n      let img = new Image(this.width, this.height, {\n        kind: KindNames.BINARY,\n        position: [this.minX, this.minY],\n        parent: this.map.parent,\n      });\n\n      for (let x = 0; x < this.width; x++) {\n        img.setBitXY(x, 0);\n        img.setBitXY(x, this.height - 1);\n      }\n      for (let y = 0; y < this.height; y++) {\n        img.setBitXY(0, y);\n        img.setBitXY(this.width - 1, y);\n      }\n      this.computed.boxMask = img;\n    }\n    return this.computed.boxMask;\n  }\n\n  /**\n     Returns a binary image containing the mask\n     */\n  get mask() {\n    if (!this.computed.mask) {\n      let img = new Image(this.width, this.height, {\n        kind: KindNames.BINARY,\n        position: [this.minX, this.minY],\n        parent: this.map.parent,\n      });\n\n      for (let x = 0; x < this.width; x++) {\n        for (let y = 0; y < this.height; y++) {\n          if (\n            this.map.data[x + this.minX + (y + this.minY) * this.map.width] ===\n            this.id\n          ) {\n            img.setBitXY(x, y);\n          }\n        }\n      }\n      this.computed.mask = img;\n    }\n    return this.computed.mask;\n  }\n\n  get filledMask() {\n    if (!this.computed.filledMask) {\n      let img = new Image(this.width, this.height, {\n        kind: KindNames.BINARY,\n        position: [this.minX, this.minY],\n        parent: this.map.parent,\n      });\n\n      for (let x = 0; x < this.width; x++) {\n        for (let y = 0; y < this.height; y++) {\n          let target = x + this.minX + (y + this.minY) * this.map.width;\n          if (this.internalIDs.includes(this.map.data[target])) {\n            img.setBitXY(x, y);\n          } // by default a pixel is to 0 so no problems, it will be transparent\n        }\n      }\n      this.computed.filledMask = img;\n    }\n    return this.computed.filledMask;\n  }\n\n  get centerMask() {\n    if (!this.computed.centerMask) {\n      let img = new Shape({ kind: 'smallCross' }).getMask();\n\n      img.parent = this.map.parent;\n      img.position = [\n        this.minX + this.center[0] - 1,\n        this.minY + this.center[1] - 1,\n      ];\n\n      this.computed.centerMask = img;\n    }\n    return this.computed.centerMask;\n  }\n\n  get convexHull() {\n    if (!this.computed.convexHull) {\n      const calculationPoints = [];\n      // slow approach, we check all the points\n      // for each point we take the 4 corners !!!!\n\n      for (let x = 0; x < this.width; x++) {\n        for (let y = 0; y < this.height; y++) {\n          if (\n            this.map.data[x + this.minX + (y + this.minY) * this.map.width] ===\n            this.id\n          ) {\n            // it also has to be on a border ...\n            if (x > 0 && x < this.width - 1 && y > 0 && y < this.height - 1) {\n              if (\n                this.map.data[\n                  x - 1 + this.minX + (y + this.minY) * this.map.width\n                ] !== this.id ||\n                this.map.data[\n                  x + 1 + this.minX + (y + this.minY) * this.map.width\n                ] !== this.id ||\n                this.map.data[\n                  x + this.minX + (y - 1 + this.minY) * this.map.width\n                ] !== this.id ||\n                this.map.data[\n                  x + this.minX + (y + 1 + this.minY) * this.map.width\n                ] !== this.id\n              ) {\n                calculationPoints.push([x, y]);\n                calculationPoints.push([x + 1, y]);\n                calculationPoints.push([x, y + 1]);\n                calculationPoints.push([x + 1, y + 1]);\n              }\n            } else {\n              calculationPoints.push([x, y]);\n              calculationPoints.push([x + 1, y]);\n              calculationPoints.push([x, y + 1]);\n              calculationPoints.push([x + 1, y + 1]);\n            }\n          }\n        }\n      }\n\n      const convexHull = mcch(calculationPoints);\n\n      this.computed.convexHull = {\n        polyline: convexHull,\n        surface: surface(convexHull),\n        perimeter: perimeter(convexHull),\n      };\n    }\n    return this.computed.convexHull;\n  }\n\n  get convexHullMask() {\n    if (!this.computed.convexHullMask) {\n      const convexHull = this.convexHull;\n      const img = new Image(this.width + 1, this.height + 1, {\n        kind: KindNames.BINARY,\n        position: [this.minX, this.minY],\n        parent: this.map.parent,\n      });\n      img.paintPolyline(convexHull.polyline, { closed: true });\n      this.computed.convexHullMask = img;\n    }\n    return this.computed.convexHullMask;\n  }\n\n  get convexHullFilledMask() {\n    if (!this.computed.convexHullFilledMask) {\n      const convexHull = this.convexHull;\n      const img = new Image(this.width, this.height, {\n        kind: KindNames.BINARY,\n        position: [this.minX, this.minY],\n        parent: this.map.parent,\n      });\n\n      for (let x = 0; x < this.width; x++) {\n        for (let y = 0; y < this.height; y++) {\n          if (robustPointInPolygon(convexHull.polyline, [x, y]) !== 1) {\n            img.setBitXY(x, y);\n          }\n        }\n      }\n\n      this.computed.convexHullFilledMask = img;\n    }\n    return this.computed.convexHullFilledMask;\n  }\n\n  get mbr() {\n    if (!this.computed.mbr) {\n      let mbr = minimalBoundingRectangle({\n        originalPoints: this.convexHull.polyline,\n      });\n      if (mbr.length === 0) {\n        this.computed.mbr = {\n          width: 0,\n          height: 0,\n          surface: 0,\n          perimeter: 0,\n          rectangle: mbr,\n        };\n      } else {\n        let first = mbr[0];\n        let second = mbr[1];\n        let third = mbr[2];\n        let width = Math.sqrt(\n          (first[0] - second[0]) ** 2 + (first[1] - second[1]) ** 2,\n        );\n        let height = Math.sqrt(\n          (third[0] - second[0]) ** 2 + (third[1] - second[1]) ** 2,\n        );\n        this.computed.mbr = {\n          width,\n          height,\n          elongation: 1 - width / height,\n          aspectRatio: width / height,\n          surface: width * height,\n          perimeter: (width + height) * 2,\n          rectangle: mbr,\n        };\n      }\n    }\n    return this.computed.mbr;\n  }\n\n  get fillRatio() {\n    return this.surface / (this.surface + this.holesInfo.surface);\n  }\n\n  get feretDiameters() {\n    if (!this.computed.feretDiameters) {\n      this.computed.feretDiameters = feretDiameters({\n        originalPoints: this.convexHull.polyline,\n      });\n    }\n    return this.computed.feretDiameters;\n  }\n\n  /**\n   * Diameter of a circle of equal projection area\n   */\n  get eqpc() {\n    if (!this.computed.eqpc) {\n      this.computed.eqpc = 2 * Math.sqrt(this.surface / Math.PI);\n    }\n    return this.computed.eqpc;\n  }\n\n  /**\n   * Get the category in which each external pixel belongs\n   */\n  get perimeterInfo() {\n    if (!this.computed.perimeterInfo) {\n      this.computed.perimeterInfo = getPerimeterInfo(this);\n    }\n    return this.computed.perimeterInfo;\n  }\n\n  /**\n   * Return the perimeter of the ROI\n   */\n  get perimeter() {\n    let info = this.perimeterInfo;\n    let delta = 2 - Math.sqrt(2);\n    return (\n      info.one +\n      info.two * 2 +\n      info.three * 3 +\n      info.four * 4 -\n      delta * (info.two + info.three * 2 + info.four)\n    );\n  }\n\n  /**\n   * Diameter of a circle of equal perimeter\n   */\n  get ped() {\n    if (!this.computed.ped) {\n      this.computed.ped = this.perimeter / Math.PI;\n    }\n    return this.computed.ped;\n  }\n\n  get feretMask() {\n    if (!this.computed.feretMask) {\n      const image = new Image(this.width + 1, this.height + 1, {\n        kind: KindNames.BINARY,\n        position: [this.minX, this.minY],\n        parent: this.map.parent,\n      });\n\n      image.paintPolyline(this.feretDiameters.minLine);\n      image.paintPolyline(this.feretDiameters.maxLine);\n      this.computed.feretMask = image;\n    }\n    return this.computed.feretMask;\n  }\n\n  get mbrMask() {\n    if (!this.computed.mbrMask) {\n      let rectangle = round(this.mbr.rectangle);\n      if (rectangle.length > 0) {\n        // the problem is that the rectangle may be outside the roi\n        const minMax = minMaxFct(rectangle);\n\n        const img = new Image(\n          minMax[1][0] - minMax[0][0] + 1,\n          minMax[1][1] - minMax[0][1] + 1,\n          {\n            kind: KindNames.BINARY,\n            position: [this.minX + minMax[0][0], this.minY + minMax[0][1]],\n            parent: this.map.parent,\n          },\n        );\n\n        rectangle = moveToZeroZero(rectangle);\n\n        img.paintPolyline(rectangle, { closed: true });\n        this.computed.mbrMask = img;\n      } else {\n        this.computed.mbrMask = new Image(1, 1, {\n          kind: KindNames.BINARY,\n          position: [this.minX, this.minY],\n          parent: this.map.parent,\n        });\n      }\n    }\n    return this.computed.mbrMask;\n  }\n\n  get mbrFilledMask() {\n    if (!this.computed.mbrFilledMask) {\n      const img = new Image(this.width, this.height, {\n        kind: KindNames.BINARY,\n        position: [this.minX, this.minY],\n        parent: this.map.parent,\n      });\n\n      const mbr = this.mask.minimalBoundingRectangle();\n      for (let x = 0; x < this.width; x++) {\n        for (let y = 0; y < this.height; y++) {\n          if (robustPointInPolygon(mbr, [x, y]) !== 1) {\n            img.setBitXY(x, y);\n          }\n        }\n      }\n\n      this.computed.mbrFilledMask = img;\n    }\n    return this.computed.mbrFilledMask;\n  }\n\n  get points() {\n    if (!this.computed.points) {\n      let points = [];\n      for (let y = 0; y < this.height; y++) {\n        for (let x = 0; x < this.width; x++) {\n          let target = (y + this.minY) * this.map.width + x + this.minX;\n          if (this.map.data[target] === this.id) {\n            points.push([x, y]);\n          }\n        }\n      }\n      this.computed.points = points;\n    }\n    return this.computed.points;\n  }\n\n  get maxLengthPoints() {\n    if (!this.computed.maxLengthPoints) {\n      let maxLength = 0;\n      let maxLengthPoints;\n      const points = this.points;\n\n      for (let i = 0; i < points.length; i++) {\n        for (let j = i + 1; j < points.length; j++) {\n          let currentML =\n            Math.pow(points[i][0] - points[j][0], 2) +\n            Math.pow(points[i][1] - points[j][1], 2);\n          if (currentML >= maxLength) {\n            maxLength = currentML;\n            maxLengthPoints = [points[i], points[j]];\n          }\n        }\n      }\n      this.computed.maxLengthPoints = maxLengthPoints;\n    }\n    return this.computed.maxLengthPoints;\n  }\n\n  /**\n        Calculates the maximum length between two pixels of the Roi.\n     */\n  get maxLength() {\n    if (!this.computed.maxLength) {\n      let maxLength = Math.sqrt(\n        Math.pow(this.maxLengthPoints[0][0] - this.maxLengthPoints[1][0], 2) +\n          Math.pow(this.maxLengthPoints[0][1] - this.maxLengthPoints[1][1], 2),\n      );\n      this.computed.maxLength = maxLength;\n    }\n    return this.computed.maxLength;\n  }\n\n  get roundness() {\n    /*Slide 24 https://static.horiba.com/fileadmin/Horiba/Products/Scientific/Particle_Characterization/Webinars/Slides/TE011.pdf */\n    return (4 * this.surface) / (Math.PI * this.feretDiameters.max ** 2);\n  }\n\n  get sphericity() {\n    return (2 * Math.sqrt(this.surface * Math.PI)) / this.perimeter;\n  }\n\n  get solidity() {\n    return this.surface / this.convexHull.surface;\n  }\n\n  get angle() {\n    if (!this.computed.angle) {\n      let points = this.maxLengthPoints;\n      let angle =\n        (-Math.atan2(points[0][1] - points[1][1], points[0][0] - points[1][0]) *\n          180) /\n        Math.PI;\n\n      this.computed.angle = angle;\n    }\n    return this.computed.angle;\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      minX: this.minX,\n      maxX: this.maxX,\n      minY: this.minY,\n      maxY: this.maxY,\n      meanX: this.meanX,\n      meanY: this.meanY,\n      height: this.height,\n      width: this.width,\n      surface: this.surface,\n      mbrWidth: this.mbr.width,\n      mbrHeight: this.mbr.height,\n      mbrSurface: this.mbr.surface,\n      eqpc: this.eqpc,\n      ped: this.ped,\n      feretDiameterMin: this.feretDiameters.min,\n      feretDiameterMax: this.feretDiameters.max,\n      aspectRatio: this.feretDiameters.aspectRatio,\n      fillRatio: this.fillRatio,\n      sphericity: this.sphericity,\n      roundness: this.roundness,\n      solidity: this.solidity,\n      perimeter: this.perimeter,\n    };\n  }\n}\n\n// TODO we should follow the region in order to increase the speed\n\nfunction getBorders(roi) {\n  let roiMap = roi.map;\n  let data = roiMap.data;\n  let surroudingIDs = new Set(); // allows to get a unique list without indexOf\n  let surroundingBorders = new Map();\n  let visitedData = new Set();\n  let dx = [+1, 0, -1, 0];\n  let dy = [0, +1, 0, -1];\n\n  for (let x = roi.minX; x <= roi.maxX; x++) {\n    for (let y = roi.minY; y <= roi.maxY; y++) {\n      let target = x + y * roiMap.width;\n      if (data[target] === roi.id) {\n        for (let dir = 0; dir < 4; dir++) {\n          let newX = x + dx[dir];\n          let newY = y + dy[dir];\n          if (\n            newX >= 0 &&\n            newY >= 0 &&\n            newX < roiMap.width &&\n            newY < roiMap.height\n          ) {\n            let neighbour = newX + newY * roiMap.width;\n\n            if (data[neighbour] !== roi.id && !visitedData.has(neighbour)) {\n              visitedData.add(neighbour);\n              surroudingIDs.add(data[neighbour]);\n              let surroundingBorder = surroundingBorders.get(data[neighbour]);\n              if (!surroundingBorder) {\n                surroundingBorders.set(data[neighbour], 1);\n              } else {\n                surroundingBorders.set(data[neighbour], ++surroundingBorder);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  let ids = Array.from(surroudingIDs);\n  let borderLengths = ids.map(function (id) {\n    return surroundingBorders.get(id);\n  });\n  return {\n    ids: ids,\n    lengths: borderLengths,\n  };\n}\n\nfunction getBoxIDs(roi) {\n  let surroundingIDs = new Set(); // allows to get a unique list without indexOf\n\n  let roiMap = roi.map;\n  let data = roiMap.data;\n\n  // we check the first line and the last line\n  for (let y of [0, roi.height - 1]) {\n    for (let x = 0; x < roi.width; x++) {\n      let target = (y + roi.minY) * roiMap.width + x + roi.minX;\n      if (\n        x - roi.minX > 0 &&\n        data[target] === roi.id &&\n        data[target - 1] !== roi.id\n      ) {\n        let value = data[target - 1];\n        surroundingIDs.add(value);\n      }\n      if (\n        roiMap.width - x - roi.minX > 1 &&\n        data[target] === roi.id &&\n        data[target + 1] !== roi.id\n      ) {\n        let value = data[target + 1];\n        surroundingIDs.add(value);\n      }\n    }\n  }\n\n  // we check the first column and the last column\n  for (let x of [0, roi.width - 1]) {\n    for (let y = 0; y < roi.height; y++) {\n      let target = (y + roi.minY) * roiMap.width + x + roi.minX;\n      if (\n        y - roi.minY > 0 &&\n        data[target] === roi.id &&\n        data[target - roiMap.width] !== roi.id\n      ) {\n        let value = data[target - roiMap.width];\n        surroundingIDs.add(value);\n      }\n      if (\n        roiMap.height - y - roi.minY > 1 &&\n        data[target] === roi.id &&\n        data[target + roiMap.width] !== roi.id\n      ) {\n        let value = data[target + roiMap.width];\n        surroundingIDs.add(value);\n      }\n    }\n  }\n\n  return Array.from(surroundingIDs); // the selection takes the whole rectangle\n}\n\nfunction getBox(roi) {\n  let total = 0;\n  let roiMap = roi.map;\n  let data = roiMap.data;\n\n  let topBottom = [0];\n  if (roi.height > 1) {\n    topBottom[1] = roi.height - 1;\n  }\n  for (let y of topBottom) {\n    for (let x = 1; x < roi.width - 1; x++) {\n      let target = (y + roi.minY) * roiMap.width + x + roi.minX;\n      if (data[target] === roi.id) {\n        total++;\n      }\n    }\n  }\n\n  let leftRight = [0];\n  if (roi.width > 1) {\n    leftRight[1] = roi.width - 1;\n  }\n  for (let x of leftRight) {\n    for (let y = 0; y < roi.height; y++) {\n      let target = (y + roi.minY) * roiMap.width + x + roi.minX;\n      if (data[target] === roi.id) {\n        total++;\n      }\n    }\n  }\n  return total;\n}\n\nfunction getBorder(roi) {\n  let total = 0;\n  let roiMap = roi.map;\n  let data = roiMap.data;\n\n  for (let x = 1; x < roi.width - 1; x++) {\n    for (let y = 1; y < roi.height - 1; y++) {\n      let target = (y + roi.minY) * roiMap.width + x + roi.minX;\n      if (data[target] === roi.id) {\n        // if a point around is not roi.id it is a border\n        if (\n          data[target - 1] !== roi.id ||\n          data[target + 1] !== roi.id ||\n          data[target - roiMap.width] !== roi.id ||\n          data[target + roiMap.width] !== roi.id\n        ) {\n          total++;\n        }\n      }\n    }\n  }\n  return total + roi.box;\n}\n\nfunction getPerimeterInfo(roi) {\n  let roiMap = roi.map;\n  let data = roiMap.data;\n  let one = 0;\n  let two = 0;\n  let three = 0;\n  let four = 0;\n\n  for (let x = 0; x < roi.width; x++) {\n    for (let y = 0; y < roi.height; y++) {\n      let target = (y + roi.minY) * roiMap.width + x + roi.minX;\n      if (data[target] === roi.id) {\n        let nbAround = 0;\n        if (x === 0) {\n          nbAround++;\n        } else if (roi.externalIDs.includes(data[target - 1])) {\n          nbAround++;\n        }\n\n        if (x === roi.width - 1) {\n          nbAround++;\n        } else if (roi.externalIDs.includes(data[target + 1])) {\n          nbAround++;\n        }\n\n        if (y === 0) {\n          nbAround++;\n        } else if (roi.externalIDs.includes(data[target - roiMap.width])) {\n          nbAround++;\n        }\n\n        if (y === roi.height - 1) {\n          nbAround++;\n        } else if (roi.externalIDs.includes(data[target + roiMap.width])) {\n          nbAround++;\n        }\n        switch (nbAround) {\n          case 1:\n            one++;\n            break;\n          case 2:\n            two++;\n            break;\n          case 3:\n            three++;\n            break;\n          case 4:\n            four++;\n            break;\n          default:\n        }\n      }\n    }\n  }\n  return { one, two, three, four };\n}\n\nfunction getExternal(roi) {\n  let total = 0;\n  let roiMap = roi.map;\n  let data = roiMap.data;\n\n  for (let x = 1; x < roi.width - 1; x++) {\n    for (let y = 1; y < roi.height - 1; y++) {\n      let target = (y + roi.minY) * roiMap.width + x + roi.minX;\n      if (data[target] === roi.id) {\n        // if a point around is not roi.id it is a border\n        if (\n          roi.externalIDs.includes(data[target - 1]) ||\n          roi.externalIDs.includes(data[target + 1]) ||\n          roi.externalIDs.includes(data[target - roiMap.width]) ||\n          roi.externalIDs.includes(data[target + roiMap.width])\n        ) {\n          total++;\n        }\n      }\n    }\n  }\n  return total + roi.box;\n}\n\nfunction getHolesInfo(roi) {\n  let surface = 0;\n  let width = roi.map.width;\n  let data = roi.map.data;\n  for (let x = 1; x < roi.width - 1; x++) {\n    for (let y = 1; y < roi.height - 1; y++) {\n      let target = (y + roi.minY) * width + x + roi.minX;\n      if (roi.internalIDs.includes(data[target]) && data[target] !== roi.id) {\n        surface++;\n      }\n    }\n  }\n  return {\n    number: roi.internalIDs.length - 1,\n    surface,\n  };\n}\n\n/*\nWe will calculate all the ids of the map that are \"internal\"\nThis will allow to extract the 'plain' image\n */\nfunction getInternalIDs(roi) {\n  let internal = [roi.id];\n  let roiMap = roi.map;\n  let data = roiMap.data;\n\n  if (roi.height > 2) {\n    for (let x = 0; x < roi.width; x++) {\n      let target = roi.minY * roiMap.width + x + roi.minX;\n      if (internal.includes(data[target])) {\n        let id = data[target + roiMap.width];\n        if (!internal.includes(id) && !roi.boxIDs.includes(id)) {\n          internal.push(id);\n        }\n      }\n    }\n  }\n\n  let array = new Array(4);\n  for (let x = 1; x < roi.width - 1; x++) {\n    for (let y = 1; y < roi.height - 1; y++) {\n      let target = (y + roi.minY) * roiMap.width + x + roi.minX;\n      if (internal.includes(data[target])) {\n        // we check if one of the neighbour is not yet in\n\n        array[0] = data[target - 1];\n        array[1] = data[target + 1];\n        array[2] = data[target - roiMap.width];\n        array[3] = data[target + roiMap.width];\n\n        for (let i = 0; i < 4; i++) {\n          let id = array[i];\n          if (!internal.includes(id) && !roi.boxIDs.includes(id)) {\n            internal.push(id);\n          }\n        }\n      }\n    }\n  }\n\n  return internal;\n}\n","import Roi from './Roi';\n\n/**\n * A layer that is caracterised by a {@link RoiMap} and that will\n * generated automatically the corresponding ROI.\n * ROI should be a continuous\n * surface (it is not tested when it is not continous ...)\n * From the roiMap, the RoiLayer will create the corresponding\n * {@link ROI}.\n *\n * @class RoiLayer\n * @private\n * @param {Image} image\n * @param {object} [options]\n */\nexport default class RoiLayer {\n  constructor(roiMap, options) {\n    this.roiMap = roiMap;\n    this.options = options;\n    this.roi = this.createRoi();\n  }\n\n  /**\n   * Roi are created from a roiMap\n   * The roiMap contains mainty an array of identifiers that define\n   * for each data to which Roi it belongs\n   * @memberof RoiManager\n   * @instance\n   * @return {Roi[]}\n   */\n  createRoi() {\n    // we need to find all all the different IDs there is in the data\n    let data = this.roiMap.data;\n    let mapIDs = {};\n    this.roiMap.positive = 0;\n    this.roiMap.negative = 0;\n\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] && !mapIDs[data[i]]) {\n        mapIDs[data[i]] = true;\n        if (data[i] > 0) {\n          this.roiMap.positive++;\n        } else {\n          this.roiMap.negative++;\n        }\n      }\n    }\n\n    let rois = {};\n\n    for (let mapID in mapIDs) {\n      rois[mapID] = new Roi(this.roiMap, mapID * 1);\n    }\n    let width = this.roiMap.width;\n    let height = this.roiMap.height;\n\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        let target = y * width + x;\n        if (data[target] !== 0) {\n          const mapID = data[target];\n          const roi = rois[mapID];\n          if (x < roi.minX) {\n            roi.minX = x;\n          }\n          if (x > roi.maxX) {\n            roi.maxX = x;\n          }\n          if (y < roi.minY) {\n            roi.minY = y;\n          }\n          if (y > roi.maxY) {\n            roi.maxY = y;\n          }\n          roi.meanX += x;\n          roi.meanY += y;\n          roi.surface++;\n        }\n      }\n    }\n    let roiArray = [];\n    for (let mapID in mapIDs) {\n      rois[mapID].meanX /= rois[mapID].surface;\n      rois[mapID].meanY /= rois[mapID].surface;\n      roiArray.push(rois[mapID]);\n    }\n\n    return roiArray;\n  }\n}\n","/**\n * In place modification of the roiMap that joins regions of interest\n * @param {object} [options]\n * @param {string|function(object,number,number)} [options.algorithm='commonBorderLength'] algorithm used to decide which ROIs are merged.\n *      Current implemented algorithms are 'commonBorderLength' that use the parameters\n *      'minCommonBorderLength' and 'maxCommonBorderLength' as well as 'commonBorderRatio' that uses\n *      the parameters 'minCommonBorderRatio' and 'maxCommonBorderRatio'.\n * @param {number} [options.minCommonBorderLength=5] minimal common number of pixels for merging\n * @param {number} [options.maxCommonBorderLength=100] maximal common number of pixels for merging\n * @param {number} [options.minCommonBorderRatio=0.3] minimal common border ratio for merging\n * @param {number} [options.maxCommonBorderRatio=1] maximal common border ratio for merging\n * @return {this}\n * @private\n */\nexport default function mergeRoi(options = {}) {\n  const {\n    algorithm = 'commonBorderLength',\n    minCommonBorderLength = 5,\n    maxCommonBorderLength = 100,\n    minCommonBorderRatio = 0.3,\n    maxCommonBorderRatio = 1,\n  } = options;\n\n  let checkFunction = function (currentInfo, currentID, neighbourID) {\n    return (\n      currentInfo[neighbourID] >= minCommonBorderLength &&\n      currentInfo[neighbourID] <= maxCommonBorderLength\n    );\n  };\n  if (typeof algorithm === 'function') {\n    checkFunction = algorithm;\n  }\n  if (algorithm.toLowerCase() === 'commonborderratio') {\n    checkFunction = function (currentInfo, currentID, neighbourID) {\n      let ratio = Math.min(\n        currentInfo[neighbourID] / currentInfo[currentID],\n        1,\n      );\n      return ratio >= minCommonBorderRatio && ratio <= maxCommonBorderRatio;\n    };\n  }\n  const roiMap = this;\n  const borderLengths = roiMap.commonBorderLength;\n  let newMap = {};\n  let oldToNew = {};\n\n  for (let currentID of Object.keys(borderLengths)) {\n    let currentInfo = borderLengths[currentID];\n    let neighbourIDs = Object.keys(currentInfo);\n    for (let neighbourID of neighbourIDs) {\n      if (neighbourID !== currentID) {\n        // it is not myself ...\n        if (checkFunction(currentInfo, currentID, neighbourID)) {\n          // the common border are in the range. We should merge\n          let newNeighbourID = neighbourID;\n          if (oldToNew[neighbourID]) newNeighbourID = oldToNew[neighbourID];\n          let newCurrentID = currentID;\n          if (oldToNew[currentID]) newCurrentID = oldToNew[currentID];\n\n          if (Number(newNeighbourID) !== newCurrentID) {\n            let smallerID = Math.min(newNeighbourID, newCurrentID);\n            let largerID = Math.max(newNeighbourID, newCurrentID);\n\n            if (!newMap[smallerID]) {\n              newMap[smallerID] = {};\n            }\n            newMap[smallerID][largerID] = true;\n            oldToNew[largerID] = smallerID;\n            if (newMap[largerID]) {\n              // need to put everything to smallerID and remove property\n              for (let id of Object.keys(newMap[largerID])) {\n                newMap[smallerID][id] = true;\n                oldToNew[id] = smallerID;\n              }\n              delete newMap[largerID];\n            }\n          }\n        }\n      }\n    }\n  }\n\n  let minMax = roiMap.minMax;\n  let shift = -minMax.min;\n  let max = minMax.max + shift;\n  let oldToNewArray = new Array(max + 1).fill(0);\n  for (let key of Object.keys(oldToNew)) {\n    oldToNewArray[Number(key) + shift] = oldToNew[key];\n  }\n  // time to change the roiMap\n  let data = roiMap.data;\n  for (let i = 0; i < data.length; i++) {\n    let currentValue = data[i];\n    if (currentValue !== 0) {\n      let newValue = oldToNewArray[currentValue + shift];\n      if (newValue !== 0) {\n        data[i] = newValue;\n      }\n    }\n  }\n\n  roiMap.computed = {};\n  return roiMap;\n}\n","/**\n * The roiMap is an array of the size of the original image data that contains\n * positive and negative numbers. When the number is common, it corresponds\n * to one region of interest (ROI)\n *\n * @class RoiMap\n * @private\n */\nimport commonBorderLength from './util/commonBorderLength';\nimport mergeRoi from './util/mergeRoi';\n\nexport default class RoiMap {\n  constructor(parent, data) {\n    this.parent = parent;\n    this.width = parent.width;\n    this.height = parent.height;\n    this.data = data;\n    this.negative = 0;\n    this.positive = 0;\n  }\n\n  get total() {\n    return this.negative + this.positive;\n  }\n\n  get minMax() {\n    let min = Number.MAX_SAFE_INTEGER;\n    let max = Number.MIN_SAFE_INTEGER;\n    for (let i = 0; i < this.data.length; i++) {\n      if (this.data[i] < min) min = this.data[i];\n      if (this.data[i] > max) max = this.data[i];\n    }\n    return { min, max };\n  }\n\n  get commonBorderLength() {\n    return commonBorderLength(this);\n  }\n\n  mergeRoi(options = {}) {\n    return mergeRoi.call(this, options);\n  }\n\n  mergeRois(rois) {\n    const first = rois[0];\n    const others = rois.slice(1);\n    for (let i = 0; i < this.data.length; i++) {\n      if (others.includes(this.data[i])) {\n        this.data[i] = first;\n      }\n    }\n  }\n\n  rowsInfo() {\n    let rowsInfo = new Array(this.height);\n    let currentRow = 0;\n    for (let i = 0; i < this.data.length; i += this.width) {\n      let info = {\n        row: currentRow,\n        positivePixel: 0,\n        negativePixel: 0,\n        zeroPixel: 0,\n        positiveRoi: 0,\n        negativeRoi: 0,\n        medianChange: 0,\n      };\n      rowsInfo[currentRow++] = info;\n      let positives = {};\n      let negatives = {};\n      let changes = [];\n      let previous = this.data[i];\n      let current = 0;\n      for (let j = i; j < i + this.width; j++) {\n        let value = this.data[j];\n        if (previous !== value) {\n          previous = value;\n          changes.push(current);\n          current = 0;\n        }\n        current++;\n        if (value > 0) {\n          info.positivePixel++;\n          if (!positives[value]) {\n            positives[value] = true;\n          }\n        } else if (value < 0) {\n          info.negativePixel++;\n          if (!negatives[value]) {\n            negatives[value] = true;\n          }\n        } else {\n          info.zeroPixel++;\n        }\n      }\n      changes.push(current);\n      // TODO use median package\n      info.medianChange = changes.sort((a, b) => a - b)[\n        Math.floor(changes.length / 2)\n      ];\n      info.positiveRoiIDs = Object.keys(positives);\n      info.negativeRoiIDs = Object.keys(negatives);\n      info.positiveRoi = info.positiveRoiIDs.length;\n      info.negativeRoi = info.negativeRoiIDs.length;\n    }\n    return rowsInfo;\n  }\n\n  colsInfo() {\n    let colsInfo = new Array(this.width);\n    let currentCol = 0;\n    for (let i = 0; i < this.width; i++) {\n      let info = {\n        col: currentCol,\n        positivePixel: 0,\n        negativePixel: 0,\n        zeroPixel: 0,\n        positiveRoi: 0,\n        negativeRoi: 0,\n        medianChange: 0,\n      };\n      colsInfo[currentCol++] = info;\n      let positives = {};\n      let negatives = {};\n      let changes = [];\n      let previous = this.data[i];\n      let current = 0;\n      for (let j = i; j < i + this.data.length; j += this.width) {\n        let value = this.data[j];\n        if (previous !== value) {\n          previous = value;\n          changes.push(current);\n          current = 0;\n        }\n        current++;\n        if (value > 0) {\n          info.positivePixel++;\n          if (!positives[value]) {\n            positives[value] = true;\n          }\n        } else if (value < 0) {\n          info.negativePixel++;\n          if (!negatives[value]) {\n            negatives[value] = true;\n          }\n        } else {\n          info.zeroPixel++;\n        }\n      }\n      changes.push(current);\n      // TODO use median package\n      info.medianChange = changes.sort((a, b) => a - b)[\n        Math.floor(changes.length / 2)\n      ];\n      info.positiveRoiIDs = Object.keys(positives);\n      info.negativeRoiIDs = Object.keys(negatives);\n      info.positiveRoi = info.positiveRoiIDs.length;\n      info.negativeRoi = info.negativeRoiIDs.length;\n    }\n    return colsInfo;\n  }\n}\n","// We calculate all the border length with the neighbours\n\nexport default function commonBorderLength(roiMap) {\n  let data = roiMap.data;\n  let dx = [+1, 0, -1, 0];\n  let dy = [0, +1, 0, -1];\n\n  let minMax = roiMap.minMax;\n  let shift = -minMax.min;\n  let max = minMax.max + shift;\n  let borderInfo = [];\n  for (let i = 0; i <= max; i++) {\n    borderInfo.push(Object.create(null));\n  }\n\n  for (let x = 0; x < roiMap.width; x++) {\n    for (let y = 0; y < roiMap.height; y++) {\n      let target = x + y * roiMap.width;\n      let currentRoiID = data[target];\n      if (currentRoiID !== 0) {\n        // each pixel may only contribute one time to a border\n        let used = Object.create(null);\n        let isBorder = false;\n        for (let dir = 0; dir < 4; dir++) {\n          let newX = x + dx[dir];\n          let newY = y + dy[dir];\n          if (\n            newX >= 0 &&\n            newY >= 0 &&\n            newX < roiMap.width &&\n            newY < roiMap.height\n          ) {\n            let neighbourRoiID = data[newX + newY * roiMap.width];\n            if (currentRoiID !== neighbourRoiID) {\n              isBorder = true;\n              if (neighbourRoiID !== 0 && used[neighbourRoiID] === undefined) {\n                used[neighbourRoiID] = true;\n                if (!borderInfo[neighbourRoiID + shift][currentRoiID]) {\n                  borderInfo[neighbourRoiID + shift][currentRoiID] = 1;\n                } else {\n                  borderInfo[neighbourRoiID + shift][currentRoiID]++;\n                }\n              }\n            }\n          } else {\n            isBorder = true;\n          }\n        }\n        // we will also add an information to specify the border length\n        if (isBorder) {\n          if (!borderInfo[currentRoiID + shift][currentRoiID]) {\n            borderInfo[currentRoiID + shift][currentRoiID] = 1;\n          } else {\n            borderInfo[currentRoiID + shift][currentRoiID]++;\n          }\n        }\n      }\n    }\n  }\n\n  // we convert now the result to an object for fast lookup and we will reshift the result\n  let result = {};\n  for (let i = 0; i < borderInfo.length; i++) {\n    if (Object.keys(borderInfo[i]).length > 0) {\n      result[i - shift] = borderInfo[i];\n    }\n  }\n  return result;\n}\n","import RoiMap from '../RoiMap';\n\n/**\n * @memberof RoiManager\n * @instance\n * @param {Image} mask\n * @param {object} [options]\n * @return {RoiMap}\n */\nexport default function fromMask(mask, options = {}) {\n  const { allowCorners = false } = options;\n\n  const MAX_ARRAY = 0x00ffff; // 65535 should be enough for most of the cases\n\n  // based on a binary image we will create plenty of small images\n  let data = new Int16Array(mask.size); // maxValue: 32767, minValue: -32768\n\n  // split will always return an array of images\n  let positiveID = 0;\n  let negativeID = 0;\n\n  let xToProcess = new Uint16Array(MAX_ARRAY + 1); // assign dynamically ????\n  let yToProcess = new Uint16Array(MAX_ARRAY + 1); // mask +1 is of course mandatory !!!\n\n  for (let x = 0; x < mask.width; x++) {\n    for (let y = 0; y < mask.height; y++) {\n      if (data[y * mask.width + x] === 0) {\n        // need to process the whole surface\n        analyseSurface(x, y);\n      }\n    }\n  }\n\n  function analyseSurface(x, y) {\n    let from = 0;\n    let to = 0;\n    let targetState = mask.getBitXY(x, y);\n    let id = targetState ? ++positiveID : --negativeID;\n    if (positiveID > 32767 || negativeID < -32768) {\n      throw new Error('Too many regions of interest');\n    }\n    xToProcess[0] = x;\n    yToProcess[0] = y;\n    while (from <= to) {\n      let currentX = xToProcess[from & MAX_ARRAY];\n      let currentY = yToProcess[from & MAX_ARRAY];\n      data[currentY * mask.width + currentX] = id;\n      // need to check all around mask pixel\n      if (\n        currentX > 0 &&\n        data[currentY * mask.width + currentX - 1] === 0 &&\n        mask.getBitXY(currentX - 1, currentY) === targetState\n      ) {\n        // LEFT\n        to++;\n        xToProcess[to & MAX_ARRAY] = currentX - 1;\n        yToProcess[to & MAX_ARRAY] = currentY;\n        data[currentY * mask.width + currentX - 1] = -32768;\n      }\n      if (\n        currentY > 0 &&\n        data[(currentY - 1) * mask.width + currentX] === 0 &&\n        mask.getBitXY(currentX, currentY - 1) === targetState\n      ) {\n        // TOP\n        to++;\n        xToProcess[to & MAX_ARRAY] = currentX;\n        yToProcess[to & MAX_ARRAY] = currentY - 1;\n        data[(currentY - 1) * mask.width + currentX] = -32768;\n      }\n      if (\n        currentX < mask.width - 1 &&\n        data[currentY * mask.width + currentX + 1] === 0 &&\n        mask.getBitXY(currentX + 1, currentY) === targetState\n      ) {\n        // RIGHT\n        to++;\n        xToProcess[to & MAX_ARRAY] = currentX + 1;\n        yToProcess[to & MAX_ARRAY] = currentY;\n        data[currentY * mask.width + currentX + 1] = -32768;\n      }\n      if (\n        currentY < mask.height - 1 &&\n        data[(currentY + 1) * mask.width + currentX] === 0 &&\n        mask.getBitXY(currentX, currentY + 1) === targetState\n      ) {\n        // BOTTOM\n        to++;\n        xToProcess[to & MAX_ARRAY] = currentX;\n        yToProcess[to & MAX_ARRAY] = currentY + 1;\n        data[(currentY + 1) * mask.width + currentX] = -32768;\n      }\n      if (allowCorners) {\n        if (\n          currentX > 0 &&\n          currentY > 0 &&\n          data[(currentY - 1) * mask.width + currentX - 1] === 0 &&\n          mask.getBitXY(currentX - 1, currentY - 1) === targetState\n        ) {\n          // TOP LEFT\n          to++;\n          xToProcess[to & MAX_ARRAY] = currentX - 1;\n          yToProcess[to & MAX_ARRAY] = currentY - 1;\n          data[(currentY - 1) * mask.width + currentX - 1] = -32768;\n        }\n        if (\n          currentX < mask.width - 1 &&\n          currentY > 0 &&\n          data[(currentY - 1) * mask.width + currentX + 1] === 0 &&\n          mask.getBitXY(currentX + 1, currentY - 1) === targetState\n        ) {\n          // TOP RIGHT\n          to++;\n          xToProcess[to & MAX_ARRAY] = currentX + 1;\n          yToProcess[to & MAX_ARRAY] = currentY - 1;\n          data[(currentY - 1) * mask.width + currentX + 1] = -32768;\n        }\n        if (\n          currentX > 0 &&\n          currentY < mask.height - 1 &&\n          data[(currentY + 1) * mask.width + currentX - 1] === 0 &&\n          mask.getBitXY(currentX - 1, currentY + 1) === targetState\n        ) {\n          // BOTTOM LEFT\n          to++;\n          xToProcess[to & MAX_ARRAY] = currentX - 1;\n          yToProcess[to & MAX_ARRAY] = currentY + 1;\n          data[(currentY + 1) * mask.width + currentX - 1] = -32768;\n        }\n        if (\n          currentX < mask.width - 1 &&\n          currentY < mask.height - 1 &&\n          data[(currentY + 1) * mask.width + currentX + 1] === 0 &&\n          mask.getBitXY(currentX + 1, currentY + 1) === targetState\n        ) {\n          // BOTTOM RIGHT\n          to++;\n          xToProcess[to & MAX_ARRAY] = currentX + 1;\n          yToProcess[to & MAX_ARRAY] = currentY + 1;\n          data[(currentY + 1) * mask.width + currentX + 1] = -32768;\n        }\n      }\n\n      from++;\n\n      if (to - from > MAX_ARRAY) {\n        throw new Error(\n          'analyseMask can not finish, the array to manage internal data is not big enough.' +\n            'You could improve mask by changing MAX_ARRAY',\n        );\n      }\n    }\n  }\n\n  return new RoiMap(mask, data);\n}\n","/*\nThis algorithm is nice and is therefore kept here\nHowever it seems to be slower than the get mask and\nalso provides only the positive ROI\nWe therefore don't expose it in the roiManager\n */\n\nimport DisjointSet from 'ml-disjoint-set';\n\nimport RoiMap from '../RoiMap';\n\nconst direction4X = [-1, 0];\nconst direction4Y = [0, -1];\nconst neighbours4 = [null, null];\n\nconst direction8X = [-1, -1, 0, 1];\nconst direction8Y = [0, -1, -1, -1];\nconst neighbours8 = [null, null, null, null];\n\n/*\nImplementation of the connected-component labeling algorithm\n */\nexport default function fromMaskConnectedComponentLabelingAlgorithm(\n  mask,\n  options = {},\n) {\n  const { allowCorners = false } = options;\n  let neighbours = 4;\n  if (allowCorners) {\n    neighbours = 8;\n  }\n\n  let directionX;\n  let directionY;\n  let neighboursList;\n  if (neighbours === 8) {\n    directionX = direction8X;\n    directionY = direction8Y;\n    neighboursList = neighbours8;\n  } else if (neighbours === 4) {\n    directionX = direction4X;\n    directionY = direction4Y;\n    neighboursList = neighbours4;\n  } else {\n    throw new RangeError(`unsupported neighbours count: ${neighbours}`);\n  }\n\n  const size = mask.size;\n  const width = mask.width;\n  const height = mask.height;\n  const labels = new Array(size);\n  const data = new Uint32Array(size);\n  const linked = new DisjointSet();\n\n  let currentLabel = 1;\n  for (let j = 0; j < height; j++) {\n    for (let i = 0; i < width; i++) {\n      // true means out of background\n      const index = i + j * width;\n      if (mask.getBit(index)) {\n        let smallestNeighbour = null;\n        for (let k = 0; k < neighboursList.length; k++) {\n          const ii = i + directionX[k];\n          const jj = j + directionY[k];\n          if (ii >= 0 && jj >= 0 && ii < width && jj < height) {\n            const index = ii + jj * width;\n            let neighbour = labels[index];\n            if (!neighbour) {\n              neighboursList[k] = null;\n            } else {\n              neighboursList[k] = neighbour;\n              if (\n                !smallestNeighbour ||\n                neighboursList[k].value < smallestNeighbour.value\n              ) {\n                smallestNeighbour = neighboursList[k];\n              }\n            }\n          }\n        }\n        if (!smallestNeighbour) {\n          labels[index] = linked.add(currentLabel++);\n        } else {\n          labels[index] = smallestNeighbour;\n          for (let k = 0; k < neighboursList.length; k++) {\n            if (neighboursList[k] && neighboursList[k] !== smallestNeighbour) {\n              linked.union(smallestNeighbour, neighboursList[k]);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  for (let j = 0; j < height; j++) {\n    for (let i = 0; i < width; i++) {\n      const index = i + j * width;\n      if (mask.getBit(index)) {\n        data[index] = linked.find(labels[index]).value;\n      }\n    }\n  }\n\n  return new RoiMap(mask, data);\n}\n","import RoiMap from '../RoiMap';\n\n/**\n * @memberof RoiManager\n * @instance\n * @param {object} [options]\n * @param {boolean} [options.allowCorner=true]\n * @param {boolean} [options.onlyTop=false]\n * @param {boolean} [options.invert=false]\n * @return {RoiMap}\n */\nexport default function fromMaxima(options = {}) {\n  let { allowCorner = true, onlyTop = false, invert = false } = options;\n\n  let image = this;\n  image.checkProcessable('fromMaxima', { components: [1] });\n\n  const PROCESS_TOP = 1;\n  const PROCESS_NORMAL = 2;\n\n  // split will always return an array of images\n  let positiveID = 0;\n  let negativeID = 0;\n\n  let data = new Int16Array(image.size); // maxValue: 32767, minValue: -32768\n  let processed = new Int8Array(image.size);\n  let variations = new Float32Array(image.size);\n\n  let MAX_ARRAY = 0x0fffff; // should be enough for most of the cases\n  let xToProcess = new Uint16Array(MAX_ARRAY + 1); // assign dynamically ????\n  let yToProcess = new Uint16Array(MAX_ARRAY + 1); // mask +1 is of course mandatory !!!\n\n  let from = 0;\n  let to = 0;\n\n  let xToProcessTop = new Uint16Array(MAX_ARRAY + 1); // assign dynamically ????\n  let yToProcessTop = new Uint16Array(MAX_ARRAY + 1); // mask +1 is of course mandatory !!!\n\n  let fromTop = 0;\n  let toTop = 0;\n\n  appendMaxima(image, { maxima: !invert });\n\n  while (from < to) {\n    let currentX = xToProcess[from & MAX_ARRAY];\n    let currentY = yToProcess[from & MAX_ARRAY];\n    process(currentX, currentY, PROCESS_NORMAL);\n    from++;\n  }\n\n  return new RoiMap(image, data);\n\n  // we will look for the maxima (or minima) that is present in the picture\n  // a maxima is a point that is surrounded by lower values\n  // should deal with allowCorner and invert\n  function appendMaxima({ maxima = true }) {\n    for (let y = 1; y < image.height - 1; y++) {\n      for (let x = 1; x < image.width - 1; x++) {\n        let index = x + y * image.width;\n        if (processed[index] === 0) {\n          let currentValue = maxima\n            ? image.data[index]\n            : -image.data[x + y * image.width];\n          if (image.data[y * image.width + x - 1] > currentValue) {\n            // LEFT\n            continue;\n          }\n          if (image.data[y * image.width + x + 1] > currentValue) {\n            // RIGHT\n            continue;\n          }\n          if (image.data[(y - 1) * image.width + x] > currentValue) {\n            // TOP\n            continue;\n          }\n          if (image.data[(y + 1) * image.width + x] > currentValue) {\n            // BOTTOM\n            continue;\n          }\n          if (allowCorner) {\n            if (image.data[(y - 1) * image.width + x - 1] > currentValue) {\n              // LEFT TOP\n              continue;\n            }\n            if (image.data[(y - 1) * image.width + x + 1] > currentValue) {\n              // RIGHT TOP\n              continue;\n            }\n            if (image.data[(y + 1) * image.width + x - 1] > currentValue) {\n              // LEFT BOTTOM\n              continue;\n            }\n            if (image.data[(y + 1) * image.width + x + 1] > currentValue) {\n              // RIGHT BOTTOM\n              continue;\n            }\n          }\n\n          data[index] = maxima ? ++positiveID : --negativeID;\n\n          let valid = processTop(x, y, PROCESS_TOP);\n          if (!valid) {\n            if (maxima) {\n              --positiveID;\n            } else {\n              ++negativeID;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // we will try to get all the points of the top (same value)\n  // and to check if the whole group is surrounded by lower value\n  // as soon as one of them if not part we need to reverse the process\n  // and just for get those points\n  function processTop(xToProcess, yToProcess) {\n    let currentTo = to; // in case if fails we come back\n    fromTop = 0;\n    toTop = 1;\n    xToProcessTop[0] = xToProcess;\n    yToProcessTop[0] = yToProcess;\n    let valid = true;\n    while (fromTop < toTop) {\n      let currentX = xToProcessTop[fromTop & MAX_ARRAY];\n      let currentY = yToProcessTop[fromTop & MAX_ARRAY];\n      valid &= process(currentX, currentY, PROCESS_TOP);\n      fromTop++;\n    }\n    if (!valid) {\n      // need to clear all the calculated data because the top is not surrounded by negative values\n      for (let i = 0; i < toTop; i++) {\n        let currentX = xToProcessTop[i & MAX_ARRAY];\n        let currentY = yToProcessTop[i & MAX_ARRAY];\n        let index = currentY * image.width + currentX;\n        data[index] = 0;\n      }\n      to = currentTo;\n    }\n    return valid;\n  }\n\n  /*\n     For a specific point we will check the points around, increase the area of interests and add\n     them to the processing list\n     type=0 : top\n     type=1 : normal\n     */\n  function process(xCenter, yCenter, type) {\n    let currentID = data[yCenter * image.width + xCenter];\n    let currentValue = image.data[yCenter * image.width + xCenter];\n    for (let y = yCenter - 1; y <= yCenter + 1; y++) {\n      for (let x = xCenter - 1; x <= xCenter + 1; x++) {\n        let index = y * image.width + x;\n        if (processed[index] === 0) {\n          processed[index] = 1;\n          // we store the variation compare to the parent pixel\n          variations[index] = image.data[index] - currentValue;\n          switch (type) {\n            case PROCESS_TOP:\n              if (variations[index] === 0) {\n                // we look for maxima\n                // if we are next to a border ... it is not surrounded !\n                if (\n                  x === 0 ||\n                  y === 0 ||\n                  x === image.width - 1 ||\n                  y === image.height - 1\n                ) {\n                  return false;\n                }\n                data[index] = currentID;\n                xToProcessTop[toTop & MAX_ARRAY] = x;\n                yToProcessTop[toTop & MAX_ARRAY] = y;\n                toTop++;\n              } else if (variations[index] > 0) {\n                // not a global maximum\n                return false;\n              } else {\n                // a point we will have to process\n                if (!onlyTop) {\n                  data[index] = currentID;\n                  xToProcess[to & MAX_ARRAY] = x;\n                  yToProcess[to & MAX_ARRAY] = y;\n                  to++;\n                }\n              }\n              break;\n            case PROCESS_NORMAL:\n              if (variations[index] <= 0) {\n                // we look for maxima\n                data[index] = currentID;\n                xToProcess[to & MAX_ARRAY] = x;\n                yToProcess[to & MAX_ARRAY] = y;\n                to++;\n              }\n              break;\n            default:\n              throw new Error('unreachable');\n          }\n        }\n      }\n    }\n    return true;\n  }\n}\n","import Shape from '../../../util/Shape';\nimport RoiMap from '../RoiMap';\n\n/**\n * @memberof RoiManager\n * @instance\n * @param {Array<Array<number>>} pointsToPaint - an array of points\n * @param {object} [options]\n * @return {RoiMap}\n */\nexport default function fromPoints(pointsToPaint, options = {}) {\n  let shape = new Shape(options);\n\n  // based on a binary image we will create plenty of small images\n  let data = new Int16Array(this.size); // maxValue: 32767, minValue: -32768\n  let positiveID = 0;\n  let shapePoints = shape.getPoints();\n  for (let i = 0; i < pointsToPaint.length; i++) {\n    positiveID++;\n    let xP = pointsToPaint[i][0];\n    let yP = pointsToPaint[i][1];\n    for (let j = 0; j < shapePoints.length; j++) {\n      let xS = shapePoints[j][0];\n      let yS = shapePoints[j][1];\n      if (\n        xP + xS >= 0 &&\n        yP + yS >= 0 &&\n        xP + xS < this.width &&\n        yP + yS < this.height\n      ) {\n        data[xP + xS + (yP + yS) * this.width] = positiveID;\n      }\n    }\n  }\n\n  return new RoiMap(this, data);\n}\n","export const dxs = [+1, 0, -1, 0, +1, +1, -1, -1];\nexport const dys = [0, +1, 0, -1, +1, -1, +1, -1];\n","import PriorityQueue from 'js-priority-queue';\n\nimport { dxs, dys } from '../../../util/dxdy.js';\nimport RoiMap from '../RoiMap';\n\n/**\n * This method allows to create a ROIMap using the water shed algorithm. By default this algorithm\n * will fill the holes and therefore the lowest value of the image (black zones).\n * If no points are given, the function will look for all the minimal points.\n * If no mask is given the algorithm will completely fill the image.\n * Please take care about the value that has be in the mask ! In order to be coherent with the expected mask,\n * meaning that if it is a dark zone, the mask will be dark the normal behaviour to fill a zone\n * is that the mask pixel is clear (value of 0) !\n * However if you work in the 'invert' mode, the mask value has to be 'set' and the method will look for\n * maxima.\n * @memberof RoiManager\n * @instance\n * @param {object} [options={}]\n * @param {Array<Array<number>>} [options.points] - Array of points [[x1,y1], [x2,y2], ...].\n * @param {number} [options.fillMaxValue] - Limit of filling. By example, we can fill to a maximum value 32000 of a 16 bitDepth image.\n *          If invert this will corresponds to the minimal value\n * @param {Image} [options.image=this] - By default the waterShed will be applied on the current image. However waterShed can only be applied\n *                              on 1 component image. This allows to specify a grey scale image on which to apply waterShed..\n * @param {Image} [options.mask] - A binary image, the same size as the image. The algorithm will fill only if the current pixel in the binary mask is true.\n * @param {boolean} [options.invert=false] - By default we fill the minima\n * @return {RoiMap}\n */\nexport default function fromWaterShed(options = {}) {\n  let {\n    points,\n    mask,\n    image,\n    fillMaxValue = this.maxValue,\n    invert = false,\n  } = options;\n  let currentImage = image || this;\n  currentImage.checkProcessable('fromWaterShed', {\n    bitDepth: [8, 16],\n    components: 1,\n  });\n\n  /*\n     We need to invert the logic because we are always using method to look for maxima and not minima and\n     here water is expected to fill the minima first ...\n    */\n\n  invert = !invert;\n\n  // WaterShed is done from points in the image. We can either specify those points in options,\n  // or it is gonna take the minimum locals of the image by default.\n  if (!points) {\n    points = currentImage.getLocalMaxima({\n      invert,\n      mask,\n    });\n  }\n\n  let maskExpectedValue = invert ? 0 : 1;\n\n  let data = new Int16Array(currentImage.size);\n  let width = currentImage.width;\n  let height = currentImage.height;\n  let toProcess = new PriorityQueue({\n    comparator: (a, b) => a[2] - b[2],\n    strategy: PriorityQueue.BinaryHeapStrategy,\n  });\n  for (let i = 0; i < points.length; i++) {\n    let index = points[i][0] + points[i][1] * width;\n    data[index] = i + 1;\n    let intensity = currentImage.data[index];\n    if (\n      (invert && intensity <= fillMaxValue) ||\n      (!invert && intensity >= fillMaxValue)\n    ) {\n      toProcess.queue([points[i][0], points[i][1], intensity]);\n    }\n  }\n\n  // Then we iterate through each points\n  while (toProcess.length > 0) {\n    let currentPoint = toProcess.dequeue();\n    let currentValueIndex = currentPoint[0] + currentPoint[1] * width;\n\n    for (let dir = 0; dir < 4; dir++) {\n      let newX = currentPoint[0] + dxs[dir];\n      let newY = currentPoint[1] + dys[dir];\n      if (newX >= 0 && newY >= 0 && newX < width && newY < height) {\n        let currentNeighbourIndex = newX + newY * width;\n        if (!mask || mask.getBit(currentNeighbourIndex) === maskExpectedValue) {\n          let intensity = currentImage.data[currentNeighbourIndex];\n          if (\n            (invert && intensity <= fillMaxValue) ||\n            (!invert && intensity >= fillMaxValue)\n          ) {\n            if (data[currentNeighbourIndex] === 0) {\n              data[currentNeighbourIndex] = data[currentValueIndex];\n              toProcess.queue([\n                currentPoint[0] + dxs[dir],\n                currentPoint[1] + dys[dir],\n                intensity,\n              ]);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return new RoiMap(currentImage, data);\n}\n","import Qty from 'js-quantities';\n\nimport deepValue from '../../util/deepValue';\nimport Image from '../Image';\n\nimport RoiLayer from './RoiLayer';\nimport RoiMap from './RoiMap';\nimport fromMask from './creator/fromMask';\nimport fromMaskConnectedComponentLabelingAlgorithm from './creator/fromMaskConnectedComponentLabelingAlgorithm';\nimport fromMaxima from './creator/fromMaxima';\nimport fromPoints from './creator/fromPoints';\nimport fromWaterShed from './creator/fromWaterShed';\n\n/**\n * A manager of Regions of Interest. A RoiManager is related to a specific Image\n * and may contain multiple layers. Each layer is characterized by a label whose is\n * name by default 'default'\n * @class RoiManager\n * @param {Image} image\n * @param {object} [options]\n */\nexport default class RoiManager {\n  constructor(image, options = {}) {\n    this._image = image;\n    this._options = options;\n    if (!this._options.label) {\n      this._options.label = 'default';\n    }\n    this._layers = {};\n    this._painted = null;\n  }\n\n  // docs is in the corresponding file\n  fromMaxima(options = {}) {\n    let opt = Object.assign({}, this._options, options);\n    let roiMap = fromMaxima.call(this._image, options);\n    this._layers[opt.label] = new RoiLayer(roiMap, opt);\n  }\n\n  // docs is in the corresponding file\n  fromPoints(points, options = {}) {\n    let opt = Object.assign({}, this._options, options);\n    let roiMap = fromPoints.call(this._image, points, options);\n    this._layers[opt.label] = new RoiLayer(roiMap, opt);\n    return this;\n  }\n\n  /**\n   * @param {number[]} map\n   * @param {object} [options]\n   * @return {this}\n   */\n  putMap(map, options = {}) {\n    let roiMap = new RoiMap(this._image, map);\n    let opt = Object.assign({}, this._options, options);\n    this._layers[opt.label] = new RoiLayer(roiMap, opt);\n    return this;\n  }\n\n  // docs is in the corresponding file\n  fromWaterShed(options = {}) {\n    let opt = Object.assign({}, this._options, options);\n    let roiMap = fromWaterShed.call(this._image, options);\n    this._layers[opt.label] = new RoiLayer(roiMap, opt);\n  }\n\n  // docs is in the corresponding file\n  fromMask(mask, options = {}) {\n    let opt = Object.assign({}, this._options, options);\n    let roiMap = fromMask.call(this._image, mask, options);\n    this._layers[opt.label] = new RoiLayer(roiMap, opt);\n    return this;\n  }\n\n  fromMaskConnectedComponentLabelingAlgorithm(mask, options = {}) {\n    let opt = Object.assign({}, this._options, options);\n    let roiMap = fromMaskConnectedComponentLabelingAlgorithm.call(\n      this._image,\n      mask,\n      options,\n    );\n    this._layers[opt.label] = new RoiLayer(roiMap, opt);\n    return this;\n  }\n\n  /**\n   *\n   * @param {object} [options]\n   * @return {RoiMap}\n   */\n  getMap(options = {}) {\n    let opt = Object.assign({}, this._options, options);\n    this._assertLayerWithLabel(opt.label);\n    return this._layers[opt.label].roiMap;\n  }\n\n  /**\n   * Return statistics about rows\n   * @param {object} [options]\n   * @return {object[]}\n   */\n  rowsInfo(options = {}) {\n    return this.getMap(options).rowsInfo();\n  }\n\n  /**\n   * Return statistics about columns\n   * @param {object} [options]\n   * @return {object[]}\n   */\n  colsInfo(options = {}) {\n    return this.getMap(options).rowsInfo();\n  }\n\n  /**\n   * Return the IDs of the Regions Of Interest (Roi) as an array of number\n   * @param {object} [options]\n   * @return {number[]}\n   */\n  getRoiIds(options = {}) {\n    let rois = this.getRois(options);\n    if (rois) {\n      let ids = new Array(rois.length);\n      for (let i = 0; i < rois.length; i++) {\n        ids[i] = rois[i].id;\n      }\n      return ids;\n    }\n    throw new Error('ROIs not found');\n  }\n\n  /**\n   * Allows to select ROI based on size, label and sign.\n   * @param {object} [options={}]\n   * @param {string} [options.label='default'] Label of the layer containing the ROI\n   * @param {boolean} [options.positive=true] Select the positive region of interest\n   * @param {boolean} [options.negative=true] Select he negative region of interest\n   * @param {number} [options.minSurface=0]\n   * @param {number} [options.maxSurface=Number.POSITIVE_INFINITY]\n   * @param {number} [options.minWidth=0]\n   * @param {number} [options.minHeight=Number.POSITIVE_INFINITY]\n   * @param {number} [options.maxWidth=0]\n   * @param {number} [options.maxHeight=Number.POSITIVE_INFINITY]\n   * @param {number} [options.minRatio=0] Ratio width / height\n   * @param {number} [options.maxRatio=Number.POSITIVE_INFINITY]\n   * @return {Roi[]}\n   */\n  getRois(options = {}) {\n    let {\n      label = this._options.label,\n      positive = true,\n      negative = true,\n      minSurface = 0,\n      maxSurface = Number.POSITIVE_INFINITY,\n      minWidth = 0,\n      maxWidth = Number.POSITIVE_INFINITY,\n      minHeight = 0,\n      maxHeight = Number.POSITIVE_INFINITY,\n      minRatio = 0,\n      maxRatio = Number.POSITIVE_INFINITY,\n    } = options;\n\n    if (!this._layers[label]) {\n      throw new Error(`this Roi layer (${label}) does not exist`);\n    }\n\n    const allRois = this._layers[label].roi;\n\n    const rois = [];\n    for (const roi of allRois) {\n      if (\n        ((roi.id < 0 && negative) || (roi.id > 0 && positive)) &&\n        roi.surface >= minSurface &&\n        roi.surface <= maxSurface &&\n        roi.width >= minWidth &&\n        roi.width <= maxWidth &&\n        roi.height >= minHeight &&\n        roi.height <= maxHeight &&\n        roi.ratio >= minRatio &&\n        roi.ratio <= maxRatio\n      ) {\n        rois.push(roi);\n      }\n    }\n    return rois;\n  }\n\n  /**\n   * Get an ROI by its id.\n   * @param {number} roiId\n   * @param {object} [options={}]\n   * @param {string} [options.label='default'] Label of the layer containing the ROI\n   * @return {Roi}\n   */\n  getRoi(roiId, options = {}) {\n    const { label = this._options.label } = options;\n\n    if (!this._layers[label]) {\n      throw new Error(`this Roi layer (${label}) does not exist`);\n    }\n\n    const roi = this._layers[label].roi.find((roi) => roi.id === roiId);\n    if (!roi) {\n      throw new Error(`found no Roi with id ${roiId}`);\n    }\n\n    return roi;\n  }\n\n  /**\n   * Returns an array of masks\n   * See {@link Roi.getMask} for the options\n   * @param {object} [options]\n   * @return {Image[]} Retuns an array of masks (1 bit Image)\n   */\n  getMasks(options = {}) {\n    let rois = this.getRois(options);\n\n    let masks = new Array(rois.length);\n    for (let i = 0; i < rois.length; i++) {\n      masks[i] = rois[i].getMask(options);\n    }\n    return masks;\n  }\n\n  /**\n   * Returns an array of masks\n   * See {@link Roi.getAnalysisMasks} for the options\n   * @param {object} [options]\n   * @return {Image[]} Retuns an array of masks (1 bit Image)\n   */\n  getAnalysisMasks(options = {}) {\n    const { analysisProperty } = options;\n    let maskProperty = `${analysisProperty}Mask`;\n    let rois = this.getRois(options);\n\n    if (rois.length === 0 || !rois[0][maskProperty]) return [];\n    return rois.map((roi) => roi[maskProperty]);\n  }\n\n  /**\n   *\n   * @param {object} [options]\n   * @return {number[]}\n   */\n  getData(options = {}) {\n    let opt = Object.assign({}, this._options, options);\n    this._assertLayerWithLabel(opt.label);\n    return this._layers[opt.label].roiMap.data;\n  }\n\n  /**\n   * Paint the ROI on a copy of the image and return this image.\n   * For painting options {@link Image.paintMasks}\n   * For ROI selection options, see {@link RoiManager.getMasks}\n   * @param {object} [options] - all the options to select ROIs\n   * @param {string} [options.labelProperty] - Paint a mask property on the image.\n   *                                  May be any property of the ROI like\n   *                                  for example id, surface, width, height, meanX, meanY.\n   * @param {number} [options.pixelSize] Size of a pixel in SI\n   * @param {string} [options.unit=\"pixel\"] Unit in which to display the values\n   * @return {Image} - The painted RGBA 8 bits image\n   */\n  paint(options = {}) {\n    let { labelProperty, analysisProperty } = options;\n\n    if (!this._painted) {\n      this._painted = this._image.rgba8();\n    }\n    let masks = this.getMasks(options);\n\n    if (labelProperty) {\n      const rois = this.getRois(options);\n      options.labels = rois.map((roi) => deepValue(roi, labelProperty));\n      const max = Math.max(...options.labels);\n\n      let isSurface = false;\n      let isDistance = false;\n      if (labelProperty.includes('surface')) {\n        isSurface = true;\n      } else if (\n        /(?:perimeter|min|max|external|width|height|length)/.test(labelProperty)\n      ) {\n        isDistance = true;\n      }\n\n      if (isFinite(max)) {\n        let unitLabel = '';\n        if (\n          options.unit !== 'pixel' &&\n          options.pixelSize &&\n          (isDistance || isSurface)\n        ) {\n          unitLabel = isSurface ? `${options.unit}^2` : options.unit;\n          let siLabel = isSurface ? 'm^2' : 'm';\n          let factor = isSurface ? options.pixelSize ** 2 : options.pixelSize;\n          const convert = Qty.swiftConverter(siLabel, unitLabel);\n          options.labels = options.labels.map((value) => {\n            return convert(factor * value);\n          });\n        }\n\n        if (max > 50) {\n          options.labels = options.labels.map(\n            (number) => Math.round(number) + unitLabel,\n          );\n        } else if (max > 10) {\n          options.labels = options.labels.map(\n            (number) => number.toFixed(1) + unitLabel,\n          );\n        } else {\n          options.labels = options.labels.map(\n            (number) => number.toFixed(2) + unitLabel,\n          );\n        }\n      }\n      options.labelsPosition = rois.map((roi) => [roi.meanX, roi.meanY]);\n    }\n\n    this._painted.paintMasks(masks, options);\n\n    if (analysisProperty) {\n      let analysisMasks = this.getAnalysisMasks(options);\n\n      this._painted.paintMasks(analysisMasks, {\n        color: options.analysisColor,\n        alpha: options.analysisAlpha,\n      });\n    }\n\n    return this._painted;\n  }\n\n  // return a mask corresponding to all the selected masks\n  getMask(options = {}) {\n    let mask = new Image(this._image.width, this._image.height, {\n      kind: 'BINARY',\n    });\n    let masks = this.getMasks(options);\n\n    for (let i = 0; i < masks.length; i++) {\n      let roi = masks[i];\n      // we need to find the parent image to calculate the relative position\n\n      for (let x = 0; x < roi.width; x++) {\n        for (let y = 0; y < roi.height; y++) {\n          if (roi.getBitXY(x, y)) {\n            mask.setBitXY(x + roi.position[0], y + roi.position[1]);\n          }\n        }\n      }\n    }\n    return mask;\n  }\n\n  /**\n   * Reset the changes to the current painted iamge to the image that was\n   * used during the creation of the RoiManager except if a new image is\n   * specified as parameter;\n   * @param {object} [options]\n   * @param {Image} [options.image] A new iamge that you would like to sue for painting over\n   */\n  resetPainted(options = {}) {\n    const { image } = options;\n    if (image) {\n      this._painted = this.image.rgba8();\n    } else {\n      this._painted = this._image.rgba8();\n    }\n  }\n\n  /**\n   * In place modification of the roiMap that joins regions of interest\n   * @param {object} [options]\n   * @param {string|function(object,number,number)} [options.algorithm='commonBorderLength'] algorithm used to decide which ROIs are merged.\n   *      Current implemented algorithms are 'commonBorderLength' that use the parameters\n   *      'minCommonBorderLength' and 'maxCommonBorderLength' as well as 'commonBorderRatio' that uses\n   *      the parameters 'minCommonBorderRatio' and 'maxCommonBorderRatio'.\n   * @param {number} [options.minCommonBorderLength=5] minimal common number of pixels for merging\n   * @param {number} [options.maxCommonBorderLength=100] maximal common number of pixels for merging\n   * @param {number} [options.minCommonBorderRatio=0.3] minimal common border ratio for merging\n   * @param {number} [options.maxCommonBorderRatio=1] maximal common border ratio for merging\n   * @return {this}\n   */\n  mergeRoi(options = {}) {\n    const roiMap = this.getMap(options);\n    roiMap.mergeRoi(options);\n    this.putMap(roiMap.data, options);\n    return this;\n  }\n\n  /**\n   * Merge multiple rois into one.\n   * All rois in the provided array will be merged into the first one.\n   * @param {Array<number>} roiIds - A list of Roi ids to merge\n   * @param {object} [options]\n   */\n  mergeRois(roiIds, options = {}) {\n    if (!Array.isArray(roiIds) || roiIds.some((id) => !Number.isInteger(id))) {\n      throw new Error('Roi ids must be an array of integers');\n    }\n    if (roiIds.length < 2) {\n      throw new Error('Roi ids must have at least two elements');\n    }\n    if (new Set(roiIds).size !== roiIds.length) {\n      throw new Error('Roi ids must be all different');\n    }\n    // Throws if one of the ids is wrong\n    roiIds.forEach((roiId) => this.getRoi(roiId));\n\n    const roiMap = this.getMap(options);\n    roiMap.mergeRois(roiIds);\n    this.putMap(roiMap.data, options);\n    return this;\n  }\n\n  /**\n   * Finds all corresponding ROIs for all ROIs in the manager\n   * @param {number[]} roiMap\n   * @param {object} [options]\n   * @return {Array} array of objects returned in correspondingRoisInformation\n   */\n  findCorrespondingRoi(roiMap, options = {}) {\n    let allRois = this.getRois(options);\n    let allRelated = [];\n    for (let i = 0; i < allRois.length; i++) {\n      let currentRoi = allRois[i];\n      let x = currentRoi.minX;\n      let y = currentRoi.minY;\n      let allPoints = currentRoi.points;\n      let roiSign = Math.sign(currentRoi.id);\n      let currentRelated = correspondingRoisInformation(\n        x,\n        y,\n        allPoints,\n        roiMap,\n        roiSign,\n      );\n      allRelated.push(currentRelated);\n    }\n    return allRelated;\n  }\n\n  _assertLayerWithLabel(label) {\n    if (!this._layers[label]) {\n      throw new Error(`no layer with label ${label}`);\n    }\n  }\n}\n\n/**\n * For a given ROI, find corresponding ROIs and properties in given ROIMap.\n * Returns an object containing the ID of ROIs, the surface shared by given and corresponding ROIs,\n * the percentage of given ROI surface covered by the corresponding ROI, the number of points with same and opposite signs,\n * the total number of points (same and opposite).\n * @param {number} x - minX value of ROI\n * @param {number} y - minY value of ROI\n * @param {Array<Array<number>>} points - points of ROI\n * @param {Array<number>} roiMap - roiMap from which we get the corresponding ROI\n * @param {number} roiSign - sign of ROI\n * @return {object} {{id: Array, surface: Array, roiSurfaceCovered: Array, same: number, opposite: number, total: number}}\n * @private\n */\nfunction correspondingRoisInformation(x, y, points, roiMap, roiSign) {\n  let correspondingRois = {\n    id: [],\n    surface: [],\n    roiSurfaceCovered: [],\n    same: 0,\n    opposite: 0,\n    total: 0,\n  };\n  for (let i = 0; i < points.length; i++) {\n    let currentPoint = points[i];\n    let currentX = currentPoint[0];\n    let currentY = currentPoint[1];\n    let correspondingRoiMapIndex = currentX + x + (currentY + y) * roiMap.width;\n    let value = roiMap.data[correspondingRoiMapIndex];\n\n    if (value > 0 || value < 0) {\n      if (correspondingRois.id.includes(value)) {\n        correspondingRois.surface[correspondingRois.id.indexOf(value)] += 1;\n      } else {\n        correspondingRois.id.push(value);\n        correspondingRois.surface.push(1);\n      }\n    }\n  }\n\n  for (let i = 0; i < correspondingRois.id.length; i++) {\n    let currentSign = Math.sign(correspondingRois.id[i]);\n    if (currentSign === roiSign) {\n      correspondingRois.same += correspondingRois.surface[i];\n    } else {\n      correspondingRois.opposite += correspondingRois.surface[i];\n    }\n    correspondingRois.roiSurfaceCovered[i] =\n      correspondingRois.surface[i] / points.length;\n  }\n  correspondingRois.total = correspondingRois.opposite + correspondingRois.same;\n\n  return correspondingRois;\n}\n","export default function deepValue(object, path = '') {\n  let parts = path.split('.');\n  for (let part of parts) {\n    if (object[part] === undefined) return undefined;\n    object = object[part];\n  }\n  return object;\n}\n","import bitMethods from './core/bitMethods';\nimport checkProcessable from './core/checkProcessable';\nimport exportMethods from './core/export';\nimport { extendMethod, extendProperty } from './core/extend';\nimport getRGBAData from './core/getRGBAData';\nimport {\n  getKind,\n  verifyKindDefinition,\n  createPixelArray,\n  getTheoreticalPixelArraySize,\n} from './core/kind';\nimport { RGBA } from './core/kindNames';\nimport load from './core/load';\nimport valueMethods from './core/valueMethods';\nimport extend from './extend';\nimport getImageParameters from './internal/getImageParameters';\nimport RoiManager from './roi/manager';\n\nconst objectToString = Object.prototype.toString;\n\n/**\n * Class representing an image.\n * This class allows to manipulate easily images directly in the browser or in node.\n *\n * This library is designed to deal with scientific images (8 or 16 bit depth) and will be able to open\n * and process jpeg, png and uncompressed tiff images. It is designed to work in the browser\n * as on the server side in node.\n *\n * An image is characterized by:\n * * width and height\n * * colorModel (RGB, HSL, CMYK, GREY, ...)\n * * components: number of components, Grey scale images will have 1 component while RGB will have 3 and CMYK 4.\n * * alpha: 0 or 1 depending if there is an alpha channel. The\n *      alpha channel define the opacity of each pixel\n * * channels: number of channels (components + alpha)\n * * bitDepth : number of bits to define the intensity of a point.\n *      The values may be 1 for a binary image (mask), 8 for a normal image (each\n *      channel contains values between 0 and 255) and 16 for scientific images\n *      (each channel contains values between 0 and 65535).\n *      The png library and tiff library included in image-js allow to deal correctly with\n *      8 and 16 bit depth images.\n * * position : an array of 2 elements that allows to define a relative position\n *      to a parent image. This will be used in a crop or in the management\n *      of Region Of Interests (Roi) for example\n * * data : an array that contains all the points of the image.\n *      Depending the bitDepth Uint8Array (1 bit), Uint8Array (8 bits),\n *      Uint16Array (16 bits), Float32Array (32 bits)\n *\n * In an image there are pixels and points:\n * * A pixel is an array that has as size the number of channels\n * and that contains all the values that define a particular pixel of the image.\n * * A point is an array of 2 elements that contains the x / y coordinate\n * of a specific pixel of the image\n *\n *\n * @class Image\n * @param {number} [width=1]\n * @param {number} [height=1]\n * @param {Array} [data] - Image data to load\n * @param {object} [options]\n *\n *\n * @example\n * // JavaScript code using Node.js to get some info about the image.\n * // We load the library that was installed using 'npm install image-js'\n * const { Image } = require('image-js');\n *\n * // Loading an image is asynchronous and will return a Promise.\n * Image.load('cat.jpg').then(function (image) {\n *   console.log('Width', image.width);\n *   console.log('Height', image.height);\n *   console.log('colorModel', image.colorModel);\n *   console.log('components', image.components);\n *   console.log('alpha', image.alpha);\n *   console.log('channels', image.channels);\n *   console.log('bitDepth', image.bitDepth);\n * });\n *\n * @example\n * // Convert an image to greyscale\n * const { Image } = require('image-js');\n *\n * Image.load('cat.jpg').then(function (image) {\n *   var grey = image.grey();\n *   grey.save('cat-grey.jpg');\n * });\n *\n * @example\n * // Split an RGB image in its components\n * const { Image } = require('image-js');\n *\n * Image.load('cat.jpg').then(function (image) {\n *   var components = image.split();\n *   components[0].save('cat-red.jpg');\n *   components[1].save('cat-green.jpg');\n *   components[2].save('cat-blur.jpg');\n * });\n *\n *\n * @example\n * // For this example you will need the picture of an ecstasy pill that is available on\n * // wget https://raw.githubusercontent.com/image-js/core/854e70f50d63cc73d2dde1d2020fe61ba1b5ec05/test/img/xtc.png // the goal is to isolate the picture and to get a RGB histogram of the pill.\n * // Practically this allows to classify pills based on the histogram similarity\n * // This work was published at: http://dx.doi.org/10.1016/j.forsciint.2012.10.004\n *\n * const { Image } = require('image-js');\n *\n * const image = await Image.load('xtc.png');\n *\n * const grey = image.grey({\n *   algorithm:'lightness'\n * });\n * // we create a mask, which is basically a binary image\n * // a mask has as source a grey image and we will decide how to determine\n * // the threshold to define what is white and what is black\n * var mask = grey.mask({\n *   algorithm: 'li'\n * });\n *\n * // it is possible to create an array of Region Of Interest (Roi) using\n * // the RoiManager. A RoiManager will be applied on the original image\n * // in order to be able to extract from the original image the regions\n *\n * // the result of this console.log result can directly be pasted\n * // in the browser\n * // console.log(mask.toDataURL());\n *\n *\n * var manager = image.getRoiManager();\n * manager.fromMask(mask);\n * var rois = manager.getRoi({\n *   positive: true,\n *   negative: false,\n *   minSurface: 100\n * });\n *\n * // console.log(rois);\n *\n * // we can sort teh rois by surface\n * // for demonstration we use an arrow function\n * rois.sort((a, b) => b.surface - a.surface);\n *\n * // the first Roi (the biggest is expected to be the pill)\n *\n * var pillMask = rois[0].getMask({\n *   scale: 0.7   // we will scale down the mask to take just the center of the pill and avoid border effects\n * });\n *\n * // image-js remembers the parent of the image and the relative\n * // position of a derived image. This is the case for a crop as\n * // well as for Roi\n *\n * var pill = image.extract(pillMask);\n * pill.save('pill.jpg');\n *\n * var histogram = pill.getHistograms({ maxSlots: 16 });\n *\n * console.log(histogram);\n *\n * @example\n * // Example of use of IJS in the browser\n *\n * <script>\n *  var canvas = document.getElementById('myCanvasID');\n *  var image = IJS.fromCanvas(canvas);\n * </script>\n *\n * @example\n * // Image from matrix of values\n * const [min, max] = d3.extent(temperatures)\n * const colorScaler = d3.scaleSequential([min, max], d3.interpolateRdYlBu);\n *\n * // size = rows * columns * channels\n * const data = new Uint8Array(2*3*3);\n * for (let i = 0; i < temperatures.length; i++) {\n *   const {r, g, b} = d3.rgb(colorScaler(temperatures[i]));\n *   data[i*3] = r;\n *   data[i*3 + 1] = g;\n *   data[i*3 + 2] = b;\n * }\n *\n * const image = new Image(2, 3, data, { kind: 'RGB' });\n * // or\n * const image = new Image({ width: 2, height: 3, data, kind: 'RGB'});\n */\nexport default class Image {\n  constructor(width, height, data, options) {\n    if (arguments.length === 1) {\n      options = width;\n      ({ width, height, data } = options);\n    } else if (data && !data.length) {\n      options = data;\n      ({ data } = options);\n    }\n    if (width === undefined) width = 1;\n    if (height === undefined) height = 1;\n    if (options === undefined) options = {};\n\n    if (typeof options !== 'object' || options === null) {\n      throw new TypeError('options must be an object');\n    }\n\n    if (!Number.isInteger(width) || width <= 0) {\n      throw new RangeError('width must be a positive integer');\n    }\n    if (!Number.isInteger(height) || height <= 0) {\n      throw new RangeError('height must be a positive integer');\n    }\n\n    const { kind = RGBA } = options;\n    if (typeof kind !== 'string') {\n      throw new TypeError('kind must be a string');\n    }\n    const theKind = getKind(kind);\n    const kindDefinition = Object.assign({}, options);\n    for (const prop in theKind) {\n      if (kindDefinition[prop] === undefined) {\n        kindDefinition[prop] = theKind[prop];\n      }\n    }\n    verifyKindDefinition(kindDefinition);\n\n    const { components, bitDepth, colorModel } = kindDefinition;\n    const alpha = kindDefinition.alpha + 0;\n    const size = width * height;\n    const channels = components + alpha;\n    const maxValue = bitDepth === 32 ? Number.MAX_VALUE : 2 ** bitDepth - 1;\n\n    if (data === undefined) {\n      data = createPixelArray(\n        size,\n        components,\n        alpha,\n        channels,\n        bitDepth,\n        maxValue,\n      );\n    } else {\n      const expectedLength = getTheoreticalPixelArraySize(\n        size,\n        channels,\n        bitDepth,\n      );\n      if (data.length !== expectedLength) {\n        throw new RangeError(\n          `incorrect data size: ${data.length}. Should be ${expectedLength}`,\n        );\n      }\n    }\n\n    /**\n     * Width of the image.\n     * @member {number}\n     */\n    this.width = width;\n\n    /**\n     * Height of the image.\n     * @member {number}\n     */\n    this.height = height;\n\n    /**\n     * Typed array holding the image data.\n     * @member {TypedArray}\n     */\n    this.data = data;\n\n    /**\n     * Total number of pixels (width * height).\n     * @member {number}\n     */\n    this.size = size;\n\n    /**\n     * Number of color channels in the image.\n     * A grey image has 1 component. An RGB image has 3 components.\n     * @member {number}\n     */\n    this.components = components;\n\n    /**\n     * Alpha is 1 if there is an alpha channel, 0 otherwise.\n     * @member {number}\n     */\n    this.alpha = alpha;\n\n    /**\n     * Number of bits per value in each channel.\n     * @member {number}\n     */\n    this.bitDepth = bitDepth;\n\n    /**\n     * Maximum value that a pixel can have.\n     * @member {number}\n     */\n    this.maxValue = maxValue;\n\n    /**\n     * Color model of the image.\n     * @member {ColorModel}\n     */\n    this.colorModel = colorModel;\n\n    /**\n     * Total number of channels. Is equal to `image.components + image.alpha`.\n     * @member {number}\n     */\n    this.channels = channels;\n\n    /**\n     * Metadata associated with the image.\n     * @member {object}\n     */\n    this.meta = options.meta || {};\n\n    // TODO review those props\n    Object.defineProperty(this, 'parent', {\n      enumerable: false,\n      writable: true,\n      configurable: true,\n      value: options.parent || null,\n    });\n    this.position = options.position || [0, 0];\n\n    this.computed = null;\n    this.sizes = [this.width, this.height];\n    this.multiplierX = this.channels;\n    this.multiplierY = this.channels * this.width;\n    this.isClamped = this.bitDepth < 32;\n    this.borderSizes = [0, 0]; // when a filter creates a border, it may have impact on future processing like Roi\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'IJSImage';\n  }\n\n  static isImage(object) {\n    return objectToString.call(object) === '[object IJSImage]';\n  }\n\n  /**\n   * Creates an image from an HTML Canvas object\n   * @param {Canvas} canvas\n   * @return {Image}\n   */\n  static fromCanvas(canvas) {\n    const ctx = canvas.getContext('2d');\n    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    return new Image(imageData.width, imageData.height, imageData.data);\n  }\n\n  /**\n   * Create a new Image based on the characteristics of another one.\n   * @param {Image} other\n   * @param {object} [options] - Override options to change some parameters\n   * @return {Image}\n   * @example\n   * const newImage = Image.createFrom(image, { width: 100 });\n   */\n  static createFrom(other, options) {\n    const newOptions = getImageParameters(other);\n    Object.assign(\n      newOptions,\n      {\n        parent: other,\n        position: [0, 0],\n      },\n      options,\n    );\n    return new Image(newOptions);\n  }\n\n  /**\n   * Create a new manager for regions of interest based on the current image.\n   * @param {object} [options]\n   * @return {RoiManager}\n   */\n  getRoiManager(options) {\n    return new RoiManager(this, options);\n  }\n\n  /**\n   * Create a copy a the current image, including its data.\n   * @instance\n   * @return {Image}\n   */\n  clone() {\n    const newData = this.data.slice();\n    return new Image(this.width, this.height, newData, this);\n  }\n\n  apply(filter) {\n    for (let y = 0; y < this.height; y++) {\n      for (let x = 0; x < this.width; x++) {\n        let index = (y * this.width + x) * this.channels;\n        filter.call(this, index);\n      }\n    }\n  }\n}\n\nvalueMethods(Image);\nbitMethods(Image);\nexportMethods(Image);\n\nImage.prototype.checkProcessable = checkProcessable;\nImage.prototype.getRGBAData = getRGBAData;\n\nImage.load = load;\nImage.extendMethod = extendMethod;\nImage.extendProperty = extendProperty;\nextend(Image);\n","/**\n * This method checks if a process can be applied on the current image\n * @memberof Image\n * @instance\n * @param {string} processName\n * @param {object} [options]\n */\nexport default function checkProcessable(processName, options = {}) {\n  let { bitDepth, alpha, colorModel, components, channels } = options;\n  if (typeof processName !== 'string' || processName.length === 0) {\n    throw new TypeError('processName must be a string');\n  }\n  if (bitDepth) {\n    if (!Array.isArray(bitDepth)) {\n      bitDepth = [bitDepth];\n    }\n    if (!bitDepth.includes(this.bitDepth)) {\n      throw new TypeError(\n        `The process: ${processName} can only be applied if bit depth is in: ${bitDepth}`,\n      );\n    }\n  }\n  if (alpha) {\n    if (!Array.isArray(alpha)) {\n      alpha = [alpha];\n    }\n    if (!alpha.includes(this.alpha)) {\n      throw new TypeError(\n        `The process: ${processName} can only be applied if alpha is in: ${alpha}`,\n      );\n    }\n  }\n  if (colorModel) {\n    if (!Array.isArray(colorModel)) {\n      colorModel = [colorModel];\n    }\n    if (!colorModel.includes(this.colorModel)) {\n      throw new TypeError(\n        `The process: ${processName} can only be applied if color model is in: ${colorModel}`,\n      );\n    }\n  }\n  if (components) {\n    if (!Array.isArray(components)) {\n      components = [components];\n    }\n    if (!components.includes(this.components)) {\n      let errorMessage = `The process: ${processName} can only be applied if the number of components is in: ${components}`;\n      if (components.length === 1 && components[0] === 1) {\n        throw new TypeError(\n          `${errorMessage}.\\rYou should transform your image using \"image.grey()\" before applying the algorithm.`,\n        );\n      } else {\n        throw new TypeError(errorMessage);\n      }\n    }\n  }\n  if (channels) {\n    if (!Array.isArray(channels)) {\n      channels = [channels];\n    }\n    if (!channels.includes(this.channels)) {\n      throw new TypeError(\n        `The process: ${processName} can only be applied if the number of channels is in: ${channels}`,\n      );\n    }\n  }\n}\n","import { RGB } from '../model/model';\n\n/**\n * Retrieve the data of the current image as RGBA 8 bits\n * The source image may be:\n * * a mask (binary image)\n * * a grey image (8 16 bits) with or without alpha channel\n * * a color image (8 or 16 bits) with or without alpha channel in with RGB model\n * @instance\n * @memberof Image\n * @param {object} [options]\n * @param {boolean} [options.clamped] - If true, the function will return a Uint8ClampedArray\n * @return {Uint8Array|Uint8ClampedArray} - Array with the data\n */\nexport default function getRGBAData(options = {}) {\n  const { clamped } = options;\n  this.checkProcessable('getRGBAData', {\n    components: [1, 3],\n    bitDepth: [1, 8, 16, 32],\n  });\n  const arrayLength = this.width * this.height * 4;\n  let newData = clamped\n    ? new Uint8ClampedArray(arrayLength)\n    : new Uint8Array(arrayLength);\n  if (this.bitDepth === 1) {\n    fillDataFromBinary(this, newData);\n  } else if (this.bitDepth === 32) {\n    this.checkProcessable('getRGBAData', { alpha: 0 });\n    if (this.components === 1) {\n      fillDataFromGrey32(this, newData);\n    } else if (this.components === 3) {\n      this.checkProcessable('getRGBAData', { colorModel: [RGB] });\n      fillDataFromRGB32(this, newData);\n    }\n  } else {\n    if (this.components === 1) {\n      fillDataFromGrey(this, newData);\n    } else if (this.components === 3) {\n      this.checkProcessable('getRGBAData', { colorModel: [RGB] });\n      fillDataFromRGB(this, newData);\n    }\n  }\n  if (this.alpha === 1) {\n    this.checkProcessable('getRGBAData', { bitDepth: [8, 16] });\n    copyAlpha(this, newData);\n  } else {\n    fillAlpha(this, newData);\n  }\n  return newData;\n}\n\nfunction fillDataFromBinary(image, newData) {\n  for (let i = 0; i < image.size; i++) {\n    const value = image.getBit(i);\n    newData[i * 4] = value * 255;\n    newData[i * 4 + 1] = value * 255;\n    newData[i * 4 + 2] = value * 255;\n  }\n}\n\nfunction fillDataFromGrey32(image, newData) {\n  const min = image.min[0];\n  const max = image.max[0];\n  const range = max - min;\n  for (let i = 0; i < image.size; i++) {\n    const val = Math.floor((255 * (image.data[i] - min)) / range);\n    newData[i * 4] = val;\n    newData[i * 4 + 1] = val;\n    newData[i * 4 + 2] = val;\n  }\n}\n\nfunction fillDataFromRGB32(image, newData) {\n  const min = Math.min(...image.min);\n  const max = Math.max(...image.max);\n  const range = max - min;\n  for (let i = 0; i < image.size; i++) {\n    const val1 = Math.floor((255 * (image.data[i * 3] - min)) / range);\n    const val2 = Math.floor((255 * (image.data[i * 3 + 1] - min)) / range);\n    const val3 = Math.floor((255 * (image.data[i * 3 + 2] - min)) / range);\n    newData[i * 4] = val1;\n    newData[i * 4 + 1] = val2;\n    newData[i * 4 + 2] = val3;\n  }\n}\n\nfunction fillDataFromGrey(image, newData) {\n  for (let i = 0; i < image.size; i++) {\n    newData[i * 4] = image.data[i * image.channels] >>> (image.bitDepth - 8);\n    newData[i * 4 + 1] =\n      image.data[i * image.channels] >>> (image.bitDepth - 8);\n    newData[i * 4 + 2] =\n      image.data[i * image.channels] >>> (image.bitDepth - 8);\n  }\n}\n\nfunction fillDataFromRGB(image, newData) {\n  for (let i = 0; i < image.size; i++) {\n    newData[i * 4] = image.data[i * image.channels] >>> (image.bitDepth - 8);\n    newData[i * 4 + 1] =\n      image.data[i * image.channels + 1] >>> (image.bitDepth - 8);\n    newData[i * 4 + 2] =\n      image.data[i * image.channels + 2] >>> (image.bitDepth - 8);\n  }\n}\n\nfunction copyAlpha(image, newData) {\n  for (let i = 0; i < image.size; i++) {\n    newData[i * 4 + 3] =\n      image.data[i * image.channels + image.components] >> (image.bitDepth - 8);\n  }\n}\n\nfunction fillAlpha(image, newData) {\n  for (let i = 0; i < image.size; i++) {\n    newData[i * 4 + 3] = 255;\n  }\n}\n","/* eslint-disable import/order */\n\n// filters\nimport absFilter from './filter/abs';\nimport invertFilter from './filter/invert';\nimport flipXFilter from './filter/flipX';\nimport flipYFilter from './filter/flipY';\nimport blurFilter from './filter/blurFilter';\nimport medianFilter from './filter/medianFilter';\nimport gaussianFilter from './filter/gaussianFilter';\nimport sobelFilter from './filter/sobelFilter';\nimport scharrFilter from './filter/scharrFilter';\nimport gradientFilter from './filter/gradientFilter';\nimport levelFilter from './filter/level';\nimport addFilter from './filter/add';\nimport subtractFilter from './filter/subtract';\nimport subtractImage from './filter/subtractImage';\nimport hypotenuseFilter from './filter/hypotenuse';\nimport multiplyFilter from './filter/multiply';\nimport divideFilter from './filter/divide';\nimport backgroundFilter from './filter/background';\n\n// morphology transforms\nimport dilate from './morphology/dilate';\nimport erode from './morphology/erode';\nimport open from './morphology/open';\nimport close from './morphology/close';\nimport topHat from './morphology/topHat';\nimport blackHat from './morphology/blackHat';\nimport morphologicalGradient from './morphology/morphologicalGradient';\n\n// transforms\nimport warpingFourPoints from './transform/warping';\nimport crop from './transform/crop';\nimport cropAlpha from './transform/cropAlpha';\nimport resize from './transform/resize/resize';\nimport hsv from './transform/hsv';\nimport hsl from './transform/hsl';\nimport cmyk from './transform/cmyk';\nimport rgba8 from './transform/rgba8';\nimport grey from './transform/grey';\nimport mask from './transform/mask/mask';\nimport pad from './transform/pad';\nimport colorDepth from './transform/colorDepth';\nimport { rotate, rotateLeft, rotateRight } from './transform/rotate';\nimport insert from './transform/insert';\n\n// utility\nimport setBorder from './utility/setBorder';\nimport split from './utility/split';\nimport getChannel from './utility/getChannel';\nimport combineChannels from './utility/combineChannels';\nimport setChannel from './utility/setChannel';\nimport getSimilarity from './utility/getSimilarity';\nimport getPixelsGrid from './utility/getPixelsGrid';\nimport getBestMatch from './utility/getBestMatch';\nimport getRow from './utility/getRow';\nimport getColumn from './utility/getColumn';\nimport getMatrix from './utility/getMatrix';\nimport setMatrix from './utility/setMatrix';\nimport getPixelsArray from './utility/getPixelsArray';\nimport getIntersection from './utility/getIntersection';\nimport getClosestCommonParent from './utility/getClosestCommonParent';\nimport getThreshold from './utility/getThreshold';\n\n// operators\nimport cannyEdge from './operator/cannyEdge';\nimport convolution from './operator/convolution';\nimport extract from './operator/extract';\nimport floodFill from './operator/floodFill';\nimport paintLabels from './operator/paintLabels';\nimport paintMasks from './operator/paintMasks';\nimport paintPoints from './operator/paintPoints';\nimport paintPolyline from './operator/paintPolyline';\nimport paintPolylines from './operator/paintPolylines';\nimport paintPolygon from './operator/paintPolygon';\nimport paintPolygons from './operator/paintPolygons';\n\n// computers\nimport { getHistogram, getHistograms } from './compute/histogram';\nimport getColorHistogram from './compute/colorHistogram';\nimport getMin from './compute/min';\nimport getMax from './compute/max';\nimport getSum from './compute/sum';\nimport getMoment from './compute/moment';\nimport getLocalMaxima from './compute/localMaxima';\nimport getMean from './compute/mean';\nimport getMedian from './compute/median';\nimport getPoints from './compute/points';\nimport getExtendedPoints from './compute/extendedPoints';\nimport getRelativePosition from './compute/relativePosition';\nimport countAlphaPixels from './compute/countAlphaPixels';\nimport monotoneChainConvexHull from './compute/monotoneChainConvexHull';\nimport minimalBoundingRectangle from './compute/minimalBoundingRectangle';\n\nexport default function extend(Image) {\n  let inPlace = { inPlace: true };\n\n  Image.extendMethod('invert', invertFilter);\n  Image.extendMethod('abs', absFilter);\n  Image.extendMethod('level', levelFilter, inPlace);\n  Image.extendMethod('add', addFilter, inPlace);\n  Image.extendMethod('subtract', subtractFilter, inPlace);\n  Image.extendMethod('subtractImage', subtractImage);\n  Image.extendMethod('multiply', multiplyFilter, inPlace);\n  Image.extendMethod('divide', divideFilter, inPlace);\n  Image.extendMethod('hypotenuse', hypotenuseFilter);\n  Image.extendMethod('background', backgroundFilter);\n  Image.extendMethod('flipX', flipXFilter);\n  Image.extendMethod('flipY', flipYFilter);\n\n  Image.extendMethod('blurFilter', blurFilter);\n  Image.extendMethod('medianFilter', medianFilter);\n  Image.extendMethod('gaussianFilter', gaussianFilter);\n  Image.extendMethod('sobelFilter', sobelFilter);\n  Image.extendMethod('gradientFilter', gradientFilter);\n  Image.extendMethod('scharrFilter', scharrFilter);\n\n  Image.extendMethod('dilate', dilate);\n  Image.extendMethod('erode', erode);\n  Image.extendMethod('open', open);\n  Image.extendMethod('close', close);\n  Image.extendMethod('topHat', topHat);\n  Image.extendMethod('blackHat', blackHat);\n  Image.extendMethod('morphologicalGradient', morphologicalGradient);\n\n  Image.extendMethod('warpingFourPoints', warpingFourPoints);\n  Image.extendMethod('crop', crop);\n  Image.extendMethod('cropAlpha', cropAlpha);\n  Image.extendMethod('resize', resize).extendMethod('scale', resize);\n  Image.extendMethod('hsv', hsv);\n  Image.extendMethod('hsl', hsl);\n  Image.extendMethod('cmyk', cmyk);\n  Image.extendMethod('rgba8', rgba8);\n  Image.extendMethod('grey', grey).extendMethod('gray', grey);\n  Image.extendMethod('mask', mask);\n  Image.extendMethod('pad', pad);\n  Image.extendMethod('colorDepth', colorDepth);\n  Image.extendMethod('setBorder', setBorder, inPlace);\n  Image.extendMethod('rotate', rotate);\n  Image.extendMethod('rotateLeft', rotateLeft);\n  Image.extendMethod('rotateRight', rotateRight);\n  Image.extendMethod('insert', insert);\n\n  Image.extendMethod('getRow', getRow);\n  Image.extendMethod('getColumn', getColumn);\n  Image.extendMethod('getMatrix', getMatrix);\n  Image.extendMethod('setMatrix', setMatrix);\n  Image.extendMethod('getPixelsArray', getPixelsArray);\n  Image.extendMethod('getIntersection', getIntersection);\n  Image.extendMethod('getClosestCommonParent', getClosestCommonParent);\n  Image.extendMethod('getThreshold', getThreshold);\n\n  Image.extendMethod('split', split);\n  Image.extendMethod('getChannel', getChannel);\n  Image.extendMethod('combineChannels', combineChannels);\n  Image.extendMethod('setChannel', setChannel);\n  Image.extendMethod('getSimilarity', getSimilarity);\n  Image.extendMethod('getPixelsGrid', getPixelsGrid);\n  Image.extendMethod('getBestMatch', getBestMatch);\n\n  Image.extendMethod('cannyEdge', cannyEdge);\n  Image.extendMethod('convolution', convolution);\n  Image.extendMethod('extract', extract);\n  Image.extendMethod('floodFill', floodFill);\n  Image.extendMethod('paintLabels', paintLabels, inPlace);\n  Image.extendMethod('paintMasks', paintMasks, inPlace);\n  Image.extendMethod('paintPoints', paintPoints, inPlace);\n  Image.extendMethod('paintPolyline', paintPolyline, inPlace);\n  Image.extendMethod('paintPolylines', paintPolylines, inPlace);\n  Image.extendMethod('paintPolygon', paintPolygon, inPlace);\n  Image.extendMethod('paintPolygons', paintPolygons, inPlace);\n\n  Image.extendMethod('countAlphaPixels', countAlphaPixels);\n  Image.extendMethod('monotoneChainConvexHull', monotoneChainConvexHull);\n  Image.extendMethod('minimalBoundingRectangle', minimalBoundingRectangle);\n  Image.extendMethod('getHistogram', getHistogram).extendProperty(\n    'histogram',\n    getHistogram,\n  );\n  Image.extendMethod('getHistograms', getHistograms).extendProperty(\n    'histograms',\n    getHistograms,\n  );\n  Image.extendMethod('getColorHistogram', getColorHistogram).extendProperty(\n    'colorHistogram',\n    getColorHistogram,\n  );\n  Image.extendMethod('getMin', getMin).extendProperty('min', getMin);\n  Image.extendMethod('getMax', getMax).extendProperty('max', getMax);\n  Image.extendMethod('getSum', getSum).extendProperty('sum', getSum);\n  Image.extendMethod('getMoment', getMoment).extendProperty(\n    'moment',\n    getMoment,\n  );\n  Image.extendMethod('getLocalMaxima', getLocalMaxima);\n  Image.extendMethod('getMedian', getMedian).extendProperty(\n    'median',\n    getMedian,\n  );\n  Image.extendMethod('getMean', getMean).extendProperty('mean', getMean);\n  Image.extendMethod('getPoints', getPoints).extendProperty(\n    'points',\n    getPoints,\n  );\n  Image.extendMethod('getExtendedPoints', getExtendedPoints).extendProperty(\n    'extendedPoints',\n    getExtendedPoints,\n  );\n  Image.extendMethod('getRelativePosition', getRelativePosition);\n}\n","import Image from '../../../image/Image';\n\nconst defaultOptions = {\n  regression: {\n    kernelType: 'polynomial',\n    kernelOptions: { degree: 2, constant: 1 },\n  },\n  threshold: 0.02,\n  roi: {\n    minSurface: 100,\n    positive: false,\n  },\n  sampling: 20,\n  include: [],\n};\n\nfunction run(image, options, onStep) {\n  options = Object.assign({}, defaultOptions, options);\n  const manager = this.manager;\n  if (Array.isArray(image)) {\n    return Promise.all(\n      image.map(function (img) {\n        const run = runOnce(manager, img, options);\n        if (typeof onStep === 'function') {\n          run.then(onStep);\n        }\n        return run;\n      }),\n    );\n  } else {\n    return runOnce(manager, image, options);\n  }\n}\n\nfunction runOnce(manager, image, options) {\n  return manager.post('data', [image, options]).then(function (response) {\n    for (let i in response) {\n      response[i] = new Image(response[i]);\n    }\n    return response;\n  });\n}\n\nfunction work() {\n  worker.on('data', function (send, image, options) {\n    image = new IJS(image);\n    const result = {};\n    const toTransfer = [];\n\n    const grey = image.grey();\n\n    const sobel = grey.sobelFilter();\n    maybeInclude('sobel', sobel);\n\n    const mask = sobel.level().mask({ threshold: options.threshold });\n    maybeInclude('mask', mask);\n\n    const roiManager = sobel.getRoiManager();\n    roiManager.fromMask(mask);\n    const realMask = roiManager.getMask(options.roi);\n    maybeInclude('realMask', realMask);\n\n    const pixels = grey.getPixelsGrid({\n      sampling: options.sampling,\n      mask: realMask,\n    });\n\n    const background = image.getBackground(\n      pixels.xyS,\n      pixels.zS,\n      options.regression,\n    );\n    maybeInclude('background', background);\n\n    const corrected = image.subtract(background);\n\n    result.result = corrected;\n    toTransfer.push(corrected.data.buffer);\n    send(result, toTransfer);\n\n    function maybeInclude(name, image) {\n      if (options.include.includes(name)) {\n        result[name] = image;\n        toTransfer.push(image.data.buffer);\n      }\n    }\n  });\n}\n\nconst background = { run, work };\nexport default background;\n","import WorkerManager from 'web-worker-manager';\n\nimport extend from './extend';\n\nclass Worker {\n  constructor() {\n    this._url = null;\n    this._deps = [null];\n  }\n  checkUrl() {\n    if (this._url === null) {\n      throw new Error('image worker must be initialized with an URL');\n    }\n  }\n  get url() {\n    return this._url;\n  }\n  set url(value) {\n    if (typeof value !== 'string') {\n      throw new TypeError('worker URL must be a string');\n    }\n    this._url = value;\n    this._deps[0] = value;\n  }\n  static extendMethod(name, method) {\n    let manager;\n    let url;\n    let runner = {};\n\n    function run(...args) {\n      if (!manager) {\n        this.checkUrl();\n        url = this.url;\n        manager = new WorkerManager(method.work, { deps: url });\n        runner.manager = manager;\n      }\n      return method.run.call(runner, ...args);\n    }\n\n    run.reset = function () {\n      if (manager) {\n        manager.terminate();\n        manager = new WorkerManager(method.work, { deps: url });\n        runner.manager = manager;\n      }\n    };\n    Worker.prototype[name] = run;\n  }\n}\n\nextend(Worker);\n\nexport default new Worker();\n","import background from './process/background';\n\nexport default function extend(Worker) {\n  Worker.extendMethod('background', background);\n}\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport Heading from \"../components/Heading\";\r\nimport { close } from \"../assets\";\r\nimport Slideshow from \"../components/Slideshow\";\r\nimport BinaryArt from \"./BinaryArt\";\r\nimport { imageToBinary } from \"../components/imageToBinary\";\r\nimport artImage from \"../assets/binaryart/image-1.png\";\r\n\r\n// Function to import all film images from the assets folder\r\nconst importAll = (r) => r.keys().map(r);\r\nconst filmImages = importAll(\r\n  require.context(\"../assets/films\", false, /\\.png$/)\r\n);\r\n\r\nconst ArtContent = ({ theories }) => {\r\n  // Initialize variables\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const [binaryData, setBinaryData] = useState(\"\");\r\n  const [backgroundImage, setBackgroundImage] = useState(\"\");\r\n  const theory = theories.find((item) => item.id === id);\r\n\r\n  // Effect hook to set up random background image and scroll to top\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const randomImage =\r\n      filmImages[Math.floor(Math.random() * filmImages.length)];\r\n    setBackgroundImage(randomImage);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    async function convertImage() {\r\n      try {\r\n        const binary = await imageToBinary(artImage);\r\n        setBinaryData(binary);\r\n      } catch (error) {\r\n        console.error(\"Error converting image to binary:\", error);\r\n      }\r\n    }\r\n    convertImage();\r\n  }, []);\r\n\r\n  // Function to handle going back\r\n  const goBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  if (!theory) {\r\n    return <section>Design not found</section>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Background overlay */}\r\n      <section\r\n        style={{\r\n          position: \"fixed\",\r\n          top: 0,\r\n          left: 0,\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n          backgroundImage: `url(${backgroundImage})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center\",\r\n          zIndex: 9999,\r\n        }}\r\n        onClick={goBack}\r\n      ></section>\r\n\r\n      {/* Content section */}\r\n      <section\r\n        style={{\r\n          maxWidth: \"1000px\",\r\n          margin: \"100px auto 0\",\r\n          padding: \"20px\",\r\n          position: \"relative\",\r\n          borderRadius: \"10px\",\r\n          boxShadow: \"0 0 10px rgba(0, 0, 0, 0.3)\",\r\n          zIndex: 10000,\r\n          backgroundColor: \"#0a0321\",\r\n        }}\r\n      >\r\n        {/* Close button */}\r\n        <aside\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"10px\",\r\n            right: \"10px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={goBack}\r\n        >\r\n          <img\r\n            src={close}\r\n            alt=\"Close\"\r\n            style={{ width: \"30px\", height: \"30px\" }}\r\n          />\r\n        </aside>\r\n\r\n        {/* Main content */}\r\n        <article\r\n          style={{ maxWidth: \"800px\", margin: \"0 auto\", padding: \"20px\" }}\r\n        >\r\n          <Heading tag=\"Art\" title={theory.title} />\r\n          <BinaryArt binaryData={binaryData} />\r\n          {/* Render theory content */}\r\n          {theory.content.map((content, index) => (\r\n            <p key={index} style={{ marginBottom: \"10px\" }}>\r\n              {content}\r\n            </p>\r\n          ))}\r\n          {/* Render slideshow if pictures are available */}\r\n          {/* {theory.picture && theory.picture.length > 0 && ( */}\r\n          {/* <Slideshow images={theory.picture} /> */}\r\n          {/* )} */}\r\n        </article>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ArtContent;\r\n","// Import the Image class from the 'image-js' library, which provides utilities for image processing.\r\nimport { Image } from \"image-js\";\r\n\r\n// Defines the function that converts a image to a binary string representation.\r\nexport async function imageToBinary(imagePath) {\r\n  // Load the image from the provided path. The Image.load function returns a promise, so we use await.\r\n  const image = await Image.load(imagePath);\r\n\r\n  // Convert the image to a greyscale version. The grey method transforms the image to greyscale.\r\n  const greyImage = image.grey();\r\n\r\n  // Calculate the threshold value for binarization. This is typically half of the maximum pixel value.\r\n  const threshold = greyImage.maxValue / 2;\r\n\r\n  // Initialize an empty string to build the binary representation of the image.\r\n  let binaryString = \"\";\r\n\r\n  // Loop through each row (y-coordinate) of the greyscale image.\r\n  for (let y = 0; y < greyImage.height; y++) {\r\n    // Loop through each column (x-coordinate) of the current row.\r\n    for (let x = 0; x < greyImage.width; x++) {\r\n      // Get the pixel value at the current (x, y) position.\r\n      const pixelValue = greyImage.getPixelXY(x, y);\r\n\r\n      // Compare the pixel value to the threshold.\r\n      // If the pixel value is greater than the threshold, append '1' to the binary string (indicating a white pixel in binary image).\r\n      // Otherwise, append '0' (indicating a black pixel in binary image).\r\n      binaryString += pixelValue > threshold ? \"1\" : \"0\";\r\n    }\r\n    // After processing each row, add a newline character to separate rows in the binary string.\r\n    binaryString += \"\\n\";\r\n  }\r\n  // Return the complete binary string representation of the image.\r\n  return binaryString;\r\n}\r\n\r\n//I found that the image-js doc help in converting the image to a greyscale so i can got through each pixel as assign a 0 or 1 value to it\r\n//https://www.npmjs.com/package/image-js\r\n//https://image-js.github.io/image-js/\r\n//The codde here help in learning how to assign values to the pixels i just had to change it so it would work for react/js\r\n//https://www.geeksforgeeks.org/matlab-converting-a-grayscale-image-to-binary-image-using-thresholding/\r\n","import React from \"react\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport Homepage from \"./Homepage\";\r\nimport Layout from \"../components/Layout\";\r\nimport TheoryWorks from \"./TheoryWorks\";\r\nimport DesignWorks from \"./DesignWorks\";\r\nimport EssayContent from \"./EssayContent\";\r\nimport DesignContent from \"./DesignContent\";\r\nimport AboutContent from \"./AboutContent\";\r\nimport ArtContent from \"./ArtContent\";\r\nimport { theorywork, design, about, art } from \"../constants/information\";\r\n\r\nconst Pages = () => {\r\n  return (\r\n    <Routes>\r\n      <Route\r\n        path=\"/\"\r\n        element={\r\n          <Layout>\r\n            <Homepage />\r\n          </Layout>\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/theoryworks\"\r\n        element={\r\n          <Layout>\r\n            <TheoryWorks />\r\n          </Layout>\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/design\"\r\n        element={\r\n          <Layout>\r\n            <DesignWorks />\r\n          </Layout>\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/essay/:id\"\r\n        element={<EssayContent theories={theorywork} />}\r\n      />\r\n      <Route path=\"/design/:id\" element={<DesignContent theories={design} />} />\r\n      <Route path=\"/about/:id\" element={<AboutContent theories={about} />} />\r\n      <Route path=\"/art/:id\" element={<ArtContent theories={art} />} />\r\n    </Routes>\r\n  );\r\n};\r\n\r\nexport default Pages;\r\n","import React from \"react\";\r\nimport Pages from \"./pages/Pages\"; // Ensure this path is correct for your project\r\n\r\nconst App = () => {\r\n  return (\r\n    <section className=\"App\">\r\n      <Pages />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\n//All Images i got from the internet\r\n// I used JavaScript Mastery video to learn this styling way\r\n// Links to videos are below:\r\n//https://www.youtube.com/watch?v=0fYi8SGA20k&list=PL6QREj8te1P7oAhnGpSuO1cwSi0xcLihD&index=1\r\n//https://www.youtube.com/watch?v=LMagNcngvcU&list=PL6QREj8te1P6CkO_4OIK1-nwG5OxCD5tR&index=3\r\n//https://www.youtube.com/watch?v=4oV65GVVits&list=PL6QREj8te1P6CkO_4OIK1-nwG5OxCD5tR&index=5&t=220s\r\n","//index.js\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <Router basename=\"/React-Website\">\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>\r\n);\r\n"],"names":["IOBuffer","require","constants","tableLeft","i","push","module","exports","constructor","data","bitDepth","Error","height","width","super","this","channels","components","encode","encoded","skip","writeBitmapV5Header","writeColorTable","offset","writePixelArray","rewind","writeBitmapFileHeader","toArray","io","rowSize","Math","floor","dataRowSize","ceil","skipSize","bitOverflow","bitSkip","totalBytes","byteA","byteB","relOffset","iOffset","mark","readUint8","lastRow","reset","j","lastCol","writeByte","readByte","writeUint8","writeUint32","imageOffset","writeChars","writeInt32","lastWrittenByte","writeUint16","BITMAPV5HEADER","Compression","BI_RGB","pow","LogicalColorSpace","LCS_sRGB","GamutMappingIntent","LCS_GM_IMAGES","LCS_CALIBRATED_RGB","LCS_WINDOWS_COLOR_SPACE","BI_RLE8","BI_RLE4","BI_BITFIELDS","BI_JPEG","BI_PNG","BI_CMYK","BI_CMYKRLE8","BI_CMYKRLE4","LCS_GM_ABS_COLORIMETRIC","LCS_GM_BUSINESS","LCS_GM_GRAPHICS","Encoder","charArray","options","undefined","ArrayBuffer","length","byteLength","buffer","slice","byteOffset","littleEndian","_data","DataView","_increment","_mark","available","isLittleEndian","setLittleEndian","isBigEndian","setBigEndian","n","seek","ensureAvailable","newIncrement","newLength","newArray","Uint8Array","set","readBoolean","readInt8","getInt8","getUint8","readBytes","bytes","readInt16","value","getInt16","readUint16","getUint16","readInt32","getInt32","readUint32","getUint32","readFloat32","getFloat32","readFloat64","getFloat64","readChar","String","fromCharCode","readChars","join","writeBoolean","bool","writeInt8","setInt8","setUint8","writeBytes","writeInt16","setInt16","setUint16","setInt32","setUint32","writeFloat32","setFloat32","writeFloat64","setFloat64","writeChar","str","charCodeAt","TIFFDecoder","decode","tags","standard","exif","gps","kind","fields","Map","_map","get","tag","tagsByName","map","taglist","tagsById","key","keys","types","decoder","count","strings","currentString","char","array","Uint16Array","Uint32Array","rationals","Array","Int8Array","Int16Array","Int32Array","Float32Array","Float64Array","getByteLength","type","readData","IFD","TiffIFD","IFDValue","defaultOptions","ignoreImageData","onlyFirst","fill8bit","dataTo","dataFrom","index","fill16bit","fillFloat32","unsupported","_nextIFD","Object","assign","result","decodeHeader","decodeIFD","toString","ifd","numEntries","decodeIFDEntry","decodeImageData","numValues","currentOffset","orientation","readStripData","bitDepthArray","validateBitDepth","bitsPerSample","sampleFormat","size","getDataArray","compression","maxPixels","rowsPerStrip","stripOffsets","stripByteCounts","pixel","stripData","getStripData","byteCounts","Ifd","dateTimeRegex","alwaysArray","imageWidth","imageLength","samplesPerPixel","date","Date","exec","dateTime","setFullYear","setHours","newSubfileType","fillOrder","documentName","imageDescription","minSampleValue","maxSampleValue","xResolution","yResolution","planarConfiguration","resolutionUnit","predictor","sMinSampleValue","sMaxSampleValue","tiff","header","Item","prev","next","FastList","_head","_tail","prototype","pop","t","unshift","shift","h","item","m","len","ret","drop","call","forEach","fn","thisp","p","v","me","filter","reduce","val","FFT","_csize","table","angle","PI","cos","sin","power","_width","_bitrev","revShift","_out","_inv","fromComplexArray","complex","storage","res","createComplexArray","toComplexArray","input","completeSpectrum","spectrum","half","transform","out","_transform4","realTransform","_realTransform4","inverseTransform","outOff","step","bitrev","off","_singleTransform2","_singleTransform4","inv","quarterLen","limit","k","A","B","C","D","Ar","Ai","Br","Bi","Cr","Ci","Dr","Di","MAr","MAi","tableBr","tableBi","MBr","MBi","tableCr","tableCi","MCr","MCi","tableDr","tableDi","MDr","MDi","T0r","T0i","T1r","T1i","T2r","T2i","T3r","T3i","FAr","FAi","FCr","FCi","FBr","FBi","FDr","FDi","evenR","evenI","oddR","oddI","leftR","leftI","rightR","rightI","step2","step3","_singleRealTransform2","_singleRealTransform4","halfLen","hquarterLen","SFAr","SFAi","SFBr","SFBi","SA","SB","toBytes","s","c","xpiZipFilename","oxmlContentTypes","oxmlRels","readUInt64LE","buf","arguments","mul","fileType","Buffer","isBuffer","TypeError","concat","check","mask","checkString","ext","mime","findNextZipHeaderIndex","arr","startAt","findIndex","el","zipHeaderIndex","oxmlFound","sliced","subarray","idPos","docTypePos","findDocType","every","objectSize","start","defineProperty","stream","readableStream","Promise","resolve","reject","eval","once","pass","PassThrough","chunk","read","minimumBytes","error","pipeline","pipe","hasOwnProperty","prop","obj","version","imageExts","Set","imageType","has","TextDecoder","encoder","TextEncoder","hostBigEndian","typedArrays","int8","globalThis","uint8","int16","uint16","int32","uint32","uint64","BigUint64Array","int64","BigInt64Array","float32","float64","dataIsGiven","dvOffset","isView","_marks","back","pushMark","popMark","readArray","BYTES_PER_ELEMENT","reverse","returnArray","readBigInt64","getBigInt64","readBigUint64","getBigUint64","readUtf8","decodeText","encoding","_updateLastWrittenByte","writeBigInt64","setBigInt64","writeBigUint64","setBigUint64","writeUtf8","scope","FastTextEncoder","utfLabel","RangeError","FastTextDecoder","fatal","string","pos","at","tlen","max","target","extra","update","byte1","byte2","byte3","codepoint","apply","window","self","isAnyArray","endsWith","includes","substr","Number","isFinite","Infinity","isInteger","JpegImage","dctZigZag","dctCos1","dctSin1","dctCos3","dctSin3","dctCos6","dctSin6","dctSqrt2","dctSqrt1d2","buildHuffmanTable","codeLengths","values","code","children","q","decodeScan","frame","resetInterval","spectralStart","spectralEnd","successivePrev","successive","opts","precision","samplesPerLine","scanLines","mcusPerLine","progressive","startOffset","maxH","maxV","bitsData","bitsCount","readBit","nextByte","decodeHuffman","tree","bit","node","receive","receiveAndExtend","eobrun","successiveACNextValue","successiveACState","decodeMcu","component","mcu","row","col","mcuCol","blockRow","blockCol","blocks","tolerantDecoding","decodeBlock","blocksPerLine","decodeFn","componentsLength","zz","huffmanTableDC","diff","pred","e","rs","huffmanTableAC","r","z","direction","marker","mcuExpected","blocksPerColumn","mcusPerColumn","buildComponentData","lines","R","quantizeAndInverse","dataOut","dataIn","v0","v1","v2","v3","v4","v5","v6","v7","qt","quantizationTable","sample","requestMemoryAllocation","scanLine","line","clampTo8bit","a","load","path","xhr","XMLHttpRequest","open","responseType","onload","response","mozResponseArrayBuffer","parse","bind","send","maxResolutionInPixels","maxResolutionInMP","readDataBlock","prepareComponents","componentId","blocksPerLineForMcu","blocksPerColumnForMcu","jfif","adobe","quantizationTables","frames","huffmanTablesAC","huffmanTablesDC","fileMarker","malformedDataOffset","comments","appData","comment","major","minor","densityUnits","xDensity","yDensity","thumbWidth","thumbHeight","thumbData","exifBuffer","flags0","flags1","transformCode","quantizationTablesEnd","quantizationTableSpec","tableData","extended","componentsOrder","pixelsInFrame","exceededAmount","componentsCount","qId","quantizationIdx","huffmanLength","huffmanTableSpec","codeLengthSum","huffmanValues","selectorsCount","tableSpec","successiveApproximation","processed","nextOffset","cp","scaleX","scaleY","getData","component1","component2","component3","component4","component1Line","component2Line","component3Line","component4Line","x","y","Y","Cb","K","M","Ye","G","colorTransform","dataLength","copyToImageData","imageData","formatAsRGBA","imageDataArray","totalBytesAllocated","maxMemoryUsageBytes","totalMemoryImpactBytes","resetMaxMemoryUsage","maxMemoryUsageBytes_","getBytesAllocated","jpegData","userOpts","useTArray","maxMemoryUsageInMB","bytesNeeded","image","alloc","err","ReferenceError","message","JPEGEncoder","quality","round","YDC_HT","UVDC_HT","YAC_HT","UVAC_HT","currentQuality","ffloor","YTable","UVTable","fdtbl_Y","fdtbl_UV","bitcode","category","outputfDCTQuant","DU","byteout","bytenew","bytepos","YDU","UDU","VDU","clt","RGB_YUV_TABLE","ZigZag","std_dc_luminance_nrcodes","std_dc_luminance_values","std_ac_luminance_nrcodes","std_ac_luminance_values","std_dc_chrominance_nrcodes","std_dc_chrominance_values","std_ac_chrominance_nrcodes","std_ac_chrominance_values","computeHuffmanTbl","nrcodes","std_table","codevalue","pos_in_table","HT","writeBits","bs","posval","writeWord","processDU","CDU","fdtbl","DC","HTDC","HTAC","EOB","M16zeroes","DU_DCT","d0","d1","d2","d3","d4","d5","d6","d7","fDCTQuant","dataOff","tmp0","tmp7","tmp1","tmp6","tmp2","tmp5","tmp3","tmp4","tmp10","tmp13","tmp11","tmp12","z1","z5","z2","z4","z3","z11","z13","tmp0p2","tmp7p2","tmp1p2","tmp6p2","tmp2p2","tmp5p2","tmp3p2","tmp4p2","tmp10p2","tmp13p2","tmp11p2","tmp12p2","z1p2","z5p2","z2p2","z4p2","z3p2","z11p2","z13p2","Diff","end0pos","lng","startpos","nrzeroes","nrmarker","setQuality","sf","YQT","UVQT","u","aasf","initQuantTables","getTime","l","writeAPP1","writeDQT","writeSOF0","o","writeDHT","DCY","DCU","DCV","displayName","g","b","quadWidth","fillbits","from","sfcc","initCharLookupTable","nrlower","nrupper","cat","nr","nrneg","initCategoryNumber","initRGBYUVTable","init","imgData","qu","f","_dereq_","AbstractPriorityQueue","ArrayStrategy","BHeapStrategy","BinaryHeapStrategy","PriorityQueue","extend","child","parent","hasProp","ctor","__super__","superClass","strategy","comparator","ref","priv","initialValues","queue","dequeue","peek","clear","binarySearchForIndexReversed","high","low","mid","sort","splice","ref1","pageSize","_shift","_emptyMemoryPageTemplate","_memory","_mask","_write","_bubbleUp","_read","_bubbleDown","page","compare","indexInPage","parentIndex","parentValue","childIndex1","childIndex2","childValue1","childValue2","_heapify","last","left","minIndex","right","isString","isFiniteImpl","isNumber","identity","uniq","seen","compareArray","array1","array2","properties","mulSafe","decimals","arg","getFractional","divSafe","num","den","factor","QtyError","create","name","stack","throwIncompatibleUnits","UNITS","BASE_UNITS","UNITY","UNITY_ARRAY","validateUnitDefinition","unitDef","definition","scalar","numerator","denominator","unit","PREFIX_VALUES","PREFIX_MAP","UNIT_VALUES","UNIT_MAP","OUTPUT_MAP","getUnits","units","unitKeys","indexOf","getKinds","toLowerCase","getAliases","unitName","SIGNATURE_VECTOR","unitSignature","signature","vector","unitSignatureVector","previous","current","isBase","toBase","SIGN","INTEGER","FRACTION","QTY_STRING_REGEX","RegExp","POWER_OP","SAFE_POWER","TOP_REGEX","BOTTOM_REGEX","trim","scalarMatch","replace","parseFloat","nx","top","bottom","isNaN","UNIT_TEST_REGEX","test","abs","parseUnits","PREFIX_REGEX","UNIT_REGEX","UNIT_MATCH","UNIT_MATCH_REGEX","parsedUnitsCache","cached","unitMatch","normalizedUnits","globalParse","isQty","Qty","initValue","initUnits","assertValidConstructorArgs","baseScalar","_conversionCache","isDefinitionObject","updateBaseScalar","isTemperature","base","KINDS","knownSignature","subtractTemperatures","lhs","rhs","lhsUnits","rhsConverted","to","dstDegrees","getDegreeUnits","subtractTempDegrees","temp","deg","tempDegrees","addTempDegrees","toDegrees","src","dst","dstScalar","srcDegK","toDegK","dstUnits","qty","match","toTemp","toTempK","swiftConverter","srcUnits","convert","srcQty","dstQty","eq","isArray","isDegrees","other","isCompatible","isInverse","inverse","baseUnitCache","toBaseUnits","toFloat","isUnitless","toPrec","precQuantity","cleanTerms","num1","den1","num2","den2","notUnity","combined","combineTerms","terms","prefix","prefixValue","combinedPrefixValue","scale","NestedMap","defaultFormatter","add","sub","op1","op2","numdenscale","div","compareTo","lt","lte","gt","gte","same","_isBase","childMap","formatter","_units","numIsUnity","denIsUnity","numUnits","stringifyUnits","denUnits","targetUnitsOrMaxDecimalsOrPrec","maxDecimals","targetUnits","format","targetQty","stringifiedUnitsCache","stringified","simplify","getOutputNames","token","tokenNext","unitNames","acc","unitCounter","unitCount","factory","d","_ref","median","rescale","output","currentMin","_options$fromIndex","fromIndex","_options$toIndex","toIndex","minValue","min","currentMax","maxValue","_options$min","autoMinMax","_options$max","DisjointSetNode","rank","nodes","union","rootX","find","rootY","toUpdateX","toUpdateParent","connected","squaredEuclidean","euclidean","sqrt","FFTUtils","DEBUG","ifft2DArray","ft","ftRows","ftCols","tempTransform","nRows","nCols","tmpCols","re","im","iCol","iRow","bt","finalTransform","tmpRows","indexB","fft2DArray","opt","inplace","iRow0","iRow1","iRow2","iRow3","row1","row2","fft1d","reconstructTwoRealFFT","fourierTransform","realTransform1","realTransform2","rm","rp","ip","convolute2DI","ftSignal","ftFilter","convolute","kernel","ftSpectrum","dimR","dimC","ftFilterData","shiftR","shiftC","ir","ic","toRadix2","irow","icol","cols","rows","crop","destinyRow","sourceRow","_n","_cstb","core","_initArray","_makeBitReversalTable","_makeCosSinTable","fft","ifft1d","bt1d","fft2d","tre","tim","x1","x2","y1","y2","ifft2d","ik","tmp","wr","wi","xr","xi","n4","_paddingZero","n2","n8","n2p4","dc","ds","apis","ifft","sigma","divisor","compute","distance","exp","degree","constant","sum","alpha","E","tanh","Matrix","MatrixTransposeView","GaussianKernel","PolynomialKernel","SigmoidKernel","ANOVAKernel","CauchyKernel","ExponentialKernel","HistogramKernel","kernelType","gaussian","rbf","polynomial","poly","anova","cauchy","exponential","histogram","laplacian","multiquadratic","rational","sigmoid","mlp","KernelConstructor","kernelFunction","inputs","landmarks","checkMatrix","mmul","kernelMatrix","getRow","matrix2Array","inputData","normalize","kHeight","kWidth","radix2Sized","conv","direct","kVal","hHeight","hWidth","kernelFactory","LoG","nPoints","center","sigma2","_classPrivateFieldInitSpec","_classPrivateFieldSet","_classPrivateFieldGet","_classPrivateMethodInitSpec","_defineProperty","_assertClassBrand","indent","repeat","indentData","inspectMatrixWithOptions","matrix","maxRows","maxColumns","maxNumSize","padMinus","columns","maxI","maxJ","loop","formatNumber","inspectData","formatNumber2","padEnd","fix","toFixed","startsWith","toExponential","checkRowIndex","outer","checkColumnIndex","checkRowVector","to1DArray","checkColumnVector","checkRowIndices","rowIndices","checkColumnIndices","columnIndices","checkRange","startRow","endRow","startColumn","endColumn","checkNumber","checkNonEmpty","isEmpty","AbstractMatrix","from1DArray","newRows","newColumns","newData","newMatrix","column","rowVector","columnVector","zeros","ones","fill","rand","random","randInt","interval","eye","diag","matrix1","matrix2","isMatrix","klass","callback","to2DArray","copy","toJSON","isRowVector","isColumnVector","isVector","isSquare","isSymmetric","isDistance","isEchelonForm","previousColumn","checked","isReducedEchelonForm","echelonForm","clone","iMax","swapRows","reducedEchelonForm","maxRow","pivot","setSubMatrix","neg","mulS","getRowVector","setRow","getColumn","getColumnVector","setColumn","swapColumns","column1","column2","addRowVector","subRowVector","mulRowVector","divRowVector","addColumnVector","subColumnVector","mulColumnVector","divColumnVector","mulRow","mulColumn","by","NaN","NEGATIVE_INFINITY","maxIndex","idx","POSITIVE_INFINITY","maxRowIndex","minRow","minRowIndex","maxColumn","maxColumnIndex","minColumn","minColumnIndex","norm","dot","cumulativeSum","vector2","vector1","Bcolj","strassen2x2","a11","b11","a12","b12","a21","b21","a22","b22","m1","m2","m3","m4","m5","c00","c01","c10","c11","strassen3x3","a00","a01","a02","a10","a20","b00","b01","b02","b10","b20","m6","m7","m8","m9","m12","m13","m14","m15","m16","m17","m18","c02","c12","c20","c21","c22","mmulStrassen","r1","c1","r2","c2","embed","mat","resultat","console","warn","blockMult","halfRows","parseInt","halfCols","subMatrix","scaleRows","scaleColumns","flipRows","middle","first","flipColumns","kroneckerProduct","kroneckerSum","AxI","IxB","transpose","sortRows","compareFunction","compareNumbers","sortColumns","subMatrixRow","indices","subMatrixColumn","selection","rowIndex","columnIndex","trace","entries","sumByRow","sumByColumn","sumAll","product","productByRow","productByColumn","productAll","mean","variance","unbiased","sum1","sum2","varianceByRow","varianceByColumn","varianceAll","standardDeviation","centerByRow","centerByColumn","centerAll","getScaleByRow","scaleByRow","getScaleByColumn","scaleByColumn","divider","getScaleAll","scaleAll","Symbol","iterator","for","randomInt","diagonal","negate","tensorProduct","_Matrix_brand","WeakSet","nColumns","_initData","arrayData","element","removeRow","addRow","removeColumn","newRow","addColumn","addS","addM","subS","subM","subtract","subtractS","subtractM","mulM","multiply","multiplyS","multiplyM","divS","divM","divide","divideS","divideM","mod","modS","modM","modulus","modulusS","modulusM","and","andS","andM","or","orS","orM","xor","xorS","xorM","leftShift","leftShiftS","leftShiftM","signPropagatingRightShift","signPropagatingRightShiftS","signPropagatingRightShiftM","rightShift","rightShiftS","rightShiftM","zeroFillRightShift","zeroFillRightShiftS","zeroFillRightShiftM","not","acos","acosh","asin","asinh","atan","atanh","cbrt","clz32","cosh","expm1","fround","log","log1p","log10","log2","sign","sinh","tan","trunc","arg0","powS","powM","installMathOperations","_matrix","WeakMap","SymmetricMatrix","diagonalSize","isSymmetricMatrix","klassType","upperRightEntries","toMatrix","removeCross","addCross","applyMask","sidesToRemove","passthroughs","sideIndex","toCompact","compact","fromCompact","compactSize","JSON","stringify","upperRightValues","DistanceMatrix","isDistanceMatrix","klassSubType","sideSize","toSymmetricMatrix","BaseView","MatrixSelectionView","WrapperMatrix1D","_calculateIndex","WrapperMatrix2D","LuDecomposition","LUcolj","kmax","lu","pivotVector","pivotSign","LU","isSingular","solve","X","determinant","lowerTriangularMatrix","upperTriangularMatrix","pivotPermutationVector","hypotenuse","QrDecomposition","qr","rdiag","nrm","QR","Rdiag","isFullRank","orthogonalMatrix","SingularValueDecomposition","computeLeftSingularVectors","computeRightSingularVectors","autoTranspose","wantu","Boolean","wantv","swapped","aux","nu","ni","U","V","work","si","nct","nrt","mrc","pp","eps","EPSILON","kase","MIN_VALUE","ks","cs","sn","sp","spm1","epm1","sk","ek","threshold","scols","Ls","rightSingularVectors","VL","vrows","urows","VLU","solveForDiagonal","vcols","ucols","condition","norm2","tol","ii","leftSingularVectors","diagonalMatrix","leftHandSide","rightHandSide","useSVD","xrange","exception","range","dependenciesOneRow","thresholdValue","EigenvalueDecomposition","assumeSymmetric","hh","tred2","dl1","c3","el1","s2","tst1","tql2","H","ort","orthes","nn","w","ra","sa","vr","vi","notlast","cdivres","exshift","iter","cdiv","hqr2","realEigenvalues","imaginaryEigenvalues","eigenvectorMatrix","yr","yi","CholeskyDecomposition","dimension","positiveDefinite","L","isPositiveDefinite","nipals","scaleScores","maxIterations","terminationCriteria","tOld","counter","xResidual","residual","yResidual","betas","CHO","EVD","MatrixColumnSelectionView","MatrixColumnView","MatrixFlipColumnView","MatrixFlipRowView","MatrixRowSelectionView","MatrixRowView","MatrixSubView","NIPALS","Nipals","SVD","correlation","xMatrix","yMatrix","yIsSame","sdx","sdy","corr","covariance","cov","subMatrix0","subMatrix1","subMatrix2","linearDependencies","thresholdError","results","Abis","pseudoInverse","svdSolution","wrap","aa","ca","encodeURIComponent","da","ea","fa","ha","ia","document","createElement","ja","ka","la","ma","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","split","toUpperCase","ta","pa","qa","oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ua","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","prepareStackTrace","Reflect","construct","Pa","render","Qa","$$typeof","_context","_payload","_init","Ra","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","configurable","enumerable","getValue","setValue","stopTracking","Ua","Wa","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","fb","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","setProperty","charAt","substring","tb","menuitem","area","br","hr","img","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","addEventListener","removeEventListener","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","sibling","Yb","$b","ac","unstable_scheduleCallback","bc","unstable_cancelCallback","cc","unstable_shouldYield","unstable_requestPaint","unstable_now","ec","unstable_getCurrentPriorityLevel","fc","unstable_ImmediatePriority","gc","unstable_UserBlockingPriority","hc","unstable_NormalPriority","unstable_LowPriority","jc","unstable_IdlePriority","kc","lc","oc","pc","qc","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","delete","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","Zc","$c","ad","bd","cd","ReactCurrentBatchConfig","dd","ed","transition","fd","gd","hd","id","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","now","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","location","locale","which","Rd","Td","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","datetime","email","month","number","password","search","tel","text","time","url","week","ne","oe","event","listeners","pe","qe","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","end","selectionStart","selectionEnd","defaultView","getSelection","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","nf","Ub","instance","listener","of","pf","qf","rf","capture","passive","J","F","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","ke","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","setTimeout","Gf","clearTimeout","Hf","Jf","queueMicrotask","then","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","I","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","_owner","_stringRef","refs","Mg","Ng","Og","Pg","Qg","props","Rg","implementation","Sg","Tg","done","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","_currentValue","bh","childLanes","ch","dependencies","firstContext","lanes","dh","eh","context","memoizedValue","fh","gh","interleaved","ih","jh","kh","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","lh","mh","eventTime","lane","payload","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","tagName","zh","Ah","Bh","Ch","revealOrder","Dh","Eh","_workInProgressVersionPrimary","Fh","ReactCurrentDispatcher","Gh","Hh","N","O","Ih","Jh","Kh","Lh","P","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","baseQueue","Uh","Vh","Wh","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","Xh","Yh","Zh","$h","ai","getSnapshot","bi","ci","Q","di","lastEffect","stores","ei","fi","gi","hi","destroy","deps","ji","ki","li","mi","oi","pi","qi","ri","ti","ui","zi","readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","identifierPrefix","defaultProps","Ei","isMounted","_reactInternals","enqueueSetState","enqueueReplaceState","enqueueForceUpdate","Fi","shouldComponentUpdate","isPureReactComponent","Gi","contextType","state","updater","Hi","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ii","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ji","digest","Ki","Li","Mi","Ni","Oi","Pi","Qi","getDerivedStateFromError","componentDidCatch","Ri","componentStack","Si","pingCache","Ti","Ui","Vi","Wi","ReactCurrentOwner","Xi","Yi","Zi","$i","aj","bj","cj","dj","baseLanes","cachePool","transitions","ej","fj","gj","hj","ij","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","jj","kj","pendingContext","lj","zj","Aj","Bj","Cj","mj","nj","oj","fallback","pj","qj","sj","dataset","dgst","tj","uj","_reactRetry","rj","subtreeFlags","vj","wj","isBackwards","rendering","renderingStartTime","tail","tailMode","xj","Dj","S","Ej","Fj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","createElementNS","autoFocus","createTextNode","T","Gj","Hj","Ij","Jj","Kj","Lj","W","Mj","Nj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","insertBefore","_reactRootContainer","Wj","Xj","Yj","Zj","onCommitFiberUnmount","componentWillUnmount","ak","bk","ck","dk","isHidden","fk","gk","display","hk","jk","kk","__reactInternalSnapshotBeforeUpdate","Vk","lk","mk","nk","ok","Z","pk","qk","rk","tk","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","finishedWork","finishedLanes","Pk","timeoutHandle","Qk","Rk","Sk","Tk","Uk","mutableReadLanes","Bc","Oj","onCommitFiberRoot","mc","onRecoverableError","Wk","onPostCommitFiberRoot","Xk","Yk","$k","isReactComponent","pendingChildren","al","mutableSourceEagerHydrationData","bl","cache","pendingSuspenseBoundaries","dl","fl","gl","hl","il","yj","Zk","kl","reportError","ll","_internalRoot","ml","nl","ol","pl","rl","ql","unmount","unstable_scheduleHydration","querySelectorAll","form","sl","usingClientEntryPoint","Events","tl","findFiberByHostInstance","bundleType","rendererPackageName","ul","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","vl","isDisabled","supportsFiber","inject","createPortal","cl","createRoot","unstable_strictMode","findDOMNode","flushSync","hydrate","hydrateRoot","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","__self","__source","Fragment","jsx","jsxs","setState","forceUpdate","escape","_status","_result","default","Children","only","Component","Profiler","PureComponent","StrictMode","Suspense","act","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","createFactory","createRef","forwardRef","isValidElement","lazy","memo","startTransition","unstable_act","twoProduct","robustSum","robustScale","robustSubtract","orientation_3","prod","m0","orientation_4","orientation_5","orientation3Exact","orientation4Exact","CACHED","det","adx","bdx","cdx","ady","bdy","cdy","adz","bdz","cdz","bdxcdy","cdxbdy","cdxady","adxcdy","adxbdy","bdxady","slowOrient","args","proc","slow","o0","o1","o2","o3","o4","o5","a0","a1","a2","a3","a4","generateOrientationProc","vs","point","inside","lim","orient","x0","px","y0","twoSum","ts","pq","bv","av","ar","scalarScalar","eptr","fptr","_x","_bv","q0","q1","sortIndex","performance","setImmediate","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_Profiling","unstable_continueExecution","unstable_forceFrameRate","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_runWithPriority","delay","unstable_wrapCallback","modules","installedModules","__webpack_require__","moduleId","getter","toStringTag","__esModule","ns","object","property","__webpack_exports__","argumentAsArray","argument","isElement","Node","eachNode","nodeList","NodeList","isElementList","throwError","arrayAsSelector","nodeListAsArray","findParentBySelector","$el","selector","$root","parentElement","elementHasSelector","elementHasOverflowHidden","getComputedStyle","elementScrollTopOnStart","elementScrollTopOnEnd","scrollHeight","offsetHeight","elementScrollLeftOnStart","elementScrollLeftOnEnd","scrollWidth","offsetWidth","writable","disablePageScroll","enablePageScroll","getScrollState","clearQueueScrollLocks","scroll_lock_getTargetScrollBarWidth","scroll_lock_getCurrentTargetScrollBarWidth","getPageScrollBarWidth","getCurrentPageScrollBarWidth","scroll_lock_addScrollableTarget","scroll_lock_removeScrollableTarget","scroll_lock_addScrollableSelector","scroll_lock_removeScrollableSelector","scroll_lock_addLockableTarget","scroll_lock_addLockableSelector","scroll_lock_setFillGapMethod","scroll_lock_addFillGapTarget","scroll_lock_removeFillGapTarget","scroll_lock_addFillGapSelector","scroll_lock_removeFillGapSelector","refillGaps","FILL_GAP_AVAILABLE_METHODS","scroll","scrollableSelectors","lockableSelectors","fillGapSelectors","fillGapMethod","startTouchY","startTouchX","scroll_lock_hideLockableOverflow","fillGaps","scroll_lock_showLockableOverflow","unfillGaps","$target","onlyExists","currentOverflowYProperty","overflowY","getAttribute","documentWidth","clientWidth","innerWidth","borderLeftWidthCurrentProperty","borderLeftWidth","borderRightWidthCurrentProperty","borderRightWidth","_currentWidth","$targets","sSelector","method","methods","scroll_lock_fillGapTarget","scroll_lock_unfillGapTarget","scroll_lock_fillGapSelector","fSelector","scroll_lock_unfillGapSelector","scroll_lock_hideLockableOverflowSelector","scroll_lock_showLockableOverflowSelector","scroll_lock_hideLockableOverflowTarget","scroll_lock_showLockableOverflowTarget","computedStyle","isLockable","scrollBarWidth","$lockableParent","currentMargin","marginRight","maxWidth","currentPadding","paddingRight","currentFillGapMethod","currentClientY","currentClientX","up","down","directionWithOffset","handle","parentScrollableEl","elementIsInputRange","elementIsScrollableField","prevent","deprecatedMethods","hide","show","toggle","getState","getWidth","getCurrentWidth","setScrollableTargets","setFillGapSelectors","setFillGapTargets","clearQueue","scrollLock","ownKeys","getOwnPropertySymbols","sym","_objectSpread","getTargetScrollBarWidth","getCurrentTargetScrollBarWidth","addScrollableSelector","removeScrollableSelector","addScrollableTarget","removeScrollableTarget","addLockableSelector","addLockableTarget","addFillGapSelector","removeFillGapSelector","addFillGapTarget","removeFillGapTarget","setFillGapMethod","_state","objA","objB","compareContext","keysA","keysB","bHasOwnProperty","valueA","valueB","SPLITTER","ahi","alo","bhi","blo","workerTemplate","CORES","hardwareConcurrency","Function","WorkerManager","func","_workerCode","maxWorkers","_numWorkers","_workers","_timeout","timeout","_terminateOnError","terminateOnError","_id","_terminated","_working","_waiting","workerURL","newWorkerURL","worker","Worker","_onmessage","onerror","_onerror","running","URL","revokeObjectURL","terminate","_exec","execInfo","entry","postAll","promises","post","all","transferable","workerStr","ManagedWorker","_listeners","on","_send","_trigger","blob","Blob","createObjectURL","webpackContext","req","webpackContextResolve","privateCollection","assertClassBrand","checkPrivateRedeclaration","privateMap","privateSet","toPropertyKey","_typeof","toPrimitive","__webpack_module_cache__","cachedModule","__webpack_modules__","leafPrototypes","getProto","getPrototypeOf","def","getOwnPropertyNames","nc","Action","PopStateEventType","invariant","warning","cond","getHistoryState","usr","createLocation","_extends","pathname","hash","parsePath","createPath","parsedPath","hashIndex","searchIndex","getUrlBasedHistory","getLocation","createHref","validateLocation","v5Compat","globalHistory","history","Pop","getIndex","handlePop","nextIndex","delta","createURL","origin","replaceState","listen","encodeLocation","Push","historyState","pushState","DOMException","Replace","go","ResultType","matchRoutes","routes","locationArg","basename","stripBasename","branches","flattenRoutes","score","siblings","compareIndexes","routesMeta","childrenIndex","rankRouteBranches","matches","decoded","decodePath","matchRouteBranch","parentsMeta","parentPath","flattenRoute","route","relativePath","caseSensitive","joinPaths","computeScore","_route$path","exploded","explodeOptionalSegments","segments","rest","isOptional","required","restExploded","subpath","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","initialScore","some","segment","branch","matchedParams","matchedPathname","remainingPathname","matchPath","params","pathnameBase","normalizePathname","pattern","matcher","compiledParams","regexpSource","_","paramName","compilePath","captureGroups","splatValue","decodeURIComponent","startIndex","nextChar","getInvalidPathError","field","dest","getPathContributingMatches","getResolveToMatches","v7_relativeSplatPath","pathMatches","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","isEmptyPath","toPathname","routePathnameIndex","toSegments","fromPathname","resolvePathname","normalizeSearch","normalizeHash","resolvePath","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","isRouteErrorResponse","status","statusText","internal","validMutationMethodsArr","validRequestMethodsArr","DataRouterContext","React","DataRouterStateContext","NavigationContext","LocationContext","RouteContext","outlet","isDataRoute","RouteErrorContext","useInRouterContext","useLocation","UNSAFE_invariant","useIsomorphicLayoutEffect","static","useNavigate","router","useDataRouterContext","DataRouterHook","UseNavigateStable","useCurrentRouteId","DataRouterStateHook","activeRef","navigate","fromRouteId","useNavigateStable","dataRouterContext","future","routePathnamesJson","UNSAFE_getResolveToMatches","relative","useNavigateUnstable","useParams","routeMatch","useResolvedPath","_temp2","useRoutesImpl","dataRouterState","parentMatches","parentParams","parentPathnameBase","locationFromContext","_parsedLocationArg$pa","parsedLocationArg","parentSegments","renderedMatches","_renderMatches","navigationType","DefaultErrorComponent","_state$errors","useDataRouterState","UseRouteError","routeId","errors","useRouteError","lightgrey","preStyles","padding","backgroundColor","fontStyle","defaultErrorElement","RenderErrorBoundary","revalidation","errorInfo","routeContext","RenderedRoute","staticContext","errorElement","ErrorBoundary","_deepestRenderedBoundaryId","_dataRouterState2","_dataRouterState","errorIndex","renderFallback","fallbackIndex","v7_partialHydration","HydrateFallback","hydrateFallbackElement","loaderData","needsToRunLoader","loader","reduceRight","shouldRenderHydrateFallback","alreadyWarned","getChildren","hookName","ctx","useRouteContext","thisRoute","Route","_props","Router","_ref5","basenameProp","locationProp","staticProp","navigationContext","locationContext","trailingPathname","Routes","_ref6","createRoutesFromChildren","treePath","hasErrorBoundary","shouldRevalidate","ButtonGradient","_jsx","className","_jsxs","stopColor","useScrollToSection","querySelector","scrollIntoView","behavior","crossesOffset","_Fragment","PlusSvg","crosses","customPaddings","SectionSvg","requestAnimationFrame","timestamp","schedule","cancel","process","startLoop","global","leading","maxWait","trailing","flush","$","dash","lastIndex","isReady","scrollbarWidth","windowHeight","windowWidth","useWindowSize","innerHeight","windowSize","windowSizeRef","lerp","hasEventListener","_mouseLast","_isTouching","mouse","_shouldUpdate","_onTouchDown","_onTouchMove","_onTouchUp","_onMouseLeave","_addEvents","_targetEl","_removeEvents","setShouldUpdate","isTouchDevice","maxTouchPoints","strength","parallaxContainerRef","scrollContainerRef","shouldResetPosition","enableOnTouchDevice","isAbsolutelyPositioned","lerpEase","shouldPause","resumeAppFrame","willChange","stopAppFrame","syncOnRender","onVisibilityChange","hidden","normalizeXY","handleMouseLeave","updateValues","getBoundingClientRect","clientHeight","isIntersecting","IntersectionObserver","observe","unobserve","userSelect","pointerEvents","position","backfaceVisibility","xMaxOffset","xOffset","yMaxOffset","yOffset","isHorizontal","_ref2","updateScrollValues","pageXOffset","pageYOffset","handleScroll","Gradient","BottomLine","Rings","BackgroundCircles","parallaxRef","mounted","setMounted","MouseParallax","navigation","title","heroIcons","rebel","sith","jedi","saber","notificationImages","artcheck","roadmap","imageUrl","roadmap1","colorful","roadmap3","roadmap2","roadmap4","aboutContent","aboutApps","icon","sLogo","rebelLogo","theorys","description","movies","backgroundUrl","hope","strike","light","returns","menace","attack","revenge","socials","iconUrl","github","arrow","alt","notification1","Hero","Section","curve","screen","Generating","ScrollParallax","Notification","heroBackground","viewBox","xmlns","stroke","brackets","TagLine","GradientLight","CardBorder","ClipPath","clipPathUnits","Films","films","setFilms","async","fetch","json","fetchFilms","Heading","film","backgroundImage","episode_id","opening_crawl","release_date","clipPath","__reactRouterVersion","startTransitionImpl","ReactDOM","BrowserRouter","_ref4","historyRef","setStateImpl","v7_startTransition","newState","isBrowser","ABSOLUTE_URL_REGEX","Link","_ref7","absoluteHref","reloadDocument","preventScrollReset","unstable_viewTransition","_objectWithoutPropertiesLoose","_excluded","UNSAFE_NavigationContext","isExternal","currentUrl","targetUrl","protocol","_temp","joinedPathname","useHref","internalOnClick","replaceProp","isModifiedEvent","shouldProcessLinkClick","useLinkClickHandler","white","preserveAspectRatio","fillRule","points","classes","spanClasses","ButtonSvg","RightCurve","curve2","LeftCurve","curve1","About","Button","as","brainwaveSymbol","app","gradient","Art","service1","TheoryList","LeftLine","RightLine","Theory","smallSphere","stars","Roadmap","grid","Tagline","check2","loading1","Homepage","Footer","getFullYear","rel","openNavigation","rx","SideLines","HamburgerMenu","Header","setOpenNavigation","handleClick","brainwave","onlyMobile","toggleNavigation","MenuSvg","theorywork","picture","paragraphs","Bibliography","theoryImage1","theoryImage2","theoryImage3","theoryImage4","theoryImage5","design","wireframe","cardpage","contentWire","heroPage","aboutpage","designPage","contentHigh","cardhigh","artpage","content","space","sora","about","art","TheoryWorks","renderShortenedParagraph","truncatedText","DesignWorks","works","setWorks","_defineProperties","descriptor","MEDIA_PREFERS_REDUCED_MOTION","MOVING","SCROLLING","STATES","CREATED","MOUNTED","IDLE","DRAGGING","DESTROYED","empty","arrayLike","nextTick","noop","raf","typeOf","subject","isObject","isNull","isFunction","isUndefined","isHTMLElement","HTMLElement","iteratee","items","toggleClass","elm","classList","addClass","append","before","children2","firstElementChild","forOwn","merge","omit","elms","attrs","attr","value2","display2","preventScroll","hasClass","rect","remove","parseHtml","html","DOMParser","parseFromString","stopImmediatePropagation","query","queryAll","removeClass","timeOf","PROJECT_CODE","DATA_ATTRIBUTE","assert","approximatelyEqual","epsilon","between","exclusive","minimum","maximum","clamp","replacements","replacement","pad","ids","uniqueId","EventBinder","forEachEvent","targets","events","events2","eventNS","fragment","namespace","isEventTarget","remover","unbind","CustomEvent","createEvent","initCustomEvent","EVENT_MOUNTED","EVENT_READY","EVENT_MOVE","EVENT_MOVED","EVENT_CLICK","EVENT_ACTIVE","EVENT_INACTIVE","EVENT_VISIBLE","EVENT_HIDDEN","EVENT_REFRESH","EVENT_UPDATED","EVENT_RESIZE","EVENT_RESIZED","EVENT_SCROLL","EVENT_SCROLLED","EVENT_DESTROY","EVENT_ARROWS_MOUNTED","EVENT_NAVIGATION_MOUNTED","EVENT_AUTOPLAY_PLAY","EVENT_AUTOPLAY_PAUSE","EVENT_LAZYLOAD_LOADED","EVENT_SLIDE_KEYDOWN","EVENT_SHIFTED","EVENT_END_INDEX_CHANGED","EventInterface","Splide2","bus","createDocumentFragment","binder","emit","RequestInterval","onInterval","onUpdate","rate","paused","pause","cancelAnimationFrame","resume","isPaused","ARROW","ARROW_LEFT","ARROW_RIGHT","ARROW_UP","ARROW_DOWN","TTB","ORIENTATION_MAP","ArrowLeft","ArrowRight","Direction","Components2","axisOnly","ROLE","TAB_INDEX","ARIA_PREFIX","ARIA_CONTROLS","ARIA_CURRENT","ARIA_SELECTED","ARIA_LABEL","ARIA_LABELLEDBY","ARIA_HIDDEN","ARIA_ORIENTATION","ARIA_ROLEDESCRIPTION","ARIA_LIVE","ARIA_BUSY","ARIA_ATOMIC","ALL_ATTRIBUTES","CLASS_PREFIX","STATUS_CLASS_PREFIX","CLASS_ROOT","CLASS_TRACK","CLASS_LIST","CLASS_SLIDE","CLASS_CLONE","CLASS_CONTAINER","CLASS_ARROWS","CLASS_ARROW","CLASS_ARROW_PREV","CLASS_ARROW_NEXT","CLASS_PAGINATION","CLASS_PAGINATION_PAGE","CLASS_PROGRESS_BAR","CLASS_TOGGLE","CLASS_SR","CLASS_INITIALIZED","CLASS_ACTIVE","CLASS_PREV","CLASS_NEXT","CLASS_VISIBLE","CLASS_LOADING","CLASS_FOCUS_IN","CLASS_OVERFLOW","STATUS_CLASSES","CLASSES","slide","arrows","pagination","spinner","POINTER_DOWN_EVENTS","POINTER_MOVE_EVENTS","POINTER_UP_EVENTS","SLIDE","LOOP","FADE","Slide$1","slideIndex","destroyed","Components","root","isNavigation","updateOnMove","i18n","slideFocus","styles","label","isClone","container","initNavigation","controls","splides","Slide2","splide","Slides","getAt","slideX","onMove","curr","active","isActive","updateActivity","visible","trackRect","Elements","slideRect","isVisible","focusableNodes","updateVisibility","cloneStatus","mount","slideLabel","useContainer","isWithin","XML_NAME_SPACE","PATH","INTERVAL_DATA_ATTRIBUTE","SCROLL_LISTENER_OPTIONS","NORMALIZATION_MAP","normalizeKey","KEYBOARD_EVENT","SRC_DATA_ATTRIBUTE","SRCSET_DATA_ATTRIBUTE","IMAGE_SELECTOR","TRIGGER_KEYS","ComponentConstructors","freeze","__proto__","Media","breakpoints","reducedMotion","queries","completely","register","options2","queryList","matchMedia","merged","merged2","refresh","notify","setup","isMin","mediaQuery","enable","list","isUsingKey","_EventInterface","elements","slides","rootClasses","trackClasses","bar","role","carousel","getClasses","labelledby","closest","drag","_EventInterface2","_Components2$Elements","Slides2","forEach$1","Slide1","excludeClones","getIn","Controller","hasFocus","perPage","images","observeImages","getLength","isEnough","Layout","vertical","rootRect","_EventInterface3","_Components2$Elements2","styleSlides","cssPadding","resize","force","newRect","cssHeight","cssTrackHeight","gap","autoWidth","fixedWidth","cssSlideSize","fixedHeight","autoHeight","isOverflow","heightRatio","listSize","slideSize","withoutGap","Slide","getGap","totalSize","sliderSize","duration","Throttle","getPadding","Clones","cloneCount","clones","remount","computeCloneCount","isHead","cloneNode","cloneDeep","generate","clones2","fixedSize","Move","Transition","_EventInterface4","_Components2$Layout","_Components2$Directio","_Components2$Elements3","reposition","isBusy","jump","translate","toPosition","preventLoop","destination","exceededMax","getEnd","backwards","excess","getLimit","getPosition","minDistance","trimming","trimSpace","move","shifted","canShift","exceededLimit","exceededMin","endIndex","slideCount","perMove","_EventInterface5","_Components2$Slides","omitEnd","isLoop","isSlide","getNext","getAdjacent","getPrev","currIndex","prevIndex","onResized","computeDestIndex","snapPage","computeMovableDestIndex","toPage","setIndex","waitForTransition","control","allowSameIndex","indicator","snap","toDest","Arrows","created","wrapperClasses","placeholder","wrapper","enabled","createArrow","prev2","arrowPath","prevLabel","nextLabel","Autoplay","hovered","focused","_EventInterface6","_Components2$Elements4","autoplay","stopped","play","resetProgress","stop","autoToggle","pauseOnHover","pauseOnFocus","Cover","cover","cover2","_EventInterface8","friction","onScrolled","noConstrain","noDistance","onEnd","easingFunc","easing","Drag","basePosition","baseEvent","prevBaseEvent","isFree","dragging","clickPrevented","_EventInterface9","_Components2$Directio2","exceeded","disable","onPointerDown","isTouch","isTouchEvent","target2","noDrag","isDraggable","onPointerMove","onPointerUp","save","diffCoord","expired","diffTime","hasExceeded","isSliderDirection","thresholds","dragMinThreshold","isObj","touch","shouldStart","velocity","computeVelocity","flickPower","flickMaxPages","computeDestination","rewindByDrag","orthogonal","coordOf","getBaseEvent","TouchEvent","isDragging","Keyboard","_EventInterface10","keyboard","onKeydown","_disabled","LazyLoad","_EventInterface11","isSequential","lazyLoad","srcset","loadNext","preloadPages","onLoad","Pagination","paginationClasses","dir","getDirection","nextPage","paginationDirection","_button","select","class","paginationKeyboard","createPagination","Sync","isParent","sync","Wheel","lastTime","onWheel","_min","wheelMinThreshold","sleep","wheelSleep","releaseWheel","shouldPrevent","wheel","Live","live","sr","DEFAULTS","speed","rewindSpeed","Fade","endCallback","getSpeed","useScroll","_Splide","initialState","states","State","_o","_E","defaults","Constructor","protoProps","staticProps","_proto","Extensions","_this","_C","_T","_this$event","Splide","splideRef","pic","filmImages","theories","setBackgroundImage","goBack","theory","scrollTo","randomImage","backgroundSize","backgroundPosition","margin","borderRadius","boxShadow","cursor","close","paragraph","marginBottom","biblio","marginTop","Slideshow","importAll","_taggedTemplateLiteral","raw","defineProperties","__assign","__spreadArray","pack","SuppressedError","MS","MOZ","WEBKIT","COMMENT","RULESET","DECLARATION","IMPORT","KEYFRAMES","LAYER","indexof","charat","begin","strlen","sizeof","character","characters","lift","caret","dealloc","delimit","delimiter","whitespace","escaping","commenter","identifier","serialize","prefixer","combine","compile","rule","rules","rulesets","pseudo","declarations","atrule","variable","scanning","ampersand","reference","declaration","ruleset","unitlessKeys","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","WebkitLineClamp","REACT_APP_SC_ATTR","SC_ATTR","SC_DISABLE_SPEEDY","REACT_APP_SC_DISABLE_SPEEDY","theme","getDefaultProps","mixins","propTypes","caller","callee","arity","groupSizes","indexOfGroup","insertRules","insertRule","clearGroup","deleteRule","getGroup","getRule","registerName","getTag","_e","__webpack_nonce__","head","sheet","styleSheets","ownerNode","cssRules","cssText","childNodes","isServer","useCSSOMInjection","gs","names","server","registerId","reconstructWithOptions","allocateGSInstance","hasNameForId","clearNames","clearRules","clearTag","replaceAll","plugins","collection","shouldForwardProp","styleSheet","stylis","Ge","stylisPlugins","disableCSSOMInjection","enableVendorPrefixes","getName","isCss","styledComponentId","staticRulesId","isStatic","baseHash","baseStyle","generateAndInjectStyles","ot","st","parentComponentId","componentStyle","foldedComponentIds","forwardedAs","_foldedDefaultProps","it","ct","withConfig","ut","pt","createStyles","removeStyles","renderStyles","_emitSheetCSS","getStyleTags","sealed","getStyleElement","nonce","seal","collectStyles","interleaveWithNodeStream","floatUp","keyframes","_templateObject","Container","styled","_templateObject2","ArtBox","_templateObject3","ScaleBox","_templateObject4","Line","_templateObject5","binaryData","startAnimation","setStartAnimation","setLines","setScale","dataLines","numLines","charWidth","maxLineLength","scaleFactorHeight","scaleFactorWidth","getCharStyle","charIndex","bitMethods","getBit","getSlot","getShift","setBit","clearBit","toggleBit","getBitXY","setBitXY","clearBitXY","toggleBitXY","createBlob","parts","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","getBlob","canvasToBlob","canvas","toBlob","dataURL","base64","binaryStringToArrayBuffer","atob","dataURLToBlob","toDataURL","binary","zero$1","LITERALS$1","L_CODES$1","D_CODES$1","MAX_BITS$1","extra_lbits","extra_dbits","extra_blbits","bl_order","static_ltree","static_dtree","_dist_code","_length_code","MAX_MATCH$1","base_length","base_dist","StaticTreeDesc","static_tree","extra_bits","extra_base","elems","max_length","has_stree","static_l_desc","static_d_desc","static_bl_desc","TreeDesc","dyn_tree","stat_desc","max_code","d_code","dist","put_short","pending_buf","send_bits","bi_valid","bi_buf","send_code","bi_reverse","gen_codes","bl_count","next_code","bits","init_block","dyn_ltree","dyn_dtree","bl_tree","END_BLOCK","opt_len","static_len","sym_next","bi_windup","smaller","depth","_n2","_m2","pqdownheap","heap","heap_len","compress_block","ltree","dtree","sx","sym_buf","build_tree","desc","stree","heap_max","gen_bitlen","xbits","scan_tree","curlen","prevlen","nextlen","max_count","min_count","REP_3_6","REPZ_3_10","REPZ_11_138","send_tree","static_init_done","_tr_stored_block$1","stored_len","_tr_flush_block_1","_tr_flush_block$1","opt_lenb","static_lenb","max_blindex","level","strm","data_type","block_mask","detect_data_type","l_desc","d_desc","bl_desc","BL_CODES$1","build_bl_tree","send_all_trees","lcodes","dcodes","blcodes","trees","_tr_init","tr_static_init","LENGTH_CODES$1","_tr_stored_block","_tr_flush_block","_tr_tally","_tr_tally$1","sym_end","_tr_align","STATIC_TREES","bi_flush","adler32_1","adler32","adler","s1","crcTable","makeTable","crc32_1","crc32","crc","messages","constants$2","Z_NO_FLUSH","Z_PARTIAL_FLUSH","Z_SYNC_FLUSH","Z_FULL_FLUSH","Z_FINISH","Z_BLOCK","Z_TREES","Z_OK","Z_STREAM_END","Z_NEED_DICT","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_MEM_ERROR","Z_BUF_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","Z_NO_FLUSH$2","Z_FULL_FLUSH$1","Z_FINISH$3","Z_BLOCK$1","Z_OK$3","Z_STREAM_END$3","Z_STREAM_ERROR$2","Z_DATA_ERROR$2","Z_BUF_ERROR$1","Z_DEFAULT_COMPRESSION$1","Z_DEFAULT_STRATEGY$1","Z_DEFLATED$2","MAX_MATCH","MIN_LOOKAHEAD","INIT_STATE","BUSY_STATE","FINISH_STATE","errorCode","msg","zero","slide_hash","wsize","w_size","hash_size","HASH","HASH_ZLIB","hash_shift","hash_mask","flush_pending","avail_out","pending_out","next_out","total_out","flush_block_only","block_start","strstart","put_byte","putShortMSB","read_buf","avail_in","next_in","total_in","longest_match","cur_match","chain_length","max_chain_length","scan","best_len","prev_length","nice_match","_win","wmask","w_mask","strend","scan_end1","scan_end","good_match","lookahead","match_start","fill_window","_w_size","more","window_size","insert","ins_h","deflate_stored","have","min_block","pending_buf_size","used","high_water","deflate_fast","hash_head","bflush","match_length","max_lazy_match","MIN_MATCH","deflate_slow","max_insert","prev_match","match_available","Config","good_length","max_lazy","nice_length","max_chain","configuration_table","DeflateState","gzhead","gzindex","last_flush","w_bits","hash_bits","HEAP_SIZE","MAX_BITS","lit_bufsize","deflateStateCheck","deflateResetKeep","deflateReset","deflateInit2","windowBits","memLevel","deflateInit_1","deflateInit","deflate_2$1","deflate$2","old_flush","level_flags","hcrc","os","beg","gzhead_extra","bstate","deflate_huff","deflate_rle","deflateSetDictionary_1","deflateSetDictionary","dictionary","dictLength","tmpDict","avail","deflate_1$2","deflateSetHeader","deflate","deflateEnd","deflateInfo","_has","common","sources","flattenChunks","chunks","STR_APPLY_UIA_OK","__","_utf8len","string2buf","m_pos","str_len","buf_len","buf2string","utf16buf","c_len","buf2binstring","utf8border","zstream","toString$1","Z_NO_FLUSH$1","Z_FINISH$2","Z_OK$2","Z_STREAM_END$2","Z_DEFLATED$1","Deflate$1","chunkSize","gzip","ended","dict","_dict_set","deflate$1","deflator","flush_mode","_flush_mode","onData","deflate_1$1","Deflate","deflateRaw","BAD$1","inffast","_in","dmax","whave","wnext","s_window","hold","lcode","dcode","lmask","dmask","here","op","from_source","lencode","distcode","lenbits","distbits","dolen","dodist","sane","MAXBITS","lbase","lext","dbase","dext","inftrees","inflate_table","lens","lens_index","codes","table_index","incr","huff","offs","here_bits","here_op","here_val","Z_FINISH$1","Z_OK$1","Z_STREAM_END$1","Z_NEED_DICT$1","Z_STREAM_ERROR$1","Z_DATA_ERROR$1","Z_MEM_ERROR$1","HEAD","DICT","TYPE","TYPEDO","COPY_","LEN_","LEN","CHECK","BAD","zswap32","InflateState","havedict","total","wbits","ncode","nlen","ndist","lendyn","distdyn","was","inflateStateCheck","inflateResetKeep","inflateReset","inflateReset2","inflateInit2","lenfix","distfix","virgin","fixedtables","updatewindow","inflate_2$1","inflate$2","put","last_bits","last_op","last_val","hbuf","inf_leave","xflags","extra_len","inflate_1$2","inflateInit","inflate","inflateEnd","inflateGetHeader","inflateSetDictionary","dictid","inflateInfo","gzheader","Inflate$1","inflate$1","inflator","last_avail_out","next_out_utf8","utf8str","inflate_1$1","Inflate","inflateRaw","ungzip","deflate_1","Inflate_1","inflate_1","pngSignature","initialCrc","currentCrc","updateCrc","ColorType","CompressionMethod","FilterMethod","InterlaceMethod","osIsLittleEndian","PngDecoder","checkCrc","_checkCrc","_inflator","Inflator","_png","_end","_hasPalette","_palette","_hasTransparency","_transparency","_compressionMethod","UNKNOWN","_filterMethod","_interlaceMethod","_colorType","decodeSignature","decodeChunk","decodeImage","decodeIHDR","decodePLTE","decodeIDAT","decodetRNS","decodeiCCP","decodetEXt","decodepHYs","expectedCrc","crcLength","actualCrc","checkBitDepth","colorType","GREYSCALE","TRUECOLOUR","INDEXED_COLOUR","GREYSCALE_ALPHA","TRUECOLOUR_ALPHA","DEFLATE","palette","compressionMethod","compressedProfile","iccEmbeddedProfile","profile","keyword","ppuX","ppuY","unitSpecifier","resolution","ADAPTIVE","NO_INTERLACE","decodeInterlaceNull","bytesPerPixel","bytesPerLine","currentLine","newLine","prevLine","unfilterNone","unfilterSub","unfilterUp","unfilterAverage","unfilterPaeth","transparency","uint16Data","paethPredictor","defaultZlibOptions","PngEncoder","_zlibOptions","zlib","_checkData","encodeSignature","encodeIHDR","encodeData","encodeIEND","writeCrc","encodeIDAT","slotsPerLine","writeDataBytes","writeDataUint16","compressed","getColorType","png","checkInteger","expectedSize","ResolutionUnitSpecifier","chars","lookup","toBase64URL","u8","ImageData","DOMImage","Image","createCanvas","encodeJpeg","getRGBAData","realEncodeJpeg","encodePng","realEncodePng","exportMethods","useCanvas","encoderOptions","groups","getCanvas","pngStream","jpegStream","encodeBmp","createWriteStream","writeFile","dataUrl","getType","toBuffer","toBase64","clamped","getContext","putImageData","computedPropertyDescriptor","GREY","RGB","HSL","HSV","CMYK","BINARY","RGBA","kinds","Kind","colorModel","ColorModel","validBitDepth","_hasMap","stringTable","andTable","bitJumps","LzwDecoder","nextData","nextBits","bytePointer","tableLength","currentBitLength","stripArray","outData","initializeTable","oldCode","getNextCode","writeString","stringFromCode","isInTable","addStringToTable","outString","outArray","dummyString","initializeStringTable","decompressLzw","TiffIfd","extraSamples","associatedAlpha","totalColors","colorMap","decompressZlib","stripUint8","inflated","isMultiPage","pageCount","valueByteLength","applyPredictor","convertAlpha","bytesPerStrip","guessStripByteCounts","remainingPixels","dataToFill","fillUncompressed","applyHorizontalDifferencing8Bit","applyHorizontalDifferencing16Bit","alphaValue","matchAndCrop","algorithm","ignoreBorder","checkProcessable","matchToPrevious","relativePosition","getBestMatch","border","topShift","bottomShift","newImages","Stack","currentTotal","histograms","getHistograms","maxSlots","medianFromHistogram","getHistogram","secondHistogram","histogramLength","secondHistograms","averageImage","createFrom","maxImage","minImage","computed","urls","extendMethod","inPlace","returnThis","partialArgs","_len","_key","_len2","_key2","extendProperty","hasOwn","processName","sameSize","sameAlpha","sameBitDepth","sameColorModel","sameNumberChannels","species","thisArg","newStack","isDataURL","loadBinary","base64Url","ignorePalette","decodePng","pixels","pixelsPerByte","hasAlpha","dataIndex","paletteValue","loadPNGFromPalette","loadPNG","decodedExif","decodeJpegExif","getMetadata","jpeg","decodeJpeg","Orientation","rotate","flipX","loadJPEG","decodeTiff","getImageFromIFD","loadTIFF","loadGeneric","getBase64","metadata","ptr","drawImage","getImageData","valueMethods","getValueXY","channel","setValueXY","getPixelXY","getPixel","setPixelXY","setPixel","getImageParameters","getOutputImage","thisImage","newParameters","internalOptions","isImage","requirements","getOutputImageOrInPlace","absolute","invert","invertBinary","invertColor","copyAlphaChannel","offsetY","posCurrent","posOpposite","flipY","blurFilter","radius","convolution","validateArrayOfChannels","allowAlpha","defaultAlpha","allChannels","validateChannel","validateChannels","Model","medianFilter","newImage","quickSelectMedian","setBorder","gaussianFilter","sigmaX","scale2X","getKernel","SOBEL_X","SOBEL_Y","SCHARR_X","SCHARR_Y","directConvolution","convolutionSeparable","separatedKernel","createOptions","halfHeight","halfWidth","kernelWidth","newKernel","validateKernel","svd","getSeparatedKernel","tmpResult","isClamped","tmpData","gradientFilter","kernelX","kernelY","gX","gY","sobelFilter","scharrFilter","processImage","checkNumberArray","subtractImage","otherImage","hypot","BaseRegression","predict","_predict","train","toLaTeX","xSum","ySum","chi2","rmsd","xSquared","ySquared","xY","lambda","kernelOptions","computeCoefficient","KernelRidgeRegression","outputs","Kernel","newInputs","background","coordinates","model","allCoordinates","dilate","iterations","onlyOnes","dilateOnceBinaryOnlyOnes","dilateOnceBinary","dilateOnceGreyOnlyOnes","dilateOnceGrey","kernelHeight","radiusX","radiusY","maxList","intLoop","erode","erodeOnceBinaryOnlyOnes","erodeOnceBinary","erodeOnceGreyOnlyOnes","erodeOnceGrey","minList","topHat","openImage","blackHat","closeImage","morphologicalGradient","dilatedImage","erodedImage","distance2Points","p1","p2","crossVect","dotVect","projectionPoint","newX","newY","warpingFourPoints","pts","calculateRatio","widthRect","heightRect","pt1","pt2","pt3","pt4","quadrilaterial","tr","minX","indexMinX","minX2","indexMinX2","order4Points","widthImage","heightImage","finalW","finalH","u0","arVis","k2","k3","n3","n21","n22","n23","n31","n32","n33","At","Ati","n2R","n3R","arReal","computeWidthAndHeigth","X1","Y1","X2","Y2","X3","Y3","X4","Y4","x3","y3","x4","y4","Xt","setMatrix","xWidth","jLeft","jL","cropBinary","cropDefault","cropAlpha","findLeft","findTop","findBottom","findRight","factorDimensions","getFactor","newWidth","newHeight","checkChannel","validInterpolations","nearestneighbor","nearestneighbour","bilinear","checkInterpolation","interpolation","nearestNeighbor","wRatio","hRatio","interpolationToUse","shiftX","shiftY","hsv","red","green","blue","hue","saturation","hsl","luminance","cmyk","black","cyan","magenta","yellow","rgba8","luma709","luma601","average","minmax","lightness","grey","keepAlpha","mergeAlpha","bimodalTest","iHisto","modes","sumA","sumB","sumC","smoothed","auHistogram","isBimodal","peaks","partialSum","huang","firstBin","lastBin","term","mu0","sumPix","numPix","mu1","minEnt","MAX_VALUE","muX","ent","intermodes","tt","isodata","toth","totl","sumBack","sumObj","numBack","numObj","oldThresh","newThresh","meanBack","meanObj","tolerance","maxentropy","normHisto","P1","P2","totEnt","entBack","entObj","maxEnt","minerror","mu","tau2","w0","w1","w2","sqterm","Tprev","sumA1","sumA2","sumB1","sumB2","sumC1","histogramCopy","histogramBimodal","minimumBetweenPeeks","moments","p0","c0","z0","normalizedHistogram","otsu","histogramCounts","wB","wF","mF","percentile","avec","renyientropy","optThreshold","threshold1","threshold2","threshold3","maxEnt1","maxEnt2","maxEnt3","entBack1","entBack2","entBack3","entObj1","entObj2","entObj3","totEnt1","totEnt2","totEnt3","tStars","omega","shanbhag","triangle","min2","ny","inverted","splitDistance","newDistance","yen","P1Sq","P2Sq","crit","maxCrit","getThreshold","THRESHOLD","useAlpha","convertThreshold","fromImage","toImage","fromWidth","fromHeight","toWidth","colorDepth","newColorDepth","rotateFree","degrees","radians","incrementX","incrementY","rotateBinaryNearestNeighbor","stride","xDiff","yDiff","rotateBinaryBilinear","rotateNearestNeighbor","rotateBilinear","rotateRight","rotate180","rotateLeft","newMaxHeight","newMaxWidth","toInsert","parameters","maxY","maxX","leftRightSize","topBottomSize","preserveAlpha","getChannel","combineChannels","defaultCombineMethod","setChannel","getSimilarity","minY","sumThis","sumImage","indexThis","multiplierX","multiplierY","indexImage","getPixelsGrid","sampling","painted","xSampling","ySampling","xyS","zS","xStep","yStep","currentX","currentY","toReturn","paintPoints","setPrototypeOf","similarityMatrix","middleX","middleY","theEnd","toCalculatePositions","localSearch","similarity","localMax","checkRow","checkColumn","getMatrix","getPixelsArray","getIntersection","mask2","mask1","closestParent","getClosestCommonParent","startPos1","getRelativePosition","defaultFurther","allRelPos1","getRelativePositionForAllPixels","startPos2","allRelPos2","commonSurface","positionArray1","positionArray2","getCommonSurface","intersection","whitePixelsMask1","whitePixelsMask2","commonWhitePixels","currentRelativePos","realPos1","realPos2","valueBitMask1","valueBitMask2","posX","posY","startPosition","relativePositions","originalPos","furthestParent","depthMask1","getDepth","depthMask2","getFurthestParent","localMin","lowThreshold","highThreshold","gaussianBlur","Gx","Gy","convOptions","cannyEdge","brightness","gfOptions","gradientX","gradientY","nms","edges","finalImage","atan2","currentNms","currentEdge","currentPixels","newPixels","cannyEdgeDetector","extract","floodFill","LinkedList","hsv2rgb","rgb","hsl2rgb","hsl2hsv","colors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","named","hex3","hex6","rgba$1","hsla","css2array","cssColor","hue2rgb","getColors","randomColors","numberColors","numColors","getDistinctColors","paintLabels","labels","positions","font","fillStyle","fillText","restore","paintMasks","masks","labelsPosition","labelColor","labelFont","zerosMatrix","cross","smallCross","Shape","shape","filled","rectangle","yEven","xEven","b2","ellipse","getPoints","getMask","shapePixels","numberChannels","xP","yP","xS","yS","paintPolyline","closed","dx","dy","steps","xIncrement","yIncrement","xPoint","yPoint","paintPolylines","polylines","optionsCopy","paintPolygon","filteredPoints","finalPoints","deleteDouble","matrixBinary","lineBetweenTwoPoints","isAtTheRightOfTheLine","coeffA","xline","paintPolygons","polygons","getChannelHistogram","blackWhiteCount","bitSlots","bitShift","alphaChannelDiff","getColorHistogram","nbSlots","nbSlotsCheck","factor2","factor1","slot","getMoment","xPower","yPower","localMaxima","region","removeClosePoints","maxEquals","maskExpectedValue","nbEquals","currentValue","histogramMean","histogramMedian","extendedPoints","targetImage","currentImage","countAlphaPixels","monotoneChainConvexHull","sorted","byXThenY","cw","p3","point1","point2","mcch","difference","srcPoints","destPoints","perimeter","vertices","fromX","fromY","toX","toY","surface","minMax","xMin","yMin","xMax","yMax","minimalBoundingRectangle","originalPoints","convexHullFunction","mbr","minSurface","minSurfaceAngle","getAngle","aX","aY","bX","bY","tUndefined","tMin","tMax","pMin","pMax","currentSurface","Roi","meanX","meanY","contourMask","boxMask","filledMask","centerMask","mbrFilledMask","convexHullFilledMask","convexHullMask","mbrMask","feretMask","ratio","_computExternalIDs","borders","borderIDs","lengths","borderLengths","externalIDs","externalLengths","internals","internalIDs","_computeBorderIDs","roi","roiMap","surroudingIDs","surroundingBorders","visitedData","neighbour","surroundingBorder","getBorders","boxIDs","surroundingIDs","getBoxIDs","getInternalIDs","box","topBottom","leftRight","getBox","external","getExternal","holesInfo","getHolesInfo","getBorder","KindNames","convexHull","calculationPoints","polyline","robustPointInPolygon","second","third","elongation","fillRatio","feretDiameters","minLine","maxLine","temporaryPoints","minWidth","minWidthAngle","currentWidth","currentMinLine","absWidth","maxSquaredWidth","currentSquaredWidth","eqpc","perimeterInfo","one","two","three","four","nbAround","getPerimeterInfo","info","ped","minMaxFct","minMaxValues","moveToZeroZero","maxLengthPoints","maxLength","currentML","roundness","sphericity","solidity","mbrWidth","mbrHeight","mbrSurface","feretDiameterMin","feretDiameterMax","RoiLayer","createRoi","mapIDs","positive","negative","rois","mapID","roiArray","mergeRoi","minCommonBorderLength","maxCommonBorderLength","minCommonBorderRatio","maxCommonBorderRatio","checkFunction","currentInfo","currentID","neighbourID","commonBorderLength","newMap","oldToNew","neighbourIDs","newNeighbourID","newCurrentID","smallerID","largerID","oldToNewArray","newValue","RoiMap","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","borderInfo","currentRoiID","isBorder","neighbourRoiID","mergeRois","others","rowsInfo","currentRow","positivePixel","negativePixel","zeroPixel","positiveRoi","negativeRoi","medianChange","positives","negatives","changes","positiveRoiIDs","negativeRoiIDs","colsInfo","currentCol","fromMask","allowCorners","MAX_ARRAY","positiveID","negativeID","xToProcess","yToProcess","analyseSurface","targetState","direction4X","direction4Y","neighbours4","direction8X","direction8Y","neighbours8","fromMaskConnectedComponentLabelingAlgorithm","directionX","directionY","neighboursList","neighbours","linked","DisjointSet","currentLabel","smallestNeighbour","fromMaxima","allowCorner","onlyTop","PROCESS_TOP","PROCESS_NORMAL","variations","xToProcessTop","yToProcessTop","fromTop","toTop","maxima","processTop","appendMaxima","currentTo","valid","xCenter","yCenter","fromPoints","pointsToPaint","shapePoints","dxs","dys","fromWaterShed","fillMaxValue","getLocalMaxima","toProcess","intensity","currentPoint","currentValueIndex","currentNeighbourIndex","RoiManager","_image","_options","_layers","_painted","putMap","getMap","_assertLayerWithLabel","getRoiIds","getRois","maxSurface","minHeight","maxHeight","minRatio","maxRatio","allRois","getRoi","roiId","getMasks","getAnalysisMasks","analysisProperty","maskProperty","paint","labelProperty","part","deepValue","isSurface","unitLabel","pixelSize","siLabel","analysisMasks","analysisColor","analysisAlpha","resetPainted","roiIds","findCorrespondingRoi","allRelated","currentRoi","currentRelated","correspondingRoisInformation","roiSign","correspondingRois","roiSurfaceCovered","opposite","correspondingRoiMapIndex","objectToString","theKind","getKind","kindDefinition","verifyKindDefinition","createPixelArray","expectedLength","getTheoreticalPixelArraySize","sizes","borderSizes","fromCanvas","newOptions","getRoiManager","errorMessage","arrayLength","Uint8ClampedArray","fillDataFromBinary","fillDataFromGrey32","val1","val2","val3","fillDataFromRGB32","fillDataFromGrey","fillDataFromRGB","copyAlpha","fillAlpha","binaryDataP","encoded1","encoded2","encoded3","encoded4","bufferLength","base64Decode","withCredentials","fetchBinary","loadURL","invertFilter","absFilter","levelFilter","addFilter","subtractFilter","multiplyFilter","divideFilter","hypotenuseFilter","backgroundFilter","flipXFilter","flipYFilter","getMin","getMax","getSum","getMedian","getMean","getExtendedPoints","regression","include","runOnce","manager","run","onStep","IJS","toTransfer","sobel","maybeInclude","roiManager","realMask","getBackground","corrected","_url","_deps","checkUrl","runner","setBinaryData","imagePath","greyImage","binaryString","imageToBinary","artImage","convertImage","BinaryArt","Pages","EssayContent","DesignContent","AboutContent","ArtContent","App","getElementById"],"sourceRoot":""}